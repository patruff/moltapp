import{createRequire}from'module';const require=createRequire(import.meta.url);
var fEt=Object.create;var x9=Object.defineProperty;var mEt=Object.getOwnPropertyDescriptor;var hEt=Object.getOwnPropertyNames;var gEt=Object.getPrototypeOf,yEt=Object.prototype.hasOwnProperty;var _t=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ge=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kn=(t,e)=>{for(var n in e)x9(t,n,{get:e[n],enumerable:!0})},fEe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of hEt(e))!yEt.call(t,o)&&o!==n&&x9(t,o,{get:()=>e[o],enumerable:!(r=mEt(e,o))||r.enumerable});return t};var ho=(t,e,n)=>(n=t!=null?fEt(gEt(t)):{},fEe(e||!t||!t.__esModule?x9(n,"default",{value:t,enumerable:!0}):n,t)),Qq=t=>fEe(x9({},"__esModule",{value:!0}),t);var Vl,zl,rxe=b(()=>{"use strict";Vl=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,n){t.httpHandler?.updateHttpClientConfig(e,n)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),zl=t=>({httpHandler:t.httpHandler()})});var oxe=b(()=>{"use strict";rxe()});var ixe=b(()=>{"use strict"});var sxe,axe=b(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(sxe||(sxe={}))});var cxe,lxe=b(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(cxe||(cxe={}))});var uxe=b(()=>{"use strict"});var dxe=b(()=>{"use strict"});var pxe=b(()=>{"use strict"});var fxe=b(()=>{"use strict"});var mxe=b(()=>{"use strict";axe();lxe();uxe();dxe();pxe();fxe()});var hxe=b(()=>{"use strict"});var gxe=b(()=>{"use strict"});var yxe=b(()=>{"use strict"});var bxe=b(()=>{"use strict"});var _xe=b(()=>{"use strict"});var Sxe=b(()=>{"use strict"});var vxe=b(()=>{"use strict"});var Exe=b(()=>{"use strict";_xe();Sxe();vxe()});var Axe=b(()=>{"use strict"});var xxe=b(()=>{"use strict"});var R2,wxe=b(()=>{"use strict";(function(t){t.HTTP="http",t.HTTPS="https"})(R2||(R2={}))});var Txe=b(()=>{"use strict"});var Ixe=b(()=>{"use strict"});var Rxe=b(()=>{"use strict"});var Cxe=b(()=>{"use strict"});var Nxe=b(()=>{"use strict"});var Oxe=b(()=>{"use strict";Txe();Ixe();Rxe();Cxe();Nxe()});var Pxe=b(()=>{"use strict"});var C2,Dxe=b(()=>{"use strict";(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(C2||(C2={}))});var kxe=b(()=>{"use strict"});var Lxe=b(()=>{"use strict"});var Mxe=b(()=>{"use strict";kxe();Lxe();Dxe()});var Bxe=b(()=>{"use strict"});var Uxe,$xe=b(()=>{"use strict";(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Uxe||(Uxe={}))});var Fxe=b(()=>{"use strict"});var Hxe=b(()=>{"use strict"});var Gxe=b(()=>{"use strict"});var Vxe=b(()=>{"use strict"});var zxe=b(()=>{"use strict"});var jxe=b(()=>{"use strict";Hxe();Gxe();Vxe();zxe()});var qxe=b(()=>{"use strict"});var JR,Wxe=b(()=>{"use strict";JR="__smithy_context"});var Kxe=b(()=>{"use strict"});var wm,Jxe=b(()=>{"use strict";(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(wm||(wm={}))});var Yxe=b(()=>{"use strict"});var Qxe=b(()=>{"use strict"});var Xxe=b(()=>{"use strict"});var Zxe=b(()=>{"use strict"});var ewe=b(()=>{"use strict"});var twe=b(()=>{"use strict"});var nwe=b(()=>{"use strict"});var rwe=b(()=>{"use strict"});var owe=b(()=>{"use strict"});var iwe=b(()=>{"use strict"});var swe=b(()=>{"use strict"});var awe=b(()=>{"use strict"});var cwe=b(()=>{"use strict"});var lwe=b(()=>{"use strict"});var uwe,dwe=b(()=>{"use strict";(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(uwe||(uwe={}))});var pwe=b(()=>{"use strict"});var fwe=b(()=>{"use strict"});var mwe=b(()=>{"use strict"});var hwe=b(()=>{"use strict"});var gwe=b(()=>{"use strict"});var ywe=b(()=>{"use strict"});var bwe=b(()=>{"use strict"});var g0=b(()=>{"use strict";ixe();mxe();hxe();gxe();yxe();bxe();Exe();Axe();xxe();wxe();Oxe();Pxe();Mxe();Bxe();$xe();Fxe();jxe();qxe();Wxe();Kxe();Jxe();Yxe();Qxe();Xxe();Zxe();ewe();twe();nwe();rwe();owe();iwe();swe();awe();cwe();lwe();dwe();pwe();fwe();mwe();hwe();gwe();ywe();bwe()});var _we=b(()=>{"use strict"});var Swe=b(()=>{"use strict"});var vwe=b(()=>{"use strict"});function oxt(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}var Sr,Ewe=b(()=>{"use strict";Sr=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t({...e,headers:{...e.headers}});return n.query&&(n.query=oxt(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}}});var jl,Awe=b(()=>{"use strict";jl=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}});var xwe=b(()=>{"use strict"});var wwe=b(()=>{"use strict"});var go=b(()=>{"use strict";oxe();_we();Swe();vwe();Ewe();Awe();xwe();wwe()});var ixt,sxt,ql,Nb=b(()=>{"use strict";go();ixt=t=>e=>async n=>{if(!Sr.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:o=""}=t.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let i=r.hostname;r.port!=null&&(i+=`:${r.port}`),r.headers.host=i}return e(n)},sxt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ql=t=>({applyToStack:e=>{e.add(ixt(t),sxt)}})});var axt,cxt,Wl,Twe=b(()=>{"use strict";axt=()=>(t,e)=>async n=>{try{let r=await t(n),{clientName:o,commandName:i,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??e.inputFilterSensitiveLog,d=l??e.outputFilterSensitiveLog,{$metadata:p,...f}=r.output;return s?.info?.({clientName:o,commandName:i,input:u(n.input),output:d(f),metadata:p}),r}catch(r){let{clientName:o,commandName:i,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,l=c??e.inputFilterSensitiveLog;throw s?.error?.({clientName:o,commandName:i,input:l(n.input),error:r,metadata:r.$metadata}),r}},cxt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Wl=t=>({applyToStack:e=>{e.add(axt(),cxt)}})});var Ob=b(()=>{"use strict";Twe()});var Iwe,Rwe=b(()=>{"use strict";Iwe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var YR,YQ,dk,QQ,XQ,pk,Cwe=b(()=>{"use strict";YR={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},YQ=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");YQ||(globalThis.awslambda=globalThis.awslambda||{});dk=class{static PROTECTED_KEYS=YR;isProtectedKey(e){return Object.values(YR).includes(e)}getRequestId(){return this.get(YR.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(YR.X_RAY_TRACE_ID)}getTenantId(){return this.get(YR.TENANT_ID)}},QQ=class extends dk{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,n){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=n}run(e,n){return this.currentContext=e,n()}},XQ=class t extends dk{als;static async create(){let e=new t,n=await import("node:async_hooks");return e.als=new n.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,n){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let r=this.als.getStore();if(!r)throw new Error("No context available");r[e]=n}run(e,n){return this.als.run(e,n)}};(function(t){let e=null;async function n(){return e||(e=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await XQ.create():new QQ;return!YQ&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!YQ&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),e}t.getInstanceAsync=n,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(pk||(pk={}))});var ZQ,lxt,uxt,Nwe,eX=b(()=>{"use strict";Cwe();go();ZQ="X-Amzn-Trace-Id",lxt="AWS_LAMBDA_FUNCTION_NAME",uxt="_X_AMZN_TRACE_ID",Nwe=()=>t=>async e=>{let{request:n}=e;if(!Sr.isInstance(n))return t(e);let r=Object.keys(n.headers??{}).find(u=>u.toLowerCase()===ZQ.toLowerCase())??ZQ;if(n.headers.hasOwnProperty(r))return t(e);let o=process.env[lxt],i=process.env[uxt],c=(await pk.getInstanceAsync())?.getXRayTraceId()??i,l=u=>typeof u=="string"&&u.length>0;return l(o)&&l(c)&&(n.headers[ZQ]=c),t({...e,request:n})}});var Kl,Owe=b(()=>{"use strict";Rwe();eX();Kl=t=>({applyToStack:e=>{e.add(Nwe(),Iwe)}})});var Pb=b(()=>{"use strict";Owe();eX()});var Pwe=b(()=>{"use strict"});var Go,Dwe=b(()=>{"use strict";g0();Go=t=>t[JR]||(t[JR]={})});var vr,kwe=b(()=>{"use strict";vr=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Ws=b(()=>{"use strict";Dwe();kwe()});var Lwe,Mwe=b(()=>{"use strict";Lwe=(t,e)=>{if(!e||e.length===0)return t;let n=[];for(let r of e)for(let o of t)o.schemeId.split("#")[1]===r&&n.push(o);for(let r of t)n.find(({schemeId:o})=>o===r.schemeId)||n.push(r);return n}});function dxt(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var Bwe,tX=b(()=>{"use strict";Ws();Mwe();Bwe=(t,e)=>(n,r)=>async o=>{let i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,r,o.input)),s=t.authSchemePreference?await t.authSchemePreference():[],a=Lwe(i,s),c=dxt(t.httpAuthSchemes),l=Go(r),u=[];for(let d of a){let p=c.get(d.schemeId);if(!p){u.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let f=p.identityProvider(await e.identityProviderConfigProvider(t));if(!f){u.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:m={}}=d.propertiesExtractor?.(t,r)||{};d.identityProperties=Object.assign(d.identityProperties||{},h),d.signingProperties=Object.assign(d.signingProperties||{},m),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await f(d.identityProperties),signer:p.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return n(o)}});var pxt,Jl,Uwe=b(()=>{"use strict";tX();pxt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Jl=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(Bwe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),pxt)}})});var $we=b(()=>{"use strict"});var Fwe=b(()=>{"use strict"});var fk,Hwe=b(()=>{"use strict";fk={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var nX=b(()=>{"use strict";$we();Hwe();Fwe()});var Lzn,Gwe=b(()=>{"use strict";nX();Lzn={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:fk.name}});var Vwe=b(()=>{"use strict";tX();Uwe();Gwe()});var fxt,mxt,zwe,rX=b(()=>{"use strict";go();Ws();fxt=t=>e=>{throw e},mxt=(t,e)=>{},zwe=t=>(e,n)=>async r=>{if(!Sr.isInstance(r.request))return e(r);let i=Go(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,l=await e({...r,request:await c.sign(r.request,a,s)}).catch((c.errorHandler||fxt)(s));return(c.successHandler||mxt)(l.response,s),l}});var hxt,Yl,jwe=b(()=>{"use strict";rX();hxt={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Yl=t=>({applyToStack:e=>{e.addRelativeTo(zwe(t),hxt)}})});var qwe=b(()=>{"use strict";rX();jwe()});var Db,Wwe=b(()=>{"use strict";Db=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function No(t,e,n,r,o){return async function*(s,a,...c){let l=a,u=s.startingToken??l[n],d=!0,p;for(;d;){if(l[n]=u,o&&(l[o]=l[o]??s.pageSize),s.client instanceof t)p=await gxt(e,s.client,a,s.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield p;let f=u;u=yxt(p,r),d=!!(u&&(!s.stopOnSameToken||u!==f))}return void 0}}var gxt,yxt,Kwe=b(()=>{"use strict";gxt=async(t,e,n,r=i=>i,...o)=>{let i=new t(n);return i=r(i)??i,await e.send(i,...o)};yxt=(t,e)=>{let n=t,r=e.split(".");for(let o of r){if(!n||typeof n!="object")return;n=n[o]}return n}});var mk,oX=b(()=>{"use strict";mk=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as iX}from"buffer";var Tm,N2,kb=b(()=>{"use strict";oX();Tm=(t,e=0,n=t.byteLength-e)=>{if(!mk(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return iX.from(t,e,n)},N2=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?iX.from(t,e):iX.from(t)}});var bxt,Oo,Jwe=b(()=>{"use strict";kb();bxt=/^[A-Za-z0-9+/]*={0,2}$/,Oo=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!bxt.exec(t))throw new TypeError("Invalid base64 string.");let e=N2(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var io,sX=b(()=>{"use strict";kb();io=t=>{let e=N2(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Md,Ywe=b(()=>{"use strict";sX();Md=t=>typeof t=="string"?io(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var Yr,Qwe=b(()=>{"use strict";kb();Yr=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Tm(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var ti=b(()=>{"use strict";sX();Ywe();Qwe()});var Qr,Xwe=b(()=>{"use strict";kb();ti();Qr=t=>{let e;if(typeof t=="string"?e=io(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return Tm(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Ks=b(()=>{"use strict";Jwe();Xwe()});var O2,Zwe=b(()=>{"use strict";Ks();ti();O2=class t extends Uint8Array{static fromString(e,n="utf-8"){if(typeof e=="string")return n==="base64"?t.mutate(Oo(e)):t.mutate(io(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?Qr(this):Yr(this)}}});var eTe=b(()=>{"use strict"});var aX,tTe=b(()=>{"use strict";aX=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream)});var nTe=b(()=>{"use strict"});var rTe=b(()=>{"use strict"});var oTe=b(()=>{"use strict"});var iTe=b(()=>{"use strict"});var Jp,_xt,sTe=b(()=>{"use strict";Jp=t=>encodeURIComponent(t).replace(/[!'()*]/g,_xt),_xt=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var aTe=b(()=>{"use strict"});var hk=b(()=>{"use strict";sTe();aTe()});function cTe(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=Jp(n),Array.isArray(r))for(let o=0,i=r.length;o<i;o++)e.push(`${n}=${Jp(r[o])}`);else{let o=n;(r||typeof r=="string")&&(o+=`=${Jp(r)}`),e.push(o)}}return e.join("&")}var lTe=b(()=>{"use strict";hk()});var uTe,dTe=b(()=>{"use strict";uTe=["ECONNRESET","EPIPE","ETIMEDOUT"]});var pTe,fTe=b(()=>{"use strict";pTe=t=>{let e={};for(let n of Object.keys(t)){let r=t[n];e[n]=Array.isArray(r)?r.join(","):r}return e}});var ni,Lb=b(()=>{"use strict";ni={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var mTe,hTe,gTe=b(()=>{"use strict";Lb();mTe=1e3,hTe=(t,e,n=0)=>{if(!n)return-1;let r=o=>{let i=ni.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${n} ms.`),{name:"TimeoutError"}))},n-o),s=a=>{a?.connecting?a.on("connect",()=>{ni.clearTimeout(i)}):ni.clearTimeout(i)};t.socket?s(t.socket):t.on("socket",s)};return n<2e3?(r(0),0):ni.setTimeout(r.bind(null,mTe),mTe)}});var yTe,bTe=b(()=>{"use strict";Lb();yTe=(t,e,n=0,r,o)=>n?ni.setTimeout(()=>{let i=`@smithy/node-http-handler - [${r?"ERROR":"WARN"}] a request has exceeded the configured ${n} ms requestTimeout.`;if(r){let s=Object.assign(new Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(s),e(s)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(i)},n):-1});var Sxt,_Te,STe=b(()=>{"use strict";Lb();Sxt=3e3,_Te=(t,{keepAlive:e,keepAliveMsecs:n},r=Sxt)=>{if(e!==!0)return-1;let o=()=>{t.socket?t.socket.setKeepAlive(e,n||0):t.on("socket",i=>{i.setKeepAlive(e,n||0)})};return r===0?(o(),0):ni.setTimeout(o,r)}});var vTe,ETe,ATe=b(()=>{"use strict";Lb();vTe=3e3,ETe=(t,e,n=0)=>{let r=o=>{let i=n-o,s=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${n} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(i,s),t.on("close",()=>t.socket?.removeListener("timeout",s))):t.setTimeout(i,s)};return 0<n&&n<6e3?(r(0),0):ni.setTimeout(r.bind(null,n===0?0:vTe),vTe)}});import{Readable as vxt}from"stream";async function wTe(t,e,n=xTe,r=!1){let o=e.headers??{},i=o.Expect||o.expect,s=-1,a=!0;!r&&i==="100-continue"&&(a=await Promise.race([new Promise(c=>{s=Number(ni.setTimeout(()=>c(!0),Math.max(xTe,n)))}),new Promise(c=>{t.on("continue",()=>{ni.clearTimeout(s),c(!0)}),t.on("response",()=>{ni.clearTimeout(s),c(!1)}),t.on("error",()=>{ni.clearTimeout(s),c(!1)})})])),a&&Ext(t,e.body)}function Ext(t,e){if(e instanceof vxt){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let n=e;if(typeof n=="object"&&n.buffer&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number"){t.end(Buffer.from(n.buffer,n.byteOffset,n.byteLength));return}t.end(Buffer.from(e));return}t.end()}var xTe,TTe=b(()=>{"use strict";Lb();xTe=6e3});import{Agent as cX,request as Axt}from"http";import{Agent as lX,request as xxt}from"https";var Js,ITe=b(()=>{"use strict";go();lTe();dTe();fTe();gTe();bTe();STe();ATe();Lb();TTe();Js=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,n,r=console){let{sockets:o,requests:i,maxSockets:s}=e;if(typeof s!="number"||s===1/0||Date.now()-15e3<n)return n;if(o&&i)for(let c in o){let l=o[c]?.length??0,u=i[c]?.length??0;if(l>=s&&u>=2*s)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return n}constructor(e){this.configProvider=new Promise((n,r)=>{typeof e=="function"?e().then(o=>{n(this.resolveDefaultConfig(o))}).catch(r):n(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:n,connectionTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:i,httpAgent:s,httpsAgent:a,throwOnRequestTimeout:c}=e||{},l=!0,u=50;return{connectionTimeout:r,requestTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:i,throwOnRequestTimeout:c,httpAgent:s instanceof cX||typeof s?.destroy=="function"?(this.externalAgent=!0,s):new cX({keepAlive:l,maxSockets:u,...s}),httpsAgent:a instanceof lX||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new lX({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:n,requestTimeout:r}={}){return this.config||(this.config=await this.configProvider),new Promise((o,i)=>{let s=this.config,a,c=[],l=async k=>{await a,c.forEach(ni.clearTimeout),o(k)},u=async k=>{await a,c.forEach(ni.clearTimeout),i(k)};if(n?.aborted){let k=new Error("Request aborted");k.name="AbortError",u(k);return}let d=e.protocol==="https:",p=e.headers??{},f=(p.Expect??p.expect)==="100-continue",h=d?s.httpsAgent:s.httpAgent;f&&!this.externalAgent&&(h=new(d?lX:cX)({keepAlive:!1,maxSockets:1/0})),c.push(ni.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(h,this.socketWarningTimestamp,s.logger)},s.socketAcquisitionWarningTimeout??(s.requestTimeout??2e3)+(s.connectionTimeout??1e3)));let m=cTe(e.query||{}),g;if(e.username!=null||e.password!=null){let k=e.username??"",O=e.password??"";g=`${k}:${O}`}let y=e.path;m&&(y+=`?${m}`),e.fragment&&(y+=`#${e.fragment}`);let S=e.hostname??"";S[0]==="["&&S.endsWith("]")?S=e.hostname.slice(1,-1):S=e.hostname;let v={headers:e.headers,host:S,method:e.method,path:y,port:e.port,agent:h,auth:g},w=(d?xxt:Axt)(v,k=>{let O=new jl({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:pTe(k.headers),body:k});l({response:O})});if(w.on("error",k=>{uTe.includes(k.code)?u(Object.assign(k,{name:"TimeoutError"})):u(k)}),n){let k=()=>{w.destroy();let O=new Error("Request aborted");O.name="AbortError",u(O)};if(typeof n.addEventListener=="function"){let O=n;O.addEventListener("abort",k,{once:!0}),w.once("close",()=>O.removeEventListener("abort",k))}else n.onabort=k}let I=r??s.requestTimeout;c.push(hTe(w,u,s.connectionTimeout)),c.push(yTe(w,u,I,s.throwOnRequestTimeout,s.logger??console)),c.push(ETe(w,u,s.socketTimeout));let D=v.agent;typeof D=="object"&&"keepAlive"in D&&c.push(_Te(w,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),a=wTe(w,e,I,this.externalAgent).catch(k=>(c.forEach(ni.clearTimeout),i(k)))})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:n}))}httpHandlerConfigs(){return this.config??{}}}});var RTe=b(()=>{"use strict"});import{Writable as wxt}from"stream";var gk,CTe=b(()=>{"use strict";gk=class extends wxt{bufferedBytes=[];_write(e,n,r){this.bufferedBytes.push(e),r()}}});async function Ixt(t){let e=[],n=t.getReader(),r=!1,o=0;for(;!r;){let{done:a,value:c}=await n.read();c&&(e.push(c),o+=c.length),r=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}var lc,Txt,NTe=b(()=>{"use strict";CTe();lc=t=>Txt(t)?Ixt(t):new Promise((e,n)=>{let r=new gk;t.pipe(r),t.on("error",o=>{r.end(),n(o)}),r.on("error",n),r.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));e(o)})}),Txt=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var Im=b(()=>{"use strict";ITe();RTe();NTe()});var OTe=b(()=>{"use strict"});async function Rxt(t){let e=await Nxt(t),n=Oo(e);return new Uint8Array(n)}async function Cxt(t){let e=[],n=t.getReader(),r=!1,o=0;for(;!r;){let{done:a,value:c}=await n.read();c&&(e.push(c),o+=c.length),r=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}function Nxt(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let o=r.result??"",i=o.indexOf(","),s=i>-1?i+1:o.length;e(o.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}var PTe,DTe=b(()=>{"use strict";Ks();PTe=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Rxt(t):Cxt(t)});var kTe=b(()=>{"use strict";OTe();DTe()});function MTe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in uX)e[n/2]=uX[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function uc(t){let e="";for(let n=0;n<t.byteLength;n++)e+=LTe[t[n]];return e}var LTe,uX,Mb=b(()=>{"use strict";LTe={},uX={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),LTe[t]=e,uX[e]=t}});var BTe,$Te,UTe,FTe=b(()=>{"use strict";kTe();Ks();Mb();ti();tTe();BTe="The stream has already been transformed.",$Te=t=>{if(!UTe(t)&&!aX(t)){let o=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1,n=async()=>{if(e)throw new Error(BTe);return e=!0,await PTe(t)},r=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:async o=>{let i=await n();if(o==="base64")return Qr(i);if(o==="hex")return uc(i);if(o===void 0||o==="utf8"||o==="utf-8")return Yr(i);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(BTe);if(e=!0,UTe(t))return r(t);if(aX(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},UTe=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as dX}from"stream";var HTe,yk,GTe=b(()=>{"use strict";Im();kb();FTe();HTe="The stream has already been transformed.",yk=t=>{if(!(t instanceof dX))try{return $Te(t)}catch{let o=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let e=!1,n=async()=>{if(e)throw new Error(HTe);return e=!0,await lc(t)};return Object.assign(t,{transformToByteArray:n,transformToString:async r=>{let o=await n();return r===void 0||Buffer.isEncoding(r)?Tm(o.buffer,o.byteOffset,o.byteLength).toString(r):new TextDecoder(r).decode(o)},transformToWebStream:()=>{if(e)throw new Error(HTe);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof dX.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,dX.toWeb(t)}})}});var VTe=b(()=>{"use strict"});var bk=b(()=>{"use strict";Zwe();eTe();nTe();rTe();oTe();iTe();GTe();VTe()});var dc,_k=b(()=>{"use strict";bk();dc=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return O2.mutate(t);if(!t)return O2.mutate(new Uint8Array);let n=e.streamCollector(t);return O2.mutate(await n)}});function P2(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var pX=b(()=>{"use strict"});var y0,fX=b(()=>{"use strict";y0=t=>typeof t=="function"?t():t});var Sk,vk=b(()=>{"use strict";Sk=(t,e,n,r,o)=>({name:e,namespace:t,traits:n,input:r,output:o})});var zTe,mX,jTe=b(()=>{"use strict";go();Ws();vk();zTe=t=>(e,n)=>async r=>{let{response:o}=await e(r),{operationSchema:i}=Go(n),[,s,a,c,l,u]=i??[];try{let d=await t.protocol.deserializeResponse(Sk(s,a,c,l,u),{...t,...n},o);return{response:o,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+p}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(p):n.logger?.warn?.(p)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(jl.isInstance(o)){let{headers:f={}}=o,h=Object.entries(f);d.$metadata={httpStatusCode:o.statusCode,requestId:mX(/^x-[\w-]+-request-?id$/,h),extendedRequestId:mX(/^x-[\w-]+-id-2$/,h),cfId:mX(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw d}},mX=(t,e)=>(e.find(([n])=>n.match(t))||[void 0,void 0])[1]});var qTe,WTe=b(()=>{"use strict";Ws();vk();qTe=t=>(e,n)=>async r=>{let{operationSchema:o}=Go(n),[,i,s,a,c,l]=o??[],u=n.endpointV2?.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(Sk(i,s,a,c,l),r.input,{...t,...n,endpoint:u});return e({...r,request:d})}});function Ql(t){return{applyToStack:e=>{e.add(qTe(t),Pxt),e.add(zTe(t),Oxt),t.protocol.setSerdeContext(t)}}}var Oxt,Pxt,KTe=b(()=>{"use strict";jTe();WTe();Oxt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Pxt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Xl,Bb=b(()=>{"use strict";Xl=class{name;namespace;traits;static assign(e,n){return Object.assign(e,n)}static[Symbol.hasInstance](e){let n=this.prototype.isPrototypeOf(e);return!n&&typeof e=="object"&&e!==null?e.symbol===this.symbol:n}getName(){return this.namespace+"#"+this.name}}});var JTe,YTe=b(()=>{"use strict";Bb();JTe=class t extends Xl{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var QTe,XTe=b(()=>{"use strict";Bb();QTe=class t extends Xl{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var ZTe,eIe=b(()=>{"use strict";Bb();ZTe=class t extends Xl{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var Ek,hX=b(()=>{"use strict";Bb();Ek=class t extends Xl{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var tIe,nIe=b(()=>{"use strict";hX();tIe=class t extends Ek{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function Rm(t){if(typeof t=="object")return t;t=t|0;let e={},n=0;for(let r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(e[r]=1);return e}var gX=b(()=>{"use strict"});function QR(t,e){if(t instanceof on)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let n=on;return new n(t,e)}var rIe,on,yX,Dxt,oIe=b(()=>{"use strict";fX();gX();rIe={it:Symbol.for("@smithy/nor-struct-it")},on=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,n){this.ref=e,this.memberName=n;let r=[],o=e,i=e;for(this._isMemberSchema=!1;yX(o);)r.push(o[1]),o=o[0],i=y0(o),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let s=r.length-1;s>=0;--s){let a=r[s];Object.assign(this.memberTraits,Rm(a))}}else this.memberTraits=0;if(i instanceof t){let s=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},s,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??i.memberName;return}if(this.schema=y0(i),Dxt(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let n=this.prototype.isPrototypeOf(e);return!n&&typeof e=="object"&&e!==null?e.symbol===this.symbol:n}static of(e){let n=y0(e);if(n instanceof t)return n;if(yX(n)){let[r,o]=n;if(r instanceof t)return Object.assign(r.getMergedTraits(),Rm(o)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(n)}getSchema(){let e=this.schema;return Array.isArray(e)&&e[0]===0?e[4]:e}getName(e=!1){let{name:n}=this;return!e&&n&&n.includes("#")?n.split("#")[1]:n||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();if(typeof e!="object")return!1;let n=e[0];return n===3||n===-3||n===4}isUnionSchema(){let e=this.getSchema();return typeof e!="object"?!1:e[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Rm(this.memberTraits)}getOwnTraits(){return Rm(this.traits)}getKeySchema(){let[e,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!n)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let r=this.getSchema(),o=e?15:r[4]??0;return QR([o,0],"key")}getValueSchema(){let e=this.getSchema(),[n,r,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof e=="number"?63&e:e&&typeof e=="object"&&(r||o)?e[3+e[0]]:n?15:void 0;if(i!=null)return QR([i,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let n=this.getSchema();if(this.isStructSchema()&&n[4].includes(e)){let r=n[4].indexOf(e),o=n[5][r];return QR(yX(o)?o:[o,0],e)}if(this.isDocumentSchema())return QR([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[n,r]of this.structIterator())e[n]=r}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,n]of this.structIterator())if(n.isStreaming()&&n.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema(),n=e[4].length,r=e[rIe.it];if(r&&n===r.length){yield*r;return}r=Array(n);for(let o=0;o<n;++o){let i=e[4][o],s=QR([e[5][o],0],i);yield r[o]=[i,s]}e[rIe.it]=r}};yX=t=>Array.isArray(t)&&t.length===2,Dxt=t=>Array.isArray(t)&&t.length>=5});var iIe,sIe=b(()=>{"use strict";Bb();iIe=class t extends Xl{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var aIe=b(()=>{"use strict"});var je,cIe=b(()=>{"use strict";je=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,n=new Map,r=new Map){this.namespace=e,this.schemas=n,this.exceptions=r}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,n){let r=this.normalizeShapeId(e);t.for(r.split("#")[0]).schemas.set(r,n)}getSchema(e){let n=this.normalizeShapeId(e);if(!this.schemas.has(n))throw new Error(`@smithy/core/schema - schema not found for ${n}`);return this.schemas.get(n)}registerError(e,n){let r=e,o=t.for(r[1]);o.schemas.set(r[1]+"#"+r[2],r),o.exceptions.set(r,n)}getErrorCtor(e){let n=e;return t.for(n[1]).exceptions.get(n)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,n,r]=e,o=n+"#"+r;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var Er=b(()=>{"use strict";fX();KTe();YTe();XTe();eIe();vk();nIe();oIe();Bb();sIe();hX();aIe();gX();cIe()});var lIe=b(()=>{"use strict"});var bX,kxt,uIe,Lxt,dIe,pIe,fIe,Mxt,mIe,hIe,Bxt,Ak,D2,gIe,Uxt,$xt,_X=b(()=>{"use strict";bX=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&$xt.warn(Uxt(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},kxt=Math.ceil(34028234663852886e22),uIe=t=>{let e=bX(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>kxt)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},Lxt=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},dIe=t=>fIe(t,16),pIe=t=>fIe(t,8),fIe=(t,e)=>{let n=Lxt(t);if(n!==void 0&&Mxt(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},Mxt=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},mIe=t=>bX(typeof t=="string"?Ak(t):t),hIe=t=>uIe(typeof t=="string"?Ak(t):t),Bxt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ak=t=>{let e=t.match(Bxt);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},D2=t=>dIe(typeof t=="string"?Ak(t):t),gIe=t=>pIe(typeof t=="string"?Ak(t):t),Uxt=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),$xt={warn:console.warn}});function L2(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),o=t.getUTCDate(),i=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=a<10?`0${a}`:`${a}`;return`${Fxt[r]}, ${c} ${vX[n]} ${e} ${l}:${u}:${d} GMT`}var Fxt,vX,Hxt,yIe,Gxt,bIe,Vxt,zxt,jxt,_Ie,SIe,XR,qxt,Wxt,Kxt,SX,Jxt,Yxt,Qxt,Yp,Xxt,Zxt,k2,vIe=b(()=>{"use strict";_X();Fxt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],vX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Hxt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),yIe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Hxt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,o,i,s,a,c,l]=e,u=D2(k2(r)),d=Yp(o,"month",1,12),p=Yp(i,"day",1,31);return XR(u,d,p,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},Gxt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),bIe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Gxt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,o,i,s,a,c,l,u]=e,d=D2(k2(r)),p=Yp(o,"month",1,12),f=Yp(i,"day",1,31),h=XR(d,p,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&h.setTime(h.getTime()-Zxt(u)),h},Vxt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zxt=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),jxt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_Ie=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Vxt.exec(t);if(e){let[n,r,o,i,s,a,c,l]=e;return XR(D2(k2(i)),SX(o),Yp(r,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=zxt.exec(t),e){let[n,r,o,i,s,a,c,l]=e;return Kxt(XR(qxt(i),SX(o),Yp(r,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=jxt.exec(t),e){let[n,r,o,i,s,a,c,l]=e;return XR(D2(k2(l)),SX(r),Yp(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},SIe=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=mIe(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},XR=(t,e,n,r)=>{let o=e-1;return Yxt(t,o,n),new Date(Date.UTC(t,o,n,Yp(r.hours,"hour",0,23),Yp(r.minutes,"minute",0,59),Yp(r.seconds,"seconds",0,60),Xxt(r.fractionalMilliseconds)))},qxt=t=>{let e=new Date().getUTCFullYear(),n=Math.floor(e/100)*100+D2(k2(t));return n<e?n+100:n},Wxt=50*365*24*60*60*1e3,Kxt=t=>t.getTime()-new Date().getTime()>Wxt?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,SX=t=>{let e=vX.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},Jxt=[31,28,31,30,31,30,31,31,30,31,30,31],Yxt=(t,e,n)=>{let r=Jxt[e];if(e===1&&Qxt(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${vX[e]} in ${t}: ${n}`)},Qxt=t=>t%4===0&&(t%100!==0||t%400===0),Yp=(t,e,n,r)=>{let o=gIe(k2(t));if(o<n||o>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return o},Xxt=t=>t==null?0:hIe("0."+t)*1e3,Zxt=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),o=Number(t.substring(4,6));return n*(r*60+o)*60*1e3},k2=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import EIe from"crypto";var EX,AIe=b(()=>{"use strict";EX=EIe.randomUUID.bind(EIe)});var Ys,Cm,xIe=b(()=>{"use strict";AIe();Ys=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),Cm=()=>{if(EX)return EX();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ys[t[0]]+Ys[t[1]]+Ys[t[2]]+Ys[t[3]]+"-"+Ys[t[4]]+Ys[t[5]]+"-"+Ys[t[6]]+Ys[t[7]]+"-"+Ys[t[8]]+Ys[t[9]]+"-"+Ys[t[10]]+Ys[t[11]]+Ys[t[12]]+Ys[t[13]]+Ys[t[14]]+Ys[t[15]]}});var AX=b(()=>{"use strict";xIe()});var wIe=b(()=>{"use strict";AX()});var pc,TIe=b(()=>{"use strict";pc=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};pc.from=t=>t&&typeof t=="object"&&(t instanceof pc||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?pc(String(t)):pc(JSON.stringify(t));pc.fromObject=pc.from});function IIe(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var RIe=b(()=>{"use strict"});function Nm(t,e,n){let r=Number(t);if(r<e||r>n)throw new Error(`Value ${r} out of range [${e}, ${n}]`)}var xX,wX,TX,CIe,NIe,ewt,twt,nwt,rwt,owt,OIe,PIe,DIe,kIe=b(()=>{"use strict";xX="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",wX="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",TX="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",CIe="(\\d?\\d)",NIe="(\\d{4})",ewt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),twt=new RegExp(`^${xX}, ${CIe} ${wX} ${NIe} ${TX} GMT$`),nwt=new RegExp(`^${xX}, ${CIe}-${wX}-(\\d\\d) ${TX} GMT$`),rwt=new RegExp(`^${xX} ${wX} ( [1-9]|\\d\\d) ${TX} ${NIe}$`),owt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],OIe=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},PIe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=ewt.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,n,r,o,i,s,a,,c,l]=e;Nm(r,1,12),Nm(o,1,31),Nm(i,0,23),Nm(s,0,59),Nm(a,0,60);let u=new Date(Date.UTC(Number(n),Number(r)-1,Number(o),Number(i),Number(s),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(n)),l.toUpperCase()!="Z"){let[,d,p,f]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],h=d==="-"?1:-1;u.setTime(u.getTime()+h*(Number(p)*60*60*1e3+Number(f)*60*1e3))}return u},DIe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,n,r,o,i,s,a,c;if((c=twt.exec(t))?[,e,n,r,o,i,s,a]=c:(c=nwt.exec(t))?([,e,n,r,o,i,s,a]=c,r=(Number(r)+1900).toString()):(c=rwt.exec(t))&&([,n,e,o,i,s,a,r]=c),r&&s){let l=Date.UTC(Number(r),owt.indexOf(n),Number(e),Number(o),Number(i),Number(s),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Nm(e,1,31),Nm(o,0,23),Nm(i,0,59),Nm(s,0,60);let u=new Date(l);return u.setUTCFullYear(Number(r)),u}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function LIe(t,e,n){if(n<=0||!Number.isInteger(n))throw new Error("Invalid number of delimiters ("+n+") for splitEvery.");let r=t.split(e);if(n===1)return r;let o=[],i="";for(let s=0;s<r.length;s++)i===""?i=r[s]:i+=e+r[s],(s+1)%n===0&&(o.push(i),i="");return i!==""&&o.push(i),o}var MIe=b(()=>{"use strict"});var xk,BIe=b(()=>{"use strict";xk=t=>{let e=t.length,n=[],r=!1,o,i=0;for(let s=0;s<e;++s){let a=t[s];switch(a){case'"':o!=="\\"&&(r=!r);break;case",":r||(n.push(t.slice(i,s)),i=s+1);break;default:}o=a}return n.push(t.slice(i)),n.map(s=>{s=s.trim();let a=s.length;return a<2?s:(s[0]==='"'&&s[a-1]==='"'&&(s=s.slice(1,a-1)),s.replace(/\\"/g,'"'))})}});var UIe,es,$Ie=b(()=>{"use strict";UIe=/^-?\d*(\.\d+)?$/,es=class t{string;type;constructor(e,n){if(this.string=e,this.type=n,!UIe.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let n=e;return t.prototype.isPrototypeOf(e)||n.type==="bigDecimal"&&UIe.test(n.string)}}});var Qp=b(()=>{"use strict";lIe();vIe();wIe();TIe();_X();RIe();kIe();MIe();BIe();$Ie()});var Xp,M2=b(()=>{"use strict";Xp=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var IX,FIe=b(()=>{"use strict";ti();IX=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:n,deserializer:r,serdeContext:o,defaultContentType:i}){this.marshaller=e,this.serializer=n,this.deserializer=r,this.serdeContext=o,this.defaultContentType=i}async serializeEventStream({eventStream:e,requestSchema:n,initialRequest:r}){let o=this.marshaller,i=n.getEventStreamMember(),s=n.getMemberSchema(i),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(r){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(n,r);let p=a.flush();yield{[l]:!0,headers:d,body:p}}for await(let d of e)yield d}};return o.serialize(u,d=>{if(d[l])return{headers:d.headers,body:d.body};let p=Object.keys(d).find(S=>S!=="__type")??"",{additionalHeaders:f,body:h,eventType:m,explicitPayloadContentType:g}=this.writeEventBody(p,s,d);return{headers:{":event-type":{type:"string",value:m},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:g??c},...f},body:h}})}async deserializeEventStream({response:e,responseSchema:n,initialResponseContainer:r}){let o=this.marshaller,i=n.getEventStreamMember(),a=n.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=o.deserialize(e.body,async p=>{let f=Object.keys(p).find(m=>m!=="__type")??"",h=p[f].body;if(f==="initial-response"){let m=await this.deserializer.read(n,h);return delete m[i],{[c]:!0,...m}}else if(f in a){let m=a[f];if(m.isStructSchema()){let g={},y=!1;for(let[S,v]of m.structIterator()){let{eventHeader:A,eventPayload:w}=v.getMergedTraits();if(y=y||!!(A||w),w)v.isBlobSchema()?g[S]=h:v.isStringSchema()?g[S]=(this.serdeContext?.utf8Encoder??Yr)(h):v.isStructSchema()&&(g[S]=await this.deserializer.read(v,h));else if(A){let I=p[f].headers[S]?.value;I!=null&&(v.isNumericSchema()?I&&typeof I=="object"&&"bytes"in I?g[S]=BigInt(I.toString()):g[S]=Number(I):g[S]=I)}}if(y)return{[f]:g};if(h.byteLength===0)return{[f]:{}}}return{[f]:await this.deserializer.read(m,h)}}else return{$unknown:p}}),u=l[Symbol.asyncIterator](),d=await u.next();if(d.done)return l;if(d.value?.[c]){if(!n)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[p,f]of Object.entries(d.value))r[p]=f}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:p,value:f}=await u.next();if(p)break;yield f}}}}writeEventBody(e,n,r){let o=this.serializer,i=e,s=null,a,c=n.getSchema()[4].includes(e),l={};if(c){let p=n.getMemberSchema(e);if(p.isStructSchema()){for(let[f,h]of p.structIterator()){let{eventHeader:m,eventPayload:g}=h.getMergedTraits();if(g)s=f;else if(m){let y=r[e][f],S="binary";h.isNumericSchema()?(-2)**31<=y&&y<=2**31-1?S="integer":S="long":h.isTimestampSchema()?S="timestamp":h.isStringSchema()?S="string":h.isBooleanSchema()&&(S="boolean"),y!=null&&(l[f]={type:S,value:y},delete r[e][f])}}if(s!==null){let f=p.getMemberSchema(s);f.isBlobSchema()?a="application/octet-stream":f.isStringSchema()&&(a="text/plain"),o.write(f,r[e][s])}else o.write(p,r[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[p,f]=r[e];i=p,o.write(15,f)}let u=o.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??io)(u):u,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var HIe={};kn(HIe,{EventStreamSerde:()=>IX});var GIe=b(()=>{"use strict";FIe()});var B2,wk=b(()=>{"use strict";Er();go();M2();B2=class extends Xp{options;constructor(e){super(),this.options=e}getRequestType(){return Sr}getResponseType(){return jl}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,n){if("url"in n){e.protocol=n.url.protocol,e.hostname=n.url.hostname,e.port=n.url.port?Number(n.url.port):void 0,e.path=n.url.pathname,e.fragment=n.url.hash||void 0,e.username=n.url.username||void 0,e.password=n.url.password||void 0,e.query||(e.query={});for(let[r,o]of n.url.searchParams.entries())e.query[r]=o;return e}else return e.protocol=n.protocol,e.hostname=n.hostname,e.port=n.port?Number(n.port):void 0,e.path=n.path,e.query={...n.query},e}setHostPrefix(e,n,r){if(this.serdeContext?.disableHostPrefix)return;let o=on.of(n.input),i=Rm(n.traits??{});if(i.endpoint){let s=i.endpoint?.[0];if(typeof s=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=r[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);s=s.replace(`{${c}}`,l)}e.hostname=s+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:n,initialRequest:r}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:n,initialRequest:r})}async deserializeEventStream({response:e,responseSchema:n,initialResponseContainer:r}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:n,initialResponseContainer:r})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(GIe(),HIe));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,n,r,o,i){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var Tk,VIe=b(()=>{"use strict";Er();Qp();go();bk();_k();pX();wk();Tk=class extends B2{async serializeRequest(e,n,r){let o={...n??{}},i=this.serializer,s={},a={},c=await r.endpoint(),l=on.of(e?.input),u=l.getSchema(),d=!1,p,f=new Sr({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:s,headers:a,body:void 0});if(c){this.updateServiceEndpoint(f,c),this.setHostPrefix(f,e,o);let h=Rm(e.traits);if(h.http){f.method=h.http[0];let[m,g]=h.http[1].split("?");f.path=="/"?f.path=m:f.path+=m;let y=new URLSearchParams(g??"");Object.assign(s,Object.fromEntries(y))}}for(let[h,m]of l.structIterator()){let g=m.getMergedTraits()??{},y=o[h];if(y==null&&!m.isIdempotencyToken()){if(g.httpLabel&&(f.path.includes(`{${h}+}`)||f.path.includes(`{${h}}`)))throw new Error(`No value provided for input HTTP label: ${h}.`);continue}if(g.httpPayload)m.isStreaming()?m.isStructSchema()?o[h]&&(p=await this.serializeEventStream({eventStream:o[h],requestSchema:l})):p=y:(i.write(m,y),p=i.flush()),delete o[h];else if(g.httpLabel){i.write(m,y);let S=i.flush();f.path.includes(`{${h}+}`)?f.path=f.path.replace(`{${h}+}`,S.split("/").map(P2).join("/")):f.path.includes(`{${h}}`)&&(f.path=f.path.replace(`{${h}}`,P2(S))),delete o[h]}else if(g.httpHeader)i.write(m,y),a[g.httpHeader.toLowerCase()]=String(i.flush()),delete o[h];else if(typeof g.httpPrefixHeaders=="string"){for(let[S,v]of Object.entries(y)){let A=g.httpPrefixHeaders+S;i.write([m.getValueSchema(),{httpHeader:A}],v),a[A.toLowerCase()]=i.flush()}delete o[h]}else g.httpQuery||g.httpQueryParams?(this.serializeQuery(m,y,s),delete o[h]):d=!0}return d&&o&&(i.write(u,o),p=i.flush()),f.headers=a,f.query=s,f.body=p,f}serializeQuery(e,n,r){let o=this.serializer,i=e.getMergedTraits();if(i.httpQueryParams){for(let[s,a]of Object.entries(n))if(!(s in r)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:s,httpQueryParams:void 0}),this.serializeQuery(c,a,r)}return}if(e.isListSchema()){let s=!!e.getMergedTraits().sparse,a=[];for(let c of n){o.write([e.getValueSchema(),i],c);let l=o.flush();(s||l!==void 0)&&a.push(l)}r[i.httpQuery]=a}else o.write([e,i],n),r[i.httpQuery]=o.flush()}async deserializeResponse(e,n,r){let o=this.deserializer,i=on.of(e.output),s={};if(r.statusCode>=300){let c=await dc(r.body,n);throw c.byteLength>0&&Object.assign(s,await o.read(15,c)),await this.handleError(e,n,r,s,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in r.headers){let l=r.headers[c];delete r.headers[c],r.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,n,r,s);if(a.length){let c=await dc(r.body,n);if(c.byteLength>0){let l=await o.read(i,c);for(let u of a)s[u]=l[u]}}else a.discardResponseBody&&await dc(r.body,n);return s.$metadata=this.deserializeMetadata(r),s}async deserializeHttpMessage(e,n,r,o,i){let s;o instanceof Set?s=i:s=o;let a=!0,c=this.deserializer,l=on.of(e),u=[];for(let[d,p]of l.structIterator()){let f=p.getMemberTraits();if(f.httpPayload){if(a=!1,p.isStreaming())p.isStructSchema()?s[d]=await this.deserializeEventStream({response:r,responseSchema:l}):s[d]=yk(r.body);else if(r.body){let m=await dc(r.body,n);m.byteLength>0&&(s[d]=await c.read(p,m))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),m=r.headers[h];if(m!=null)if(p.isListSchema()){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h;let y;g.isTimestampSchema()&&g.getSchema()===4?y=LIe(m,",",2):y=xk(m);let S=[];for(let v of y)S.push(await c.read(g,v.trim()));s[d]=S}else s[d]=await c.read(p,m)}else if(f.httpPrefixHeaders!==void 0){s[d]={};for(let[h,m]of Object.entries(r.headers))if(h.startsWith(f.httpPrefixHeaders)){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h,s[d][h.slice(f.httpPrefixHeaders.length)]=await c.read(g,m)}}else f.httpResponseCode?s[d]=r.statusCode:u.push(d)}return u.discardResponseBody=a,u}}});var U2,zIe=b(()=>{"use strict";Er();go();_k();wk();U2=class extends B2{async serializeRequest(e,n,r){let o=this.serializer,i={},s={},a=await r.endpoint(),c=on.of(e?.input),l=c.getSchema(),u,d=new Sr({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:s,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,e,n));let p={...n};if(n){let f=c.getEventStreamMember();if(f){if(p[f]){let h={};for(let[m,g]of c.structIterator())m!==f&&p[m]&&(o.write(g,p[m]),h[m]=o.flush());u=await this.serializeEventStream({eventStream:p[f],requestSchema:c,initialRequest:h})}}else o.write(l,p),u=o.flush()}return d.headers=s,d.query=i,d.body=u,d.method="POST",d}async deserializeResponse(e,n,r){let o=this.deserializer,i=on.of(e.output),s={};if(r.statusCode>=300){let c=await dc(r.body,n);throw c.byteLength>0&&Object.assign(s,await o.read(15,c)),await this.handleError(e,n,r,s,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in r.headers){let l=r.headers[c];delete r.headers[c],r.headers[c.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)s[a]=await this.deserializeEventStream({response:r,responseSchema:i,initialResponseContainer:s});else{let c=await dc(r.body,n);c.byteLength>0&&Object.assign(s,await o.read(i,c))}return s.$metadata=this.deserializeMetadata(r),s}}});var jIe=b(()=>{"use strict"});var qIe=b(()=>{"use strict"});function Zp(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:n,httpPrefixHeaders:r,httpHeader:o,httpQuery:i}=t.getMergedTraits();return(e.httpBindings?typeof r=="string"||o?6:i||n?5:void 0:void 0)??e.timestampFormat.default}var Ik=b(()=>{"use strict"});var $2,RX=b(()=>{"use strict";Er();Qp();Ks();ti();M2();Ik();$2=class extends Xp{settings;constructor(e){super(),this.settings=e}read(e,n){let r=on.of(e);if(r.isListSchema())return xk(n).map(o=>this.read(r.getValueSchema(),o));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??Oo)(n);if(r.isTimestampSchema())switch(Zp(r,this.settings)){case 5:return PIe(n);case 6:return DIe(n);case 7:return OIe(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(r.isStringSchema()){let o=r.getMergedTraits().mediaType,i=n;if(o)return r.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(o==="application/json"||o.endsWith("+json"))&&(i=pc.from(i)),i}return r.isNumericSchema()?Number(n):r.isBigIntegerSchema()?BigInt(n):r.isBigDecimalSchema()?new es(n,"bigDecimal"):r.isBooleanSchema()?String(n).toLowerCase()==="true":n}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Yr)((this.serdeContext?.base64Decoder??Oo)(e))}}});var Rk,WIe=b(()=>{"use strict";Er();ti();M2();RX();Rk=class extends Xp{codecDeserializer;stringDeserializer;constructor(e,n){super(),this.codecDeserializer=e,this.stringDeserializer=new $2(n)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,n){let r=on.of(e),o=r.getMergedTraits(),i=this.serdeContext?.utf8Encoder??Yr;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(r,i(n));if(o.httpPayload){if(r.isBlobSchema()){let s=this.serdeContext?.utf8Decoder??io;return typeof n=="string"?s(n):n}else if(r.isStringSchema())return"byteLength"in n?i(n):n}return this.codecDeserializer.read(r,n)}}});var Ck,CX=b(()=>{"use strict";Er();Qp();Ks();M2();Ik();Ck=class extends Xp{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,n){let r=on.of(e);switch(typeof n){case"object":if(n===null){this.stringBuffer="null";return}if(r.isTimestampSchema()){if(!(n instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${n} when schema expected Date in ${r.getName(!0)}`);switch(Zp(r,this.settings)){case 5:this.stringBuffer=n.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=L2(n);break;case 7:this.stringBuffer=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",n),this.stringBuffer=String(n.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in n){this.stringBuffer=(this.serdeContext?.base64Encoder??Qr)(n);return}if(r.isListSchema()&&Array.isArray(n)){let s="";for(let a of n){this.write([r.getValueSchema(),r.getMergedTraits()],a);let c=this.flush(),l=r.getValueSchema().isTimestampSchema()?c:IIe(c);s!==""&&(s+=", "),s+=l}this.stringBuffer=s;return}this.stringBuffer=JSON.stringify(n,null,2);break;case"string":let o=r.getMergedTraits().mediaType,i=n;if(o&&((o==="application/json"||o.endsWith("+json"))&&(i=pc.from(i)),r.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Qr)(i.toString());return}this.stringBuffer=n;break;default:r.isIdempotencyToken()?this.stringBuffer=Cm():this.stringBuffer=String(n)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var Nk,KIe=b(()=>{"use strict";Er();CX();Nk=class{codecSerializer;stringSerializer;buffer;constructor(e,n,r=new Ck(n)){this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,n){let r=on.of(e),o=r.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(r,n),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,n)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var Om=b(()=>{"use strict";_k();pX();VIe();wk();zIe();qIe();jIe();RX();WIe();KIe();CX();Ik();M2()});var JIe=b(()=>{"use strict"});function YIe(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var QIe=b(()=>{"use strict"});var fc,XIe=b(()=>{"use strict";fc=class{authSchemes=new Map;constructor(e){for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var ZIe=b(()=>{"use strict"});var eRe=b(()=>{"use strict"});var Zl,tRe=b(()=>{"use strict";Zl=class{async sign(e,n,r){return e}}});var nRe=b(()=>{"use strict";ZIe();eRe();tRe()});var iwt,rRe,NX,oRe,iRe=b(()=>{"use strict";iwt=t=>function(n){return NX(n)&&n.expiration.getTime()-Date.now()<t},rRe=iwt(3e5),NX=t=>t.expiration!==void 0,oRe=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?async()=>Promise.resolve(t):t,o,i,s,a=!1,c=async l=>{i||(i=r(l));try{o=await i,s=!0,a=!1}finally{i=void 0}return o};return e===void 0?async l=>((!s||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!s||l?.forceRefresh)&&(o=await c(l)),a?o:n(o)?(e(o)&&await c(l),o):(a=!0,o))}});var sRe=b(()=>{"use strict";XIe();nRe();iRe()});var Xr=b(()=>{"use strict";Pwe();Vwe();qwe();Wwe();Kwe();JIe();QIe();sRe()});function swt(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function eu(t){let e=Db(t.userAgentAppId??OX),{customUserAgent:n}=t;return Object.assign(t,{customUserAgent:typeof n=="string"?[[n]]:n,userAgentAppId:async()=>{let r=await e();if(!swt(r)){let o=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof r!="string"?o?.warn("userAgentAppId must be a string or undefined."):r.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}var OX,aRe=b(()=>{"use strict";Xr();OX=void 0});var mc,cRe=b(()=>{"use strict";mc=class{capacity;data=new Map;parameters=[];constructor({size:e,params:n}){this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let o=this.data.keys(),i=0;for(;;){let{value:s,done:a}=o.next();if(this.data.delete(s),a||++i>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let o of r){let i=String(e[o]??"");if(i.includes("|;"))return!1;n+=i+"|;"}return n}}});var awt,ZR,PX=b(()=>{"use strict";awt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ZR=t=>awt.test(t)||t.startsWith("[")&&t.endsWith("]")});var cwt,Ub,DX=b(()=>{"use strict";cwt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ub=(t,e=!1)=>{if(!e)return cwt.test(t);let n=t.split(".");for(let r of n)if(!Ub(r))return!1;return!0}});var bs,Ok=b(()=>{"use strict";bs={}});var Pm,lRe=b(()=>{"use strict";Pm="endpoints"});function tu(t){return typeof t!="object"||t==null?t:"ref"in t?`$${tu(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(tu).join(", ")})`:JSON.stringify(t,null,2)}var uRe=b(()=>{"use strict"});var eC=b(()=>{"use strict";lRe();uRe()});var so,dRe=b(()=>{"use strict";so=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var pRe=b(()=>{"use strict"});var fRe=b(()=>{"use strict"});var mRe=b(()=>{"use strict"});var hRe=b(()=>{"use strict"});var gRe=b(()=>{"use strict"});var yRe=b(()=>{"use strict"});var nu=b(()=>{"use strict";dRe();pRe();fRe();mRe();hRe();gRe();yRe()});var bRe,_Re=b(()=>{"use strict";bRe=(t,e)=>t===e});var SRe,vRe=b(()=>{"use strict";nu();SRe=t=>{let e=t.split("."),n=[];for(let r of e){let o=r.indexOf("[");if(o!==-1){if(r.indexOf("]")!==r.length-1)throw new so(`Path: '${t}' does not end with ']'`);let i=r.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new so(`Invalid array index: '${i}' in path: '${t}'`);o!==0&&n.push(r.slice(0,o)),n.push(i)}else n.push(r)}return n}});var Pk,ERe=b(()=>{"use strict";nu();vRe();Pk=(t,e)=>SRe(e).reduce((n,r)=>{if(typeof n!="object")throw new so(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t)});var ARe,xRe=b(()=>{"use strict";ARe=t=>t!=null});var wRe,TRe=b(()=>{"use strict";wRe=t=>!t});var kX,IRe,RRe=b(()=>{"use strict";g0();PX();kX={[R2.HTTP]:80,[R2.HTTPS]:443},IRe=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:p,port:f,protocol:h="",path:m="",query:g={}}=t,y=new URL(`${h}//${p}${f?`:${f}`:""}${m}`);return y.search=Object.entries(g).map(([S,v])=>`${S}=${v}`).join("&"),y}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:o,pathname:i,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(R2).includes(c))return null;let l=ZR(o),u=n.includes(`${r}:${kX[c]}`)||typeof t=="string"&&t.includes(`${r}:${kX[c]}`),d=`${r}${u?`:${kX[c]}`:""}`;return{scheme:c,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}}});var CRe,NRe=b(()=>{"use strict";CRe=(t,e)=>t===e});var ORe,PRe=b(()=>{"use strict";ORe=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n)});var DRe,kRe=b(()=>{"use strict";DRe=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var LX=b(()=>{"use strict";_Re();ERe();xRe();DX();TRe();RRe();NRe();PRe();kRe()});var LRe,MRe=b(()=>{"use strict";LX();LRe={booleanEquals:bRe,getAttr:Pk,isSet:ARe,isValidHostLabel:Ub,not:wRe,parseURL:IRe,stringEquals:CRe,substring:ORe,uriEncode:DRe}});var Dk,MX=b(()=>{"use strict";LX();Dk=(t,e)=>{let n=[],r={...e.endpointParams,...e.referenceRecord},o=0;for(;o<t.length;){let i=t.indexOf("{",o);if(i===-1){n.push(t.slice(o));break}n.push(t.slice(o,i));let s=t.indexOf("}",i);if(s===-1){n.push(t.slice(i));break}t[i+1]==="{"&&t[s+1]==="}"&&(n.push(t.slice(i+1,s)),o=s+2);let a=t.substring(i+1,s);if(a.includes("#")){let[c,l]=a.split("#");n.push(Pk(r[c],l))}else n.push(r[a]);o=s+1}return n.join("")}});var BRe,URe=b(()=>{"use strict";BRe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var $b,kk,$Re,tC=b(()=>{"use strict";nu();Ok();MRe();MX();URe();$b=(t,e,n)=>{if(typeof t=="string")return Dk(t,n);if(t.fn)return $Re.callFunction(t,n);if(t.ref)return BRe(t,n);throw new so(`'${e}': ${String(t)} is not a string, function or reference.`)},kk=({fn:t,argv:e},n)=>{let r=e.map(i=>["boolean","number"].includes(typeof i)?i:$Re.evaluateExpression(i,"arg",n)),o=t.split(".");return o[0]in bs&&o[1]!=null?bs[o[0]][o[1]](...r):LRe[t](...r)},$Re={evaluateExpression:$b,callFunction:kk}});var FRe=b(()=>{"use strict";tC()});var HRe,GRe=b(()=>{"use strict";eC();nu();FRe();HRe=({assign:t,...e},n)=>{if(t&&t in n.referenceRecord)throw new so(`'${t}' is already defined in Reference Record.`);let r=kk(e,n);return n.logger?.debug?.(`${Pm} evaluateCondition: ${tu(e)} = ${tu(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}}});var F2,Lk=b(()=>{"use strict";eC();GRe();F2=(t=[],e)=>{let n={};for(let r of t){let{result:o,toAssign:i}=HRe(r,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!o)return{result:o};i&&(n[i.name]=i.value,e.logger?.debug?.(`${Pm} assign: ${i.name} := ${tu(i.value)}`))}return{result:!0,referenceRecord:n}}});var VRe,zRe=b(()=>{"use strict";nu();tC();VRe=(t,e)=>Object.entries(t).reduce((n,[r,o])=>({...n,[r]:o.map(i=>{let s=$b(i,"Header value entry",e);if(typeof s!="string")throw new so(`Header '${r}' value '${s}' is not a string`);return s})}),{})});var BX,jRe,qRe,WRe=b(()=>{"use strict";nu();MX();BX=(t,e)=>Object.entries(t).reduce((n,[r,o])=>({...n,[r]:qRe.getEndpointProperty(o,e)}),{}),jRe=(t,e)=>{if(Array.isArray(t))return t.map(n=>jRe(n,e));switch(typeof t){case"string":return Dk(t,e);case"object":if(t===null)throw new so(`Unexpected endpoint property: ${t}`);return qRe.getEndpointProperties(t,e);case"boolean":return t;default:throw new so(`Unexpected endpoint property type: ${typeof t}`)}},qRe={getEndpointProperty:jRe,getEndpointProperties:BX}});var KRe,JRe=b(()=>{"use strict";nu();tC();KRe=(t,e)=>{let n=$b(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new so(`Endpoint URL must be a string, got ${typeof n}`)}});var YRe,QRe=b(()=>{"use strict";eC();Lk();zRe();WRe();JRe();YRe=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:o,referenceRecord:i}=F2(n,e);if(!o)return;let s={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:l}=r;return e.logger?.debug?.(`${Pm} Resolving endpoint from template: ${tu(r)}`),{...l!=null&&{headers:VRe(l,s)},...c!=null&&{properties:BX(c,s)},url:KRe(a,s)}}});var XRe,ZRe=b(()=>{"use strict";nu();Lk();tC();XRe=(t,e)=>{let{conditions:n,error:r}=t,{result:o,referenceRecord:i}=F2(n,e);if(o)throw new so($b(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))}});var UX,lwt,eCe,tCe=b(()=>{"use strict";nu();Lk();QRe();ZRe();UX=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=YRe(n,e);if(r)return r}else if(n.type==="error")XRe(n,e);else if(n.type==="tree"){let r=eCe.evaluateTreeRule(n,e);if(r)return r}else throw new so(`Unknown endpoint rule: ${n}`);throw new so("Rules evaluation failed")},lwt=(t,e)=>{let{conditions:n,rules:r}=t,{result:o,referenceRecord:i}=F2(n,e);if(o)return eCe.evaluateRules(r,{...e,referenceRecord:{...e.referenceRecord,...i}})},eCe={evaluateRules:UX,evaluateTreeRule:lwt}});var nCe=b(()=>{"use strict";Ok();tCe()});var ru,rCe=b(()=>{"use strict";eC();nu();nCe();ru=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:o,rules:i}=t;e.logger?.debug?.(`${Pm} Initial EndpointParams: ${tu(n)}`);let s=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(s.length>0)for(let[l,u]of s)n[l]=n[l]??u;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(n[l]==null)throw new so(`Missing required parameter: '${l}'`);let c=UX(i,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Pm} Resolved endpoint: ${tu(c)}`),c}});var Bd=b(()=>{"use strict";cRe();PX();DX();Ok();rCe();nu()});var $X=b(()=>{"use strict";Bd()});var FX,oCe=b(()=>{"use strict";Bd();$X();FX=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!FX(n))return!1;return!0}return!(!Ub(t)||t.length<3||t.length>63||t!==t.toLowerCase()||ZR(t))}});var iCe,sCe=b(()=>{"use strict";iCe=t=>{let e=t.split(":");if(e.length<6)return null;let[n,r,o,i,s,...a]=e;if(n!=="arn"||r===""||o===""||a.join(":")==="")return null;let c=a.map(l=>l.split("/")).flat();return{partition:r,service:o,region:i,accountId:s,resourceId:c}}});var cCe,aCe=b(()=>{cCe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var dwt,pwt,lCe,uCe,HX=b(()=>{"use strict";aCe();dwt=cCe,pwt="",lCe=t=>{let{partitions:e}=dwt;for(let r of e){let{regions:o,outputs:i}=r;for(let[s,a]of Object.entries(o))if(s===t)return{...i,...a}}for(let r of e){let{regionRegex:o,outputs:i}=r;if(new RegExp(o).test(t))return{...i}}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},uCe=()=>pwt});var il,dCe=b(()=>{"use strict";Bd();oCe();sCe();HX();il={isVirtualHostableS3Bucket:FX,parseArn:iCe,partition:lCe};bs.aws=il});function pCe(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,o=null]=n.split("=");r=decodeURIComponent(r),o&&(o=decodeURIComponent(o)),r in e?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o}return e}var fCe=b(()=>{"use strict"});var ts,Dm=b(()=>{"use strict";fCe();ts=t=>{if(typeof t=="string")return ts(new URL(t));let{hostname:e,pathname:n,port:r,protocol:o,search:i}=t,s;return i&&(s=pCe(i)),{hostname:e,port:r?parseInt(r):void 0,protocol:o,path:n,query:s}}});var mCe=b(()=>{"use strict"});var hCe=b(()=>{"use strict"});var gCe=b(()=>{"use strict"});var yCe=b(()=>{"use strict"});var bCe=b(()=>{"use strict"});var _Ce=b(()=>{"use strict"});var SCe=b(()=>{"use strict"});var vCe=b(()=>{"use strict"});var ECe=b(()=>{"use strict";gCe();yCe();bCe();_Ce();SCe();vCe()});var b0=b(()=>{"use strict";dCe();HX();$X();mCe();hCe();ECe()});var ACe,ou,xCe=b(()=>{"use strict";ACe={warningEmitted:!1},ou=t=>{t&&!ACe.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(ACe.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function qn(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}var wCe=b(()=>{"use strict"});function Ud(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var TCe=b(()=>{"use strict"});var ICe=b(()=>{"use strict"});var _s=b(()=>{"use strict";xCe();wCe();TCe();ICe()});var GX,RCe=b(()=>{"use strict";go();GX=t=>jl.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var Mk,VX=b(()=>{"use strict";Mk=t=>new Date(Date.now()+t)});var CCe,NCe=b(()=>{"use strict";VX();CCe=(t,e)=>Math.abs(Mk(e).getTime()-t)>=3e5});var zX,OCe=b(()=>{"use strict";NCe();zX=(t,e)=>{let n=Date.parse(t);return CCe(n,e)?n-Date.now():e}});var PCe=b(()=>{"use strict";RCe();VX();OCe()});var nC,DCe,Ss,kCe=b(()=>{"use strict";go();PCe();nC=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},DCe=async t=>{let e=nC("context",t.context),n=nC("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],i=await nC("signer",n.signer)(r),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:i,signingRegion:s,signingRegionSet:a,signingName:c}},Ss=class{async sign(e,n,r){if(!Sr.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await DCe(r),{config:i,signer:s}=o,{signingRegion:a,signingName:c}=o,l=r.context;if(l?.authSchemes?.length??!1){let[d,p]=l.authSchemes;d?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await s.sign(e,{signingDate:Mk(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return n=>{let r=n.ServerTime??GX(n.$response);if(r){let o=nC("config",e.config),i=o.systemClockOffset;o.systemClockOffset=zX(r,o.systemClockOffset),o.systemClockOffset!==i&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=GX(e);if(r){let o=nC("config",n.config);o.systemClockOffset=zX(r,o.systemClockOffset)}}}});var jX,LCe=b(()=>{"use strict";jX=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var MCe,qX=b(()=>{"use strict";MCe=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var BCe,UCe,iu,$Ce=b(()=>{"use strict";LCe();qX();BCe="AWS_AUTH_SCHEME_PREFERENCE",UCe="auth_scheme_preference",iu={environmentVariableSelector:(t,e)=>{if(e?.signingName&&MCe(e.signingName)in t)return["httpBearerAuth"];if(BCe in t)return jX(t[BCe])},configFileSelector:t=>{if(UCe in t)return jX(t[UCe])},default:[]}});var su,rC=b(()=>{"use strict";su=class t extends Error{name="ProviderError";tryNextLink;constructor(e,n=!0){let r,o=!0;typeof n=="boolean"?(r=void 0,o=n):n!=null&&typeof n=="object"&&(r=n.logger,o=n.tryNextLink??!0),super(e),this.tryNextLink=o,Object.setPrototypeOf(this,t.prototype),r?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${e}`)}static from(e,n=!0){return Object.assign(new this(e.message,n),e)}}});var Et,FCe=b(()=>{"use strict";rC();Et=class t extends su{name="CredentialsProviderError";constructor(e,n=!0){super(e,n),Object.setPrototypeOf(this,t.prototype)}}});var au,HCe=b(()=>{"use strict";rC();au=class t extends su{name="TokenProviderError";constructor(e,n=!0){super(e,n),Object.setPrototypeOf(this,t.prototype)}}});var H2,GCe=b(()=>{"use strict";rC();H2=(...t)=>async()=>{if(t.length===0)throw new su("No providers in chain");let e;for(let n of t)try{return await n()}catch(r){if(e=r,r?.tryNextLink)continue;throw r}throw e}});var VCe,zCe=b(()=>{"use strict";VCe=t=>()=>Promise.resolve(t)});var Bk,jCe=b(()=>{"use strict";Bk=(t,e,n)=>{let r,o,i,s=!1,a=async()=>{o||(o=t());try{r=await o,i=!0,s=!1}finally{o=void 0}return r};return e===void 0?async c=>((!i||c?.forceRefresh)&&(r=await a()),r):async c=>((!i||c?.forceRefresh)&&(r=await a()),s?r:n&&!n(r)?(s=!0,r):(e(r)&&await a(),r))}});var Rr=b(()=>{"use strict";FCe();rC();HCe();GCe();zCe();jCe()});var qCe=b(()=>{"use strict"});var WCe,KCe,WX,JCe,YCe,KX,JX,YX,QX,fwt,QCe,XCe,oC,ZCe,e4e,t4e,n4e,Uk,r4e,o4e,i4e,XX,s4e,_0=b(()=>{"use strict";WCe="X-Amz-Algorithm",KCe="X-Amz-Credential",WX="X-Amz-Date",JCe="X-Amz-SignedHeaders",YCe="X-Amz-Expires",KX="X-Amz-Signature",JX="X-Amz-Security-Token",YX="authorization",QX=WX.toLowerCase(),fwt="date",QCe=[YX,QX,fwt],XCe=KX.toLowerCase(),oC="x-amz-content-sha256",ZCe=JX.toLowerCase(),e4e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},t4e=/^proxy-/,n4e=/^sec-/,Uk="AWS4-HMAC-SHA256",r4e="AWS4-HMAC-SHA256-PAYLOAD",o4e="UNSIGNED-PAYLOAD",i4e=50,XX="aws4_request",s4e=3600*24*7});var $k,ZX,Fk,c4e,a4e,eZ=b(()=>{"use strict";Mb();ti();_0();$k={},ZX=[],Fk=(t,e,n)=>`${t}/${e}/${n}/${XX}`,c4e=async(t,e,n,r,o)=>{let i=await a4e(t,e.secretAccessKey,e.accessKeyId),s=`${n}:${r}:${o}:${uc(i)}:${e.sessionToken}`;if(s in $k)return $k[s];for(ZX.push(s);ZX.length>i4e;)delete $k[ZX.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,o,XX])a=await a4e(t,a,c);return $k[s]=a},a4e=(t,e,n)=>{let r=new t(e);return r.update(Md(n)),r.digest()}});var tZ,l4e=b(()=>{"use strict";_0();tZ=({headers:t},e,n)=>{let r={};for(let o of Object.keys(t).sort()){if(t[o]==null)continue;let i=o.toLowerCase();(i in e4e||e?.has(i)||t4e.test(i)||n4e.test(i))&&(!n||n&&!n.has(i))||(r[i]=t[o].trim().replace(/\s+/g," "))}return r}});var Hk,u4e=b(()=>{"use strict";oX();Mb();ti();_0();Hk=async({headers:t,body:e},n)=>{for(let r of Object.keys(t))if(r.toLowerCase()===oC)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||mk(e)){let r=new n;return r.update(Md(e)),uc(await r.digest())}return o4e}});function p4e(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var Gk,d4e,mwt,nZ,f4e=b(()=>{"use strict";Mb();ti();Gk=class{format(e){let n=[];for(let i of Object.keys(e)){let s=io(i);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[i]))}let r=new Uint8Array(n.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of n)r.set(i,o),o+=i.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(e.value,3),s;case"string":let a=io(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(nZ.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!mwt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(MTe(e.value.replace(/\-/g,"")),1),d}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(d4e||(d4e={}));mwt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,nZ=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(e));r>-1&&o>0;r--,o/=256)n[r]=o;return e<0&&p4e(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&p4e(e),parseInt(uc(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}});var m4e,h4e=b(()=>{"use strict";m4e=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1}});var g4e,y4e=b(()=>{"use strict";go();g4e=(t,e={})=>{let{headers:n,query:r={}}=Sr.clone(t);for(let o of Object.keys(n)){let i=o.toLowerCase();(i.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(i)||e.hoistableHeaders?.has(i))&&(r[o]=n[o],delete n[o])}return{...t,headers:n,query:r}}});var rZ,b4e=b(()=>{"use strict";go();_0();rZ=t=>{t=Sr.clone(t);for(let e of Object.keys(t.headers))QCe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var _4e,S4e=b(()=>{"use strict";hk();_0();_4e=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===XCe)continue;let o=Jp(r);e.push(o);let i=t[r];typeof i=="string"?n[o]=`${o}=${Jp(i)}`:Array.isArray(i)&&(n[o]=i.slice(0).reduce((s,a)=>s.concat([`${o}=${Jp(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")}});var v4e,hwt,E4e=b(()=>{"use strict";v4e=t=>hwt(t).toISOString().replace(/\.\d{3}Z$/,"Z"),hwt=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var Vk,A4e=b(()=>{"use strict";Mb();Ws();hk();ti();S4e();E4e();Vk=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:n,region:r,service:o,sha256:i,uriEscapePath:s=!0}){this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=vr(r),this.credentialProvider=vr(n)}createCanonicalRequest(e,n,r){let o=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${_4e(e)}
${o.map(i=>`${i}:${n[i]}`).join(`
`)}

${o.join(";")}
${r}`}async createStringToSign(e,n,r,o){let i=new this.sha256;i.update(Md(r));let s=await i.digest();return`${o}
${e}
${n}
${uc(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?n.pop():n.push(i));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return Jp(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let n=v4e(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var iC,x4e=b(()=>{"use strict";Mb();ti();_0();eZ();l4e();u4e();f4e();h4e();y4e();b4e();A4e();iC=class extends Vk{headerFormatter=new Gk;constructor({applyChecksum:e,credentials:n,region:r,service:o,sha256:i,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:n,region:r,service:o,sha256:i,uriEscapePath:s})}async presign(e,n={}){let{signingDate:r=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=n,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=l??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(r);if(o>s4e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=Fk(h,p,u??this.service),g=g4e(rZ(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(g.query[JX]=d.sessionToken),g.query[WCe]=Uk,g.query[KCe]=`${d.accessKeyId}/${m}`,g.query[WX]=f,g.query[YCe]=o.toString(10);let y=tZ(g,i,a);return g.query[JCe]=this.getCanonicalHeaderList(y),g.query[KX]=await this.getSignature(f,m,this.getSigningKey(d,p,h,u),this.createCanonicalRequest(g,y,await Hk(e,this.sha256))),g}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(r),u=Fk(c,a,s??this.service),d=await Hk({headers:{},body:n},this.sha256),p=new this.sha256;p.update(e);let f=uc(await p.digest()),h=[r4e,l,u,o,f,d].join(`
`);return this.signString(h,{signingDate:r,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:o,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=r??await this.regionProvider(),{shortDate:a}=this.formatDate(n),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update(Md(e)),uc(await c.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=rZ(e),{longDate:u,shortDate:d}=this.formatDate(n),p=Fk(d,c,s??this.service);l.headers[QX]=u,a.sessionToken&&(l.headers[ZCe]=a.sessionToken);let f=await Hk(l,this.sha256);!m4e(oC,l.headers)&&this.applyChecksum&&(l.headers[oC]=f);let h=tZ(l,o,r),m=await this.getSignature(u,p,this.getSigningKey(a,c,d,s),this.createCanonicalRequest(l,h,f));return l.headers[YX]=`${Uk} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${m}`,l}async getSignature(e,n,r,o){let i=await this.createStringToSign(e,n,o,Uk),s=new this.sha256(await r);return s.update(Md(i)),uc(await s.digest())}getSigningKey(e,n,r,o){return c4e(this.sha256,e,r,n,o||this.service)}}});var w4e=b(()=>{"use strict"});var T4e=b(()=>{"use strict";x4e();_0();eZ();w4e()});function gwt(t,{credentials:e,credentialDefaultProvider:n}){let r;return e?e?.memoized?r=e:r=oRe(e,rRe,NX):n?r=Db(n(Object.assign({},t,{parentClientConfig:t}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function ywt(t,e){if(e.configBound)return e;let n=async r=>e({...r,callerClientConfig:t});return n.memoized=e.memoized,n.configBound=!0,n}var cu,I4e=b(()=>{"use strict";_s();Xr();T4e();cu=t=>{let e=t.credentials,n=!!t.credentials,r;Object.defineProperty(t,"credentials",{set(l){l&&l!==e&&l!==r&&(n=!0),e=l;let u=gwt(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=ywt(t,u);if(n&&!d.attributed){let p=typeof e=="object"&&e!==null;r=async f=>{let m=await d(f);return p&&(!m.$source||Object.keys(m.$source).length===0)?qn(m,"CREDENTIALS_CODE","e"):m},r.memoized=d.memoized,r.configBound=d.configBound,r.attributed=!0}else r=d},get(){return r},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:o=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:s}=t,a;return t.signer?a=Db(t.signer):t.regionInfoProvider?a=()=>Db(t.region)().then(async l=>[await t.regionInfoProvider(l,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:d,signingService:p}=l;t.signingRegion=t.signingRegion||d||u,t.signingName=t.signingName||p||t.serviceId;let f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:o},h=t.signerConstructor||iC;return new h(f)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Db(t.region)(),properties:{}},l);let u=l.signingRegion,d=l.signingName;t.signingRegion=t.signingRegion||u,t.signingName=t.signingName||d||t.serviceId;let p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:o},f=t.signerConstructor||iC;return new f(p)},Object.assign(t,{systemClockOffset:i,signingEscapePath:o,signer:a})}});var R4e=b(()=>{"use strict";kCe();$Ce();qCe();I4e()});var C4e=b(()=>{"use strict";R4e();qX()});var Fb,S0,G2,N4e,O4e,P4e=b(()=>{"use strict";Fb=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},S0=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,G2=()=>{let t=[],e=[],n=!1,r=new Set,o=d=>d.sort((p,f)=>N4e[f.step]-N4e[p.step]||O4e[f.priority||"normal"]-O4e[p.priority||"normal"]),i=d=>{let p=!1,f=h=>{let m=Fb(h.name,h.aliases);if(m.includes(d)){p=!0;for(let g of m)r.delete(g);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},s=d=>{let p=!1,f=h=>{if(h.middleware===d){p=!0;for(let m of Fb(h.name,h.aliases))r.delete(m);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},a=d=>(t.forEach(p=>{d.add(p.middleware,{...p})}),e.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),d.identifyOnResolve?.(u.identifyOnResolve()),d),c=d=>{let p=[];return d.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(d),d.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},l=(d=!1)=>{let p=[],f=[],h={};return t.forEach(g=>{let y={...g,before:[],after:[]};for(let S of Fb(y.name,y.aliases))h[S]=y;p.push(y)}),e.forEach(g=>{let y={...g,before:[],after:[]};for(let S of Fb(y.name,y.aliases))h[S]=y;f.push(y)}),f.forEach(g=>{if(g.toMiddleware){let y=h[g.toMiddleware];if(y===void 0){if(d)return;throw new Error(`${g.toMiddleware} is not found when adding ${S0(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&y.after.push(g),g.relation==="before"&&y.before.push(g)}}),o(p).map(c).reduce((g,y)=>(g.push(...y),g),[])},u={add:(d,p={})=>{let{name:f,override:h,aliases:m}=p,g={step:"initialize",priority:"normal",middleware:d,...p},y=Fb(f,m);if(y.length>0){if(y.some(S=>r.has(S))){if(!h)throw new Error(`Duplicate middleware name '${S0(f,m)}'`);for(let S of y){let v=t.findIndex(w=>w.name===S||w.aliases?.some(I=>I===S));if(v===-1)continue;let A=t[v];if(A.step!==g.step||g.priority!==A.priority)throw new Error(`"${S0(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${S0(f,m)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(v,1)}}for(let S of y)r.add(S)}t.push(g)},addRelativeTo:(d,p)=>{let{name:f,override:h,aliases:m}=p,g={middleware:d,...p},y=Fb(f,m);if(y.length>0){if(y.some(S=>r.has(S))){if(!h)throw new Error(`Duplicate middleware name '${S0(f,m)}'`);for(let S of y){let v=e.findIndex(w=>w.name===S||w.aliases?.some(I=>I===S));if(v===-1)continue;let A=e[v];if(A.toMiddleware!==g.toMiddleware||A.relation!==g.relation)throw new Error(`"${S0(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${S0(f,m)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(v,1)}}for(let S of y)r.add(S)}e.push(g)},clone:()=>a(G2()),use:d=>{d.applyToStack(u)},remove:d=>typeof d=="string"?i(d):s(d),removeByTag:d=>{let p=!1,f=h=>{let{tags:m,name:g,aliases:y}=h;if(m&&m.includes(d)){let S=Fb(g,y);for(let v of S)r.delete(v);return p=!0,!1}return!0};return t=t.filter(f),e=e.filter(f),p},concat:d=>{let p=a(G2());return p.use(d),p.identifyOnResolve(n||p.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>l(!0).map(d=>{let p=d.step??d.relation+" "+d.toMiddleware;return S0(d.name,d.aliases)+" - "+p}),identifyOnResolve(d){return typeof d=="boolean"&&(n=d),n},resolve:(d,p)=>{for(let f of l().map(h=>h.middleware).reverse())d=f(d,p);return n&&console.log(u.identify()),d}};return u},N4e={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},O4e={high:3,normal:2,low:1}});var oZ=b(()=>{"use strict";P4e()});var Fi,D4e=b(()=>{"use strict";oZ();Fi=class{config;middlewareStack=G2();initConfig;handlers;constructor(e){this.config=e;let{protocol:n,protocolSettings:r}=e;r&&typeof n=="function"&&(e.protocol=new n(r))}send(e,n,r){let o=typeof n!="function"?n:void 0,i=typeof n=="function"?n:r,s=o===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,o),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,o);if(i)a(e).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var k4e=b(()=>{"use strict";Om()});function zk(t,e){if(e==null)return e;let n=on.of(t);if(n.getMergedTraits().sensitive)return iZ;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return iZ}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return iZ}else if(n.isStructSchema()&&typeof e=="object"){let r=e,o={};for(let[i,s]of n.structIterator())r[i]!=null&&(o[i]=zk(s,r[i]));return o}return e}var iZ,L4e=b(()=>{"use strict";Er();iZ="***SensitiveInformation***"});var ae,sZ,M4e=b(()=>{"use strict";oZ();g0();L4e();ae=class{middlewareStack=G2();schema;static classBuilder(){return new sZ}resolveMiddlewareWithContext(e,n,r,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let g of o.bind(this)(d,e,n,r))this.middlewareStack.use(g);let p=e.concat(this.middlewareStack),{logger:f}=n,h={logger:f,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[JR]:{commandInstance:this,...l},...u},{requestHandler:m}=n;return p.resolve(g=>m.handle(g.request,r||{}),h)}},sZ=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,n;return n=class extends ae{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.input=r??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(r,o,i){let s=e._operationSchema,a=s?.[4]??s?.input,c=s?.[5]??s?.output;return this.resolveMiddlewareWithContext(r,o,i,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(s?zk.bind(null,a):l=>l),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(s?zk.bind(null,c):l=>l),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var B4e=b(()=>{"use strict"});var lu,U4e=b(()=>{"use strict";lu=(t,e,n)=>{for(let[i,s]of Object.entries(t)){let a=async function(l,u,d){let p=new s(l);if(typeof u=="function")this.send(p,u);else if(typeof d=="function"){if(typeof u!="object")throw new Error(`Expected http options but got ${typeof u}`);this.send(p,u||{},d)}else return this.send(p,u)},c=(i[0].toLowerCase()+i.slice(1)).replace(/Command$/,"");e.prototype[c]=a}let{paginators:r={},waiters:o={}}=n??{};for(let[i,s]of Object.entries(r))e.prototype[i]===void 0&&(e.prototype[i]=function(a={},c,...l){return s({...c,client:this},a,...l)});for(let[i,s]of Object.entries(o))e.prototype[i]===void 0&&(e.prototype[i]=async function(a={},c,...l){let u=c;return typeof c=="number"&&(u={maxWaitTime:c}),s({...u,client:this},a,...l)})}});var hc,aZ,$4e=b(()=>{"use strict";hc=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let n=e;return t.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let n=e;return this===t?t.isInstance(e):t.isInstance(e)?n.name&&this.name?this.prototype.isPrototypeOf(e)||n.name===this.name:this.prototype.isPrototypeOf(e):!1}},aZ=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,o])=>{(t[r]==null||t[r]==="")&&(t[r]=o)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t}});var F4e=b(()=>{"use strict"});var uu,H4e=b(()=>{"use strict";uu=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var G4e,du,V4e=b(()=>{"use strict";G4e=!1,du=t=>{t&&!G4e&&parseInt(t.substring(1,t.indexOf(".")))<16&&(G4e=!0)}});var z4e=b(()=>{"use strict"});var j4e,q4e,W4e=b(()=>{"use strict";g0();j4e=t=>{let e=[];for(let n in C2){let r=C2[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{addChecksumAlgorithm(n){e.push(n)},checksumAlgorithms(){return e}}},q4e=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e}});var K4e,J4e,Y4e=b(()=>{"use strict";K4e=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),J4e=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var pu,fu,Q4e=b(()=>{"use strict";W4e();Y4e();pu=t=>Object.assign(j4e(t),K4e(t)),fu=t=>Object.assign(q4e(t),J4e(t))});var X4e=b(()=>{"use strict";Q4e()});var Z4e=b(()=>{"use strict"});var cZ,e6e=b(()=>{"use strict";cZ=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=cZ(t[n]));return t}});var t6e=b(()=>{"use strict"});var Qs,n6e=b(()=>{"use strict";Qs=class{trace(){}debug(){}info(){}warn(){}error(){}}});var r6e=b(()=>{"use strict"});var o6e=b(()=>{"use strict"});var i6e=b(()=>{"use strict"});var sC,s6e=b(()=>{"use strict";sC=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(sC);if(typeof t=="object"){let e={};for(let n of Object.keys(t))t[n]!=null&&(e[n]=sC(t[n]));return e}return t}});var Ie=b(()=>{"use strict";D4e();k4e();M4e();B4e();U4e();F4e();H4e();V4e();$4e();z4e();X4e();Z4e();e6e();t6e();n6e();r6e();o6e();i6e();s6e();Qp()});var v0,jk=b(()=>{"use strict";Er();Ie();v0=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,n){let r=n.getMemberSchemas(),o=Object.values(r).find(i=>!!i.getMergedTraits().httpPayload);if(o){let i=o.getMergedTraits().mediaType;return i||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":e)}else if(!n.isUnitSchema()&&Object.values(r).find(s=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:u,httpPrefixHeaders:d}=s.getMergedTraits();return!a&&!c&&!l&&!u&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,n,r,o,i,s){let a=n,c=e;e.includes("#")&&([a,c]=e.split("#"));let l={$metadata:i,$fault:r.statusCode<500?"client":"server"},u=je.for(a);try{return{errorSchema:s?.(u,c)??u.getSchema(e),errorMetadata:l}}catch{o.message=o.message??o.Message??"UnknownError";let p=je.for("smithy.ts.sdk.synthetic."+a),f=p.getBaseException();if(f){let h=p.getErrorCtor(f)??Error;throw this.decorateServiceException(Object.assign(new h({name:c}),l),o)}throw this.decorateServiceException(Object.assign(new Error(c),l),o)}}decorateServiceException(e,n={}){if(this.queryCompat){let r=e.Message??n.Message,o=aZ(e,n);r&&(o.message=r),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??r};let i=o.$metadata.requestId;return i&&(o.RequestId=i),o}return aZ(e,n)}setQueryCompatError(e,n){let r=n.headers?.["x-amzn-query-error"];if(e!==void 0&&r!=null){let[o,i]=r.split(";"),s=Object.entries(e),a={Code:o,Type:i};Object.assign(e,a);for(let[c,l]of s)a[c==="message"?"Message":c]=l;delete a.__type,e.Error=a}}queryCompatOutput(e,n){e.Error&&(n.Error=e.Error),e.Type&&(n.Type=e.Type),e.Code&&(n.Code=e.Code)}findQueryCompatibleError(e,n){try{return e.getSchema(n)}catch{return e.find(o=>on.of(o).getMergedTraits().awsQueryError?.[0]===n)}}}});var a6e=b(()=>{"use strict"});var c6e=b(()=>{"use strict"});var mu,V2=b(()=>{"use strict";mu=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var z2,lZ=b(()=>{"use strict";z2=class{from;to;keys;constructor(e,n){this.from=e,this.to=n,this.keys=new Set(Object.keys(this.from).filter(r=>r!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,n=this.from[e];this.to.$unknown=[e,n]}}}});function l6e(t,e,n){if(n?.source){let r=n.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||r!==String(e)))return r.includes(".")?new es(r,"bigDecimal"):BigInt(r)}return e}var u6e=b(()=>{"use strict";Qp()});var d6e,p6e=b(()=>{"use strict";Ie();ti();d6e=(t,e)=>dc(t,e).then(n=>(e?.utf8Encoder??Yr)(n))});var f6e,qk,aC=b(()=>{"use strict";p6e();f6e=(t,e)=>d6e(t,e).then(n=>{if(n.length)try{return JSON.parse(n)}catch(r){throw r?.name==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:n}),r}return{}}),qk=(t,e)=>{let n=(i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),r=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},o=n(t.headers,"x-amzn-errortype");if(o!==void 0)return r(t.headers[o]);if(e&&typeof e=="object"){let i=n(e,"code");if(i&&e[i]!==void 0)return r(e[i]);if(e.__type!==void 0)return r(e.__type)}}});var j2,uZ=b(()=>{"use strict";Om();Er();Qp();Ks();V2();lZ();u6e();aC();j2=class extends mu{settings;constructor(e){super(),this.settings=e}async read(e,n){return this._read(e,typeof n=="string"?JSON.parse(n,l6e):await f6e(n,this.serdeContext))}readObject(e,n){return this._read(e,n)}_read(e,n){let r=n!==null&&typeof n=="object",o=on.of(e);if(r){if(o.isStructSchema()){let s=n,a=o.isUnionSchema(),c={},l,{jsonName:u}=this.settings;u&&(l={});let d;a&&(d=new z2(s,c));for(let[p,f]of o.structIterator()){let h=p;u&&(h=f.getMergedTraits().jsonName??h,l[h]=p),a&&d.mark(h),s[h]!=null&&(c[p]=this._read(f,s[h]))}if(a)d.writeUnknown();else if(typeof s.__type=="string")for(let[p,f]of Object.entries(s)){let h=u?l[p]??p:p;h in c||(c[h]=f)}return c}if(Array.isArray(n)&&o.isListSchema()){let s=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of n)(c||l!=null)&&a.push(this._read(s,l));return a}if(o.isMapSchema()){let s=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(n))(c||u!=null)&&(a[l]=this._read(s,u));return a}}if(o.isBlobSchema()&&typeof n=="string")return Oo(n);let i=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof n=="string"&&i)return i==="application/json"||i.endsWith("+json")?pc.from(n):n;if(o.isTimestampSchema()&&n!=null)switch(Zp(o,this.settings)){case 5:return bIe(n);case 6:return _Ie(n);case 7:return SIe(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(o.isBigIntegerSchema()&&(typeof n=="number"||typeof n=="string"))return BigInt(n);if(o.isBigDecimalSchema()&&n!=null){if(n instanceof es)return n;let s=n;return s.type==="bigDecimal"&&"string"in s?new es(s.string,s.type):new es(String(n),"bigDecimal")}if(o.isNumericSchema()&&typeof n=="string"){switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return n}if(o.isDocumentSchema())if(r){let s=Array.isArray(n)?[]:{};for(let[a,c]of Object.entries(n))c instanceof es?s[a]=c:s[a]=this._read(o,c);return s}else return structuredClone(n);return n}}});var m6e,Wk,h6e=b(()=>{"use strict";Qp();m6e="\u039D",Wk=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,n)=>{if(n instanceof es){let r=`${m6e+"nv"+this.counter++}_`+n.string;return this.values.set(`"${r}"`,n.string),r}if(typeof n=="bigint"){let r=n.toString(),o=`${m6e+"b"+this.counter++}_`+r;return this.values.set(`"${o}"`,r),o}return n}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[n,r]of this.values)e=e.replace(n,r);return e}}});var q2,dZ=b(()=>{"use strict";Om();Er();Qp();Ks();V2();h6e();q2=class extends mu{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,n){this.rootSchema=on.of(e),this.buffer=this._write(this.rootSchema,n)}writeDiscriminatedDocument(e,n){this.write(e,n),typeof this.buffer=="object"&&(this.buffer.__type=on.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:n}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!n)return JSON.stringify(this.buffer);let r=new Wk;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(e,n,r){let o=n!==null&&typeof n=="object",i=on.of(e);if(o){if(i.isStructSchema()){let s=n,a={},{jsonName:c}=this.settings,l;c&&(l={});for(let[u,d]of i.structIterator()){let p=this._write(d,s[u],i);if(p!==void 0){let f=u;c&&(f=d.getMergedTraits().jsonName??u,l[u]=f),a[f]=p}}if(i.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:u}=s;if(Array.isArray(u)){let[d,p]=u;a[d]=this._write(15,p)}}else if(typeof s.__type=="string")for(let[u,d]of Object.entries(s)){let p=c?l[u]??u:u;p in a||(a[p]=this._write(15,d))}return a}if(Array.isArray(n)&&i.isListSchema()){let s=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of n)(c||l!=null)&&a.push(this._write(s,l));return a}if(i.isMapSchema()){let s=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(n))(c||u!=null)&&(a[l]=this._write(s,u));return a}if(n instanceof Uint8Array&&(i.isBlobSchema()||i.isDocumentSchema()))return i===this.rootSchema?n:(this.serdeContext?.base64Encoder??Qr)(n);if(n instanceof Date&&(i.isTimestampSchema()||i.isDocumentSchema()))switch(Zp(i,this.settings)){case 5:return n.toISOString().replace(".000Z","Z");case 6:return L2(n);case 7:return n.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",n),n.getTime()/1e3}n instanceof es&&(this.useReplacer=!0)}if(!(n===null&&r?.isStructSchema())){if(i.isStringSchema()){if(typeof n>"u"&&i.isIdempotencyToken())return Cm();let s=i.getMergedTraits().mediaType;return n!=null&&s&&(s==="application/json"||s.endsWith("+json"))?pc.from(n):n}if(typeof n=="number"&&i.isNumericSchema())return Math.abs(n)===1/0||isNaN(n)?String(n):n;if(typeof n=="string"&&i.isBlobSchema())return i===this.rootSchema?n:(this.serdeContext?.base64Encoder??Qr)(n);if(typeof n=="bigint"&&(this.useReplacer=!0),i.isDocumentSchema())if(o){let s=Array.isArray(n)?[]:{};for(let[a,c]of Object.entries(n))c instanceof es?(this.useReplacer=!0,s[a]=c):s[a]=this._write(i,c);return s}else return structuredClone(n);return n}}}});var E0,Kk=b(()=>{"use strict";V2();uZ();dZ();E0=class extends mu{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new q2(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new j2(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var W2,Jk=b(()=>{"use strict";Om();Er();jk();Kk();aC();W2=class extends U2{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:n,awsQueryCompatible:r,jsonCodec:o}){super({defaultNamespace:e}),this.serviceTarget=n,this.codec=o??new E0({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!r,this.mixin=new v0(this.awsQueryCompatible)}async serializeRequest(e,n,r){let o=await super.serializeRequest(e,n,r);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(y0(e.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(e,n,r,o,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,r);let s=qk(r,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,r,o,i,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=on.of(a),u=o.message??o.Message??"Unknown",d=je.for(a[1]).getErrorCtor(a)??Error,p=new d(u),f={};for(let[h,m]of l.structIterator())o[h]!=null&&(f[h]=this.codec.createDeserializer().readObject(m,o[h]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,f),this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),o)}}});var Yk,g6e=b(()=>{"use strict";Jk();Yk=class extends W2{constructor({defaultNamespace:e,serviceTarget:n,awsQueryCompatible:r,jsonCodec:o}){super({defaultNamespace:e,serviceTarget:n,awsQueryCompatible:r,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Qk,y6e=b(()=>{"use strict";Jk();Qk=class extends W2{constructor({defaultNamespace:e,serviceTarget:n,awsQueryCompatible:r,jsonCodec:o}){super({defaultNamespace:e,serviceTarget:n,awsQueryCompatible:r,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var A0,b6e=b(()=>{"use strict";Om();Er();jk();Kk();aC();A0=class extends Tk{serializer;deserializer;codec;mixin=new v0;constructor({defaultNamespace:e}){super({defaultNamespace:e});let n={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new E0(n),this.serializer=new Nk(this.codec.createSerializer(),n),this.deserializer=new Rk(this.codec.createDeserializer(),n)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,n,r){let o=await super.serializeRequest(e,n,r),i=on.of(e.input);if(!o.headers["content-type"]){let s=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);s&&(o.headers["content-type"]=s)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(e,n,r){let o=await super.deserializeResponse(e,n,r),i=on.of(e.output);for(let[s,a]of i.structIterator())a.getMemberTraits().httpPayload&&!(s in o)&&(o[s]=null);return o}async handleError(e,n,r,o,i){let s=qk(r,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,r,o,i),l=on.of(a),u=o.message??o.Message??"Unknown",d=je.for(a[1]).getErrorCtor(a)??Error,p=new d(u);await this.deserializeHttpMessage(a,n,r,o);let f={};for(let[h,m]of l.structIterator()){let g=m.getMergedTraits().jsonName??h;f[h]=this.codec.createDeserializer().readObject(m,o[g])}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),o)}getDefaultContentType(){return"application/json"}}});var _6e=b(()=>{"use strict"});var S6e=b(()=>{"use strict"});var v6e=b(()=>{"use strict"});function Xk(t,e){let n=[],r=e.exec(t);for(;r;){let o=[];o.startIndex=e.lastIndex-r[0].length;let i=r.length;for(let s=0;s<i;s++)o.push(r[s]);n.push(o),r=e.exec(t)}return n}function A6e(t){return typeof t<"u"}var E6e,bwt,_wt,Swt,cC,Zk=b(()=>{"use strict";E6e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",bwt=E6e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",_wt="["+E6e+"]["+bwt+"]*",Swt=new RegExp("^"+_wt+"$");cC=function(t){let e=Swt.exec(t);return!(e===null||typeof e>"u")}});function R6e(t,e){e=Object.assign({},vwt,e);let n=[],r=!1,o=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=w6e(t,i),i.err)return i}else if(t[i]==="<"){let s=i;if(i++,t[i]==="!"){i=T6e(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!Cwt(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",ri("InvalidTag",d,Ra(t,i))}let l=xwt(t,i);if(l===!1)return ri("InvalidAttr","Attributes for '"+c+"' have open quote.",Ra(t,i));let u=l.value;if(i=l.index,u[u.length-1]==="/"){let d=i-u.length;u=u.substring(0,u.length-1);let p=I6e(u,e);if(p===!0)r=!0;else return ri(p.err.code,p.err.msg,Ra(t,d+p.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return ri("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ra(t,s));if(n.length===0)return ri("InvalidTag","Closing tag '"+c+"' has not been opened.",Ra(t,s));{let d=n.pop();if(c!==d.tagName){let p=Ra(t,d.tagStartPos);return ri("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Ra(t,s))}n.length==0&&(o=!0)}}else return ri("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ra(t,i));else{let d=I6e(u,e);if(d!==!0)return ri(d.err.code,d.err.msg,Ra(t,i-u.length+d.err.line));if(o===!0)return ri("InvalidXml","Multiple possible root nodes found.",Ra(t,i));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:s}),r=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=T6e(t,i);continue}else if(t[i+1]==="?"){if(i=w6e(t,++i),i.err)return i}else break;else if(t[i]==="&"){let d=Iwt(t,i);if(d==-1)return ri("InvalidChar","char '&' is not expected.",Ra(t,i));i=d}else if(o===!0&&!x6e(t[i]))return ri("InvalidXml","Extra text at the end",Ra(t,i));t[i]==="<"&&i--}}else{if(x6e(t[i]))continue;return ri("InvalidChar","char '"+t[i]+"' is not expected.",Ra(t,i))}if(r){if(n.length==1)return ri("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Ra(t,n[0].tagStartPos));if(n.length>0)return ri("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ri("InvalidXml","Start tag expected.",1);return!0}function x6e(t){return t===" "||t==="	"||t===`
`||t==="\r"}function w6e(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return ri("InvalidXml","XML declaration allowed only at the start of the document.",Ra(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function T6e(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function xwt(t,e){let n="",r="",o=!1;for(;e<t.length;e++){if(t[e]===Ewt||t[e]===Awt)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){o=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:o}}function I6e(t,e){let n=Xk(t,wwt),r={};for(let o=0;o<n.length;o++){if(n[o][1].length===0)return ri("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",lC(n[o]));if(n[o][3]!==void 0&&n[o][4]===void 0)return ri("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",lC(n[o]));if(n[o][3]===void 0&&!e.allowBooleanAttributes)return ri("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",lC(n[o]));let i=n[o][2];if(!Rwt(i))return ri("InvalidAttr","Attribute '"+i+"' is an invalid name.",lC(n[o]));if(!r.hasOwnProperty(i))r[i]=1;else return ri("InvalidAttr","Attribute '"+i+"' is repeated.",lC(n[o]))}return!0}function Twt(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function Iwt(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,Twt(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function ri(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function Rwt(t){return cC(t)}function Cwt(t){return cC(t)}function Ra(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function lC(t){return t.startIndex+t[1].length}var vwt,Ewt,Awt,wwt,C6e=b(()=>{"use strict";Zk();vwt={allowBooleanAttributes:!1,unpairedTags:[]};Ewt='"',Awt="'";wwt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var Nwt,N6e,O6e=b(()=>{"use strict";Nwt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t},captureMetaData:!1},N6e=function(t){return Object.assign({},Nwt,t)}});var eL,sl,tL=b(()=>{"use strict";typeof Symbol!="function"?eL="@@xmlMetadata":eL=Symbol("XML Node Metadata");sl=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e,n){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),n!==void 0&&(this.child[this.child.length-1][eL]={startIndex:n})}static getMetaDataSymbol(){return eL}}});function pZ(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,o=!1,i=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(o&&Hb(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=Owt(t,e+1),c.indexOf("&")===-1&&(n[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&Hb(t,"!ELEMENT",e)){e+=8;let{index:a}=Dwt(t,e+1);e=a}else if(o&&Hb(t,"!ATTLIST",e))e+=8;else if(o&&Hb(t,"!NOTATION",e)){e+=9;let{index:a}=Pwt(t,e+1);e=a}else if(Hb(t,"!--",e))i=!0;else throw new Error("Invalid DOCTYPE");r++,s=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,r--):r--,r===0)break}else t[e]==="["?o=!0:s+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function Owt(t,e){e=x0(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)n+=t[e],e++;if(fZ(n),e=x0(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let r="";return[e,r]=nL(t,e,"entity"),e--,[n,r,e]}function Pwt(t,e){e=x0(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;fZ(n),e=x0(t,e);let r=t.substring(e,e+6).toUpperCase();if(r!=="SYSTEM"&&r!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);e+=r.length,e=x0(t,e);let o=null,i=null;if(r==="PUBLIC")[e,o]=nL(t,e,"publicIdentifier"),e=x0(t,e),(t[e]==='"'||t[e]==="'")&&([e,i]=nL(t,e,"systemIdentifier"));else if(r==="SYSTEM"&&([e,i]=nL(t,e,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:o,systemIdentifier:i,index:--e}}function nL(t,e,n){let r="",o=t[e];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(e++;e<t.length&&t[e]!==o;)r+=t[e],e++;if(t[e]!==o)throw new Error(`Unterminated ${n} value`);return e++,[e,r]}function Dwt(t,e){e=x0(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;if(!fZ(n))throw new Error(`Invalid element name: "${n}"`);e=x0(t,e);let r="";if(t[e]==="E"&&Hb(t,"MPTY",e))e+=4;else if(t[e]==="A"&&Hb(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)r+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:n,contentModel:r.trim(),index:e}}function Hb(t,e,n){for(let r=0;r<e.length;r++)if(e[r]!==t[n+r+1])return!1;return!0}function fZ(t){if(cC(t))return t;throw new Error(`Invalid entity name ${t}`)}var x0,P6e=b(()=>{"use strict";Zk();x0=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function mZ(t,e={}){if(e=Object.assign({},Mwt,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(t==="0")return 0;if(e.hex&&kwt.test(n))return Fwt(n,16);if(n.includes("e")||n.includes("E"))return Uwt(t,n,e);{let r=Lwt.exec(n);if(r){let o=r[1]||"",i=r[2],s=$wt(r[3]),a=o?t[i.length+1]===".":t[i.length]===".";if(!e.leadingZeros&&(i.length>1||i.length===1&&!a))return t;{let c=Number(n),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return e.eNotation?c:t;if(n.indexOf(".")!==-1)return l==="0"||l===s||l===`${o}${s}`?c:t;let u=i?s:n;return i?u===l||o+u===l?c:t:u===l||u===o+l?c:t}}else return t}}function Uwt(t,e,n){if(!n.eNotation)return t;let r=e.match(Bwt);if(r){let o=r[1]||"",i=r[3].indexOf("e")===-1?"E":"e",s=r[2],a=o?t[s.length+1]===i:t[s.length]===i;return s.length>1&&a?t:s.length===1&&(r[3].startsWith(`.${i}`)||r[3][0]===i)?Number(e):n.leadingZeros&&!a?(e=(r[1]||"")+r[3],Number(e)):t}else return t}function $wt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function Fwt(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var kwt,Lwt,Mwt,Bwt,D6e=b(()=>{"use strict";kwt=/^[-+]?0x[a-fA-F0-9]+$/,Lwt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Mwt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Bwt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function hZ(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}var k6e=b(()=>{"use strict"});function Hwt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Gwt(t,e,n,r,o,i,s){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,o,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?yZ(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?yZ(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Vwt(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}function jwt(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let r=Xk(t,zwt),o=r.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(r[s][1]);if(this.ignoreAttributesFn(a,e))continue;let c=r[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?i[l]=c:typeof u!=typeof c||u!==c?i[l]=u:i[l]=yZ(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}function Wwt(t,e,n,r){this.options.captureMetaData||(r=void 0);let o=this.options.updateTag(e.tagname,n,e[":@"]);o===!1||(typeof o=="string"&&(e.tagname=o),t.addChild(e,r))}function Jwt(t,e,n,r){return t&&(r===void 0&&(r=e.child.length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Ywt(t,e,n){let r="*."+n;for(let o in t){let i=t[o];if(r===i||e===i)return!0}return!1}function Qwt(t,e,n=">"){let r,o="";for(let i=e;i<t.length;i++){let s=t[i];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else if(s===n[0])if(n[1]){if(t[i+1]===n[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function Gb(t,e,n,r){let o=t.indexOf(e,n);if(o===-1)throw new Error(r);return o+e.length-1}function gZ(t,e,n,r=">"){let o=Qwt(t,e+1,r);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,l=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let u=c;if(n){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==o.data.substr(d+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:l,rawTagName:u}}function Xwt(t,e,n){let r=n,o=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let i=Gb(t,">",n,`${e} is not closed`);if(t.substring(n+2,i).trim()===e&&(o--,o===0))return{tagContent:t.substring(r,n),i};n=i}else if(t[n+1]==="?")n=Gb(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=Gb(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=Gb(t,"]]>",n,"StopNode is not closed.")-2;else{let i=gZ(t,n,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,n=i.closeIndex)}}function yZ(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:mZ(t,n)}else return A6e(t)?t:""}var uC,zwt,qwt,Kwt,L6e=b(()=>{"use strict";Zk();tL();P6e();D6e();k6e();uC=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=Hwt,this.parseXml=qwt,this.parseTextData=Gwt,this.resolveNameSpace=Vwt,this.buildAttributesMap=jwt,this.isItStopNode=Ywt,this.replaceEntitiesValue=Kwt,this.readStopNodeData=Xwt,this.saveTextToParentTag=Jwt,this.addChild=Wwt,this.ignoreAttributesFn=hZ(this.options.ignoreAttributes)}};zwt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");qwt=function(t){t=t.replace(/\r\n?/g,`
`);let e=new sl("!xml"),n=e,r="",o="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let a=Gb(t,">",i,"Closing Tag is not closed."),c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),n=this.tagsNodeStack.pop(),r="",i=a}else if(t[i+1]==="?"){let a=gZ(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new sl(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(n,c,o,i)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let a=Gb(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(i+4,a-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){let a=pZ(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){let a=Gb(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);r=this.saveTextToParentTag(r,n,o);let l=this.parseTextData(c,n.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,l),i=a+2}else{let a=gZ(t,i,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,o,!1));let f=n;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==e.tagname&&(o+=o?"."+c:c);let h=i;if(this.isItStopNode(this.options.stopNodes,o,c)){let m="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let y=this.readStopNodeData(t,l,p+1);if(!y)throw new Error(`Unexpected end of ${l}`);i=y.i,m=y.tagContent}let g=new sl(c);c!==u&&d&&(g[":@"]=this.buildAttributesMap(u,o,c)),m&&(m=this.parseTextData(m,c,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),g.add(this.options.textNodeName,m),this.addChild(n,g,o,h)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let m=new sl(c);c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(n,m,o,h),o=o.substr(0,o.lastIndexOf("."))}else{let m=new sl(c);this.tagsNodeStack.push(n),c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(n,m,o,h),n=m}r="",i=p}}else r+=t[i];return e.child};Kwt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function _Z(t,e){return M6e(t,e)}function M6e(t,e,n){let r,o={};for(let i=0;i<t.length;i++){let s=t[i],a=Zwt(s),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=s[a]:r+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=M6e(s[a],e,c),u=tTt(l,e);s[bZ]!==void 0&&(l[bZ]=s[bZ]),s[":@"]?eTt(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):e.isArray(a,c,u)?o[a]=[l]:o[a]=l}}}return typeof r=="string"?r.length>0&&(o[e.textNodeName]=r):r!==void 0&&(o[e.textNodeName]=r),o}function Zwt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function eTt(t,e,n,r){if(e){let o=Object.keys(e),i=o.length;for(let s=0;s<i;s++){let a=o[s];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function tTt(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}var bZ,B6e=b(()=>{"use strict";tL();bZ=sl.getMetaDataSymbol()});var K2,U6e=b(()=>{"use strict";O6e();L6e();B6e();C6e();tL();K2=class{constructor(e){this.externalEntities={},this.options=N6e(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let i=R6e(e,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let r=new uC(this.options);r.addExternalEntities(this.externalEntities);let o=r.parseXml(e);return this.options.preserveOrder||o===void 0?o:_Z(o,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}static getMetaDataSymbol(){return sl.getMetaDataSymbol()}}});var $6e=b(()=>{"use strict";U6e()});function vZ(t){return SZ.parse(t,!0)}var SZ,F6e=b(()=>{"use strict";$6e();SZ=new K2({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});SZ.addEntity("#xD","\r");SZ.addEntity("#10",`
`)});var H6e=b(()=>{"use strict";v6e();S6e();F6e()});var rL,EZ=b(()=>{"use strict";H6e();Om();Er();Ie();ti();V2();lZ();rL=class extends mu{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new $2(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,n,r){let o=on.of(e),i=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(i)[0];return i[u].isBlobSchema()?l[u]=n:l[u]=this.read(i[u],n),l}let a=(this.serdeContext?.utf8Encoder??Yr)(n),c=this.parseXml(a);return this.readSchema(e,r?c[r]:c)}readSchema(e,n){let r=on.of(e);if(r.isUnitSchema())return;let o=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(n))return this.readSchema(r,[n]);if(n==null)return n;if(typeof n=="object"){let i=!!o.sparse,s=!!o.xmlFlattened;if(r.isListSchema()){let c=r.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",d=s?n:(n[0]??n)[u],p=Array.isArray(d)?d:[d];for(let f of p)(f!=null||i)&&l.push(this.readSchema(c,f));return l}let a={};if(r.isMapSchema()){let c=r.getKeySchema(),l=r.getValueSchema(),u;s?u=Array.isArray(n)?n:[n]:u=Array.isArray(n.entry)?n.entry:[n.entry];let d=c.getMergedTraits().xmlName??"key",p=l.getMergedTraits().xmlName??"value";for(let f of u){let h=f[d],m=f[p];(m!=null||i)&&(a[h]=this.readSchema(l,m))}return a}if(r.isStructSchema()){let c=r.isUnionSchema(),l;c&&(l=new z2(n,a));for(let[u,d]of r.structIterator()){let p=d.getMergedTraits(),f=p.httpPayload?p.xmlName??d.getName():d.getMemberTraits().xmlName??u;c&&l.mark(f),n[f]!=null&&(a[u]=this.readSchema(d,n[f]))}return c&&l.writeUnknown(),a}if(r.isDocumentSchema())return n;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,n)}parseXml(e){if(e.length){let n;try{n=vZ(e)}catch(s){throw s&&typeof s=="object"&&Object.defineProperty(s,"$responseBodyText",{value:e}),s}let r="#text",o=Object.keys(n)[0],i=n[o];return i[r]&&(i[o]=i[r],delete i[r]),cZ(i)}return{}}}});var oL,G6e=b(()=>{"use strict";Om();Er();Qp();Ie();Ks();V2();oL=class extends mu{settings;buffer;constructor(e){super(),this.settings=e}write(e,n,r=""){this.buffer===void 0&&(this.buffer="");let o=on.of(e);if(r&&!r.endsWith(".")&&(r+="."),o.isBlobSchema())(typeof n=="string"||n instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??Qr)(n)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())n!=null?(this.writeKey(r),this.writeValue(String(n))):o.isIdempotencyToken()&&(this.writeKey(r),this.writeValue(Cm()));else if(o.isBigIntegerSchema())n!=null&&(this.writeKey(r),this.writeValue(String(n)));else if(o.isBigDecimalSchema())n!=null&&(this.writeKey(r),this.writeValue(n instanceof es?n.string:String(n)));else if(o.isTimestampSchema()){if(n instanceof Date)switch(this.writeKey(r),Zp(o,this.settings)){case 5:this.writeValue(n.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(L2(n));break;case 7:this.writeValue(String(n.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(n)?this.write(79,n,r):n instanceof Date?this.write(4,n,r):n instanceof Uint8Array?this.write(21,n,r):n&&typeof n=="object"?this.write(143,n,r):(this.writeKey(r),this.writeValue(String(n)));else if(o.isListSchema()){if(Array.isArray(n))if(n.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{let i=o.getValueSchema(),s=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of n){if(c==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),u=s?`${r}${a}`:`${r}${l}.${a}`;this.write(i,c,u),++a}}}else if(o.isMapSchema()){if(n&&typeof n=="object"){let i=o.getKeySchema(),s=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(n)){if(u==null)continue;let d=this.getKey("key",i.getMergedTraits().xmlName),p=a?`${r}${c}.${d}`:`${r}entry.${c}.${d}`,f=this.getKey("value",s.getMergedTraits().xmlName),h=a?`${r}${c}.${f}`:`${r}entry.${c}.${f}`;this.write(i,l,p),this.write(s,u,h),++c}}}else if(o.isStructSchema()){if(n&&typeof n=="object"){let i=!1;for(let[s,a]of o.structIterator()){if(n[s]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(s,a.getMergedTraits().xmlName),l=`${r}${c}`;this.write(a,n[s],l),i=!0}if(!i&&o.isUnionSchema()){let{$unknown:s}=n;if(Array.isArray(s)){let[a,c]=s,l=`${r}${a}`;this.write(15,c,l)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,n){let r=n??e;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${P2(e)}=`}writeValue(e){this.buffer+=P2(e)}}});var iL,V6e=b(()=>{"use strict";Om();Er();jk();EZ();G6e();iL=class extends U2{options;serializer;deserializer;mixin=new v0;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let n={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new oL(n),this.deserializer=new rL(n)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,n,r){let o=await super.serializeRequest(e,n,r);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(y0(e.input)==="unit"||!o.body)&&(o.body="");let i=e.name.split("#")[1]??e.name;return o.body=`Action=${i}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(e,n,r){let o=this.deserializer,i=on.of(e.output),s={};if(r.statusCode>=300){let d=await dc(r.body,n);d.byteLength>0&&Object.assign(s,await o.read(15,d)),await this.handleError(e,n,r,s,this.deserializeMetadata(r))}for(let d in r.headers){let p=r.headers[d];delete r.headers[d],r.headers[d.toLowerCase()]=p}let a=e.name.split("#")[1]??e.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await dc(r.body,n);return l.byteLength>0&&Object.assign(s,await o.read(i,l,c)),{$metadata:this.deserializeMetadata(r),...s}}useNestedResult(){return!0}async handleError(e,n,r,o,i){let s=this.loadQueryErrorCode(r,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,r,a,i,this.mixin.findQueryCompatibleError),d=on.of(l),p=je.for(l[1]).getErrorCtor(l)??Error,f=new p(c),h={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[m,g]of d.structIterator()){let y=g.getMergedTraits().xmlName??m,S=a[y]??o[y];h[m]=this.deserializer.readSchema(g,S)}throw this.mixin.decorateServiceException(Object.assign(f,u,{$fault:d.getMergedTraits().error,message:c},h),o)}loadQueryErrorCode(e,n){let r=(n.Errors?.[0]?.Error??n.Errors?.Error??n.Error)?.Code;if(r!==void 0)return r;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let n=this.loadQueryError(e);return n?.message??n?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var z6e=b(()=>{"use strict"});var j6e=b(()=>{"use strict"});var q6e=b(()=>{"use strict"});var W6e=b(()=>{"use strict"});var K6e=b(()=>{"use strict"});var km=b(()=>{"use strict";a6e();c6e();g6e();y6e();Jk();b6e();Kk();uZ();dZ();_6e();aC();z6e();V6e();K6e();W6e();EZ();q6e();j6e()});var wi=b(()=>{"use strict";_s();C4e();km()});async function J6e(t,e,n){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Ud(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let i=await e.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?Ud(t,"RETRY_MODE_ADAPTIVE","F"):Ud(t,"RETRY_MODE_STANDARD","E"):Ud(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let i=t.endpointV2;switch(String(i?.url?.hostname).match(nTt)&&Ud(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":Ud(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Ud(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Ud(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let i=o;i.accountId&&Ud(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(i.$source??{}))Ud(t,s,a)}}var nTt,Y6e=b(()=>{"use strict";wi();nTt=/\d{12}\.ddb/});var AZ,sL,Q6e,X6e,Z6e=b(()=>{"use strict";AZ="user-agent",sL="x-amz-user-agent",Q6e=/[^!$%&'*+\-.^_`|~\w]/g,X6e=/[^!$%&'*+\-.^_`|~\w#]/g});function e3e(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var t3e=b(()=>{"use strict"});var rTt,aL,oTt,hu,o3e=b(()=>{"use strict";b0();go();Y6e();Z6e();t3e();rTt=t=>(e,n)=>async r=>{let{request:o}=r;if(!Sr.isInstance(o))return e(r);let{headers:i}=o,s=n?.userAgent?.map(aL)||[],a=(await t.defaultUserAgentProvider()).map(aL);await J6e(n,t,r);let c=n;a.push(`m/${e3e(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(aL)||[],u=await t.userAgentAppId();u&&a.push(aL(["app",`${u}`]));let d=uCe(),p=(d?[d]:[]).concat([...a,...s,...l]).join(" "),f=[...a.filter(h=>h.startsWith("aws-sdk-")),...l].join(" ");return t.runtime!=="browser"?(f&&(i[sL]=i[sL]?`${i[AZ]} ${f}`:f),i[AZ]=p):i[sL]=p,e({...r,request:o})},aL=t=>{let e=t[0].split("/").map(s=>s.replace(Q6e,"-")).join("/"),n=t[1]?.replace(X6e,"-"),r=e.indexOf("/"),o=e.substring(0,r),i=e.substring(r+1);return o==="api"&&(i=i.toLowerCase()),[o,i,n].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},oTt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},hu=t=>({applyToStack:e=>{e.add(rTt(t),oTt)}})});var w0=b(()=>{"use strict";aRe();o3e()});var J2,i3e=b(()=>{"use strict";J2=(t,e,n)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${n} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var s3e=b(()=>{"use strict"});var T0,a3e=b(()=>{"use strict";(function(t){t.ENV="env",t.CONFIG="shared config entry"})(T0||(T0={}))});var wZ=b(()=>{"use strict";i3e();s3e();a3e()});var iTt,sTt,gu,c3e=b(()=>{"use strict";wZ();iTt="AWS_USE_DUALSTACK_ENDPOINT",sTt="use_dualstack_endpoint",gu={environmentVariableSelector:t=>J2(t,iTt,T0.ENV),configFileSelector:t=>J2(t,sTt,T0.CONFIG),default:!1}});var aTt,cTt,yu,l3e=b(()=>{"use strict";wZ();aTt="AWS_USE_FIPS_ENDPOINT",cTt="use_fips_endpoint",yu={environmentVariableSelector:t=>J2(t,aTt,T0.ENV),configFileSelector:t=>J2(t,cTt,T0.CONFIG),default:!1}});var u3e=b(()=>{"use strict"});var d3e=b(()=>{"use strict"});var p3e=b(()=>{"use strict";c3e();l3e();u3e();d3e()});var lTt,uTt,Xs,gc,f3e=b(()=>{"use strict";lTt="AWS_REGION",uTt="region",Xs={environmentVariableSelector:t=>t[lTt],configFileSelector:t=>t[uTt],default:()=>{throw new Error("Region is missing")}},gc={preferredFile:"credentials"}});var m3e,h3e,g3e=b(()=>{"use strict";Bd();m3e=new Set,h3e=(t,e=Ub)=>{if(!m3e.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else m3e.add(t)}});var cL,TZ=b(()=>{"use strict";cL=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var y3e,b3e=b(()=>{"use strict";TZ();y3e=t=>cL(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var bu,_3e=b(()=>{"use strict";g3e();b3e();TZ();bu=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let r=typeof e=="function"?await e():e,o=y3e(r);return h3e(o),o},useFipsEndpoint:async()=>{let r=typeof e=="string"?e:await e();return cL(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}})}});var S3e=b(()=>{"use strict";f3e();_3e()});var v3e=b(()=>{"use strict"});var E3e=b(()=>{"use strict"});var A3e=b(()=>{"use strict"});var x3e=b(()=>{"use strict";v3e();E3e();A3e()});var Ca=b(()=>{"use strict";p3e();S3e();x3e()});function dTt(t){return e=>async n=>{let r=n.request;if(Sr.isInstance(r)){let{body:o,headers:i}=r;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(w3e)===-1)try{let s=t(o);r.headers={...r.headers,[w3e]:String(s)}}catch{}}return e({...n,request:r})}}var w3e,pTt,_u,Vb=b(()=>{"use strict";go();w3e="content-length";pTt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_u=t=>({applyToStack:e=>{e.add(dTt(t.bodyLengthChecker),pTt)}})});var T3e,fTt,mTt,hTt,gTt,yTt,I3e=b(()=>{"use strict";T3e=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),yTt(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gTt(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},fTt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mTt=/(\d+\.){3}\d+/,hTt=/\.\./,gTt=t=>fTt.test(t)&&!mTt.test(t)&&!hTt.test(t),yTt=t=>{let[e,n,r,,,o]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,s=!!(i&&n&&r&&o);if(i&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s}});var R3e=b(()=>{"use strict";I3e()});var C3e,N3e=b(()=>{"use strict";C3e=(t,e,n,r=!1)=>{let o=async()=>{let i;return r?i=n.clientContextParams?.[t]??n[t]??n[e]:i=n[t]??n[e],typeof i=="function"?i():i};return t==="credentialScope"||e==="CredentialScope"?async()=>{let i=typeof n.credentials=="function"?await n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let i=typeof n.credentials=="function"?await n.credentials():n.credentials;return i?.accountId??i?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(n.isCustomEndpoint===!1)return;let i=await o();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:a,port:c,path:l}=i;return`${s}//${a}${c?":"+c:""}${l}`}}return i}:o}});function lL(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var IZ=b(()=>{"use strict"});var O3e,P3e=b(()=>{"use strict";Rr();IZ();O3e=(t,e)=>async()=>{try{let n=t(process.env,e);if(n===void 0)throw new Error;return n}catch(n){throw new Et(n.message||`Not found in ENV: ${lL(t.toString())}`,{logger:e?.logger})}}});import{homedir as bTt}from"os";import{sep as _Tt}from"path";var RZ,STt,I0,Y2=b(()=>{"use strict";RZ={},STt=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",I0=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:n,HOMEDRIVE:r=`C:${_Tt}`}=process.env;if(t)return t;if(e)return e;if(n)return`${r}${n}`;let o=STt();return RZ[o]||(RZ[o]=bTt()),RZ[o]}});var CZ,vTt,yc,D3e=b(()=>{"use strict";CZ="AWS_PROFILE",vTt="default",yc=t=>t.profile||process.env[CZ]||vTt});import{createHash as ETt}from"crypto";import{join as ATt}from"path";var uL,NZ=b(()=>{"use strict";Y2();uL=t=>{let n=ETt("sha1").update(t).digest("hex");return ATt(I0(),".aws","sso","cache",`${n}.json`)}});import{readFile as xTt}from"fs/promises";var dC,pC,OZ=b(()=>{"use strict";NZ();dC={},pC=async t=>{if(dC[t])return dC[t];let e=uL(t),n=await xTt(e,"utf8");return JSON.parse(n)}});var k3e,L3e=b(()=>{"use strict";g0();k3e=t=>Object.entries(t).filter(([e])=>{let n=e.indexOf(".");return n===-1?!1:Object.values(wm).includes(e.substring(0,n))}).reduce((e,[n,r])=>{let o=n.indexOf("."),i=n.substring(0,o)===wm.PROFILE?n.substring(o+1):n;return e[i]=r,e},{...t.default&&{default:t.default}})});import{join as wTt}from"path";var TTt,dL,PZ=b(()=>{"use strict";Y2();TTt="AWS_CONFIG_FILE",dL=()=>process.env[TTt]||wTt(I0(),".aws","config")});import{join as ITt}from"path";var RTt,M3e,B3e=b(()=>{"use strict";Y2();RTt="AWS_SHARED_CREDENTIALS_FILE",M3e=()=>process.env[RTt]||ITt(I0(),".aws","credentials")});var CTt,NTt,fC,DZ=b(()=>{"use strict";g0();CTt=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,NTt=["__proto__","profile __proto__"],fC=t=>{let e={},n,r;for(let o of t.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){n=void 0,r=void 0;let a=i.substring(1,i.length-1),c=CTt.exec(a);if(c){let[,l,,u]=c;Object.values(wm).includes(l)&&(n=[l,u].join("."))}else n=a;if(NTt.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(n){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")r=c;else{r&&o.trimStart()===o&&(r=void 0),e[n]=e[n]||{};let u=r?[r,c].join("."):c;e[n][u]=l}}}}return e}});import{readFile as OTt}from"node:fs/promises";var kZ,mC,R0,hC=b(()=>{"use strict";kZ={},mC={},R0=(t,e)=>mC[t]!==void 0?mC[t]:((!kZ[t]||e?.ignoreCache)&&(kZ[t]=OTt(t,"utf8")),kZ[t])});import{join as U3e}from"path";var $3e,pL,LZ=b(()=>{"use strict";L3e();PZ();B3e();Y2();DZ();hC();$3e=()=>({}),pL=async(t={})=>{let{filepath:e=M3e(),configFilepath:n=dL()}=t,r=I0(),o="~/",i=e;e.startsWith(o)&&(i=U3e(r,e.slice(2)));let s=n;n.startsWith(o)&&(s=U3e(r,n.slice(2)));let a=await Promise.all([R0(s,{ignoreCache:t.ignoreCache}).then(fC).then(k3e).catch($3e),R0(i,{ignoreCache:t.ignoreCache}).then(fC).catch($3e)]);return{configFile:a[0],credentialsFile:a[1]}}});var F3e,H3e=b(()=>{"use strict";g0();F3e=t=>Object.entries(t).filter(([e])=>e.startsWith(wm.SSO_SESSION+".")).reduce((e,[n,r])=>({...e,[n.substring(n.indexOf(".")+1)]:r}),{})});var PTt,fL,G3e=b(()=>{"use strict";PZ();H3e();DZ();hC();PTt=()=>({}),fL=async(t={})=>R0(t.configFilepath??dL()).then(fC).then(F3e).catch(PTt)});var V3e,z3e=b(()=>{"use strict";V3e=(...t)=>{let e={};for(let n of t)for(let[r,o]of Object.entries(n))e[r]!==void 0?Object.assign(e[r],o):e[r]=o;return e}});var ef,j3e=b(()=>{"use strict";LZ();z3e();ef=async t=>{let e=await pL(t);return V3e(e.configFile,e.credentialsFile)}});var gC,q3e=b(()=>{"use strict";OZ();hC();gC={getFileRecord(){return mC},interceptFile(t,e){mC[t]=Promise.resolve(e)},getTokenRecord(){return dC},interceptToken(t,e){dC[t]=e}}});var W3e=b(()=>{"use strict"});var bc=b(()=>{"use strict";Y2();D3e();NZ();OZ();LZ();G3e();j3e();q3e();W3e();hC()});var K3e,J3e=b(()=>{"use strict";Rr();bc();IZ();K3e=(t,{preferredFile:e="config",...n}={})=>async()=>{let r=yc(n),{configFile:o,credentialsFile:i}=await pL(n),s=i[r]||{},a=o[r]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?o:i);if(u===void 0)throw new Error;return u}catch(l){throw new Et(l.message||`Not found in config files w/ profile [${r}]: ${lL(t.toString())}`,{logger:n.logger})}}});var DTt,Y3e,Q3e=b(()=>{"use strict";Rr();DTt=t=>typeof t=="function",Y3e=t=>DTt(t)?async()=>await t():VCe(t)});var Dt,X3e=b(()=>{"use strict";Rr();P3e();J3e();Q3e();Dt=({environmentVariableSelector:t,configFileSelector:e,default:n},r={})=>{let{signingName:o,logger:i}=r;return Bk(H2(O3e(t,{signingName:o,logger:i}),K3e(e,r),Y3e(n)))}});var Su=b(()=>{"use strict";X3e()});var Z3e,eNe,tNe,nNe=b(()=>{"use strict";Z3e="AWS_ENDPOINT_URL",eNe="endpoint_url",tNe=t=>({environmentVariableSelector:e=>{let n=t.split(" ").map(i=>i.toUpperCase()),r=e[[Z3e,...n].join("_")];if(r)return r;let o=e[Z3e];if(o)return o},configFileSelector:(e,n)=>{if(n&&e.services){let o=n[["services",e.services].join(".")];if(o){let i=t.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),eNe].join(".")];if(s)return s}}let r=e[eNe];if(r)return r},default:void 0})});var mL,MZ=b(()=>{"use strict";Su();nNe();mL=async t=>Dt(tNe(t??""))()});var hL,gL=b(()=>{"use strict";Dm();hL=t=>typeof t=="object"?"url"in t?ts(t.url):t:ts(t)});var rNe,kTt,BZ=b(()=>{"use strict";R3e();N3e();MZ();gL();rNe=async(t,e,n,r)=>{if(!n.isCustomEndpoint){let s;n.serviceConfiguredEndpoint?s=await n.serviceConfiguredEndpoint():s=await mL(n.serviceId),s&&(n.endpoint=()=>Promise.resolve(hL(s)),n.isCustomEndpoint=!0)}let o=await kTt(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)},kTt=async(t,e,n)=>{let r={},o=e?.getEndpointParameterInstructions?.()||{};for(let[i,s]of Object.entries(o))switch(s.type){case"staticContextParams":r[i]=s.value;break;case"contextParams":r[i]=t[s.name];break;case"clientContextParams":case"builtInParams":r[i]=await C3e(s.name,i,n,s.type!=="builtInParams")();break;case"operationContextParams":r[i]=s.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(o).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await T3e(r),r}});var oNe=b(()=>{"use strict";BZ();gL()});var iNe,UZ=b(()=>{"use strict";Xr();Ws();BZ();iNe=({config:t,instructions:e})=>(n,r)=>async o=>{t.isCustomEndpoint&&YIe(r,"ENDPOINT_OVERRIDE","N");let i=await rNe(o.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=i,r.authSchemes=i.properties?.authSchemes;let s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;let c=Go(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return n({...o})}});var LTt,le,sNe=b(()=>{"use strict";nX();UZ();LTt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:fk.name},le=(t,e)=>({applyToStack:n=>{n.addRelativeTo(iNe({config:t,instructions:e}),LTt)}})});var vu,aNe=b(()=>{"use strict";Ws();MZ();gL();vu=t=>{let e=t.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:o}=t,i=n!=null?async()=>hL(await vr(n)()):void 0,a=Object.assign(t,{endpoint:i,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:vr(r??!1),useFipsEndpoint:vr(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=mL(t.serviceId)),c),a}});var cNe=b(()=>{"use strict"});var lNe=b(()=>{"use strict"});var We=b(()=>{"use strict";oNe();UZ();sNe();aNe();cNe();lNe()});var Lm,Q2,_c,yL=b(()=>{"use strict";(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(Lm||(Lm={}));Q2=3,_c=Lm.STANDARD});var uNe,dNe,pNe,fNe,mNe,hNe=b(()=>{"use strict";uNe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dNe=["TimeoutError","RequestTimeout","RequestTimeoutException"],pNe=[500,502,503,504],fNe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mNe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var MTt,BTt,UTt,bL,_L,gNe,$Z=b(()=>{"use strict";hNe();MTt=t=>t?.$retryable!==void 0,BTt=t=>t.$metadata?.clockSkewCorrected,UTt=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},bL=t=>t.$metadata?.httpStatusCode===429||uNe.includes(t.name)||t.$retryable?.throttling==!0,_L=(t,e=0)=>MTt(t)||BTt(t)||dNe.includes(t.name)||fNe.includes(t?.code||"")||mNe.includes(t?.code||"")||pNe.includes(t.$metadata?.httpStatusCode||0)||UTt(t)||t.cause!==void 0&&e<=10&&_L(t.cause,e+1),gNe=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!_L(t)}return!1}});var SL,FZ=b(()=>{"use strict";$Z();SL=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>t.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),bL(e)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var yNe,bNe,_Ne=b(()=>{"use strict";yNe="amz-sdk-invocation-id",bNe="amz-sdk-request"});var vNe,ENe=b(()=>{"use strict";vNe=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}}});var HZ,ANe=b(()=>{"use strict";HZ=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n})});var X2,GZ=b(()=>{"use strict";yL();ENe();ANe();X2=class{maxAttempts;mode=Lm.STANDARD;capacity=500;retryBackoffStrategy=vNe();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return HZ({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,n){let r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let o=n.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?500:100);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,HZ({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Q2}`),Q2}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var vL,xNe=b(()=>{"use strict";yL();FZ();GZ();vL=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Lm.ADAPTIVE;constructor(e,n){this.maxAttemptsProvider=e;let{rateLimiter:r}=n??{};this.rateLimiter=r??new SL,this.standardRetryStrategy=new X2(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var wNe=b(()=>{"use strict"});var TNe=b(()=>{"use strict"});var Mm=b(()=>{"use strict";xNe();wNe();FZ();GZ();yL();_Ne();TNe()});var INe=b(()=>{"use strict"});var RNe=b(()=>{"use strict"});var CNe,NNe=b(()=>{"use strict";CNe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var ONe=b(()=>{"use strict"});var PNe=b(()=>{"use strict"});var DNe,kNe,Eu,Au,HTt,GTt,xu,LNe=b(()=>{"use strict";Ws();Mm();DNe="AWS_MAX_ATTEMPTS",kNe="max_attempts",Eu={environmentVariableSelector:t=>{let e=t[DNe];if(!e)return;let n=parseInt(e);if(Number.isNaN(n))throw new Error(`Environment variable ${DNe} mast be a number, got "${e}"`);return n},configFileSelector:t=>{let e=t[kNe];if(!e)return;let n=parseInt(e);if(Number.isNaN(n))throw new Error(`Shared config file entry ${kNe} mast be a number, got "${e}"`);return n},default:Q2},Au=t=>{let{retryStrategy:e,retryMode:n,maxAttempts:r}=t,o=vr(r??Q2);return Object.assign(t,{maxAttempts:o,retryStrategy:async()=>e||(await vr(n)()===Lm.ADAPTIVE?new vL(o):new X2(o))})},HTt="AWS_RETRY_MODE",GTt="retry_mode",xu={environmentVariableSelector:t=>t[HTt],configFileSelector:t=>t[GTt],default:_c}});var MNe=b(()=>{"use strict"});import{Readable as VTt}from"stream";var BNe,UNe=b(()=>{"use strict";BNe=t=>t?.body instanceof VTt||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var zTt,jTt,qTt,WTt,KTt,wu,JTt,$Ne=b(()=>{"use strict";go();$Z();Ie();Mm();AX();UNe();NNe();zTt=t=>(e,n)=>async r=>{let o=await t.retryStrategy(),i=await t.maxAttempts();if(jTt(o)){o=o;let s=await o.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,l=0,{request:u}=r,d=Sr.isInstance(u);for(d&&(u.headers[yNe]=Cm());;)try{d&&(u.headers[bNe]=`attempt=${c+1}; max=${i}`);let{response:p,output:f}=await e(r);return o.recordSuccess(s),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=l,{response:p,output:f}}catch(p){let f=qTt(p);if(a=CNe(p),d&&BNe(u))throw(n.logger instanceof Qs?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=await o.refreshRetryTokenForRetry(s,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(m=>setTimeout(m,h))}}else return o=o,o?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(e,r)},jTt=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",qTt=t=>{let e={error:t,errorType:WTt(t)},n=JTt(t.$response);return n&&(e.retryAfterHint=n),e},WTt=t=>bL(t)?"THROTTLING":_L(t)?"TRANSIENT":gNe(t)?"SERVER_ERROR":"CLIENT_ERROR",KTt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wu=t=>({applyToStack:e=>{e.add(zTt(t),KTt)}}),JTt=t=>{if(!jl.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)}});var al=b(()=>{"use strict";PNe();ONe();LNe();INe();MNe();RNe();$Ne()});function YTt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var FNe,HNe,GNe,VZ=b(()=>{"use strict";wi();Ws();FNe=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});HNe=t=>{let e=[];switch(t.operation){default:e.push(YTt(t))}return e},GNe=t=>{let e=cu(t);return Object.assign(e,{authSchemePreference:vr(t.authSchemePreference??[])})}});var VNe,fn,ao=b(()=>{"use strict";VNe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),fn={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var jNe,zNe=b(()=>{jNe={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var EL,AL,qNe,WNe,KNe,JNe,zZ,YNe=b(()=>{"use strict";_s();Rr();EL="AWS_ACCESS_KEY_ID",AL="AWS_SECRET_ACCESS_KEY",qNe="AWS_SESSION_TOKEN",WNe="AWS_CREDENTIAL_EXPIRATION",KNe="AWS_CREDENTIAL_SCOPE",JNe="AWS_ACCOUNT_ID",zZ=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[EL],n=process.env[AL],r=process.env[qNe],o=process.env[WNe],i=process.env[KNe],s=process.env[JNe];if(e&&n){let a={accessKeyId:e,secretAccessKey:n,...r&&{sessionToken:r},...o&&{expiration:new Date(o)},...i&&{credentialScope:i},...s&&{accountId:s}};return qn(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Et("Unable to find environment variable credentials.",{logger:t?.logger})}});var QNe={};kn(QNe,{ENV_ACCOUNT_ID:()=>JNe,ENV_CREDENTIAL_SCOPE:()=>KNe,ENV_EXPIRATION:()=>WNe,ENV_KEY:()=>EL,ENV_SECRET:()=>AL,ENV_SESSION:()=>qNe,fromEnv:()=>zZ});var jZ=b(()=>{"use strict";YNe()});import{Buffer as XTt}from"buffer";import{request as ZTt}from"http";function C0(t){return new Promise((e,n)=>{let r=ZTt({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",o=>{n(Object.assign(new su("Unable to connect to instance metadata service"),o)),r.destroy()}),r.on("timeout",()=>{n(new su("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(n(Object.assign(new su("Error response received from instance metadata service"),{statusCode:i})),r.destroy());let s=[];o.on("data",a=>{s.push(a)}),o.on("end",()=>{e(XTt.concat(s)),r.destroy()})}),r.end()})}var xL=b(()=>{"use strict";Rr()});var wL,TL,qZ=b(()=>{"use strict";wL=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",TL=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var bcr,_cr,yC,IL=b(()=>{"use strict";bcr=1e3,_cr=0,yC=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var bC,WZ=b(()=>{"use strict";bC=(t,e)=>{let n=t();for(let r=0;r<e;r++)n=n.catch(t);return n}});import{parse as eIt}from"url";var RL,CL,KZ,tIt,nIt,rIt,oIt,iIt,sIt,XNe=b(()=>{"use strict";Rr();xL();qZ();IL();WZ();RL="AWS_CONTAINER_CREDENTIALS_FULL_URI",CL="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",KZ="AWS_CONTAINER_AUTHORIZATION_TOKEN",tIt=(t={})=>{let{timeout:e,maxRetries:n}=yC(t);return()=>bC(async()=>{let r=await sIt({logger:t.logger}),o=JSON.parse(await nIt(e,r));if(!wL(o))throw new Et("Invalid response received from instance metadata service.",{logger:t.logger});return TL(o)},n)},nIt=async(t,e)=>(process.env[KZ]&&(e.headers={...e.headers,Authorization:process.env[KZ]}),(await C0({...e,timeout:t})).toString()),rIt="169.254.170.2",oIt={localhost:!0,"127.0.0.1":!0},iIt={"http:":!0,"https:":!0},sIt=async({logger:t})=>{if(process.env[CL])return{hostname:rIt,path:process.env[CL]};if(process.env[RL]){let e=eIt(process.env[RL]);if(!e.hostname||!(e.hostname in oIt))throw new Et(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in iIt))throw new Et(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Et(`The container metadata credential provider cannot be used unless the ${CL} or ${RL} environment variable is set`,{tryNextLink:!1,logger:t})}});var NL,ZNe=b(()=>{"use strict";Rr();NL=class t extends Et{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,n=!0){super(e,n),this.tryNextLink=n,Object.setPrototypeOf(this,t.prototype)}}});var jb,JZ=b(()=>{"use strict";(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(jb||(jb={}))});var aIt,cIt,eOe,tOe=b(()=>{"use strict";aIt="AWS_EC2_METADATA_SERVICE_ENDPOINT",cIt="ec2_metadata_service_endpoint",eOe={environmentVariableSelector:t=>t[aIt],configFileSelector:t=>t[cIt],default:void 0}});var N0,YZ=b(()=>{"use strict";(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(N0||(N0={}))});var lIt,uIt,nOe,rOe=b(()=>{"use strict";YZ();lIt="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",uIt="ec2_metadata_service_endpoint_mode",nOe={environmentVariableSelector:t=>t[lIt],configFileSelector:t=>t[uIt],default:N0.IPv4}});var OL,dIt,pIt,QZ=b(()=>{"use strict";Su();Dm();JZ();tOe();YZ();rOe();OL=async()=>ts(await dIt()||await pIt()),dIt=async()=>Dt(eOe)(),pIt=async()=>{let t=await Dt(nOe)();switch(t){case N0.IPv4:return jb.IPv4;case N0.IPv6:return jb.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(N0)}`)}}});var fIt,XZ,oOe=b(()=>{"use strict";fIt="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",XZ=(t,e)=>{let n=300+Math.floor(Math.random()*300),r=new Date(Date.now()+n*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(r)}.
For more information, please visit: `+fIt);let o=t.originalExpiration??t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:r}}});var iOe,sOe=b(()=>{"use strict";oOe();iOe=(t,e={})=>{let n=e?.logger||console,r;return async()=>{let o;try{o=await t(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=XZ(o,n))}catch(i){if(r)n.warn("Credential renew failed: ",i),o=XZ(r,n);else throw i}return r=o,o}}});var lOe,mIt,ZZ,aOe,cOe,hIt,gIt,yIt,bIt,_It,uOe=b(()=>{"use strict";Su();Rr();ZNe();xL();qZ();IL();WZ();QZ();sOe();lOe="/latest/meta-data/iam/security-credentials/",mIt="/latest/api/token",ZZ="AWS_EC2_METADATA_V1_DISABLED",aOe="ec2_metadata_v1_disabled",cOe="x-aws-ec2-metadata-token",hIt=(t={})=>iOe(gIt(t),{logger:t.logger}),gIt=(t={})=>{let e=!1,{logger:n,profile:r}=t,{timeout:o,maxRetries:i}=yC(t),s=async(a,c)=>{if(e||c.headers?.[cOe]==null){let d=!1,p=!1,f=await Dt({environmentVariableSelector:h=>{let m=h[ZZ];if(p=!!m&&m!=="false",m===void 0)throw new Et(`${ZZ} not set in env, checking config file next.`,{logger:t.logger});return p},configFileSelector:h=>{let m=h[aOe];return d=!!m&&m!=="false",d},default:!1},{profile:r})();if(t.ec2MetadataV1Disabled||f){let h=[];throw t.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&h.push(`config file profile (${aOe})`),p&&h.push(`process environment variable (${ZZ})`),new NL(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let u=(await bC(async()=>{let d;try{d=await bIt(c)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)).trim();return bC(async()=>{let d;try{d=await _It(u,c,t)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)};return async()=>{let a=await OL();if(e)return n?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await yIt({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),n?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[cOe]:c},timeout:o})}}},yIt=async t=>C0({...t,path:mIt,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),bIt=async t=>(await C0({...t,path:lOe})).toString(),_It=async(t,e,n)=>{let r=JSON.parse((await C0({...e,path:lOe+t})).toString());if(!wL(r))throw new Et("Invalid response received from instance metadata service.",{logger:n.logger});return TL(r)}});var dOe=b(()=>{"use strict"});var _C={};kn(_C,{DEFAULT_MAX_RETRIES:()=>_cr,DEFAULT_TIMEOUT:()=>bcr,ENV_CMDS_AUTH_TOKEN:()=>KZ,ENV_CMDS_FULL_URI:()=>RL,ENV_CMDS_RELATIVE_URI:()=>CL,Endpoint:()=>jb,fromContainerMetadata:()=>tIt,fromInstanceMetadata:()=>hIt,getInstanceMetadataEndpoint:()=>OL,httpRequest:()=>C0,providerConfigFromInit:()=>yC});var SC=b(()=>{"use strict";XNe();uOe();IL();dOe();xL();QZ();JZ()});var SIt,vIt,EIt,pOe,fOe=b(()=>{"use strict";Rr();SIt="169.254.170.2",vIt="169.254.170.23",EIt="[fd00:ec2::23]",pOe=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===SIt||t.hostname===vIt||t.hostname===EIt)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let n=t.hostname.split("."),r=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(n[0]==="127"&&r(n[1])&&r(n[2])&&r(n[3])&&n.length===4)return}throw new Et(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function mOe(t){return new Sr({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[n,r])=>(e[n]=r,e),{}),fragment:t.hash})}async function hOe(t,e){let r=await yk(t.body).transformToString();if(t.statusCode===200){let o=JSON.parse(r);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Et("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:yIe(o.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let o={};try{o=JSON.parse(r)}catch{}throw Object.assign(new Et(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:o.Code,Message:o.Message})}throw new Et(`Server responded with status: ${t.statusCode}`,{logger:e})}var gOe=b(()=>{"use strict";Rr();go();Ie();bk()});var yOe,bOe=b(()=>{"use strict";yOe=(t,e,n)=>async()=>{for(let r=0;r<e;++r)try{return await t()}catch{await new Promise(i=>setTimeout(i,n))}return await t()}});import AIt from"fs/promises";var xIt,wIt,TIt,IIt,RIt,_Oe,SOe=b(()=>{"use strict";_s();Im();Rr();fOe();gOe();bOe();xIt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wIt="http://169.254.170.2",TIt="AWS_CONTAINER_CREDENTIALS_FULL_URI",IIt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",RIt="AWS_CONTAINER_AUTHORIZATION_TOKEN",_Oe=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,n=t.awsContainerCredentialsRelativeUri??process.env[xIt],r=t.awsContainerCredentialsFullUri??process.env[TIt],o=t.awsContainerAuthorizationToken??process.env[RIt],i=t.awsContainerAuthorizationTokenFile??process.env[IIt],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(n&&r&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),r)e=r;else if(n)e=`${wIt}${n}`;else throw new Et(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);pOe(a,t.logger);let c=Js.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return yOe(async()=>{let l=mOe(a);o?l.headers.Authorization=o:i&&(l.headers.Authorization=(await AIt.readFile(i)).toString());try{let u=await c.handle(l);return hOe(u.response).then(d=>qn(d,"CREDENTIALS_HTTP","z"))}catch(u){throw new Et(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var eee={};kn(eee,{fromHttp:()=>_Oe});var tee=b(()=>{"use strict";SOe()});var vOe,EOe,AOe=b(()=>{"use strict";Rr();vOe="AWS_EC2_METADATA_DISABLED",EOe=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:n,fromContainerMetadata:r,fromInstanceMetadata:o}=await Promise.resolve().then(()=>(SC(),_C));if(process.env[n]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>(tee(),eee));return H2(i(t),r(t))}return process.env[vOe]&&process.env[vOe]!=="false"?async()=>{throw new Et("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(t))}});function xOe(t,e){let n=CIt(t),r,o,i,s=async a=>{if(a?.forceRefresh)return await n(a);if(i?.expiration&&i?.expiration?.getTime()<Date.now()&&(i=void 0),r)await r;else if(!i||e?.(i))if(i)o||(o=n(a).then(c=>{i=c}).finally(()=>{o=void 0}));else return r=n(a).then(c=>{i=c}).finally(()=>{r=void 0}),s(a);return i};return s}var CIt,wOe=b(()=>{"use strict";CIt=t=>async e=>{let n;for(let r of t)try{return await r(e)}catch(o){if(n=o,o?.tryNextLink)continue;throw o}throw n}});var nee,ree=b(()=>{"use strict";nee=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var TOe=b(()=>{"use strict"});var Z2,PL=b(()=>{"use strict";Z2="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function NIt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function OIt(t){return{schemeId:"smithy.api#noAuth"}}var IOe,ROe,COe,oee=b(()=>{"use strict";wi();Ws();IOe=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ROe=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(OIt(t));break}default:e.push(NIt(t))}return e},COe=t=>{let e=cu(t);return Object.assign(e,{authSchemePreference:vr(t.authSchemePreference??[])})}});var NOe,OOe,iee=b(()=>{"use strict";NOe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),OOe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var eA,DL=b(()=>{eA={name:"@aws-sdk/nested-clients",version:"3.980.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var POe,DOe=b(()=>{"use strict";POe={isCrtAvailable:!1}});var kOe,LOe=b(()=>{"use strict";DOe();kOe=()=>POe.isCrtAvailable?["md/crt-avail"]:null});import{platform as DIt,release as kIt}from"os";import{env as MOe,versions as LIt}from"process";var Tu,BOe=b(()=>{"use strict";LOe();Tu=({serviceId:t,clientVersion:e})=>async n=>{let r=[["aws-sdk-js",e],["ua","2.1"],[`os/${DIt()}`,kIt()],["lang/js"],["md/nodejs",`${LIt.node}`]],o=kOe();o&&r.push(o),t&&r.push([`api/${t}`,e]),MOe.AWS_EXECUTION_ENV&&r.push([`exec-env/${MOe.AWS_EXECUTION_ENV}`]);let i=await n?.userAgentAppId?.();return i?[...r,[`app/${i}`]]:[...r]}});var MIt,BIt,UIt,Iu,UOe=b(()=>{"use strict";w0();MIt="AWS_SDK_UA_APP_ID",BIt="sdk_ua_app_id",UIt="sdk-ua-app-id",Iu={environmentVariableSelector:t=>t[MIt],configFileSelector:t=>t[BIt]??t[UIt],default:OX}});var qb=b(()=>{"use strict";BOe();UOe()});import{Buffer as $It}from"buffer";import{createHash as FIt,createHmac as HIt}from"crypto";function $Oe(t,e){return $It.isBuffer(t)?t:typeof t=="string"?N2(t,e):ArrayBuffer.isView(t)?Tm(t.buffer,t.byteOffset,t.byteLength):Tm(t)}var Sc,Wb=b(()=>{"use strict";kb();ti();Sc=class{algorithmIdentifier;secret;hash;constructor(e,n){this.algorithmIdentifier=e,this.secret=n,this.reset()}update(e,n){this.hash.update(Md($Oe(e,n)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?HIt(this.algorithmIdentifier,$Oe(this.secret)):FIt(this.algorithmIdentifier)}}});import{fstatSync as GIt,lstatSync as VIt,ReadStream as zIt}from"node:fs";var Ru,FOe=b(()=>{"use strict";Ru=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof zIt){if(t.path!=null)return VIt(t.path).size;if(typeof t.fd=="number")return GIt(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var Kb=b(()=>{"use strict";FOe()});var HOe,see,aee,GOe,VOe,zOe,jOe=b(()=>{"use strict";HOe="AWS_EXECUTION_ENV",see="AWS_REGION",aee="AWS_DEFAULT_REGION",GOe="AWS_EC2_METADATA_DISABLED",VOe=["in-region","cross-region","mobile","standard","legacy"],zOe="/latest/meta-data/placement/region"});var jIt,qIt,qOe,WOe=b(()=>{"use strict";jIt="AWS_DEFAULTS_MODE",qIt="defaults_mode",qOe={environmentVariableSelector:t=>t[jIt],configFileSelector:t=>t[qIt],default:"legacy"}});var Cu,WIt,KIt,KOe=b(()=>{"use strict";Ca();Su();Rr();jOe();WOe();Cu=({region:t=Dt(Xs),defaultsMode:e=Dt(qOe)}={})=>Bk(async()=>{let n=typeof e=="function"?await e():e;switch(n?.toLowerCase()){case"auto":return WIt(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${VOe.join(", ")}, got ${n}`)}}),WIt=async t=>{if(t){let e=typeof t=="function"?await t():t,n=await KIt();return n?e===n?"in-region":"cross-region":"standard"}return"standard"},KIt=async()=>{if(process.env[HOe]&&(process.env[see]||process.env[aee]))return process.env[see]??process.env[aee];if(!process.env[GOe])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(SC(),_C)),n=await t();return(await e({...n,path:zOe})).toString()}catch{}}});var Jb=b(()=>{"use strict";KOe()});var o5e,Ou,JOe,vC,tA,nA,Bm,cee,lee,YOe,QOe,XOe,i5e,s5e,Nu,ZOe,a5e,e5e,t5e,n5e,r5e,JIt,c5e,l5e=b(()=>{"use strict";o5e="required",Ou="argv",JOe="isSet",vC="booleanEquals",tA="error",nA="endpoint",Bm="tree",cee="PartitionResult",lee="getAttr",YOe={[o5e]:!1,type:"string"},QOe={[o5e]:!0,default:!1,type:"boolean"},XOe={ref:"Endpoint"},i5e={fn:vC,[Ou]:[{ref:"UseFIPS"},!0]},s5e={fn:vC,[Ou]:[{ref:"UseDualStack"},!0]},Nu={},ZOe={fn:lee,[Ou]:[{ref:cee},"supportsFIPS"]},a5e={ref:cee},e5e={fn:vC,[Ou]:[!0,{fn:lee,[Ou]:[a5e,"supportsDualStack"]}]},t5e=[i5e],n5e=[s5e],r5e=[{ref:"Region"}],JIt={version:"1.0",parameters:{Region:YOe,UseDualStack:QOe,UseFIPS:QOe,Endpoint:YOe},rules:[{conditions:[{fn:JOe,[Ou]:[XOe]}],rules:[{conditions:t5e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:tA},{conditions:n5e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:tA},{endpoint:{url:XOe,properties:Nu,headers:Nu},type:nA}],type:Bm},{conditions:[{fn:JOe,[Ou]:r5e}],rules:[{conditions:[{fn:"aws.partition",[Ou]:r5e,assign:cee}],rules:[{conditions:[i5e,s5e],rules:[{conditions:[{fn:vC,[Ou]:[!0,ZOe]},e5e],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nu,headers:Nu},type:nA}],type:Bm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:tA}],type:Bm},{conditions:t5e,rules:[{conditions:[{fn:vC,[Ou]:[ZOe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Ou]:[{fn:lee,[Ou]:[a5e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Nu,headers:Nu},type:nA},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nu,headers:Nu},type:nA}],type:Bm},{error:"FIPS is enabled but this partition does not support FIPS",type:tA}],type:Bm},{conditions:n5e,rules:[{conditions:[e5e],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nu,headers:Nu},type:nA}],type:Bm},{error:"DualStack is enabled but this partition does not support DualStack",type:tA}],type:Bm},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nu,headers:Nu},type:nA}],type:Bm}],type:Bm},{error:"Invalid Configuration: Missing Region",type:tA}]},c5e=JIt});var YIt,u5e,d5e=b(()=>{"use strict";b0();Bd();l5e();YIt=new mc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),u5e=(t,e={})=>YIt.get(t,()=>ru(c5e,{endpointParams:t,logger:e.logger}));bs.aws=il});var p5e,f5e=b(()=>{"use strict";wi();km();Xr();Ie();Dm();Ks();ti();oee();d5e();p5e=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??u5e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??ROe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zl}],logger:t?.logger??new Qs,protocol:t?.protocol??A0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var m5e,h5e=b(()=>{"use strict";DL();wi();qb();Ca();Wb();al();Su();Im();Ie();Kb();Jb();Mm();f5e();m5e=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=p5e(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:eA.version}),maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var Pu,Du,g5e=b(()=>{"use strict";Pu=t=>({setRegion(e){t.region=e},region(){return t.region}}),Du=t=>({region:t.region()})});var y5e=b(()=>{"use strict"});function b5e(t={}){return Dt({...Xs,async default(){return QIt.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...gc,...t})}var QIt,_5e=b(()=>{"use strict";Ca();Su();QIt={silence:!1}});var O0=b(()=>{"use strict";g5e();y5e();_5e()});var S5e,v5e,E5e=b(()=>{"use strict";S5e=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},v5e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var A5e,x5e=b(()=>{"use strict";O0();go();Ie();E5e();A5e=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),S5e(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),v5e(n))}});var EC,uee=b(()=>{"use strict";Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();oee();iee();h5e();x5e();EC=class extends Fi{config;constructor(...[e]){let n=m5e(e||{});super(n),this.initConfig=n;let r=NOe(n),o=eu(r),i=Au(o),s=bu(i),a=s,c=vu(a),l=COe(c),u=A5e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:IOe,identityProviderConfigProvider:async d=>new fc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var ns,kL=b(()=>{"use strict";Ie();ns=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var xC,wC,TC,IC,RC,CC,NC,OC,PC,DC,kC,dee=b(()=>{"use strict";kL();xC=class t extends ns{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},wC=class t extends ns{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},TC=class t extends ns{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},IC=class t extends ns{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},RC=class t extends ns{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},CC=class t extends ns{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},NC=class t extends ns{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},OC=class t extends ns{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},PC=class t extends ns{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},DC=class t extends ns{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},kC=class t extends ns{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var XIt,ZIt,eRt,tRt,nRt,rRt,oRt,iRt,sRt,aRt,cRt,lRt,uRt,dRt,pRt,fRt,mRt,hRt,gRt,yRt,tf,bRt,_Rt,SRt,vRt,ERt,Vo,ARt,$d,xRt,wRt,Fd,TRt,w5e,T5e,IRt,RRt,CRt,I5e,NRt,Ar,ORt,PRt,DRt,kRt,R5e,C5e,N5e,O5e,P5e,D5e,k5e,L5e,M5e,B5e,U5e,$5e,F5e,H5e,G5e,pee,fee=b(()=>{"use strict";Er();dee();kL();XIt="AccessDeniedException",ZIt="AuthorizationPendingException",eRt="AccessToken",tRt="ClientSecret",nRt="CreateToken",rRt="CreateTokenRequest",oRt="CreateTokenResponse",iRt="CodeVerifier",sRt="ExpiredTokenException",aRt="InvalidClientException",cRt="InvalidGrantException",lRt="InvalidRequestException",uRt="InternalServerException",dRt="InvalidScopeException",pRt="IdToken",fRt="RefreshToken",mRt="SlowDownException",hRt="UnauthorizedClientException",gRt="UnsupportedGrantTypeException",yRt="accessToken",tf="client",bRt="clientId",_Rt="clientSecret",SRt="codeVerifier",vRt="code",ERt="deviceCode",Vo="error",ARt="expiresIn",$d="error_description",xRt="grantType",wRt="http",Fd="httpError",TRt="idToken",w5e="reason",T5e="refreshToken",IRt="redirectUri",RRt="scope",CRt="server",I5e="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",NRt="tokenType",Ar="com.amazonaws.ssooidc",ORt=[0,Ar,eRt,8,0],PRt=[0,Ar,tRt,8,0],DRt=[0,Ar,iRt,8,0],kRt=[0,Ar,pRt,8,0],R5e=[0,Ar,fRt,8,0],C5e=[-3,Ar,XIt,{[Vo]:tf,[Fd]:400},[Vo,w5e,$d],[0,0,0]];je.for(Ar).registerError(C5e,xC);N5e=[-3,Ar,ZIt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(N5e,wC);O5e=[3,Ar,rRt,0,[bRt,_Rt,xRt,ERt,vRt,T5e,RRt,IRt,SRt],[0,[()=>PRt,0],0,0,0,[()=>R5e,0],64,0,[()=>DRt,0]],3],P5e=[3,Ar,oRt,0,[yRt,NRt,ARt,T5e,TRt],[[()=>ORt,0],0,1,[()=>R5e,0],[()=>kRt,0]]],D5e=[-3,Ar,sRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(D5e,TC);k5e=[-3,Ar,uRt,{[Vo]:CRt,[Fd]:500},[Vo,$d],[0,0]];je.for(Ar).registerError(k5e,IC);L5e=[-3,Ar,aRt,{[Vo]:tf,[Fd]:401},[Vo,$d],[0,0]];je.for(Ar).registerError(L5e,RC);M5e=[-3,Ar,cRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(M5e,CC);B5e=[-3,Ar,lRt,{[Vo]:tf,[Fd]:400},[Vo,w5e,$d],[0,0,0]];je.for(Ar).registerError(B5e,NC);U5e=[-3,Ar,dRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(U5e,OC);$5e=[-3,Ar,mRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError($5e,PC);F5e=[-3,Ar,hRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(F5e,DC);H5e=[-3,Ar,gRt,{[Vo]:tf,[Fd]:400},[Vo,$d],[0,0]];je.for(Ar).registerError(H5e,kC);G5e=[-3,I5e,"SSOOIDCServiceException",0,[],[]];je.for(I5e).registerError(G5e,ns);pee=[9,Ar,nRt,{[wRt]:["POST","/token",200]},()=>O5e,()=>P5e]});var LC,mee=b(()=>{"use strict";We();Ie();iee();fee();LC=class extends ae.classBuilder().ep(OOe).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(pee).build(){}});var LRt,LL,V5e=b(()=>{"use strict";Ie();mee();uee();LRt={CreateTokenCommand:LC},LL=class extends EC{};lu(LRt,LL)});var z5e=b(()=>{"use strict";mee()});var MRt,BRt,j5e=b(()=>{"use strict";MRt={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},BRt={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var q5e=b(()=>{"use strict"});var hee={};kn(hee,{$Command:()=>ae,AccessDeniedException:()=>xC,AccessDeniedException$:()=>C5e,AccessDeniedExceptionReason:()=>MRt,AuthorizationPendingException:()=>wC,AuthorizationPendingException$:()=>N5e,CreateToken$:()=>pee,CreateTokenCommand:()=>LC,CreateTokenRequest$:()=>O5e,CreateTokenResponse$:()=>P5e,ExpiredTokenException:()=>TC,ExpiredTokenException$:()=>D5e,InternalServerException:()=>IC,InternalServerException$:()=>k5e,InvalidClientException:()=>RC,InvalidClientException$:()=>L5e,InvalidGrantException:()=>CC,InvalidGrantException$:()=>M5e,InvalidRequestException:()=>NC,InvalidRequestException$:()=>B5e,InvalidRequestExceptionReason:()=>BRt,InvalidScopeException:()=>OC,InvalidScopeException$:()=>U5e,SSOOIDC:()=>LL,SSOOIDCClient:()=>EC,SSOOIDCServiceException:()=>ns,SSOOIDCServiceException$:()=>G5e,SlowDownException:()=>PC,SlowDownException$:()=>$5e,UnauthorizedClientException:()=>DC,UnauthorizedClientException$:()=>F5e,UnsupportedGrantTypeException:()=>kC,UnsupportedGrantTypeException$:()=>H5e,__Client:()=>Fi});var gee=b(()=>{"use strict";uee();V5e();z5e();fee();j5e();dee();q5e();kL()});var W5e,K5e=b(()=>{"use strict";W5e=async(t,e={},n)=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(gee(),hee)),o=s=>e.clientConfig?.[s]??e.parentClientConfig?.[s]??n?.[s];return new r(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))}});var J5e,Y5e=b(()=>{"use strict";K5e();J5e=async(t,e,n={},r)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(gee(),hee));return(await W5e(e,n,r)).send(new o({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var yee,Q5e=b(()=>{"use strict";Rr();PL();yee=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new au(`Token is expired. ${Z2}`,!1)}});var P0,X5e=b(()=>{"use strict";Rr();PL();P0=(t,e,n=!1)=>{if(typeof e>"u")throw new au(`Value not present for '${t}' in SSO Token${n?". Cannot refresh":""}. ${Z2}`,!1)}});import{promises as URt}from"fs";var $Rt,Z5e,e8e=b(()=>{"use strict";bc();({writeFile:$Rt}=URt),Z5e=(t,e)=>{let n=uL(t),r=JSON.stringify(e,null,2);return $Rt(n,r)}});var t8e,n8e,r8e=b(()=>{"use strict";Rr();bc();PL();Y5e();Q5e();X5e();e8e();t8e=new Date(0),n8e=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await ef(t),r=yc({profile:t.profile??e?.profile}),o=n[r];if(o){if(!o.sso_session)throw new au(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new au(`Profile '${r}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await fL(t))[i];if(!a)throw new au(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new au(`Sso session '${i}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,l=a.sso_region,u;try{u=await pC(i)}catch{throw new au(`The SSO session token associated with profile=${r} was not found or is invalid. ${Z2}`,!1)}P0("accessToken",u.accessToken),P0("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:p}=u,f={token:d,expiration:new Date(p)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-t8e.getTime()<30*1e3)return yee(f),f;P0("clientId",u.clientId,!0),P0("clientSecret",u.clientSecret,!0),P0("refreshToken",u.refreshToken,!0);try{t8e.setTime(Date.now());let h=await J5e(u,l,t,e);P0("accessToken",h.accessToken),P0("expiresIn",h.expiresIn);let m=new Date(Date.now()+h.expiresIn*1e3);try{await Z5e(i,{...u,accessToken:h.accessToken,expiresAt:m.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:m}}catch{return yee(f),f}}});var o8e=b(()=>{"use strict"});var i8e=b(()=>{"use strict"});var s8e=b(()=>{"use strict";TOe();r8e();o8e();i8e()});function HRt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function ML(t){return{schemeId:"smithy.api#noAuth"}}var a8e,c8e,l8e,bee=b(()=>{"use strict";wi();Ws();a8e=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});c8e=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(ML(t));break}case"ListAccountRoles":{e.push(ML(t));break}case"ListAccounts":{e.push(ML(t));break}case"Logout":{e.push(ML(t));break}default:e.push(HRt(t))}return e},l8e=t=>{let e=cu(t);return Object.assign(e,{authSchemePreference:vr(t.authSchemePreference??[])})}});var u8e,D0,rA=b(()=>{"use strict";u8e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),D0={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var p8e,d8e=b(()=>{p8e={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var E8e,Lu,f8e,MC,oA,iA,Um,_ee,See,m8e,h8e,g8e,A8e,x8e,ku,y8e,w8e,b8e,_8e,S8e,v8e,VRt,T8e,I8e=b(()=>{"use strict";E8e="required",Lu="argv",f8e="isSet",MC="booleanEquals",oA="error",iA="endpoint",Um="tree",_ee="PartitionResult",See="getAttr",m8e={[E8e]:!1,type:"string"},h8e={[E8e]:!0,default:!1,type:"boolean"},g8e={ref:"Endpoint"},A8e={fn:MC,[Lu]:[{ref:"UseFIPS"},!0]},x8e={fn:MC,[Lu]:[{ref:"UseDualStack"},!0]},ku={},y8e={fn:See,[Lu]:[{ref:_ee},"supportsFIPS"]},w8e={ref:_ee},b8e={fn:MC,[Lu]:[!0,{fn:See,[Lu]:[w8e,"supportsDualStack"]}]},_8e=[A8e],S8e=[x8e],v8e=[{ref:"Region"}],VRt={version:"1.0",parameters:{Region:m8e,UseDualStack:h8e,UseFIPS:h8e,Endpoint:m8e},rules:[{conditions:[{fn:f8e,[Lu]:[g8e]}],rules:[{conditions:_8e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:oA},{conditions:S8e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:oA},{endpoint:{url:g8e,properties:ku,headers:ku},type:iA}],type:Um},{conditions:[{fn:f8e,[Lu]:v8e}],rules:[{conditions:[{fn:"aws.partition",[Lu]:v8e,assign:_ee}],rules:[{conditions:[A8e,x8e],rules:[{conditions:[{fn:MC,[Lu]:[!0,y8e]},b8e],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ku,headers:ku},type:iA}],type:Um},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:oA}],type:Um},{conditions:_8e,rules:[{conditions:[{fn:MC,[Lu]:[y8e,!0]}],rules:[{conditions:[{fn:"stringEquals",[Lu]:[{fn:See,[Lu]:[w8e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:ku,headers:ku},type:iA},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ku,headers:ku},type:iA}],type:Um},{error:"FIPS is enabled but this partition does not support FIPS",type:oA}],type:Um},{conditions:S8e,rules:[{conditions:[b8e],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ku,headers:ku},type:iA}],type:Um},{error:"DualStack is enabled but this partition does not support DualStack",type:oA}],type:Um},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ku,headers:ku},type:iA}],type:Um}],type:Um},{error:"Invalid Configuration: Missing Region",type:oA}]},T8e=VRt});var zRt,R8e,C8e=b(()=>{"use strict";b0();Bd();I8e();zRt=new mc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),R8e=(t,e={})=>zRt.get(t,()=>ru(T8e,{endpointParams:t,logger:e.logger}));bs.aws=il});var N8e,O8e=b(()=>{"use strict";wi();km();Xr();Ie();Dm();Ks();ti();bee();C8e();N8e=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??R8e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??c8e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zl}],logger:t?.logger??new Qs,protocol:t?.protocol??A0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var P8e,D8e=b(()=>{"use strict";d8e();wi();qb();Ca();Wb();al();Su();Im();Ie();Kb();Jb();Mm();O8e();P8e=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=N8e(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:p8e.version}),maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var k8e,L8e,M8e=b(()=>{"use strict";k8e=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},L8e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var B8e,U8e=b(()=>{"use strict";O0();go();Ie();M8e();B8e=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),k8e(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),L8e(n))}});var nf,BC=b(()=>{"use strict";Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();bee();rA();D8e();U8e();nf=class extends Fi{config;constructor(...[e]){let n=P8e(e||{});super(n),this.initConfig=n;let r=u8e(n),o=eu(r),i=Au(o),s=bu(i),a=s,c=vu(a),l=l8e(c),u=B8e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:a8e,identityProviderConfigProvider:async d=>new fc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var $m,vee=b(()=>{"use strict";Ie();$m=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var BL,UL,$L,FL,Eee=b(()=>{"use strict";vee();BL=class t extends $m{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},UL=class t extends $m{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},$L=class t extends $m{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},FL=class t extends $m{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var jRt,qRt,WRt,KRt,JRt,YRt,QRt,XRt,ZRt,eCt,tCt,nCt,rCt,oCt,iCt,sCt,aCt,cCt,lCt,uCt,dCt,pCt,fCt,HL,mCt,hCt,gCt,GL,$8e,VL,zL,yCt,bCt,jL,qL,WL,Yb,KL,F8e,H8e,JL,G8e,_Ct,SCt,V8e,vCt,z8e,ECt,ACt,YL,Gr,QL,xCt,wCt,TCt,ICt,RCt,CCt,NCt,OCt,PCt,DCt,kCt,LCt,MCt,BCt,UCt,$Ct,FCt,HCt,GCt,VCt,j8e,q8e,W8e,K8e,sA=b(()=>{"use strict";Er();Eee();vee();jRt="AccountInfo",qRt="AccountListType",WRt="AccessTokenType",KRt="GetRoleCredentials",JRt="GetRoleCredentialsRequest",YRt="GetRoleCredentialsResponse",QRt="InvalidRequestException",XRt="Logout",ZRt="ListAccounts",eCt="ListAccountsRequest",tCt="ListAccountRolesRequest",nCt="ListAccountRolesResponse",rCt="ListAccountsResponse",oCt="ListAccountRoles",iCt="LogoutRequest",sCt="RoleCredentials",aCt="RoleInfo",cCt="RoleListType",lCt="ResourceNotFoundException",uCt="SecretAccessKeyType",dCt="SessionTokenType",pCt="TooManyRequestsException",fCt="UnauthorizedException",HL="accountId",mCt="accessKeyId",hCt="accountList",gCt="accountName",GL="accessToken",$8e="account_id",VL="client",zL="error",yCt="emailAddress",bCt="expiration",jL="http",qL="httpError",WL="httpHeader",Yb="httpQuery",KL="message",F8e="maxResults",H8e="max_result",JL="nextToken",G8e="next_token",_Ct="roleCredentials",SCt="roleList",V8e="roleName",vCt="role_name",z8e="smithy.ts.sdk.synthetic.com.amazonaws.sso",ECt="secretAccessKey",ACt="sessionToken",YL="x-amz-sso_bearer_token",Gr="com.amazonaws.sso",QL=[0,Gr,WRt,8,0],xCt=[0,Gr,uCt,8,0],wCt=[0,Gr,dCt,8,0],TCt=[3,Gr,jRt,0,[HL,gCt,yCt],[0,0,0]],ICt=[3,Gr,JRt,0,[V8e,HL,GL],[[0,{[Yb]:vCt}],[0,{[Yb]:$8e}],[()=>QL,{[WL]:YL}]],3],RCt=[3,Gr,YRt,0,[_Ct],[[()=>MCt,0]]],CCt=[-3,Gr,QRt,{[zL]:VL,[qL]:400},[KL],[0]];je.for(Gr).registerError(CCt,BL);NCt=[3,Gr,tCt,0,[GL,HL,JL,F8e],[[()=>QL,{[WL]:YL}],[0,{[Yb]:$8e}],[0,{[Yb]:G8e}],[1,{[Yb]:H8e}]],2],OCt=[3,Gr,nCt,0,[JL,SCt],[0,()=>VCt]],PCt=[3,Gr,eCt,0,[GL,JL,F8e],[[()=>QL,{[WL]:YL}],[0,{[Yb]:G8e}],[1,{[Yb]:H8e}]],1],DCt=[3,Gr,rCt,0,[JL,hCt],[0,()=>GCt]],kCt=[3,Gr,iCt,0,[GL],[[()=>QL,{[WL]:YL}]],1],LCt=[-3,Gr,lCt,{[zL]:VL,[qL]:404},[KL],[0]];je.for(Gr).registerError(LCt,UL);MCt=[3,Gr,sCt,0,[mCt,ECt,ACt,bCt],[0,[()=>xCt,0],[()=>wCt,0],1]],BCt=[3,Gr,aCt,0,[V8e,HL],[0,0]],UCt=[-3,Gr,pCt,{[zL]:VL,[qL]:429},[KL],[0]];je.for(Gr).registerError(UCt,$L);$Ct=[-3,Gr,fCt,{[zL]:VL,[qL]:401},[KL],[0]];je.for(Gr).registerError($Ct,FL);FCt="unit",HCt=[-3,z8e,"SSOServiceException",0,[],[]];je.for(z8e).registerError(HCt,$m);GCt=[1,Gr,qRt,0,()=>TCt],VCt=[1,Gr,cCt,0,()=>BCt],j8e=[9,Gr,KRt,{[jL]:["GET","/federation/credentials",200]},()=>ICt,()=>RCt],q8e=[9,Gr,oCt,{[jL]:["GET","/assignment/roles",200]},()=>NCt,()=>OCt],W8e=[9,Gr,ZRt,{[jL]:["GET","/assignment/accounts",200]},()=>PCt,()=>DCt],K8e=[9,Gr,XRt,{[jL]:["POST","/logout",200]},()=>kCt,()=>FCt]});var aA,Aee=b(()=>{"use strict";We();Ie();rA();sA();aA=class extends ae.classBuilder().ep(D0).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(j8e).build(){}});var cA,XL=b(()=>{"use strict";We();Ie();rA();sA();cA=class extends ae.classBuilder().ep(D0).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(q8e).build(){}});var lA,ZL=b(()=>{"use strict";We();Ie();rA();sA();lA=class extends ae.classBuilder().ep(D0).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(W8e).build(){}});var e7,xee=b(()=>{"use strict";We();Ie();rA();sA();e7=class extends ae.classBuilder().ep(D0).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(K8e).build(){}});var J8e,wee=b(()=>{"use strict";Xr();XL();BC();J8e=No(nf,cA,"nextToken","nextToken","maxResults")});var Y8e,Tee=b(()=>{"use strict";Xr();ZL();BC();Y8e=No(nf,lA,"nextToken","nextToken","maxResults")});var zCt,jCt,Iee,Q8e=b(()=>{"use strict";Ie();Aee();XL();ZL();xee();wee();Tee();BC();zCt={GetRoleCredentialsCommand:aA,ListAccountRolesCommand:cA,ListAccountsCommand:lA,LogoutCommand:e7},jCt={paginateListAccountRoles:J8e,paginateListAccounts:Y8e},Iee=class extends nf{};lu(zCt,Iee,{paginators:jCt})});var X8e=b(()=>{"use strict";Aee();XL();ZL();xee()});var Z8e=b(()=>{"use strict"});var ePe=b(()=>{"use strict";Z8e();wee();Tee()});var tPe=b(()=>{"use strict"});var nPe=b(()=>{"use strict";BC();Q8e();X8e();sA();ePe();Eee();tPe()});var rPe={};kn(rPe,{GetRoleCredentialsCommand:()=>aA,SSOClient:()=>nf});var oPe=b(()=>{"use strict";nPe()});var UC,Ree,iPe=b(()=>{"use strict";_s();s8e();Rr();bc();UC=!1,Ree=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:n,ssoRegion:r,ssoRoleName:o,ssoClient:i,clientConfig:s,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:u,configFilepath:d,ignoreCache:p,logger:f})=>{let h,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let J=await n8e({profile:l,filepath:u,configFilepath:d,ignoreCache:p})();h={accessToken:J.token,expiresAt:new Date(J.expiration).toISOString()}}catch(J){throw new Et(J.message,{tryNextLink:UC,logger:f})}else try{h=await pC(t)}catch{throw new Et(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:UC,logger:f})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Et(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:UC,logger:f});let{accessToken:g}=h,{SSOClient:y,GetRoleCredentialsCommand:S}=await Promise.resolve().then(()=>(oPe(),rPe)),v=i||new y(Object.assign({},s??{},{logger:s?.logger??c?.logger??a?.logger,region:s?.region??r,userAgentAppId:s?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),A;try{A=await v.send(new S({accountId:n,roleName:o,accessToken:g}))}catch(J){throw new Et(J,{tryNextLink:UC,logger:f})}let{roleCredentials:{accessKeyId:w,secretAccessKey:I,sessionToken:D,expiration:k,credentialScope:O,accountId:U}={}}=A;if(!w||!I||!D||!k)throw new Et("SSO returns an invalid temporary credential.",{tryNextLink:UC,logger:f});let G={accessKeyId:w,secretAccessKey:I,sessionToken:D,expiration:new Date(k),...O&&{credentialScope:O},...U&&{accountId:U}};return e?qn(G,"CREDENTIALS_SSO","s"):qn(G,"CREDENTIALS_SSO_LEGACY","u"),G}});var Cee,Nee=b(()=>{"use strict";Rr();Cee=(t,e)=>{let{sso_start_url:n,sso_account_id:r,sso_region:o,sso_role_name:i}=t;if(!n||!r||!o||!i)throw new Et(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var qCt,sPe=b(()=>{"use strict";Rr();bc();ree();iPe();Nee();qCt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:n,ssoAccountId:r,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t,{ssoClient:a}=t,c=yc({profile:t.profile??e?.profile});if(!n&&!r&&!o&&!i&&!s){let u=(await ef(t))[c];if(!u)throw new Et(`Profile ${c} was not found.`,{logger:t.logger});if(!nee(u))throw new Et(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let y=(await fL(t))[u.sso_session],S=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==y.sso_region)throw new Et("Conflicting SSO region"+S,{tryNextLink:!1,logger:t.logger});if(n&&n!==y.sso_start_url)throw new Et("Conflicting SSO start_url"+S,{tryNextLink:!1,logger:t.logger});u.sso_region=y.sso_region,u.sso_start_url=y.sso_start_url}let{sso_start_url:d,sso_account_id:p,sso_region:f,sso_role_name:h,sso_session:m}=Cee(u,t.logger);return Ree({ssoStartUrl:d,ssoSession:m,ssoAccountId:p,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!n||!r||!o||!i)throw new Et('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return Ree({ssoStartUrl:n,ssoSession:s,ssoAccountId:r,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var aPe=b(()=>{"use strict"});var Oee={};kn(Oee,{fromSSO:()=>qCt,isSsoProfile:()=>nee,validateSsoProfile:()=>Cee});var Pee=b(()=>{"use strict";sPe();ree();aPe();Nee()});var cPe,Dee,lPe=b(()=>{"use strict";_s();Rr();cPe=(t,e,n)=>{let r={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>(tee(),eee)),{fromContainerMetadata:s}=await Promise.resolve().then(()=>(SC(),_C));return n?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>H2(i(o??{}),s(o))().then(Dee)},Ec2InstanceMetadata:async o=>{n?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>(SC(),_C));return async()=>i(o)().then(Dee)},Environment:async o=>{n?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>(jZ(),QNe));return async()=>i(o)().then(Dee)}};if(t in r)return r[t];throw new Et(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:n})},Dee=t=>qn(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function WCt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function KCt(t){return{schemeId:"smithy.api#noAuth"}}var uPe,dPe,JCt,pPe,kee=b(()=>{"use strict";wi();Ws();$C();uPe=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dPe=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(KCt(t));break}default:e.push(WCt(t))}return e},JCt=t=>Object.assign(t,{stsClientCtor:rf}),pPe=t=>{let e=JCt(t),n=cu(e);return Object.assign(n,{authSchemePreference:vr(t.authSchemePreference??[])})}});var fPe,t7,n7=b(()=>{"use strict";fPe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),t7={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var xPe,wn,ir,k0,vs,wPe,TPe,yo,mPe,of,uA,Mee,hPe,Lee,IPe,gPe,Es,yPe,RPe,CPe,Zs,cl,bPe,NPe,OPe,_Pe,PPe,SPe,vPe,EPe,APe,YCt,DPe,kPe=b(()=>{"use strict";xPe="required",wn="type",ir="argv",k0="booleanEquals",vs="stringEquals",wPe="sigv4",TPe="us-east-1",yo="endpoint",mPe="https://sts.{Region}.{PartitionResult#dnsSuffix}",of="tree",uA="error",Mee="getAttr",hPe={[xPe]:!1,[wn]:"string"},Lee={[xPe]:!0,default:!1,[wn]:"boolean"},IPe={ref:"Endpoint"},gPe={fn:"isSet",[ir]:[{ref:"Region"}]},Es={ref:"Region"},yPe={fn:"aws.partition",[ir]:[Es],assign:"PartitionResult"},RPe={ref:"UseFIPS"},CPe={ref:"UseDualStack"},Zs={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:wPe,signingName:"sts",signingRegion:TPe}]},headers:{}},cl={},bPe={conditions:[{fn:vs,[ir]:[Es,"aws-global"]}],[yo]:Zs,[wn]:yo},NPe={fn:k0,[ir]:[RPe,!0]},OPe={fn:k0,[ir]:[CPe,!0]},_Pe={fn:Mee,[ir]:[{ref:"PartitionResult"},"supportsFIPS"]},PPe={ref:"PartitionResult"},SPe={fn:k0,[ir]:[!0,{fn:Mee,[ir]:[PPe,"supportsDualStack"]}]},vPe=[{fn:"isSet",[ir]:[IPe]}],EPe=[NPe],APe=[OPe],YCt={version:"1.0",parameters:{Region:hPe,UseDualStack:Lee,UseFIPS:Lee,Endpoint:hPe,UseGlobalEndpoint:Lee},rules:[{conditions:[{fn:k0,[ir]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ir]:vPe},gPe,yPe,{fn:k0,[ir]:[RPe,!1]},{fn:k0,[ir]:[CPe,!1]}],rules:[{conditions:[{fn:vs,[ir]:[Es,"ap-northeast-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"ap-south-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"ap-southeast-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"ap-southeast-2"]}],endpoint:Zs,[wn]:yo},bPe,{conditions:[{fn:vs,[ir]:[Es,"ca-central-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"eu-central-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"eu-north-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"eu-west-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"eu-west-2"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"eu-west-3"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"sa-east-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,TPe]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"us-east-2"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"us-west-1"]}],endpoint:Zs,[wn]:yo},{conditions:[{fn:vs,[ir]:[Es,"us-west-2"]}],endpoint:Zs,[wn]:yo},{endpoint:{url:mPe,properties:{authSchemes:[{name:wPe,signingName:"sts",signingRegion:"{Region}"}]},headers:cl},[wn]:yo}],[wn]:of},{conditions:vPe,rules:[{conditions:EPe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[wn]:uA},{conditions:APe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[wn]:uA},{endpoint:{url:IPe,properties:cl,headers:cl},[wn]:yo}],[wn]:of},{conditions:[gPe],rules:[{conditions:[yPe],rules:[{conditions:[NPe,OPe],rules:[{conditions:[{fn:k0,[ir]:[!0,_Pe]},SPe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:cl,headers:cl},[wn]:yo}],[wn]:of},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[wn]:uA}],[wn]:of},{conditions:EPe,rules:[{conditions:[{fn:k0,[ir]:[_Pe,!0]}],rules:[{conditions:[{fn:vs,[ir]:[{fn:Mee,[ir]:[PPe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:cl,headers:cl},[wn]:yo},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:cl,headers:cl},[wn]:yo}],[wn]:of},{error:"FIPS is enabled but this partition does not support FIPS",[wn]:uA}],[wn]:of},{conditions:APe,rules:[{conditions:[SPe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:cl,headers:cl},[wn]:yo}],[wn]:of},{error:"DualStack is enabled but this partition does not support DualStack",[wn]:uA}],[wn]:of},bPe,{endpoint:{url:mPe,properties:cl,headers:cl},[wn]:yo}],[wn]:of}],[wn]:of},{error:"Invalid Configuration: Missing Region",[wn]:uA}]},DPe=YCt});var QCt,LPe,MPe=b(()=>{"use strict";b0();Bd();kPe();QCt=new mc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),LPe=(t,e={})=>QCt.get(t,()=>ru(DPe,{endpointParams:t,logger:e.logger}));bs.aws=il});var BPe,UPe=b(()=>{"use strict";wi();km();Xr();Ie();Dm();Ks();ti();kee();MPe();BPe=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??LPe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??dPe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zl}],logger:t?.logger??new Qs,protocol:t?.protocol??iL,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var $Pe,FPe=b(()=>{"use strict";DL();wi();qb();Ca();Xr();Wb();al();Su();Im();Ie();Kb();Jb();Mm();UPe();$Pe=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=BPe(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:eA.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async s=>await t.credentialDefaultProvider(s?.__config||{})()),signer:new Ss},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zl}],maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var HPe,GPe,VPe=b(()=>{"use strict";HPe=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},GPe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var zPe,jPe=b(()=>{"use strict";O0();go();Ie();VPe();zPe=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),HPe(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),GPe(n))}});var rf,$C=b(()=>{"use strict";Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();kee();n7();FPe();jPe();rf=class extends Fi{config;constructor(...[e]){let n=$Pe(e||{});super(n),this.initConfig=n;let r=fPe(n),o=eu(r),i=Au(o),s=bu(i),a=s,c=vu(a),l=pPe(c),u=zPe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:uPe,identityProviderConfigProvider:async d=>new fc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var vc,r7=b(()=>{"use strict";Ie();vc=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var FC,HC,GC,VC,zC,jC,qC,Bee=b(()=>{"use strict";r7();FC=class t extends vc{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},HC=class t extends vc{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},GC=class t extends vc{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},VC=class t extends vc{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zC=class t extends vc{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},jC=class t extends vc{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},qC=class t extends vc{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var XCt,ZCt,e4t,t4t,n4t,r4t,Uee,o4t,i4t,s4t,a4t,$ee,c4t,qPe,l4t,u4t,d4t,p4t,f4t,m4t,h4t,g4t,WPe,KPe,y4t,b4t,_4t,S4t,v4t,E4t,JPe,A4t,x4t,YPe,w4t,QPe,T4t,I4t,Fee,R4t,C4t,N4t,O4t,P4t,D4t,k4t,L4t,M4t,B4t,Qb,Xb,U4t,Zb,e_,t_,$4t,XPe,F4t,xr,H4t,G4t,Hee,ZPe,e9e,t9e,n9e,Gee,r9e,o9e,i9e,s9e,a9e,c9e,l9e,u9e,d9e,p9e,f9e,m9e,V4t,z4t,Vee,zee,o7=b(()=>{"use strict";Er();Bee();r7();XCt="Arn",ZCt="AccessKeyId",e4t="AssumeRole",t4t="AssumedRoleId",n4t="AssumeRoleRequest",r4t="AssumeRoleResponse",Uee="AssumedRoleUser",o4t="AssumeRoleWithWebIdentity",i4t="AssumeRoleWithWebIdentityRequest",s4t="AssumeRoleWithWebIdentityResponse",a4t="Audience",$ee="Credentials",c4t="ContextAssertion",qPe="DurationSeconds",l4t="Expiration",u4t="ExternalId",d4t="ExpiredTokenException",p4t="IDPCommunicationErrorException",f4t="IDPRejectedClaimException",m4t="InvalidIdentityTokenException",h4t="Key",g4t="MalformedPolicyDocumentException",WPe="Policy",KPe="PolicyArns",y4t="ProviderArn",b4t="ProvidedContexts",_4t="ProvidedContextsListType",S4t="ProvidedContext",v4t="PolicyDescriptorType",E4t="ProviderId",JPe="PackedPolicySize",A4t="PackedPolicyTooLargeException",x4t="Provider",YPe="RoleArn",w4t="RegionDisabledException",QPe="RoleSessionName",T4t="SecretAccessKey",I4t="SubjectFromWebIdentityToken",Fee="SourceIdentity",R4t="SerialNumber",C4t="SessionToken",N4t="Tags",O4t="TokenCode",P4t="TransitiveTagKeys",D4t="Tag",k4t="Value",L4t="WebIdentityToken",M4t="arn",B4t="accessKeySecretType",Qb="awsQueryError",Xb="client",U4t="clientTokenType",Zb="error",e_="httpError",t_="message",$4t="policyDescriptorListType",XPe="smithy.ts.sdk.synthetic.com.amazonaws.sts",F4t="tagListType",xr="com.amazonaws.sts",H4t=[0,xr,B4t,8,0],G4t=[0,xr,U4t,8,0],Hee=[3,xr,Uee,0,[t4t,XCt],[0,0],2],ZPe=[3,xr,n4t,0,[YPe,QPe,KPe,WPe,qPe,N4t,P4t,u4t,R4t,O4t,Fee,b4t],[0,0,()=>m9e,0,1,()=>z4t,64,0,0,0,0,()=>V4t],2],e9e=[3,xr,r4t,0,[$ee,Uee,JPe,Fee],[[()=>Gee,0],()=>Hee,1,0]],t9e=[3,xr,i4t,0,[YPe,QPe,L4t,E4t,KPe,WPe,qPe],[0,0,[()=>G4t,0],0,()=>m9e,0,1],3],n9e=[3,xr,s4t,0,[$ee,I4t,Uee,JPe,x4t,a4t,Fee],[[()=>Gee,0],0,()=>Hee,1,0,0,0]],Gee=[3,xr,$ee,0,[ZCt,T4t,C4t,l4t],[0,[()=>H4t,0],0,4],4],r9e=[-3,xr,d4t,{[Qb]:["ExpiredTokenException",400],[Zb]:Xb,[e_]:400},[t_],[0]];je.for(xr).registerError(r9e,FC);o9e=[-3,xr,p4t,{[Qb]:["IDPCommunicationError",400],[Zb]:Xb,[e_]:400},[t_],[0]];je.for(xr).registerError(o9e,qC);i9e=[-3,xr,f4t,{[Qb]:["IDPRejectedClaim",403],[Zb]:Xb,[e_]:403},[t_],[0]];je.for(xr).registerError(i9e,zC);s9e=[-3,xr,m4t,{[Qb]:["InvalidIdentityToken",400],[Zb]:Xb,[e_]:400},[t_],[0]];je.for(xr).registerError(s9e,jC);a9e=[-3,xr,g4t,{[Qb]:["MalformedPolicyDocument",400],[Zb]:Xb,[e_]:400},[t_],[0]];je.for(xr).registerError(a9e,HC);c9e=[-3,xr,A4t,{[Qb]:["PackedPolicyTooLarge",400],[Zb]:Xb,[e_]:400},[t_],[0]];je.for(xr).registerError(c9e,GC);l9e=[3,xr,v4t,0,[M4t],[0]],u9e=[3,xr,S4t,0,[y4t,c4t],[0,0]],d9e=[-3,xr,w4t,{[Qb]:["RegionDisabledException",403],[Zb]:Xb,[e_]:403},[t_],[0]];je.for(xr).registerError(d9e,VC);p9e=[3,xr,D4t,0,[h4t,k4t],[0,0],2],f9e=[-3,XPe,"STSServiceException",0,[],[]];je.for(XPe).registerError(f9e,vc);m9e=[1,xr,$4t,0,()=>l9e],V4t=[1,xr,_4t,0,()=>u9e],z4t=[1,xr,F4t,0,()=>p9e],Vee=[9,xr,e4t,0,()=>ZPe,()=>e9e],zee=[9,xr,o4t,0,()=>t9e,()=>n9e]});var n_,i7=b(()=>{"use strict";We();Ie();n7();o7();n_=class extends ae.classBuilder().ep(t7).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Vee).build(){}});var r_,s7=b(()=>{"use strict";We();Ie();n7();o7();r_=class extends ae.classBuilder().ep(t7).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(zee).build(){}});var j4t,a7,h9e=b(()=>{"use strict";Ie();i7();s7();$C();j4t={AssumeRoleCommand:n_,AssumeRoleWithWebIdentityCommand:r_},a7=class extends rf{};lu(j4t,a7)});var g9e=b(()=>{"use strict";i7();s7()});var y9e=b(()=>{"use strict"});var b9e,_9e,S9e,v9e,E9e,A9e=b(()=>{"use strict";_s();O0();i7();s7();b9e=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},_9e=async(t,e,n,r={})=>{let o=typeof t=="function"?await t():t,i=typeof e=="function"?await e():e,s="",a=o??i??(s=await b5e(r)());return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${i} (contextual client)`,`${s} (STS default: AWS_REGION, profile region, or us-east-1)`),a},S9e=(t,e)=>{let n,r;return async(o,i)=>{if(r=o,!n){let{logger:u=t?.parentClientConfig?.logger,profile:d=t?.parentClientConfig?.profile,region:p,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:m=t?.parentClientConfig?.userAgentAppId}=t,g=await _9e(p,t?.parentClientConfig?.region,h,{logger:u,profile:d}),y=!E9e(f);n=new e({...t,userAgentAppId:m,profile:d,credentialDefaultProvider:()=>async()=>r,region:g,requestHandler:y?f:void 0,logger:u})}let{Credentials:s,AssumedRoleUser:a}=await n.send(new n_(i));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=b9e(a),l={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...c&&{accountId:c}};return qn(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},v9e=(t,e)=>{let n;return async r=>{if(!n){let{logger:c=t?.parentClientConfig?.logger,profile:l=t?.parentClientConfig?.profile,region:u,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:p,userAgentAppId:f=t?.parentClientConfig?.userAgentAppId}=t,h=await _9e(u,t?.parentClientConfig?.region,p,{logger:c,profile:l}),m=!E9e(d);n=new e({...t,userAgentAppId:f,profile:l,region:h,requestHandler:m?d:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:i}=await n.send(new r_(r));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let s=b9e(i),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...s&&{accountId:s}};return s&&qn(a,"RESOLVED_ACCOUNT_ID","T"),qn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},E9e=t=>t?.metadata?.handlerProtocol==="h2"});var x9e,w9e,T9e,q4t,I9e=b(()=>{"use strict";A9e();$C();x9e=(t,e)=>e?class extends t{constructor(r){super(r);for(let o of e)this.middlewareStack.use(o)}}:t,w9e=(t={},e)=>S9e(t,x9e(rf,e)),T9e=(t={},e)=>v9e(t,x9e(rf,e)),q4t=t=>e=>t({roleAssumer:w9e(e),roleAssumerWithWebIdentity:T9e(e),...e})});var jee={};kn(jee,{$Command:()=>ae,AssumeRole$:()=>Vee,AssumeRoleCommand:()=>n_,AssumeRoleRequest$:()=>ZPe,AssumeRoleResponse$:()=>e9e,AssumeRoleWithWebIdentity$:()=>zee,AssumeRoleWithWebIdentityCommand:()=>r_,AssumeRoleWithWebIdentityRequest$:()=>t9e,AssumeRoleWithWebIdentityResponse$:()=>n9e,AssumedRoleUser$:()=>Hee,Credentials$:()=>Gee,ExpiredTokenException:()=>FC,ExpiredTokenException$:()=>r9e,IDPCommunicationErrorException:()=>qC,IDPCommunicationErrorException$:()=>o9e,IDPRejectedClaimException:()=>zC,IDPRejectedClaimException$:()=>i9e,InvalidIdentityTokenException:()=>jC,InvalidIdentityTokenException$:()=>s9e,MalformedPolicyDocumentException:()=>HC,MalformedPolicyDocumentException$:()=>a9e,PackedPolicyTooLargeException:()=>GC,PackedPolicyTooLargeException$:()=>c9e,PolicyDescriptorType$:()=>l9e,ProvidedContext$:()=>u9e,RegionDisabledException:()=>VC,RegionDisabledException$:()=>d9e,STS:()=>a7,STSClient:()=>rf,STSServiceException:()=>vc,STSServiceException$:()=>f9e,Tag$:()=>p9e,__Client:()=>Fi,decorateDefaultCredentialProvider:()=>q4t,getDefaultRoleAssumer:()=>w9e,getDefaultRoleAssumerWithWebIdentity:()=>T9e});var qee=b(()=>{"use strict";$C();h9e();g9e();o7();Bee();y9e();I9e();r7()});var C9e,W4t,K4t,N9e,R9e,O9e=b(()=>{"use strict";_s();Rr();bc();lPe();C9e=(t,{profile:e="default",logger:n}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(W4t(t,{profile:e,logger:n})||K4t(t,{profile:e,logger:n})),W4t=(t,{profile:e,logger:n})=>{let r=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return r&&n?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),r},K4t=(t,{profile:e,logger:n})=>{let r=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return r&&n?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),r},N9e=async(t,e,n,r,o={},i)=>{n.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t],{source_profile:a,region:c}=s;if(!n.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(qee(),jee));n.roleAssumer=u({...n.clientConfig,credentialProviderLogger:n.logger,parentClientConfig:{...r,...n?.parentClientConfig,region:c??n?.parentClientConfig?.region??r?.region}},n.clientPlugins)}if(a&&a in o)throw new Et(`Detected a cycle attempting to resolve credentials for profile ${yc(n)}. Profiles visited: `+Object.keys(o).join(", "),{logger:n.logger});n.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let l=a?i(a,e,n,r,{...o,[a]:!0},R9e(e[a]??{})):(await cPe(s.credential_source,t,n.logger)(n))();if(R9e(s))return l.then(u=>qn(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!n.mfaCodeProvider)throw new Et(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:n.logger,tryNextLink:!1});u.SerialNumber=d,u.TokenCode=await n.mfaCodeProvider(d)}let p=await l;return n.roleAssumer(p,u).then(f=>qn(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},R9e=t=>!t.role_arn&&!!t.credential_source});function J4t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function Y4t(t){return{schemeId:"smithy.api#noAuth"}}var P9e,D9e,k9e,Wee=b(()=>{"use strict";wi();Ws();P9e=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});D9e=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(Y4t(t));break}default:e.push(J4t(t))}return e},k9e=t=>{let e=cu(t);return Object.assign(e,{authSchemePreference:vr(t.authSchemePreference??[])})}});var L9e,M9e,Kee=b(()=>{"use strict";L9e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),M9e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var z9e,ta,B9e,o_,dA,L0,Hd,u7,Jee,U9e,$9e,F9e,Yee,Qee,ea,Xee,c7,l7,H9e,G9e,V9e,Q4t,j9e,q9e=b(()=>{"use strict";z9e="required",ta="argv",B9e="isSet",o_="booleanEquals",dA="error",L0="endpoint",Hd="tree",u7="PartitionResult",Jee="stringEquals",U9e={[z9e]:!0,default:!1,type:"boolean"},$9e={[z9e]:!1,type:"string"},F9e={ref:"Endpoint"},Yee={fn:o_,[ta]:[{ref:"UseFIPS"},!0]},Qee={fn:o_,[ta]:[{ref:"UseDualStack"},!0]},ea={},Xee={fn:"getAttr",[ta]:[{ref:u7},"name"]},c7={fn:o_,[ta]:[{ref:"UseFIPS"},!1]},l7={fn:o_,[ta]:[{ref:"UseDualStack"},!1]},H9e={fn:"getAttr",[ta]:[{ref:u7},"supportsFIPS"]},G9e={fn:o_,[ta]:[!0,{fn:"getAttr",[ta]:[{ref:u7},"supportsDualStack"]}]},V9e=[{ref:"Region"}],Q4t={version:"1.0",parameters:{UseDualStack:U9e,UseFIPS:U9e,Endpoint:$9e,Region:$9e},rules:[{conditions:[{fn:B9e,[ta]:[F9e]}],rules:[{conditions:[Yee],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dA},{rules:[{conditions:[Qee],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dA},{endpoint:{url:F9e,properties:ea,headers:ea},type:L0}],type:Hd}],type:Hd},{rules:[{conditions:[{fn:B9e,[ta]:V9e}],rules:[{conditions:[{fn:"aws.partition",[ta]:V9e,assign:u7}],rules:[{conditions:[{fn:Jee,[ta]:[Xee,"aws"]},c7,l7],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:ea,headers:ea},type:L0},{conditions:[{fn:Jee,[ta]:[Xee,"aws-cn"]},c7,l7],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:ea,headers:ea},type:L0},{conditions:[{fn:Jee,[ta]:[Xee,"aws-us-gov"]},c7,l7],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:ea,headers:ea},type:L0},{conditions:[Yee,Qee],rules:[{conditions:[{fn:o_,[ta]:[!0,H9e]},G9e],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:L0}],type:Hd},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dA}],type:Hd},{conditions:[Yee,l7],rules:[{conditions:[{fn:o_,[ta]:[H9e,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:L0}],type:Hd},{error:"FIPS is enabled but this partition does not support FIPS",type:dA}],type:Hd},{conditions:[c7,Qee],rules:[{conditions:[G9e],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:L0}],type:Hd},{error:"DualStack is enabled but this partition does not support DualStack",type:dA}],type:Hd},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:L0}],type:Hd}],type:Hd},{error:"Invalid Configuration: Missing Region",type:dA}],type:Hd}]},j9e=Q4t});var X4t,W9e,K9e=b(()=>{"use strict";b0();Bd();q9e();X4t=new mc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),W9e=(t,e={})=>X4t.get(t,()=>ru(j9e,{endpointParams:t,logger:e.logger}));bs.aws=il});var J9e,Y9e=b(()=>{"use strict";wi();km();Xr();Ie();Dm();Ks();ti();Wee();K9e();J9e=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??W9e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??D9e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zl}],logger:t?.logger??new Qs,protocol:t?.protocol??A0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var Q9e,X9e=b(()=>{"use strict";DL();wi();qb();Ca();Wb();al();Su();Im();Ie();Kb();Jb();Mm();Y9e();Q9e=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=J9e(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:eA.version}),maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var Z9e,eDe,tDe=b(()=>{"use strict";Z9e=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},eDe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var nDe,rDe=b(()=>{"use strict";O0();go();Ie();tDe();nDe=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),Z9e(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),eDe(n))}});var WC,Zee=b(()=>{"use strict";Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();Wee();Kee();X9e();rDe();WC=class extends Fi{config;constructor(...[e]){let n=Q9e(e||{});super(n),this.initConfig=n;let r=L9e(n),o=eu(r),i=Au(o),s=bu(i),a=s,c=vu(a),l=k9e(c),u=nDe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:P9e,identityProviderConfigProvider:async d=>new fc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var Gd,d7=b(()=>{"use strict";Ie();Gd=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var KC,JC,YC,QC,ete=b(()=>{"use strict";d7();KC=class t extends Gd{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},JC=class t extends Gd{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},YC=class t extends Gd{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},QC=class t extends Gd{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var Z4t,e6t,t6t,n6t,r6t,o6t,i6t,s6t,a6t,c6t,l6t,oDe,iDe,tte,sDe,aDe,u6t,M0,cDe,lDe,d6t,nte,uDe,ll,f7,p7,dDe,p6t,pDe,fDe,hDe,f6t,m6t,mDe,Na,gDe,yDe,bDe,_De,SDe,vDe,EDe,ADe,xDe,wDe,TDe,rte,ote=b(()=>{"use strict";Er();ete();d7();Z4t="AccessDeniedException",e6t="AccessToken",t6t="CreateOAuth2Token",n6t="CreateOAuth2TokenRequest",r6t="CreateOAuth2TokenRequestBody",o6t="CreateOAuth2TokenResponseBody",i6t="CreateOAuth2TokenResponse",s6t="InternalServerException",a6t="RefreshToken",c6t="TooManyRequestsError",l6t="ValidationException",oDe="accessKeyId",iDe="accessToken",tte="client",sDe="clientId",aDe="codeVerifier",u6t="code",M0="error",cDe="expiresIn",lDe="grantType",d6t="http",nte="httpError",uDe="idToken",ll="jsonName",f7="message",p7="refreshToken",dDe="redirectUri",p6t="server",pDe="secretAccessKey",fDe="sessionToken",hDe="smithy.ts.sdk.synthetic.com.amazonaws.signin",f6t="tokenInput",m6t="tokenOutput",mDe="tokenType",Na="com.amazonaws.signin",gDe=[0,Na,a6t,8,0],yDe=[-3,Na,Z4t,{[M0]:tte},[M0,f7],[0,0],2];je.for(Na).registerError(yDe,KC);bDe=[3,Na,e6t,8,[oDe,pDe,fDe],[[0,{[ll]:oDe}],[0,{[ll]:pDe}],[0,{[ll]:fDe}]],3],_De=[3,Na,n6t,0,[f6t],[[()=>SDe,16]],1],SDe=[3,Na,r6t,0,[sDe,lDe,u6t,dDe,aDe,p7],[[0,{[ll]:sDe}],[0,{[ll]:lDe}],0,[0,{[ll]:dDe}],[0,{[ll]:aDe}],[()=>gDe,{[ll]:p7}]],2],vDe=[3,Na,i6t,0,[m6t],[[()=>EDe,16]],1],EDe=[3,Na,o6t,0,[iDe,mDe,cDe,p7,uDe],[[()=>bDe,{[ll]:iDe}],[0,{[ll]:mDe}],[1,{[ll]:cDe}],[()=>gDe,{[ll]:p7}],[0,{[ll]:uDe}]],4],ADe=[-3,Na,s6t,{[M0]:p6t,[nte]:500},[M0,f7],[0,0],2];je.for(Na).registerError(ADe,JC);xDe=[-3,Na,c6t,{[M0]:tte,[nte]:429},[M0,f7],[0,0],2];je.for(Na).registerError(xDe,YC);wDe=[-3,Na,l6t,{[M0]:tte,[nte]:400},[M0,f7],[0,0],2];je.for(Na).registerError(wDe,QC);TDe=[-3,hDe,"SigninServiceException",0,[],[]];je.for(hDe).registerError(TDe,Gd);rte=[9,Na,t6t,{[d6t]:["POST","/v1/token",200]},()=>_De,()=>vDe]});var XC,ite=b(()=>{"use strict";We();Ie();Kee();ote();XC=class extends ae.classBuilder().ep(M9e).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(rte).build(){}});var h6t,m7,IDe=b(()=>{"use strict";Ie();ite();Zee();h6t={CreateOAuth2TokenCommand:XC},m7=class extends WC{};lu(h6t,m7)});var RDe=b(()=>{"use strict";ite()});var g6t,CDe=b(()=>{"use strict";g6t={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var NDe=b(()=>{"use strict"});var ODe={};kn(ODe,{$Command:()=>ae,AccessDeniedException:()=>KC,AccessDeniedException$:()=>yDe,AccessToken$:()=>bDe,CreateOAuth2Token$:()=>rte,CreateOAuth2TokenCommand:()=>XC,CreateOAuth2TokenRequest$:()=>_De,CreateOAuth2TokenRequestBody$:()=>SDe,CreateOAuth2TokenResponse$:()=>vDe,CreateOAuth2TokenResponseBody$:()=>EDe,InternalServerException:()=>JC,InternalServerException$:()=>ADe,OAuth2ErrorCode:()=>g6t,Signin:()=>m7,SigninClient:()=>WC,SigninServiceException:()=>Gd,SigninServiceException$:()=>TDe,TooManyRequestsError:()=>YC,TooManyRequestsError$:()=>xDe,ValidationException:()=>QC,ValidationException$:()=>wDe,__Client:()=>Fi});var PDe=b(()=>{"use strict";Zee();IDe();RDe();ote();CDe();ete();NDe();d7()});import{createHash as y6t,createPrivateKey as b6t,createPublicKey as _6t,sign as S6t}from"node:crypto";import{promises as ste}from"node:fs";import{homedir as v6t}from"node:os";import{dirname as E6t,join as DDe}from"node:path";var h7,kDe=b(()=>{"use strict";Rr();go();bc();h7=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(e,n,r){this.profileData=e,this.init=n,this.callerClientConfig=r}async loadCredentials(){let e=await this.loadToken();if(!e)throw new Et(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let n=e.accessToken,r=Date.now();return new Date(n.expiresAt).getTime()-r<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,sessionToken:n.sessionToken,accountId:n.accountId,expiration:new Date(n.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:n,CreateOAuth2TokenCommand:r}=await Promise.resolve().then(()=>(PDe(),ODe)),{logger:o,userAgentAppId:i}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new n({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:o,userAgentAppId:i,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let u={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new r(u)),{accessKeyId:p,secretAccessKey:f,sessionToken:h}=d.tokenOutput?.accessToken??{},{refreshToken:m,expiresIn:g}=d.tokenOutput??{};if(!p||!f||!h||!m)throw new Et("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let y=(g??900)*1e3,S=new Date(Date.now()+y),v={...e,accessToken:{...e.accessToken,accessKeyId:p,secretAccessKey:f,sessionToken:h,expiresAt:S.toISOString()},refreshToken:m};await this.saveToken(v);let A=v.accessToken;return{accessKeyId:A.accessKeyId,secretAccessKey:A.secretAccessKey,sessionToken:A.sessionToken,accountId:A.accountId,expiration:S}}catch(d){if(d.name==="AccessDeniedException"){let p=d.error,f;switch(p){case"TOKEN_EXPIRED":f="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":f="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":f="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:f=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new Et(f,{logger:this.logger,tryNextLink:!1})}throw new Et(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let n;try{n=await R0(e,{ignoreCache:this.init?.ignoreCache})}catch{n=await ste.readFile(e,"utf8")}let r=JSON.parse(n),o=["accessToken","clientId","refreshToken","dpopKey"].filter(i=>!r[i]);if(r.accessToken?.accountId||o.push("accountId"),o.length>0)throw new Et(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return r}catch(n){throw new Et(`Failed to load token from ${e}: ${String(n)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let n=this.getTokenFilePath(),r=E6t(n);try{await ste.mkdir(r,{recursive:!0})}catch{}await ste.writeFile(n,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??DDe(v6t(),".aws","login","cache"),n=Buffer.from(this.loginSession,"utf8"),r=y6t("sha256").update(n).digest("hex");return DDe(e,`${r}.json`)}derToRawSignature(e){let n=2;if(e[n]!==2)throw new Error("Invalid DER signature");n++;let r=e[n++],o=e.subarray(n,n+r);if(n+=r,e[n]!==2)throw new Error("Invalid DER signature");n++;let i=e[n++],s=e.subarray(n,n+i);o=o[0]===0?o.subarray(1):o,s=s[0]===0?s.subarray(1):s;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),c=Buffer.concat([Buffer.alloc(32-s.length),s]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(n=>async r=>{if(Sr.isInstance(r.request)){let o=r.request,i=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,s=await this.generateDpop(o.method,i);o.headers={...o.headers,DPoP:s}}return n(r)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",n){let r=await this.loadToken();try{let o=b6t({key:r.dpopKey,format:"pem",type:"sec1"}),s=_6t(o).export({format:"der",type:"spki"}),a=-1;for(let S=0;S<s.length;S++)if(s[S]===4){a=S;break}let c=s.slice(a+1,a+33),l=s.slice(a+33,a+65),u={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:e,htu:n,iat:Math.floor(Date.now()/1e3)},p=Buffer.from(JSON.stringify(u)).toString("base64url"),f=Buffer.from(JSON.stringify(d)).toString("base64url"),h=`${p}.${f}`,m=S6t("sha256",Buffer.from(h),o),y=this.derToRawSignature(m).toString("base64url");return`${h}.${y}`}catch(o){throw new Et(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}}});var LDe,MDe=b(()=>{"use strict";_s();Rr();bc();kDe();LDe=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let n=await ef(t||{}),r=yc({profile:t?.profile??e?.profile}),o=n[r];if(!o?.login_session)throw new Et(`Profile ${r} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let s=await new h7(o,t,e).loadCredentials();return qn(s,"CREDENTIALS_LOGIN","AD")}});var BDe=b(()=>{"use strict"});var UDe=b(()=>{"use strict";MDe();BDe()});var $De,FDe,HDe=b(()=>{"use strict";_s();UDe();$De=t=>!!(t&&t.login_session),FDe=async(t,e,n)=>{let r=await LDe({...e,profile:t})({callerClientConfig:n});return qn(r,"CREDENTIALS_PROFILE_LOGIN","AC")}});var GDe,VDe=b(()=>{"use strict";_s();GDe=(t,e,n)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let i=new Date;if(new Date(e.Expiration)<i)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let r=e.AccountId;!r&&n?.[t]?.aws_account_id&&(r=n[t].aws_account_id);let o={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...r&&{accountId:r}};return qn(o,"CREDENTIALS_PROCESS","w"),o}});import{exec as A6t}from"child_process";import{promisify as x6t}from"util";var zDe,jDe=b(()=>{"use strict";Rr();bc();VDe();zDe=async(t,e,n)=>{let r=e[t];if(e[t]){let o=r.credential_process;if(o!==void 0){let i=x6t(gC?.getTokenRecord?.().exec??A6t);try{let{stdout:s}=await i(o),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return GDe(t,a,e)}catch(s){throw new Et(s.message,{logger:n})}}else throw new Et(`Profile ${t} did not contain credential_process.`,{logger:n})}else throw new Et(`Profile ${t} could not be found in shared credentials file.`,{logger:n})}});var w6t,qDe=b(()=>{"use strict";bc();jDe();w6t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let n=await ef(t);return zDe(yc({profile:t.profile??e?.profile}),n,t.logger)}});var ate={};kn(ate,{fromProcess:()=>w6t});var cte=b(()=>{"use strict";qDe()});var WDe,KDe,JDe=b(()=>{"use strict";_s();WDe=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",KDe=async(t,e)=>Promise.resolve().then(()=>(cte(),ate)).then(({fromProcess:n})=>n({...t,profile:e})().then(r=>qn(r,"CREDENTIALS_PROFILE_PROCESS","v")))});var YDe,QDe,XDe=b(()=>{"use strict";_s();YDe=async(t,e,n={},r)=>{let{fromSSO:o}=await Promise.resolve().then(()=>(Pee(),Oee));return o({profile:t,logger:n.logger,parentClientConfig:n.parentClientConfig,clientConfig:n.clientConfig})({callerClientConfig:r}).then(i=>e.sso_session?qn(i,"CREDENTIALS_PROFILE_SSO","r"):qn(i,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},QDe=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var lte,ute,ZDe=b(()=>{"use strict";_s();lte=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,ute=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let n={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return qn(n,"CREDENTIALS_PROFILE","n")}});var dte,pte=b(()=>{"use strict";dte=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:n,roleSessionName:r,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:l}=t;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>(qee(),jee));l=u({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return l({RoleArn:n,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})}});import{readFileSync as T6t}from"fs";var eke,I6t,R6t,C6t,tke=b(()=>{"use strict";_s();Rr();bc();pte();eke="AWS_WEB_IDENTITY_TOKEN_FILE",I6t="AWS_ROLE_ARN",R6t="AWS_ROLE_SESSION_NAME",C6t=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let n=t?.webIdentityTokenFile??process.env[eke],r=t?.roleArn??process.env[I6t],o=t?.roleSessionName??process.env[R6t];if(!n||!r)throw new Et("Web identity configuration not specified",{logger:t.logger});let i=await dte({...t,webIdentityToken:gC?.getTokenRecord?.()[n]??T6t(n,{encoding:"ascii"}),roleArn:r,roleSessionName:o})(e);return n===process.env[eke]&&qn(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i}});var fte={};kn(fte,{fromTokenFile:()=>C6t,fromWebToken:()=>dte});var mte=b(()=>{"use strict";tke();pte()});var nke,rke,oke=b(()=>{"use strict";_s();nke=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,rke=async(t,e,n)=>Promise.resolve().then(()=>(mte(),fte)).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:n}).then(o=>qn(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var hte,ike=b(()=>{"use strict";Rr();O9e();HDe();JDe();XDe();ZDe();oke();hte=async(t,e,n,r,o={},i=!1)=>{let s=e[t];if(Object.keys(o).length>0&&lte(s))return ute(s,n);if(i||C9e(s,{profile:t,logger:n.logger}))return N9e(t,e,n,r,o,hte);if(lte(s))return ute(s,n);if(nke(s))return rke(s,n,r);if(WDe(s))return KDe(n,t);if(QDe(s))return await YDe(t,s,n,r);if($De(s))return FDe(t,n,r);throw new Et(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:n.logger})}});var N6t,ske=b(()=>{"use strict";bc();ike();N6t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await ef(t);return hte(yc({profile:t.profile??e?.profile}),n,t,e)}});var ake={};kn(ake,{fromIni:()=>N6t});var cke=b(()=>{"use strict";ske()});var lke,g7,O6t,uke=b(()=>{"use strict";jZ();Rr();bc();AOe();wOe();lke=!1,g7=(t={})=>xOe([async()=>{if(t.profile??process.env[CZ])throw process.env[EL]&&process.env[AL]&&(lke||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),lke=!0)),new Et("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),zZ(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:n,ssoAccountId:r,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t;if(!n&&!r&&!o&&!i&&!s)throw new Et("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(Pee(),Oee));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:n}=await Promise.resolve().then(()=>(cke(),ake));return n(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:n}=await Promise.resolve().then(()=>(cte(),ate));return n(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:n}=await Promise.resolve().then(()=>(mte(),fte));return n(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await EOe(t))()),async()=>{throw new Et("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],O6t),O6t=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5});var gte=b(()=>{"use strict";uke()});var xke,Ec,B0,U0,dke,ZC,pA,sf,Fm,y7,yte,pke,fke,mke,wke,Tke,Mu,hke,gke,bte,yke,bke,_ke,Ske,vke,Eke,Ake,P6t,Ike,Rke=b(()=>{"use strict";xke="required",Ec="argv",B0="properties",U0="headers",dke="isSet",ZC="booleanEquals",pA="error",sf="endpoint",Fm="tree",y7="PartitionResult",yte="stringEquals",pke={[xke]:!1,type:"string"},fke={[xke]:!0,default:!1,type:"boolean"},mke={ref:"Endpoint"},wke={fn:ZC,[Ec]:[{ref:"UseFIPS"},!0]},Tke={fn:ZC,[Ec]:[{ref:"UseDualStack"},!0]},Mu={},hke={fn:"getAttr",[Ec]:[{ref:y7},"supportsFIPS"]},gke={fn:ZC,[Ec]:[!0,{fn:"getAttr",[Ec]:[{ref:y7},"supportsDualStack"]}]},bte={fn:"getAttr",[Ec]:[{ref:y7},"name"]},yke={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[B0]:{},[U0]:{}},bke={url:"https://secretsmanager.{Region}.amazonaws.com",[B0]:{},[U0]:{}},_ke=[wke],Ske=[Tke],vke=[{ref:"Region"}],Eke=[{fn:yte,[Ec]:["aws",bte]}],Ake=[{fn:yte,[Ec]:["aws-us-gov",bte]}],P6t={version:"1.0",parameters:{Region:pke,UseDualStack:fke,UseFIPS:fke,Endpoint:pke},rules:[{conditions:[{fn:dke,[Ec]:[mke]}],rules:[{conditions:_ke,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:pA},{conditions:Ske,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:pA},{endpoint:{url:mke,[B0]:Mu,[U0]:Mu},type:sf}],type:Fm},{conditions:[{fn:dke,[Ec]:vke}],rules:[{conditions:[{fn:"aws.partition",[Ec]:vke,assign:y7}],rules:[{conditions:[wke,Tke],rules:[{conditions:[{fn:ZC,[Ec]:[!0,hke]},gke],rules:[{conditions:Eke,endpoint:yke,type:sf},{conditions:Ake,endpoint:yke,type:sf},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[B0]:Mu,[U0]:Mu},type:sf}],type:Fm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:pA}],type:Fm},{conditions:_ke,rules:[{conditions:[{fn:ZC,[Ec]:[hke,!0]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[B0]:Mu,[U0]:Mu},type:sf}],type:Fm},{error:"FIPS is enabled but this partition does not support FIPS",type:pA}],type:Fm},{conditions:Ske,rules:[{conditions:[gke],rules:[{conditions:Eke,endpoint:bke,type:sf},{conditions:[{fn:yte,[Ec]:["aws-cn",bte]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[B0]:Mu,[U0]:Mu},type:sf},{conditions:Ake,endpoint:bke,type:sf},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[B0]:Mu,[U0]:Mu},type:sf}],type:Fm},{error:"DualStack is enabled but this partition does not support DualStack",type:pA}],type:Fm},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[B0]:Mu,[U0]:Mu},type:sf}],type:Fm}],type:Fm},{error:"Invalid Configuration: Missing Region",type:pA}]},Ike=P6t});var D6t,Cke,Nke=b(()=>{"use strict";b0();Bd();Rke();D6t=new mc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Cke=(t,e={})=>D6t.get(t,()=>ru(Ike,{endpointParams:t,logger:e.logger}));bs.aws=il});var Oke,Pke=b(()=>{"use strict";wi();km();Ie();Dm();Ks();ti();VZ();Nke();Oke=t=>({apiVersion:"2017-10-17",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Cke,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??HNe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss}],logger:t?.logger??new Qs,protocol:t?.protocol??Qk,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.secretsmanager",version:"2017-10-17",serviceTarget:"secretsmanager"},serviceId:t?.serviceId??"Secrets Manager",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var Dke,kke=b(()=>{"use strict";zNe();wi();gte();qb();Ca();Wb();al();Su();Im();Ie();Kb();Jb();Mm();Pke();Dke=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=Oke(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,credentialDefaultProvider:t?.credentialDefaultProvider??g7,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:jNe.version}),maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var Lke,Mke,Bke=b(()=>{"use strict";Lke=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},Mke=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Uke,$ke=b(()=>{"use strict";O0();go();Ie();Bke();Uke=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),Lke(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),Mke(n))}});var Vd,fA=b(()=>{"use strict";Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();VZ();ao();kke();$ke();Vd=class extends Fi{config;constructor(...[e]){let n=Dke(e||{});super(n),this.initConfig=n;let r=VNe(n),o=eu(r),i=Au(o),s=bu(i),a=s,c=vu(a),l=GNe(c),u=Uke(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:FNe,identityProviderConfigProvider:async d=>new fc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var Hi,b7=b(()=>{"use strict";Ie();Hi=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var e4,t4,n4,r4,o4,i4,s4,a4,c4,l4,u4,d4,_te=b(()=>{"use strict";b7();e4=class t extends Hi{name="DecryptionFailure";$fault="client";Message;constructor(e){super({name:"DecryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},t4=class t extends Hi{name="InternalServiceError";$fault="server";Message;constructor(e){super({name:"InternalServiceError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},n4=class t extends Hi{name="InvalidNextTokenException";$fault="client";Message;constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},r4=class t extends Hi{name="InvalidParameterException";$fault="client";Message;constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},o4=class t extends Hi{name="InvalidRequestException";$fault="client";Message;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},i4=class t extends Hi{name="ResourceNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},s4=class t extends Hi{name="EncryptionFailure";$fault="client";Message;constructor(e){super({name:"EncryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},a4=class t extends Hi{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},c4=class t extends Hi{name="MalformedPolicyDocumentException";$fault="client";Message;constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},l4=class t extends Hi{name="PreconditionNotMetException";$fault="client";Message;constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},u4=class t extends Hi{name="ResourceExistsException";$fault="client";Message;constructor(e){super({name:"ResourceExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},d4=class t extends Hi{name="PublicPolicyException";$fault="client";Message;constructor(e){super({name:"PublicPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}}});var k6t,L6t,M6t,Gi,Fke,B6t,U6t,$6t,F6t,H6t,p4,G6t,V6t,z6t,j6t,_7,q6t,W6t,K6t,S7,J6t,Hke,Y6t,Q6t,X6t,Z6t,e3t,t3t,n3t,r3t,o3t,i3t,s3t,a3t,c3t,l3t,u3t,d3t,p3t,f3t,m3t,Ste,h3t,g3t,vte,y3t,Gke,b3t,_3t,Vke,S3t,v3t,E3t,A3t,x3t,w3t,T3t,I3t,R3t,C3t,N3t,O3t,P3t,D3t,k3t,L3t,M3t,Ete,mA,B3t,v7,zke,U3t,jke,$3t,F3t,H3t,G3t,V3t,z3t,ul,j3t,Ate,q3t,As,qke,hA,Wke,W3t,K3t,J3t,Kke,Y3t,Q3t,X3t,Z3t,eNt,tNt,nNt,Jke,Yke,rNt,oNt,iNt,sNt,xte,aNt,cNt,lNt,wte,Tte,uNt,dNt,pNt,fNt,mNt,hNt,E7,gNt,yNt,bNt,_Nt,SNt,vNt,ENt,ANt,xNt,wNt,TNt,INt,RNt,CNt,NNt,f4,ONt,PNt,DNt,Ti,kNt,LNt,MNt,BNt,UNt,$Nt,FNt,HNt,GNt,m4,VNt,zNt,jNt,qNt,WNt,KNt,JNt,Qke,A7,YNt,QNt,XNt,ZNt,eOt,x7,tOt,nOt,rOt,oOt,iOt,sOt,aOt,cOt,Xke,lOt,uOt,dOt,Hm,pOt,fOt,mOt,hOt,Zke,h4,gOt,yOt,zd,Bu,bOt,eLe,Pe,_Ot,SOt,g4,y4,tLe,nLe,rLe,oLe,iLe,sLe,aLe,cLe,lLe,uLe,dLe,pLe,fLe,mLe,hLe,gLe,yLe,bLe,_Le,SLe,vLe,ELe,ALe,xLe,wLe,TLe,ILe,RLe,CLe,NLe,OLe,PLe,DLe,kLe,LLe,MLe,BLe,ULe,$Le,FLe,HLe,GLe,VLe,zLe,jLe,qLe,WLe,KLe,JLe,YLe,QLe,w7,XLe,ZLe,e7e,t7e,n7e,r7e,o7e,i7e,s7e,a7e,c7e,l7e,u7e,d7e,p7e,f7e,m7e,h7e,vOt,Ite,g7e,T7,EOt,AOt,xOt,I7,wOt,Rte,Cte,Nte,Ote,Pte,Dte,kte,Lte,Mte,Bte,Ute,$te,Fte,Hte,Gte,Vte,zte,jte,qte,Wte,Kte,Jte,Yte,co=b(()=>{"use strict";Er();_te();b7();k6t="AutomaticallyAfterDays",L6t="APIErrorListType",M6t="APIErrorType",Gi="ARN",Fke="AddReplicaRegions",B6t="AddReplicaRegionListType",U6t="BatchGetSecretValue",$6t="BatchGetSecretValueRequest",F6t="BatchGetSecretValueResponse",H6t="BlockPublicPolicy",p4="CreatedDate",G6t="CheckName",V6t="CancelRotateSecret",z6t="CancelRotateSecretRequest",j6t="CancelRotateSecretResponse",_7="ClientRequestToken",q6t="CreateSecret",W6t="CreateSecretRequest",K6t="CreateSecretResponse",S7="Description",J6t="DeletionDate",Hke="DeletedDate",Y6t="DecryptionFailure",Q6t="DeleteResourcePolicy",X6t="DeleteResourcePolicyRequest",Z6t="DeleteResourcePolicyResponse",e3t="DeleteSecret",t3t="DeleteSecretRequest",n3t="DeleteSecretResponse",r3t="DescribeSecretRequest",o3t="DescribeSecretResponse",i3t="DescribeSecret",s3t="Duration",a3t="Errors",c3t="ErrorCode",l3t="ExcludeCharacters",u3t="EncryptionFailure",d3t="ExcludeLowercase",p3t="ErrorMessage",f3t="ExcludeNumbers",m3t="ExcludePunctuation",Ste="ExternalSecretRotationMetadata",h3t="ExternalSecretRotationMetadataItem",g3t="ExternalSecretRotationMetadataType",vte="ExternalSecretRotationRoleArn",y3t="ExcludeUppercase",Gke="Filters",b3t="ForceDeleteWithoutRecovery",_3t="FiltersListType",Vke="ForceOverwriteReplicaSecret",S3t="Filter",v3t="GetRandomPassword",E3t="GetRandomPasswordRequest",A3t="GetRandomPasswordResponse",x3t="GetResourcePolicyRequest",w3t="GetResourcePolicyResponse",T3t="GetResourcePolicy",I3t="GetSecretValue",R3t="GetSecretValueRequest",C3t="GetSecretValueResponse",N3t="IncludeDeprecated",O3t="InvalidNextTokenException",P3t="IncludePlannedDeletion",D3t="InvalidParameterException",k3t="InvalidRequestException",L3t="IncludeSpace",M3t="InternalServiceError",Ete="Key",mA="KmsKeyId",B3t="KmsKeyIds",v7="LastAccessedDate",zke="LastChangedDate",U3t="LimitExceededException",jke="LastRotatedDate",$3t="ListSecrets",F3t="ListSecretsRequest",H3t="ListSecretsResponse",G3t="ListSecretVersionIds",V3t="ListSecretVersionIdsRequest",z3t="ListSecretVersionIdsResponse",ul="Message",j3t="MalformedPolicyDocumentException",Ate="MaxResults",q3t="MoveToVersionId",As="Name",qke="NextRotationDate",hA="NextToken",Wke="OwningService",W3t="PasswordLength",K3t="PreconditionNotMetException",J3t="PublicPolicyException",Kke="PrimaryRegion",Y3t="PutResourcePolicy",Q3t="PutResourcePolicyRequest",X3t="PutResourcePolicyResponse",Z3t="PutSecretValue",eNt="PutSecretValueRequest",tNt="PutSecretValueResponse",nNt="PolicyValidationPassed",Jke="Region",Yke="RotationEnabled",rNt="ResourceExistsException",oNt="RequireEachIncludedType",iNt="RemoveFromVersionId",sNt="RotateImmediately",xte="RotationLambdaARN",aNt="ResourceNotFoundException",cNt="RandomPassword",lNt="RandomPasswordType",wte="ResourcePolicy",Tte="RotationRules",uNt="RemoveRegionsFromReplication",dNt="RemoveRegionsFromReplicationRequest",pNt="RemoveRegionsFromReplicationResponse",fNt="RemoveReplicaRegions",mNt="ReplicaRegionType",hNt="RotationRulesType",E7="ReplicationStatus",gNt="ReplicationStatusListType",yNt="RestoreSecretRequest",bNt="RestoreSecretResponse",_Nt="RotateSecretRequest",SNt="RotateSecretResponse",vNt="ReplicationStatusType",ENt="ReplicateSecretToRegions",ANt="ReplicateSecretToRegionsRequest",xNt="ReplicateSecretToRegionsResponse",wNt="RestoreSecret",TNt="RotateSecret",INt="RotationToken",RNt="RotationTokenType",CNt="RecoveryWindowInDays",NNt="Status",f4="SecretBinary",ONt="SecretBinaryType",PNt="SortBy",DNt="ScheduleExpression",Ti="SecretId",kNt="SecretIdList",LNt="SecretList",MNt="SecretListEntry",BNt="SecretListType",UNt="StatusMessage",$Nt="SortOrder",FNt="StopReplicationToReplica",HNt="StopReplicationToReplicaRequest",GNt="StopReplicationToReplicaResponse",m4="SecretString",VNt="SecretStringType",zNt="SecretValues",jNt="SecretValueEntry",qNt="SecretVersionsListEntry",WNt="SecretVersionsListType",KNt="SecretValuesType",JNt="SecretVersionsToStages",Qke="SecretVersionsToStagesMapType",A7="Tags",YNt="TagKeys",QNt="TagListType",XNt="TagResource",ZNt="TagResourceRequest",eOt="Tag",x7="Type",tOt="UntagResource",nOt="UntagResourceRequest",rOt="UpdateSecret",oOt="UpdateSecretRequest",iOt="UpdateSecretResponse",sOt="UpdateSecretVersionStage",aOt="UpdateSecretVersionStageRequest",cOt="UpdateSecretVersionStageResponse",Xke="Value",lOt="ValidationErrors",uOt="ValidationErrorsEntry",dOt="ValidationErrorsType",Hm="VersionId",pOt="VersionIdsToStages",fOt="ValidateResourcePolicy",mOt="ValidateResourcePolicyRequest",hOt="ValidateResourcePolicyResponse",Zke="VersionStage",h4="VersionStages",gOt="Values",yOt="Versions",zd="client",Bu="error",bOt="server",eLe="smithy.ts.sdk.synthetic.com.amazonaws.secretsmanager",Pe="com.amazonaws.secretsmanager",_Ot=[0,Pe,lNt,8,0],SOt=[0,Pe,RNt,8,0],g4=[0,Pe,ONt,8,21],y4=[0,Pe,VNt,8,0],tLe=[3,Pe,M6t,0,[Ti,c3t,ul],[0,0,0]],nLe=[3,Pe,$6t,0,[kNt,Gke,Ate,hA],[64,()=>g7e,1,0]],rLe=[3,Pe,F6t,0,[zNt,hA,a3t],[[()=>AOt,0],0,()=>vOt]],oLe=[3,Pe,z6t,0,[Ti],[0],1],iLe=[3,Pe,j6t,0,[Gi,As,Hm],[0,0,0]],sLe=[3,Pe,W6t,0,[As,_7,S7,mA,f4,m4,A7,Fke,Vke,x7],[0,[0,4],0,0,[()=>g4,0],[()=>y4,0],()=>I7,()=>h7e,2,0],1],aLe=[3,Pe,K6t,0,[Gi,As,Hm,E7],[0,0,0,()=>T7]],cLe=[-3,Pe,Y6t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(cLe,e4);lLe=[3,Pe,X6t,0,[Ti],[0],1],uLe=[3,Pe,Z6t,0,[Gi,As],[0,0]],dLe=[3,Pe,t3t,0,[Ti,CNt,b3t],[0,1,2],1],pLe=[3,Pe,n3t,0,[Gi,As,J6t],[0,0,4]],fLe=[3,Pe,r3t,0,[Ti],[0],1],mLe=[3,Pe,o3t,0,[Gi,As,x7,S7,mA,Yke,xte,Tte,Ste,vte,jke,zke,v7,Hke,qke,A7,pOt,Wke,p4,Kke,E7],[0,0,0,0,0,2,0,()=>w7,()=>Ite,0,4,4,4,4,4,()=>I7,[2,Pe,Qke,0,0,64],0,4,0,()=>T7]],hLe=[-3,Pe,u3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(hLe,s4);gLe=[3,Pe,h3t,0,[Ete,Xke],[0,0]],yLe=[3,Pe,S3t,0,[Ete,gOt],[0,64]],bLe=[3,Pe,E3t,0,[W3t,l3t,f3t,m3t,y3t,d3t,L3t,oNt],[1,0,2,2,2,2,2,2]],_Le=[3,Pe,A3t,0,[cNt],[[()=>_Ot,0]]],SLe=[3,Pe,x3t,0,[Ti],[0],1],vLe=[3,Pe,w3t,0,[Gi,As,wte],[0,0,0]],ELe=[3,Pe,R3t,0,[Ti,Hm,Zke],[0,0,0],1],ALe=[3,Pe,C3t,0,[Gi,As,Hm,f4,m4,h4,p4],[0,0,0,[()=>g4,0],[()=>y4,0],64,4]],xLe=[-3,Pe,M3t,{[Bu]:bOt},[ul],[0]];je.for(Pe).registerError(xLe,t4);wLe=[-3,Pe,O3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(wLe,n4);TLe=[-3,Pe,D3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(TLe,r4);ILe=[-3,Pe,k3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(ILe,o4);RLe=[-3,Pe,U3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(RLe,a4);CLe=[3,Pe,F3t,0,[P3t,Ate,hA,Gke,$Nt,PNt],[2,1,0,()=>g7e,0,0]],NLe=[3,Pe,H3t,0,[LNt,hA],[()=>EOt,0]],OLe=[3,Pe,V3t,0,[Ti,Ate,hA,N3t],[0,1,0,2],1],PLe=[3,Pe,z3t,0,[yOt,hA,Gi,As],[()=>xOt,0,0,0]],DLe=[-3,Pe,j3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(DLe,c4);kLe=[-3,Pe,K3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(kLe,l4);LLe=[-3,Pe,J3t,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(LLe,d4);MLe=[3,Pe,Q3t,0,[Ti,wte,H6t],[0,0,2],2],BLe=[3,Pe,X3t,0,[Gi,As],[0,0]],ULe=[3,Pe,eNt,0,[Ti,_7,f4,m4,h4,INt],[0,[0,4],[()=>g4,0],[()=>y4,0],64,[()=>SOt,0]],1],$Le=[3,Pe,tNt,0,[Gi,As,Hm,h4],[0,0,0,64]],FLe=[3,Pe,dNt,0,[Ti,fNt],[0,64],2],HLe=[3,Pe,pNt,0,[Gi,E7],[0,()=>T7]],GLe=[3,Pe,mNt,0,[Jke,mA],[0,0]],VLe=[3,Pe,ANt,0,[Ti,Fke,Vke],[0,()=>h7e,2],2],zLe=[3,Pe,xNt,0,[Gi,E7],[0,()=>T7]],jLe=[3,Pe,vNt,0,[Jke,mA,NNt,UNt,v7],[0,0,0,0,4]],qLe=[-3,Pe,rNt,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(qLe,u4);WLe=[-3,Pe,aNt,{[Bu]:zd},[ul],[0]];je.for(Pe).registerError(WLe,i4);KLe=[3,Pe,yNt,0,[Ti],[0],1],JLe=[3,Pe,bNt,0,[Gi,As],[0,0]],YLe=[3,Pe,_Nt,0,[Ti,_7,xte,Tte,Ste,vte,sNt],[0,[0,4],0,()=>w7,()=>Ite,0,2],1],QLe=[3,Pe,SNt,0,[Gi,As,Hm],[0,0,0]],w7=[3,Pe,hNt,0,[k6t,s3t,DNt],[1,0,0]],XLe=[3,Pe,MNt,0,[Gi,As,x7,S7,mA,Yke,xte,Tte,Ste,vte,jke,zke,v7,Hke,qke,A7,JNt,Wke,p4,Kke],[0,0,0,0,0,2,0,()=>w7,()=>Ite,0,4,4,4,4,4,()=>I7,[2,Pe,Qke,0,0,64],0,4,0]],ZLe=[3,Pe,jNt,0,[Gi,As,Hm,f4,m4,h4,p4],[0,0,0,[()=>g4,0],[()=>y4,0],64,4]],e7e=[3,Pe,qNt,0,[Hm,h4,v7,p4,B3t],[0,64,4,4,64]],t7e=[3,Pe,HNt,0,[Ti],[0],1],n7e=[3,Pe,GNt,0,[Gi],[0]],r7e=[3,Pe,eOt,0,[Ete,Xke],[0,0]],o7e=[3,Pe,ZNt,0,[Ti,A7],[0,()=>I7],2],i7e=[3,Pe,nOt,0,[Ti,YNt],[0,64],2],s7e=[3,Pe,oOt,0,[Ti,_7,S7,mA,f4,m4,x7],[0,[0,4],0,0,[()=>g4,0],[()=>y4,0],0],1],a7e=[3,Pe,iOt,0,[Gi,As,Hm],[0,0,0]],c7e=[3,Pe,aOt,0,[Ti,Zke,iNt,q3t],[0,0,0,0],2],l7e=[3,Pe,cOt,0,[Gi,As],[0,0]],u7e=[3,Pe,mOt,0,[wte,Ti],[0,0],1],d7e=[3,Pe,hOt,0,[nNt,lOt],[2,()=>wOt]],p7e=[3,Pe,uOt,0,[G6t,p3t],[0,0]],f7e="unit",m7e=[-3,eLe,"SecretsManagerServiceException",0,[],[]];je.for(eLe).registerError(m7e,Hi);h7e=[1,Pe,B6t,0,()=>GLe],vOt=[1,Pe,L6t,0,()=>tLe],Ite=[1,Pe,g3t,0,()=>gLe],g7e=[1,Pe,_3t,0,()=>yLe],T7=[1,Pe,gNt,0,()=>jLe],EOt=[1,Pe,BNt,0,()=>XLe],AOt=[1,Pe,KNt,0,[()=>ZLe,0]],xOt=[1,Pe,WNt,0,()=>e7e],I7=[1,Pe,QNt,0,()=>r7e],wOt=[1,Pe,dOt,0,()=>p7e],Rte=[9,Pe,U6t,0,()=>nLe,()=>rLe],Cte=[9,Pe,V6t,0,()=>oLe,()=>iLe],Nte=[9,Pe,q6t,0,()=>sLe,()=>aLe],Ote=[9,Pe,Q6t,0,()=>lLe,()=>uLe],Pte=[9,Pe,e3t,0,()=>dLe,()=>pLe],Dte=[9,Pe,i3t,0,()=>fLe,()=>mLe],kte=[9,Pe,v3t,0,()=>bLe,()=>_Le],Lte=[9,Pe,T3t,0,()=>SLe,()=>vLe],Mte=[9,Pe,I3t,0,()=>ELe,()=>ALe],Bte=[9,Pe,$3t,0,()=>CLe,()=>NLe],Ute=[9,Pe,G3t,0,()=>OLe,()=>PLe],$te=[9,Pe,Y3t,0,()=>MLe,()=>BLe],Fte=[9,Pe,Z3t,0,()=>ULe,()=>$Le],Hte=[9,Pe,uNt,0,()=>FLe,()=>HLe],Gte=[9,Pe,ENt,0,()=>VLe,()=>zLe],Vte=[9,Pe,wNt,0,()=>KLe,()=>JLe],zte=[9,Pe,TNt,0,()=>YLe,()=>QLe],jte=[9,Pe,FNt,0,()=>t7e,()=>n7e],qte=[9,Pe,XNt,0,()=>o7e,()=>f7e],Wte=[9,Pe,tOt,0,()=>i7e,()=>f7e],Kte=[9,Pe,rOt,0,()=>s7e,()=>a7e],Jte=[9,Pe,sOt,0,()=>c7e,()=>l7e],Yte=[9,Pe,fOt,0,()=>u7e,()=>d7e]});var i_,R7=b(()=>{"use strict";We();Ie();ao();co();i_=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").sc(Rte).build(){}});var b4,Qte=b(()=>{"use strict";We();Ie();ao();co();b4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").sc(Cte).build(){}});var _4,Xte=b(()=>{"use strict";We();Ie();ao();co();_4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").sc(Nte).build(){}});var S4,Zte=b(()=>{"use strict";We();Ie();ao();co();S4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").sc(Ote).build(){}});var v4,ene=b(()=>{"use strict";We();Ie();ao();co();v4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").sc(Pte).build(){}});var E4,tne=b(()=>{"use strict";We();Ie();ao();co();E4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").sc(Dte).build(){}});var A4,nne=b(()=>{"use strict";We();Ie();ao();co();A4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").sc(kte).build(){}});var x4,rne=b(()=>{"use strict";We();Ie();ao();co();x4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").sc(Lte).build(){}});var w4,one=b(()=>{"use strict";We();Ie();ao();co();w4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").sc(Mte).build(){}});var s_,C7=b(()=>{"use strict";We();Ie();ao();co();s_=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").sc(Bte).build(){}});var a_,N7=b(()=>{"use strict";We();Ie();ao();co();a_=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").sc(Ute).build(){}});var T4,ine=b(()=>{"use strict";We();Ie();ao();co();T4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").sc($te).build(){}});var I4,sne=b(()=>{"use strict";We();Ie();ao();co();I4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").sc(Fte).build(){}});var R4,ane=b(()=>{"use strict";We();Ie();ao();co();R4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").sc(Hte).build(){}});var C4,cne=b(()=>{"use strict";We();Ie();ao();co();C4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").sc(Gte).build(){}});var N4,lne=b(()=>{"use strict";We();Ie();ao();co();N4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").sc(Vte).build(){}});var O4,une=b(()=>{"use strict";We();Ie();ao();co();O4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").sc(zte).build(){}});var P4,dne=b(()=>{"use strict";We();Ie();ao();co();P4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").sc(jte).build(){}});var D4,pne=b(()=>{"use strict";We();Ie();ao();co();D4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").sc(qte).build(){}});var k4,fne=b(()=>{"use strict";We();Ie();ao();co();k4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").sc(Wte).build(){}});var L4,mne=b(()=>{"use strict";We();Ie();ao();co();L4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").sc(Kte).build(){}});var M4,hne=b(()=>{"use strict";We();Ie();ao();co();M4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").sc(Jte).build(){}});var B4,gne=b(()=>{"use strict";We();Ie();ao();co();B4=class extends ae.classBuilder().ep(fn).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").sc(Yte).build(){}});var yne,bne=b(()=>{"use strict";Xr();R7();fA();yne=No(Vd,i_,"NextToken","NextToken","MaxResults")});var _ne,Sne=b(()=>{"use strict";Xr();C7();fA();_ne=No(Vd,s_,"NextToken","NextToken","MaxResults")});var vne,Ene=b(()=>{"use strict";Xr();N7();fA();vne=No(Vd,a_,"NextToken","NextToken","MaxResults")});var TOt,IOt,O7,y7e=b(()=>{"use strict";Ie();R7();Qte();Xte();Zte();ene();tne();nne();rne();one();C7();N7();ine();sne();ane();cne();lne();une();dne();pne();fne();mne();hne();gne();bne();Sne();Ene();fA();TOt={BatchGetSecretValueCommand:i_,CancelRotateSecretCommand:b4,CreateSecretCommand:_4,DeleteResourcePolicyCommand:S4,DeleteSecretCommand:v4,DescribeSecretCommand:E4,GetRandomPasswordCommand:A4,GetResourcePolicyCommand:x4,GetSecretValueCommand:w4,ListSecretsCommand:s_,ListSecretVersionIdsCommand:a_,PutResourcePolicyCommand:T4,PutSecretValueCommand:I4,RemoveRegionsFromReplicationCommand:R4,ReplicateSecretToRegionsCommand:C4,RestoreSecretCommand:N4,RotateSecretCommand:O4,StopReplicationToReplicaCommand:P4,TagResourceCommand:D4,UntagResourceCommand:k4,UpdateSecretCommand:L4,UpdateSecretVersionStageCommand:M4,ValidateResourcePolicyCommand:B4},IOt={paginateBatchGetSecretValue:yne,paginateListSecrets:_ne,paginateListSecretVersionIds:vne},O7=class extends Vd{};lu(TOt,O7,{paginators:IOt})});var b7e=b(()=>{"use strict";R7();Qte();Xte();Zte();ene();tne();nne();rne();one();N7();C7();ine();sne();ane();cne();lne();une();dne();pne();fne();mne();hne();gne()});var _7e=b(()=>{"use strict"});var S7e=b(()=>{"use strict";_7e();bne();Sne();Ene()});var ROt,COt,NOt,OOt,v7e=b(()=>{"use strict";ROt={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},COt={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},NOt={created_date:"created-date",last_accessed_date:"last-accessed-date",last_changed_date:"last-changed-date",name:"name"},OOt={asc:"asc",desc:"desc"}});var E7e=b(()=>{"use strict"});var A7e={};kn(A7e,{$Command:()=>ae,APIErrorType$:()=>tLe,BatchGetSecretValue$:()=>Rte,BatchGetSecretValueCommand:()=>i_,BatchGetSecretValueRequest$:()=>nLe,BatchGetSecretValueResponse$:()=>rLe,CancelRotateSecret$:()=>Cte,CancelRotateSecretCommand:()=>b4,CancelRotateSecretRequest$:()=>oLe,CancelRotateSecretResponse$:()=>iLe,CreateSecret$:()=>Nte,CreateSecretCommand:()=>_4,CreateSecretRequest$:()=>sLe,CreateSecretResponse$:()=>aLe,DecryptionFailure:()=>e4,DecryptionFailure$:()=>cLe,DeleteResourcePolicy$:()=>Ote,DeleteResourcePolicyCommand:()=>S4,DeleteResourcePolicyRequest$:()=>lLe,DeleteResourcePolicyResponse$:()=>uLe,DeleteSecret$:()=>Pte,DeleteSecretCommand:()=>v4,DeleteSecretRequest$:()=>dLe,DeleteSecretResponse$:()=>pLe,DescribeSecret$:()=>Dte,DescribeSecretCommand:()=>E4,DescribeSecretRequest$:()=>fLe,DescribeSecretResponse$:()=>mLe,EncryptionFailure:()=>s4,EncryptionFailure$:()=>hLe,ExternalSecretRotationMetadataItem$:()=>gLe,Filter$:()=>yLe,FilterNameStringType:()=>ROt,GetRandomPassword$:()=>kte,GetRandomPasswordCommand:()=>A4,GetRandomPasswordRequest$:()=>bLe,GetRandomPasswordResponse$:()=>_Le,GetResourcePolicy$:()=>Lte,GetResourcePolicyCommand:()=>x4,GetResourcePolicyRequest$:()=>SLe,GetResourcePolicyResponse$:()=>vLe,GetSecretValue$:()=>Mte,GetSecretValueCommand:()=>w4,GetSecretValueRequest$:()=>ELe,GetSecretValueResponse$:()=>ALe,InternalServiceError:()=>t4,InternalServiceError$:()=>xLe,InvalidNextTokenException:()=>n4,InvalidNextTokenException$:()=>wLe,InvalidParameterException:()=>r4,InvalidParameterException$:()=>TLe,InvalidRequestException:()=>o4,InvalidRequestException$:()=>ILe,LimitExceededException:()=>a4,LimitExceededException$:()=>RLe,ListSecretVersionIds$:()=>Ute,ListSecretVersionIdsCommand:()=>a_,ListSecretVersionIdsRequest$:()=>OLe,ListSecretVersionIdsResponse$:()=>PLe,ListSecrets$:()=>Bte,ListSecretsCommand:()=>s_,ListSecretsRequest$:()=>CLe,ListSecretsResponse$:()=>NLe,MalformedPolicyDocumentException:()=>c4,MalformedPolicyDocumentException$:()=>DLe,PreconditionNotMetException:()=>l4,PreconditionNotMetException$:()=>kLe,PublicPolicyException:()=>d4,PublicPolicyException$:()=>LLe,PutResourcePolicy$:()=>$te,PutResourcePolicyCommand:()=>T4,PutResourcePolicyRequest$:()=>MLe,PutResourcePolicyResponse$:()=>BLe,PutSecretValue$:()=>Fte,PutSecretValueCommand:()=>I4,PutSecretValueRequest$:()=>ULe,PutSecretValueResponse$:()=>$Le,RemoveRegionsFromReplication$:()=>Hte,RemoveRegionsFromReplicationCommand:()=>R4,RemoveRegionsFromReplicationRequest$:()=>FLe,RemoveRegionsFromReplicationResponse$:()=>HLe,ReplicaRegionType$:()=>GLe,ReplicateSecretToRegions$:()=>Gte,ReplicateSecretToRegionsCommand:()=>C4,ReplicateSecretToRegionsRequest$:()=>VLe,ReplicateSecretToRegionsResponse$:()=>zLe,ReplicationStatusType$:()=>jLe,ResourceExistsException:()=>u4,ResourceExistsException$:()=>qLe,ResourceNotFoundException:()=>i4,ResourceNotFoundException$:()=>WLe,RestoreSecret$:()=>Vte,RestoreSecretCommand:()=>N4,RestoreSecretRequest$:()=>KLe,RestoreSecretResponse$:()=>JLe,RotateSecret$:()=>zte,RotateSecretCommand:()=>O4,RotateSecretRequest$:()=>YLe,RotateSecretResponse$:()=>QLe,RotationRulesType$:()=>w7,SecretListEntry$:()=>XLe,SecretValueEntry$:()=>ZLe,SecretVersionsListEntry$:()=>e7e,SecretsManager:()=>O7,SecretsManagerClient:()=>Vd,SecretsManagerServiceException:()=>Hi,SecretsManagerServiceException$:()=>m7e,SortByType:()=>NOt,SortOrderType:()=>OOt,StatusType:()=>COt,StopReplicationToReplica$:()=>jte,StopReplicationToReplicaCommand:()=>P4,StopReplicationToReplicaRequest$:()=>t7e,StopReplicationToReplicaResponse$:()=>n7e,Tag$:()=>r7e,TagResource$:()=>qte,TagResourceCommand:()=>D4,TagResourceRequest$:()=>o7e,UntagResource$:()=>Wte,UntagResourceCommand:()=>k4,UntagResourceRequest$:()=>i7e,UpdateSecret$:()=>Kte,UpdateSecretCommand:()=>L4,UpdateSecretRequest$:()=>s7e,UpdateSecretResponse$:()=>a7e,UpdateSecretVersionStage$:()=>Jte,UpdateSecretVersionStageCommand:()=>M4,UpdateSecretVersionStageRequest$:()=>c7e,UpdateSecretVersionStageResponse$:()=>l7e,ValidateResourcePolicy$:()=>Yte,ValidateResourcePolicyCommand:()=>B4,ValidateResourcePolicyRequest$:()=>u7e,ValidateResourcePolicyResponse$:()=>d7e,ValidationErrorsEntry$:()=>p7e,__Client:()=>Fi,paginateBatchGetSecretValue:()=>yne,paginateListSecretVersionIds:()=>vne,paginateListSecrets:()=>_ne});var x7e=b(()=>{"use strict";fA();y7e();b7e();co();S7e();v7e();_te();E7e();b7()});function Te(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ee))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ee in n&&n[ee]===e[ee])return!0;n=Object.getPrototypeOf(n)}return!1}var ee,xEr,st=b(()=>{"use strict";ee=Symbol.for("drizzle:entityKind"),xEr=Symbol.for("drizzle:hasOwnEntityKind")});var Cr,Gm=b(()=>{"use strict";st();Cr=class{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var P7,w7e=b(()=>{"use strict";st();P7=class{static[ee]="ColumnBuilder";config;constructor(e,n,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}});var jd,D7=b(()=>{"use strict";jd=Symbol.for("drizzle:Name")});var k7,Ane,xne=b(()=>{"use strict";st();D7();k7=class{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,n){this.reference=()=>{let{name:r,columns:o,foreignColumns:i}=e();return{name:r,columns:o,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Ane(e,this)}},Ane=class{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:n,foreignColumns:r}=this.reference(),o=n.map(a=>a.name),i=r.map(a=>a.name),s=[this.table[jd],...o,r[0].table[jd],...i];return e??`${s.join("_")}_fk`}}});function L7(t,...e){return t(...e)}var wne=b(()=>{"use strict"});function af(t){return new Ine(t)}function Cne(t,e){return`${t[jd]}_${e.join("_")}_unique`}var Tne,Ine,Rne,Nne=b(()=>{"use strict";st();D7();Tne=class{constructor(e,n){this.name=n,this.columns=e}static[ee]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new Rne(e,this.columns,this.nullsNotDistinctConfig,this.name)}},Ine=class{static[ee]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new Tne(e,this.name)}},Rne=class{constructor(e,n,r,o){this.table=e,this.columns=n,this.name=o??Cne(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=r}static[ee]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function T7e(t,e,n){for(let r=e;r<t.length;r++){let o=t[r];if(o==="\\"){r++;continue}if(o==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(o===","||o==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function I7e(t,e=0){let n=[],r=e,o=!1;for(;r<t.length;){let i=t[r];if(i===","){(o||r===e)&&n.push(""),o=!0,r++;continue}if(o=!1,i==="\\"){r+=2;continue}if(i==='"'){let[c,l]=T7e(t,r+1,!0);n.push(c),r=l;continue}if(i==="}")return[n,r+1];if(i==="{"){let[c,l]=I7e(t,r+1);n.push(c),r=l;continue}let[s,a]=T7e(t,r,!1);n.push(s),r=a}return[n,r]}function R7e(t){let[e]=I7e(t,1);return e}function One(t){return`{${t.map(e=>Array.isArray(e)?One(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Pne=b(()=>{"use strict"});var Tt,ot,Dne,gA,kne,Lne,Bn=b(()=>{"use strict";w7e();Gm();st();xne();wne();Nne();Pne();Tt=class extends P7{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(e){return new kne(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:r,actions:o})=>L7((i,s)=>{let a=new k7(()=>{let c=i();return{columns:[e],foreignColumns:[c]}});return s.onUpdate&&a.onUpdate(s.onUpdate),s.onDelete&&a.onDelete(s.onDelete),a.build(n)},r,o))}buildExtraConfigColumn(e){return new Dne(e,this.config)}},ot=class extends Cr{constructor(e,n){n.uniqueName||(n.uniqueName=Cne(e,[n.name])),super(e,n),this.table=e}static[ee]="PgColumn"},Dne=class extends ot{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}},gA=class{static[ee]="IndexedColumn";constructor(e,n,r,o){this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=o}name;keyAsName;type;indexConfig},kne=class extends Tt{static[ee]="PgArrayBuilder";constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){let n=this.config.baseBuilder.build(e);return new Lne(e,this.config,n)}},Lne=class t extends ot{constructor(e,n,r,o){super(e,n),this.baseColumn=r,this.range=o,this.size=n.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=R7e(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){let r=e.map(o=>o===null?null:Te(this.baseColumn,t)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return n?r:One(r)}}});function C7e(t){return!!t&&typeof t=="function"&&M7 in t&&t[M7]===!0}function N7e(t,e,n){let r=Object.assign(o=>new Une(o??"",r),{enumName:t,enumValues:e,schema:n,[M7]:!0});return r}function O7e(t,e,n){let r=Object.assign(o=>new Mne(o??"",r),{enumName:t,enumValues:Object.values(e),schema:n,[M7]:!0});return r}var Mne,Bne,M7,Une,$ne,B7=b(()=>{"use strict";st();Bn();Mne=class extends Tt{static[ee]="PgEnumObjectColumnBuilder";constructor(e,n){super(e,"string","PgEnumObjectColumn"),this.config.enum=n}build(e){return new Bne(e,this.config)}},Bne=class extends ot{static[ee]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,n){super(e,n),this.enum=n.enum}getSQLType(){return this.enum.enumName}},M7=Symbol.for("drizzle:isPgEnum");Une=class extends Tt{static[ee]="PgEnumColumnBuilder";constructor(e,n){super(e,"string","PgEnumColumn"),this.config.enum=n}build(e){return new $ne(e,this.config)}},$ne=class extends ot{static[ee]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,n){super(e,n),this.enum=n.enum}getSQLType(){return this.enum.enumName}}});var lo,yA,cf=b(()=>{"use strict";st();lo=class{static[ee]="Subquery";constructor(e,n,r,o=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:o,usedTables:i}}},yA=class extends lo{static[ee]="WithSubquery"}});var P7e,D7e=b(()=>{"use strict";P7e="0.45.1"});var Fne,Hne,Vr,Vm=b(()=>{"use strict";wne();D7e();Vr={startActiveSpan(t,e){return Fne?(Hne||(Hne=Fne.trace.getTracer("drizzle-orm",P7e)),L7((n,r)=>r.startActiveSpan(t,o=>{try{return e(o)}catch(i){throw o.setStatus({code:n.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{o.end()}}),Fne,Hne)):e()}}});var Zr,$0=b(()=>{"use strict";Zr=Symbol.for("drizzle:ViewBaseConfig")});function Ac(t){return t[jd]}function l_(t){return`${t[c_]??"public"}.${t[jd]}`}var c_,U7,k7e,Gne,Vne,U4,L7e,LOt,lt,xc=b(()=>{"use strict";st();D7();c_=Symbol.for("drizzle:Schema"),U7=Symbol.for("drizzle:Columns"),k7e=Symbol.for("drizzle:ExtraConfigColumns"),Gne=Symbol.for("drizzle:OriginalName"),Vne=Symbol.for("drizzle:BaseName"),U4=Symbol.for("drizzle:IsAlias"),L7e=Symbol.for("drizzle:ExtraConfigBuilder"),LOt=Symbol.for("drizzle:IsDrizzleTable"),lt=class{static[ee]="Table";static Symbol={Name:jd,Schema:c_,OriginalName:Gne,Columns:U7,ExtraConfigColumns:k7e,BaseName:Vne,IsAlias:U4,ExtraConfigBuilder:L7e};[jd];[Gne];[c_];[U7];[k7e];[Vne];[U4]=!1;[LOt]=!0;[L7e]=void 0;constructor(e,n,r){this[jd]=this[Gne]=e,this[c_]=n,this[Vne]=r}}});function zne(t){return t!=null&&typeof t.getSQL=="function"}function MOt(t){let e={sql:"",params:[]};for(let n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}function B7e(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}function ne(t,...e){let n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Ii(t[0]));for(let[r,o]of e.entries())n.push(o,new Ii(t[r+1]));return new St(n)}function u_(t,e){return t.map(n=>{if(Te(n,zm)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(Te(n,wc)&&Te(n.value,zm)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}var M7e,Ii,St,$4,U7e,$7e,f2r,wc,zm,BOt,Oa,zo=b(()=>{"use strict";st();B7();cf();Vm();$0();Gm();xc();M7e=class{static[ee]="FakePrimitiveParam"};Ii=class{static[ee]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new St([this])}},St=class t{constructor(e){this.queryChunks=e;for(let n of e)if(Te(n,lt)){let r=n[lt.Symbol.Schema];this.usedTables.push(r===void 0?n[lt.Symbol.Name]:r+"."+n[lt.Symbol.Name])}}static[ee]="SQL";decoder=U7e;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Vr.startActiveSpan("drizzle.buildSQL",n=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){let r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:i,escapeParam:s,prepareTyping:a,inlineParams:c,paramStartIndex:l}=r;return MOt(e.map(u=>{if(Te(u,Ii))return{sql:u.value.join(""),params:[]};if(Te(u,$4))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){let d=[new Ii("(")];for(let[p,f]of u.entries())d.push(f),p<u.length-1&&d.push(new Ii(", "));return d.push(new Ii(")")),this.buildQueryFromSourceParams(d,r)}if(Te(u,t))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(Te(u,lt)){let d=u[lt.Symbol.Schema],p=u[lt.Symbol.Name];return{sql:d===void 0||u[U4]?i(p):i(d)+"."+i(p),params:[]}}if(Te(u,Cr)){let d=o.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(d),params:[]};let p=u.table[lt.Symbol.Schema];return{sql:u.table[U4]||p===void 0?i(u.table[lt.Symbol.Name])+"."+i(d):i(p)+"."+i(u.table[lt.Symbol.Name])+"."+i(d),params:[]}}if(Te(u,Oa)){let d=u[Zr].schema,p=u[Zr].name;return{sql:d===void 0||u[Zr].isAlias?i(p):i(d)+"."+i(p),params:[]}}if(Te(u,wc)){if(Te(u.value,zm))return{sql:s(l.value++,u),params:[u],typings:["none"]};let d=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Te(d,t))return this.buildQueryFromSourceParams([d],r);if(c)return{sql:this.mapInlineParam(d,r),params:[]};let p=["none"];return a&&(p=[a(u.encoder)]),{sql:s(l.value++,d),params:[d],typings:p}}return Te(u,zm)?{sql:s(l.value++,u),params:[u],typings:["none"]}:Te(u,t.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Te(u,lo)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Ii("("),u._.sql,new Ii(") "),new $4(u._.alias)],r):C7e(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:zne(u)?u.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new Ii("("),u.getSQL(),new Ii(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:s(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){let r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new t.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}},$4=class{constructor(e){this.value=e}static[ee]="Name";brand;getSQL(){return new St([this])}};U7e={mapFromDriverValue:t=>t},$7e={mapToDriverValue:t=>t},f2r={...U7e,...$7e},wc=class{constructor(e,n=$7e){this.value=e,this.encoder=n}static[ee]="Param";brand;getSQL(){return new St([this])}};(t=>{function e(){return new St([])}t.empty=e;function n(c){return new St(c)}t.fromList=n;function r(c){return new St([new Ii(c)])}t.raw=r;function o(c,l){let u=[];for(let[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new St(u)}t.join=o;function i(c){return new $4(c)}t.identifier=i;function s(c){return new zm(c)}t.placeholder=s;function a(c,l){return new wc(c,l)}t.param=a})(ne||(ne={}));(t=>{class e{constructor(r,o){this.sql=r,this.fieldAlias=o}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(St||(St={}));zm=class{constructor(e){this.name=e}static[ee]="Placeholder";getSQL(){return new St([this])}};BOt=Symbol.for("drizzle:IsDrizzleView"),Oa=class{static[ee]="View";[Zr];[BOt]=!0;constructor({name:e,schema:n,selectedFields:r,query:o}){this[Zr]={name:e,originalName:e,schema:n,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new St([this])}};Cr.prototype.getSQL=function(){return new St([this])};lt.prototype.getSQL=function(){return new St([this])};lo.prototype.getSQL=function(){return new St([this])}});function F4(t,e){return new Proxy(t,new bA(e,!1))}function lf(t,e){return new Proxy(t,new d_(new Proxy(t.table,new bA(e,!1))))}function jne(t,e){return new St.Aliased(H4(t.sql,e),t.fieldAlias)}function H4(t,e){return ne.join(t.queryChunks.map(n=>Te(n,Cr)?lf(n,e):Te(n,St)?H4(n,e):Te(n,St.Aliased)?jne(n,e):n))}var d_,bA,F7e,qne=b(()=>{"use strict";Gm();st();zo();xc();$0();d_=class{constructor(e){this.table=e}static[ee]="ColumnAliasProxyHandler";get(e,n){return n==="table"?this.table:e[n]}},bA=class{constructor(e,n){this.alias=e,this.replaceOriginalName=n}static[ee]="TableAliasProxyHandler";get(e,n){if(n===lt.Symbol.IsAlias)return!0;if(n===lt.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===lt.Symbol.OriginalName)return this.alias;if(n===Zr)return{...e[Zr],name:this.alias,isAlias:!0};if(n===lt.Symbol.Columns){let o=e[lt.Symbol.Columns];if(!o)return o;let i={};return Object.keys(o).map(s=>{i[s]=new Proxy(o[s],new d_(new Proxy(e,this)))}),i}let r=e[n];return Te(r,Cr)?new Proxy(r,new d_(new Proxy(e,this))):r}},F7e=class{constructor(e){this.alias=e}static[ee]="RelationTableAliasProxyHandler";get(e,n){return n==="sourceTable"?F4(e.sourceTable,this.alias):e[n]}}});var H7e=b(()=>{"use strict"});var G7e,Wne,V7e=b(()=>{"use strict";st();G7e=class{constructor(e,n){this.name=e,this.value=n}static[ee]="PgCheckBuilder";brand;build(e){return new Wne(e,this)}},Wne=class{constructor(e,n){this.table=e,this.name=n.name,this.value=n.value}static[ee]="PgCheck";name;value}});function $7(t,e,n){let r={},o=t.reduce((i,{path:s,field:a},c)=>{let l;Te(a,Cr)?l=a:Te(a,St)?l=a.decoder:Te(a,lo)?l=a._.sql.decoder:l=a.sql.decoder;let u=i;for(let[d,p]of s.entries())if(d<s.length-1)p in u||(u[p]={}),u=u[p];else{let f=e[c],h=u[p]=f===null?null:l.mapFromDriverValue(f);if(n&&Te(a,Cr)&&s.length===2){let m=s[0];m in r?typeof r[m]=="string"&&r[m]!==Ac(a.table)&&(r[m]=!1):r[m]=h===null?Ac(a.table):!1}}return i},{});if(n&&Object.keys(r).length>0)for(let[i,s]of Object.entries(r))typeof s=="string"&&!n[s]&&(o[i]=null);return o}function Uu(t,e){return Object.entries(t).reduce((n,[r,o])=>{if(typeof r!="string")return n;let i=e?[...e,r]:[r];return Te(o,Cr)||Te(o,St)||Te(o,St.Aliased)||Te(o,lo)?n.push({path:i,field:o}):Te(o,lt)?n.push(...Uu(o[lt.Symbol.Columns],i)):n.push(...Uu(o,i)),n},[])}function G4(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let[o,i]of n.entries())if(i!==r[o])return!1;return!0}function F7(t,e){let n=Object.entries(e).filter(([,r])=>r!==void 0).map(([r,o])=>Te(o,St)||Te(o,Cr)?[r,o]:[r,new wc(o,t[lt.Symbol.Columns][r])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function z7e(t,e){for(let n of e)for(let r of Object.getOwnPropertyNames(n.prototype))r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))}function V4(t){return t[lt.Symbol.Columns]}function jm(t){return Te(t,lo)?t._.alias:Te(t,Oa)?t[Zr].name:Te(t,St)?void 0:t[lt.Symbol.IsAlias]?t[lt.Symbol.Name]:t[lt.Symbol.BaseName]}function Gn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function H7(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){let e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){let e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){let e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){let e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){let e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var N2r,wr=b(()=>{"use strict";Gm();st();zo();cf();xc();$0();N2r=typeof TextDecoder>"u"?null:new TextDecoder});var qm,z4=b(()=>{"use strict";st();Bn();qm=class extends Tt{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function j7e(t,e){let{name:n,config:r}=Gn(t,e);return r.mode==="number"?new Kne(n):new Yne(n)}var Kne,Jne,Yne,Qne,Xne=b(()=>{"use strict";st();wr();Bn();z4();Kne=class extends qm{static[ee]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new Jne(e,this.config)}},Jne=class extends ot{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},Yne=class extends qm{static[ee]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Qne(e,this.config)}},Qne=class extends ot{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}});function q7e(t,e){let{name:n,config:r}=Gn(t,e);return r.mode==="number"?new Zne(n):new tre(n)}var Zne,ere,tre,nre,rre=b(()=>{"use strict";st();wr();Bn();Zne=class extends Tt{static[ee]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ere(e,this.config)}},ere=class extends ot{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},tre=class extends Tt{static[ee]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new nre(e,this.config)}},nre=class extends ot{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}});function jo(t){return new ore(t??"")}var ore,ire,sre=b(()=>{"use strict";st();Bn();ore=class extends Tt{static[ee]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new ire(e,this.config)}},ire=class extends ot{static[ee]="PgBoolean";getSQLType(){return"boolean"}}});function W7e(t,e={}){let{name:n,config:r}=Gn(t,e);return new are(n,r)}var are,cre,lre=b(()=>{"use strict";st();wr();Bn();are=class extends Tt{static[ee]="PgCharBuilder";constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new cre(e,this.config)}},cre=class extends ot{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}});function K7e(t){return new ure(t??"")}var ure,dre,pre=b(()=>{"use strict";st();Bn();ure=class extends Tt{static[ee]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new dre(e,this.config)}},dre=class extends ot{static[ee]="PgCidr";getSQLType(){return"cidr"}}});function J7e(t){return(e,n)=>{let{name:r,config:o}=Gn(e,n);return new fre(r,o,t)}}var fre,mre,hre=b(()=>{"use strict";st();wr();Bn();fre=class extends Tt{static[ee]="PgCustomColumnBuilder";constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new mre(e,this.config)}},mre=class extends ot{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}});var uf,G7=b(()=>{"use strict";st();zo();Bn();uf=class extends Tt{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ne`now()`)}}});function Y7e(t,e){let{name:n,config:r}=Gn(t,e);return r?.mode==="date"?new gre(n):new yre(n)}var gre,j4,yre,q4,bre=b(()=>{"use strict";st();wr();Bn();G7();gre=class extends uf{static[ee]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new j4(e,this.config)}},j4=class extends ot{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?new Date(e):e}mapToDriverValue(e){return e.toISOString()}},yre=class extends uf{static[ee]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new q4(e,this.config)}},q4=class extends ot{static[ee]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?e:e.toISOString().slice(0,-14)}}});function Q7e(t){return new _re(t??"")}var _re,Sre,vre=b(()=>{"use strict";st();Bn();_re=class extends Tt{static[ee]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Sre(e,this.config)}},Sre=class extends ot{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}});function X7e(t){return new Ere(t??"")}var Ere,Are,xre=b(()=>{"use strict";st();Bn();Ere=class extends Tt{static[ee]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Are(e,this.config)}},Are=class extends ot{static[ee]="PgInet";getSQLType(){return"inet"}}});function Ee(t){return new wre(t??"")}var wre,Tre,Ire=b(()=>{"use strict";st();Bn();z4();wre=class extends qm{static[ee]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new Tre(e,this.config)}},Tre=class extends ot{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}});function Z7e(t,e={}){let{name:n,config:r}=Gn(t,e);return new Rre(n,r)}var Rre,Cre,Nre=b(()=>{"use strict";st();wr();Bn();Rre=class extends Tt{static[ee]="PgIntervalBuilder";constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new Cre(e,this.config)}},Cre=class extends ot{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}});function eMe(t){return new Ore(t??"")}var Ore,W4,Pre=b(()=>{"use strict";st();Bn();Ore=class extends Tt{static[ee]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new W4(e,this.config)}},W4=class extends ot{static[ee]="PgJson";constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function pt(t){return new Dre(t??"")}var Dre,K4,kre=b(()=>{"use strict";st();Bn();Dre=class extends Tt{static[ee]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new K4(e,this.config)}},K4=class extends ot{static[ee]="PgJsonb";constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function tMe(t,e){let{name:n,config:r}=Gn(t,e);return!r?.mode||r.mode==="tuple"?new Lre(n):new Bre(n)}var Lre,Mre,Bre,Ure,$re=b(()=>{"use strict";st();wr();Bn();Lre=class extends Tt{static[ee]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new Mre(e,this.config)}},Mre=class extends ot{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[n,r,o]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}},Bre=class extends Tt{static[ee]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new Ure(e,this.config)}},Ure=class extends ot{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[n,r,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}});function nMe(t){return new Fre(t??"")}var Fre,Hre,Gre=b(()=>{"use strict";st();Bn();Fre=class extends Tt{static[ee]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new Hre(e,this.config)}},Hre=class extends ot{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}});function rMe(t){return new Vre(t??"")}var Vre,zre,jre=b(()=>{"use strict";st();Bn();Vre=class extends Tt{static[ee]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new zre(e,this.config)}},zre=class extends ot{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}});function jt(t,e){let{name:n,config:r}=Gn(t,e),o=r?.mode;return o==="number"?new Wre(n,r?.precision,r?.scale):o==="bigint"?new Jre(n,r?.precision,r?.scale):new qre(n,r?.precision,r?.scale)}var qre,J4,Wre,Kre,Jre,Yre,Qre=b(()=>{"use strict";st();wr();Bn();qre=class extends Tt{static[ee]="PgNumericBuilder";constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new J4(e,this.config)}},J4=class extends ot{static[ee]="PgNumeric";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Wre=class extends Tt{static[ee]="PgNumericNumberBuilder";constructor(e,n,r){super(e,"number","PgNumericNumber"),this.config.precision=n,this.config.scale=r}build(e){return new Kre(e,this.config)}},Kre=class extends ot{static[ee]="PgNumericNumber";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Jre=class extends Tt{static[ee]="PgNumericBigIntBuilder";constructor(e,n,r){super(e,"bigint","PgNumericBigInt"),this.config.precision=n,this.config.scale=r}build(e){return new Yre(e,this.config)}},Yre=class extends ot{static[ee]="PgNumericBigInt";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}});function oMe(t,e){let{name:n,config:r}=Gn(t,e);return!r?.mode||r.mode==="tuple"?new Xre(n):new eoe(n)}var Xre,Zre,eoe,toe,noe=b(()=>{"use strict";st();wr();Bn();Xre=class extends Tt{static[ee]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Zre(e,this.config)}},Zre=class extends ot{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}},eoe=class extends Tt{static[ee]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new toe(e,this.config)}},toe=class extends ot{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}});function UOt(t){let e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function iMe(t,e){let n=new ArrayBuffer(8),r=new DataView(n);for(let o=0;o<8;o++)r.setUint8(o,t[e+o]);return r.getFloat64(0,!0)}function roe(t){let e=UOt(t),n=0,r=e[n];n+=1;let o=new DataView(e.buffer),i=o.getUint32(n,r===1);n+=4;let s;if(i&536870912&&(s=o.getUint32(n,r===1),n+=4),(i&65535)===1){let a=iMe(e,n);n+=8;let c=iMe(e,n);return n+=8,[a,c]}throw new Error("Unsupported geometry type")}var sMe=b(()=>{"use strict"});function aMe(t,e){let{name:n,config:r}=Gn(t,e);return!r?.mode||r.mode==="tuple"?new ooe(n):new soe(n)}var ooe,ioe,soe,aoe,coe=b(()=>{"use strict";st();wr();Bn();sMe();ooe=class extends Tt{static[ee]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new ioe(e,this.config)}},ioe=class extends ot{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return roe(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}},soe=class extends Tt{static[ee]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new aoe(e,this.config)}},aoe=class extends ot{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let n=roe(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}});function N(t){return new loe(t??"")}var loe,uoe,doe=b(()=>{"use strict";st();Bn();loe=class extends Tt{static[ee]="PgRealBuilder";constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new uoe(e,this.config)}},uoe=class extends ot{static[ee]="PgReal";constructor(e,n){super(e,n)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}});function cMe(t){return new poe(t??"")}var poe,foe,moe=b(()=>{"use strict";st();Bn();poe=class extends Tt{static[ee]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new foe(e,this.config)}},foe=class extends ot{static[ee]="PgSerial";getSQLType(){return"serial"}}});function lMe(t){return new hoe(t??"")}var hoe,goe,yoe=b(()=>{"use strict";st();Bn();z4();hoe=class extends qm{static[ee]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new goe(e,this.config)}},goe=class extends ot{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}});function uMe(t){return new boe(t??"")}var boe,_oe,Soe=b(()=>{"use strict";st();Bn();boe=class extends Tt{static[ee]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new _oe(e,this.config)}},_oe=class extends ot{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}});function L(t,e={}){let{name:n,config:r}=Gn(t,e);return new voe(n,r)}var voe,Eoe,Aoe=b(()=>{"use strict";st();wr();Bn();voe=class extends Tt{static[ee]="PgTextBuilder";constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new Eoe(e,this.config)}},Eoe=class extends ot{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}});function dMe(t,e={}){let{name:n,config:r}=Gn(t,e);return new xoe(n,r.withTimezone??!1,r.precision)}var xoe,Y4,woe=b(()=>{"use strict";st();wr();Bn();G7();xoe=class extends uf{constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}static[ee]="PgTimeBuilder";build(e){return new Y4(e,this.config)}},Y4=class extends ot{static[ee]="PgTime";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}});function we(t,e={}){let{name:n,config:r}=Gn(t,e);return r?.mode==="string"?new Ioe(n,r.withTimezone??!1,r.precision):new Toe(n,r?.withTimezone??!1,r?.precision)}var Toe,Q4,Ioe,X4,Roe=b(()=>{"use strict";st();wr();Bn();G7();Toe=class extends uf{static[ee]="PgTimestampBuilder";constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Q4(e,this.config)}},Q4=class extends ot{static[ee]="PgTimestamp";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){return typeof e=="string"?new Date(this.withTimezone?e:e+"+0000"):e}mapToDriverValue=e=>e.toISOString()},Ioe=class extends uf{static[ee]="PgTimestampStringBuilder";constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new X4(e,this.config)}},X4=class extends ot{static[ee]="PgTimestampString";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){if(typeof e=="string")return e;let n=e.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let r=e.getTimezoneOffset(),o=r<=0?"+":"-";return`${n}${o}${Math.floor(Math.abs(r)/60).toString().padStart(2,"0")}`}return n}}});function pMe(t){return new Coe(t??"")}var Coe,Z4,Noe=b(()=>{"use strict";st();zo();Bn();Coe=class extends Tt{static[ee]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(ne`gen_random_uuid()`)}build(e){return new Z4(e,this.config)}},Z4=class extends ot{static[ee]="PgUUID";getSQLType(){return"uuid"}}});function fMe(t,e={}){let{name:n,config:r}=Gn(t,e);return new Ooe(n,r)}var Ooe,Poe,Doe=b(()=>{"use strict";st();wr();Bn();Ooe=class extends Tt{static[ee]="PgVarcharBuilder";constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new Poe(e,this.config)}},Poe=class extends ot{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}});function mMe(t,e){let{name:n,config:r}=Gn(t,e);return new koe(n,r)}var koe,Loe,Moe=b(()=>{"use strict";st();wr();Bn();koe=class extends Tt{static[ee]="PgBinaryVectorBuilder";constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new Loe(e,this.config)}},Loe=class extends ot{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}});function hMe(t,e){let{name:n,config:r}=Gn(t,e);return new Boe(n,r)}var Boe,Uoe,$oe=b(()=>{"use strict";st();wr();Bn();Boe=class extends Tt{static[ee]="PgHalfVectorBuilder";constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new Uoe(e,this.config)}},Uoe=class extends ot{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}});function gMe(t,e){let{name:n,config:r}=Gn(t,e);return new Foe(n,r)}var Foe,Hoe,Goe=b(()=>{"use strict";st();wr();Bn();Foe=class extends Tt{static[ee]="PgSparseVectorBuilder";constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new Hoe(e,this.config)}},Hoe=class extends ot{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}});function yMe(t,e){let{name:n,config:r}=Gn(t,e);return new Voe(n,r)}var Voe,zoe,joe=b(()=>{"use strict";st();wr();Bn();Voe=class extends Tt{static[ee]="PgVectorBuilder";constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new zoe(e,this.config)}},zoe=class extends ot{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}});var V7=b(()=>{"use strict";Xne();rre();sre();lre();pre();Bn();hre();bre();vre();B7();xre();z4();Ire();Nre();Pre();kre();$re();Gre();jre();Qre();noe();coe();doe();moe();yoe();Soe();Aoe();woe();Roe();Noe();Doe();Moe();$oe();Goe();joe()});var na,F0=b(()=>{"use strict";st();na=class{static[ee]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}then(e,n){return this.execute().then(e,n)}}});var Nr,H0=b(()=>{"use strict";qne();Gm();st();zo();cf();$0();Nr=class t{static[ee]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===Zr)return{...e[Zr],selectedFields:new Proxy(e[Zr].selectedFields,this)};if(typeof n=="symbol")return e[n];let o=(Te(e,lo)?e._.selectedFields:Te(e,Oa)?e[Zr].selectedFields:e)[n];if(Te(o,St.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!o.isSelectionField)return o.sql;let i=o.clone();return i.isSelectionField=!0,i}if(Te(o,St)){if(this.config.sqlBehavior==="sql")return o;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Te(o,Cr)?this.config.alias?new Proxy(o,new d_(new Proxy(o.table,new bA(this.config.alias,this.config.replaceOriginalName??!1)))):o:typeof o!="object"||o===null?o:new Proxy(o,new t(this.config))}}});function bMe(){return{bigint:j7e,bigserial:q7e,boolean:jo,char:W7e,cidr:K7e,customType:J7e,date:Y7e,doublePrecision:Q7e,inet:X7e,integer:Ee,interval:Z7e,json:eMe,jsonb:pt,line:tMe,macaddr:nMe,macaddr8:rMe,numeric:jt,point:oMe,geometry:aMe,real:N,serial:cMe,smallint:lMe,smallserial:uMe,text:L,time:dMe,timestamp:we,uuid:pMe,varchar:fMe,bit:mMe,halfvec:hMe,sparsevec:gMe,vector:yMe}}var _Me=b(()=>{"use strict";Xne();rre();sre();lre();pre();hre();bre();vre();xre();Ire();Nre();Pre();kre();$re();Gre();jre();Qre();noe();coe();doe();moe();yoe();Soe();Aoe();woe();Roe();Noe();Doe();Moe();$oe();Goe();joe()});function Woe(t,e,n,r,o=t){let i=new Ri(t,r,o),s=typeof e=="function"?e(bMe()):e,a=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.build(i);return i[qoe].push(...p.buildForeignKeys(f,i)),[u,f]})),c=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.buildExtraConfigColumn(i);return[u,f]})),l=Object.assign(i,a);return l[lt.Symbol.Columns]=a,l[lt.Symbol.ExtraConfigColumns]=c,n&&(l[Ri.Symbol.ExtraConfigBuilder]=n),Object.assign(l,{enableRLS:()=>(l[Ri.Symbol.EnableRLS]=!0,l)})}var qoe,SMe,Ri,Ne,G0=b(()=>{"use strict";st();xc();_Me();qoe=Symbol.for("drizzle:PgInlineForeignKeys"),SMe=Symbol.for("drizzle:EnableRLS"),Ri=class extends lt{static[ee]="PgTable";static Symbol=Object.assign({},lt.Symbol,{InlineForeignKeys:qoe,EnableRLS:SMe});[qoe]=[];[SMe]=!1;[lt.Symbol.ExtraConfigBuilder]=void 0;[lt.Symbol.ExtraConfigColumns]={}};Ne=(t,e,n)=>Woe(t,e,n,void 0)});function vMe(t){return new Koe(!1,t)}var Koe,e6,Joe,EMe=b(()=>{"use strict";zo();st();V7();Koe=class{constructor(e,n){this.unique=e,this.name=n}static[ee]="PgIndexBuilderOn";on(...e){return new e6(e.map(n=>{if(Te(n,St))return n;n=n;let r=new gA(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new e6(e.map(n=>{if(Te(n,St))return n;n=n;let r=new gA(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new e6(n.map(r=>{if(Te(r,St))return r;r=r;let o=new gA(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),o}),this.unique,!0,this.name,e)}},e6=class{static[ee]="PgIndexBuilder";config;constructor(e,n,r,o,i="btree"){this.config={name:o,columns:e,unique:n,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new Joe(this.config,e)}},Joe=class{static[ee]="PgIndex";config;constructor(e,n){this.config={...e,table:n}}}});var AMe,xMe=b(()=>{"use strict";st();AMe=class{constructor(e,n){this.name=e,n&&(this.as=n.as,this.for=n.for,this.to=n.to,this.using=n.using,this.withCheck=n.withCheck)}static[ee]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}});var z7,Yoe,Qoe=b(()=>{"use strict";st();G0();z7=class{static[ee]="PgPrimaryKeyBuilder";columns;name;constructor(e,n){this.columns=e,this.name=n}build(e){return new Yoe(e,this.columns,this.name)}},Yoe=class{constructor(e,n,r){this.table=e,this.columns=n,this.name=r}static[ee]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[Ri.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}});var Xoe,Zoe=b(()=>{"use strict";Xoe=Symbol.for("drizzle:PgViewConfig")});function $Ot(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function FOt(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,r,o)=>{let i=o===0?r.toLowerCase():`${r[0].toUpperCase()}${r.slice(1)}`;return n+i},"")}function HOt(t){return t}var j7,wMe=b(()=>{"use strict";st();xc();j7=class{static[ee]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?$Ot:e==="camelCase"?FOt:HOt}getColumnCasing(e){if(!e.keyAsName)return e.name;let n=e.table[lt.Symbol.Schema]??"public",r=e.table[lt.Symbol.OriginalName],o=`${n}.${r}.${e.name}`;return this.cache[o]||this.cacheTable(e.table),this.cache[o]}cacheTable(e){let n=e[lt.Symbol.Schema]??"public",r=e[lt.Symbol.OriginalName],o=`${n}.${r}`;if(!this.cachedTables[o]){for(let i of Object.values(e[lt.Symbol.Columns])){let s=`${o}.${i.name}`;this.cache[s]=this.convert(i.name)}this.cachedTables[o]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var t6,Wm,q7,eie=b(()=>{"use strict";st();t6=class extends Error{static[ee]="DrizzleError";constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}},Wm=class t extends Error{constructor(e,n,r){super(`Failed query: ${e}
params: ${n}`),this.query=e,this.params=n,this.cause=r,Error.captureStackTrace(this,t),r&&(this.cause=r)}},q7=class extends t6{static[ee]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});function Tc(t,e){return B7e(e)&&!zne(t)&&!Te(t,wc)&&!Te(t,zm)&&!Te(t,Cr)&&!Te(t,lt)&&!Te(t,Oa)?new wc(t,e):t}function Vi(...t){let e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new St(e):new St([new Ii("("),ne.join(e,new Ii(" and ")),new Ii(")")])}function IMe(...t){let e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new St(e):new St([new Ii("("),ne.join(e,new Ii(" or ")),new Ii(")")])}function RMe(t){return ne`not ${t}`}function OMe(t,e){return Array.isArray(e)?e.length===0?ne`false`:ne`${t} in ${e.map(n=>Tc(n,t))}`:ne`${t} in ${Tc(e,t)}`}function PMe(t,e){return Array.isArray(e)?e.length===0?ne`true`:ne`${t} not in ${e.map(n=>Tc(n,t))}`:ne`${t} not in ${Tc(e,t)}`}function W7(t){return ne`${t} is null`}function DMe(t){return ne`${t} is not null`}function kMe(t){return ne`exists ${t}`}function LMe(t){return ne`not exists ${t}`}function MMe(t,e,n){return ne`${t} between ${Tc(e,t)} and ${Tc(n,t)}`}function BMe(t,e,n){return ne`${t} not between ${Tc(e,t)} and ${Tc(n,t)}`}function UMe(t,e){return ne`${t} like ${e}`}function $Me(t,e){return ne`${t} not like ${e}`}function FMe(t,e){return ne`${t} ilike ${e}`}function HMe(t,e){return ne`${t} not ilike ${e}`}var an,TMe,CMe,n6,NMe,p_,GMe=b(()=>{"use strict";Gm();st();xc();zo();an=(t,e)=>ne`${t} = ${Tc(e,t)}`,TMe=(t,e)=>ne`${t} <> ${Tc(e,t)}`;CMe=(t,e)=>ne`${t} > ${Tc(e,t)}`,n6=(t,e)=>ne`${t} >= ${Tc(e,t)}`,NMe=(t,e)=>ne`${t} < ${Tc(e,t)}`,p_=(t,e)=>ne`${t} <= ${Tc(e,t)}`});function K7(t){return ne`${t} asc`}function Ci(t){return ne`${t} desc`}var VMe=b(()=>{"use strict";zo()});var tie=b(()=>{"use strict";GMe();VMe()});function zMe(){return{and:Vi,between:MMe,eq:an,exists:kMe,gt:CMe,gte:n6,ilike:FMe,inArray:OMe,isNull:W7,isNotNull:DMe,like:UMe,lt:NMe,lte:p_,ne:TMe,not:RMe,notBetween:BMe,notExists:LMe,notLike:$Me,notIlike:HMe,notInArray:PMe,or:IMe,sql:ne}}function jMe(){return{sql:ne,asc:K7,desc:Ci}}function Q7(t,e){Object.keys(t).length===1&&"default"in t&&!Te(t.default,lt)&&(t=t.default);let n={},r={},o={};for(let[i,s]of Object.entries(t))if(Te(s,lt)){let a=l_(s),c=r[a];n[a]=i,o[i]={tsName:i,dbName:s[lt.Symbol.Name],schema:s[lt.Symbol.Schema],columns:s[lt.Symbol.Columns],relations:c?.relations??{},primaryKey:c?.primaryKey??[]};for(let u of Object.values(s[lt.Symbol.Columns]))u.primary&&o[i].primaryKey.push(u);let l=s[lt.Symbol.ExtraConfigBuilder]?.(s[lt.Symbol.ExtraConfigColumns]);if(l)for(let u of Object.values(l))Te(u,z7)&&o[i].primaryKey.push(...u.columns)}else if(Te(s,nie)){let a=l_(s.table),c=n[a],l=s.config(e(s.table)),u;for(let[d,p]of Object.entries(l))if(c){let f=o[c];f.relations[d]=p,u&&f.primaryKey.push(...u)}else a in r||(r[a]={relations:{},primaryKey:u}),r[a].relations[d]=p}return{tables:o,tableNamesMap:n}}function GOt(t){return function(n,r){return new V0(t,n,r,r?.fields.reduce((o,i)=>o&&i.notNull,!0)??!1)}}function VOt(t){return function(n,r){return new r6(t,n,r)}}function qMe(t,e,n){if(Te(n,V0)&&n.config)return{fields:n.config.fields,references:n.config.references};let r=e[l_(n.referencedTable)];if(!r)throw new Error(`Table "${n.referencedTable[lt.Symbol.Name]}" not found in schema`);let o=t[r];if(!o)throw new Error(`Table "${r}" not found in schema`);let i=n.sourceTable,s=e[l_(i)];if(!s)throw new Error(`Table "${i[lt.Symbol.Name]}" not found in schema`);let a=[];for(let c of Object.values(o.relations))(n.relationName&&n!==c&&c.relationName===n.relationName||!n.relationName&&c.referencedTable===n.sourceTable)&&a.push(c);if(a.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${r}"`):new Error(`There are multiple relations between "${r}" and "${n.sourceTable[lt.Symbol.Name]}". Please specify relation name`);if(a[0]&&Te(a[0],V0)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${n.fieldName}"`)}function X7(t){return{one:GOt(t),many:VOt(t)}}function Y7(t,e,n,r,o=i=>i){let i={};for(let[s,a]of r.entries())if(a.isJson){let c=e.relations[a.tsKey],l=n[s],u=typeof l=="string"?JSON.parse(l):l;i[a.tsKey]=Te(c,V0)?u&&Y7(t,t[a.relationTableTsKey],u,a.selection,o):u.map(d=>Y7(t,t[a.relationTableTsKey],d,a.selection,o))}else{let c=o(n[s]),l=a.field,u;Te(l,Cr)?u=l:Te(l,St)?u=l.decoder:u=l.sql.decoder,i[a.tsKey]=c===null?null:u.mapFromDriverValue(c)}return i}var J7,nie,V0,r6,o6=b(()=>{"use strict";xc();Gm();st();Qoe();tie();zo();J7=class{constructor(e,n,r){this.sourceTable=e,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[lt.Symbol.Name]}static[ee]="Relation";referencedTableName;fieldName},nie=class{constructor(e,n){this.table=e,this.config=n}static[ee]="Relations"},V0=class t extends J7{constructor(e,n,r,o){super(e,n,r?.relationName),this.config=r,this.isNullable=o}static[ee]="One";withFieldName(e){let n=new t(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}},r6=class t extends J7{constructor(e,n,r){super(e,n,r?.relationName),this.config=r}static[ee]="Many";withFieldName(e){let n=new t(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}}});var WMe=b(()=>{"use strict"});var KMe=b(()=>{"use strict"});var JMe=b(()=>{"use strict";WMe();KMe()});var rie=b(()=>{"use strict";tie();JMe();zo()});var Km,Z7=b(()=>{"use strict";st();zo();Km=class extends Oa{static[ee]="PgViewBase"}});var df,i6=b(()=>{"use strict";qne();wMe();Gm();st();eie();V7();G0();o6();rie();zo();cf();xc();wr();$0();Z7();df=class{static[ee]="PgDialect";casing;constructor(e){this.casing=new j7(e?.casing)}async migrate(e,n,r){let o=typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=typeof r=="string"?"drizzle":r.migrationsSchema??"drizzle",s=ne`
			CREATE TABLE IF NOT EXISTS ${ne.identifier(i)}.${ne.identifier(o)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await n.execute(ne`CREATE SCHEMA IF NOT EXISTS ${ne.identifier(i)}`),await n.execute(s);let c=(await n.all(ne`select id, hash, created_at from ${ne.identifier(i)}.${ne.identifier(o)} order by created_at desc limit 1`))[0];await n.transaction(async l=>{for await(let u of e)if(!c||Number(c.created_at)<u.folderMillis){for(let d of u.sql)await l.execute(ne.raw(d));await l.execute(ne`insert into ${ne.identifier(i)}.${ne.identifier(o)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let n=[ne`with `];for(let[r,o]of e.entries())n.push(ne`${ne.identifier(o._.alias)} as (${o._.sql})`),r<e.length-1&&n.push(ne`, `);return n.push(ne` `),ne.join(n)}buildDeleteQuery({table:e,where:n,returning:r,withList:o}){let i=this.buildWithCTE(o),s=r?ne` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,a=n?ne` where ${n}`:void 0;return ne`${i}delete from ${e}${a}${s}`}buildUpdateSet(e,n){let r=e[lt.Symbol.Columns],o=Object.keys(r).filter(s=>n[s]!==void 0||r[s]?.onUpdateFn!==void 0),i=o.length;return ne.join(o.flatMap((s,a)=>{let c=r[s],l=c.onUpdateFn?.(),u=n[s]??(Te(l,St)?l:ne.param(l,c)),d=ne`${ne.identifier(this.casing.getColumnCasing(c))} = ${u}`;return a<i-1?[d,ne.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:n,where:r,returning:o,withList:i,from:s,joins:a}){let c=this.buildWithCTE(i),l=e[Ri.Symbol.Name],u=e[Ri.Symbol.Schema],d=e[Ri.Symbol.OriginalName],p=l===d?void 0:l,f=ne`${u?ne`${ne.identifier(u)}.`:void 0}${ne.identifier(d)}${p&&ne` ${ne.identifier(p)}`}`,h=this.buildUpdateSet(e,n),m=s&&ne.join([ne.raw(" from "),this.buildFromTable(s)]),g=this.buildJoins(a),y=o?ne` returning ${this.buildSelection(o,{isSingleTable:!s})}`:void 0,S=r?ne` where ${r}`:void 0;return ne`${c}update ${f} set ${h}${m}${g}${S}${y}`}buildSelection(e,{isSingleTable:n=!1}={}){let r=e.length,o=e.flatMap(({field:i},s)=>{let a=[];if(Te(i,St.Aliased)&&i.isSelectionField)a.push(ne.identifier(i.fieldAlias));else if(Te(i,St.Aliased)||Te(i,St)){let c=Te(i,St.Aliased)?i.sql:i;n?a.push(new St(c.queryChunks.map(l=>Te(l,ot)?ne.identifier(this.casing.getColumnCasing(l)):l))):a.push(c),Te(i,St.Aliased)&&a.push(ne` as ${ne.identifier(i.fieldAlias)}`)}else if(Te(i,Cr))n?a.push(ne.identifier(this.casing.getColumnCasing(i))):a.push(i);else if(Te(i,lo)){let c=Object.entries(i._.selectedFields);if(c.length===1){let l=c[0][1],u=Te(l,St)?l.decoder:Te(l,Cr)?{mapFromDriverValue:d=>l.mapFromDriverValue(d)}:l.sql.decoder;u&&(i._.sql.decoder=u)}a.push(i)}return s<r-1&&a.push(ne`, `),a});return ne.join(o)}buildJoins(e){if(!e||e.length===0)return;let n=[];for(let[r,o]of e.entries()){r===0&&n.push(ne` `);let i=o.table,s=o.lateral?ne` lateral`:void 0,a=o.on?ne` on ${o.on}`:void 0;if(Te(i,Ri)){let c=i[Ri.Symbol.Name],l=i[Ri.Symbol.Schema],u=i[Ri.Symbol.OriginalName],d=c===u?void 0:o.alias;n.push(ne`${ne.raw(o.joinType)} join${s} ${l?ne`${ne.identifier(l)}.`:void 0}${ne.identifier(u)}${d&&ne` ${ne.identifier(d)}`}${a}`)}else if(Te(i,Oa)){let c=i[Zr].name,l=i[Zr].schema,u=i[Zr].originalName,d=c===u?void 0:o.alias;n.push(ne`${ne.raw(o.joinType)} join${s} ${l?ne`${ne.identifier(l)}.`:void 0}${ne.identifier(u)}${d&&ne` ${ne.identifier(d)}`}${a}`)}else n.push(ne`${ne.raw(o.joinType)} join${s} ${i}${a}`);r<e.length-1&&n.push(ne` `)}return ne.join(n)}buildFromTable(e){if(Te(e,lt)&&e[lt.Symbol.IsAlias]){let n=ne`${ne.identifier(e[lt.Symbol.OriginalName])}`;return e[lt.Symbol.Schema]&&(n=ne`${ne.identifier(e[lt.Symbol.Schema])}.${n}`),ne`${n} ${ne.identifier(e[lt.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:n,fieldsFlat:r,where:o,having:i,table:s,joins:a,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:f,setOperators:h}){let m=r??Uu(n);for(let _ of m)if(Te(_.field,Cr)&&Ac(_.field.table)!==(Te(s,lo)?s._.alias:Te(s,Km)?s[Zr].name:Te(s,St)?void 0:Ac(s))&&!(E=>a?.some(({alias:R})=>R===(E[lt.Symbol.IsAlias]?Ac(E):E[lt.Symbol.BaseName])))(_.field.table)){let E=Ac(_.field.table);throw new Error(`Your "${_.path.join("->")}" field references a column "${E}"."${_.field.name}", but the table "${E}" is not part of the query! Did you forget to join it?`)}let g=!a||a.length===0,y=this.buildWithCTE(e),S;f&&(S=f===!0?ne` distinct`:ne` distinct on (${ne.join(f.on,ne`, `)})`);let v=this.buildSelection(m,{isSingleTable:g}),A=this.buildFromTable(s),w=this.buildJoins(a),I=o?ne` where ${o}`:void 0,D=i?ne` having ${i}`:void 0,k;c&&c.length>0&&(k=ne` order by ${ne.join(c,ne`, `)}`);let O;l&&l.length>0&&(O=ne` group by ${ne.join(l,ne`, `)}`);let U=typeof u=="object"||typeof u=="number"&&u>=0?ne` limit ${u}`:void 0,G=d?ne` offset ${d}`:void 0,J=ne.empty();if(p){let _=ne` for ${ne.raw(p.strength)}`;p.config.of&&_.append(ne` of ${ne.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],ne`, `)}`),p.config.noWait?_.append(ne` nowait`):p.config.skipLocked&&_.append(ne` skip locked`),J.append(_)}let C=ne`${y}select${S} ${v} from ${A}${w}${I}${O}${D}${k}${U}${G}${J}`;return h.length>0?this.buildSetOperations(C,h):C}buildSetOperations(e,n){let[r,...o]=n;if(!r)throw new Error("Cannot pass undefined values to any set operator");return o.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),o)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:r,rightSelect:o,limit:i,orderBy:s,offset:a}}){let c=ne`(${e.getSQL()}) `,l=ne`(${o.getSQL()})`,u;if(s&&s.length>0){let h=[];for(let m of s)if(Te(m,ot))h.push(ne.identifier(m.name));else if(Te(m,St)){for(let g=0;g<m.queryChunks.length;g++){let y=m.queryChunks[g];Te(y,ot)&&(m.queryChunks[g]=ne.identifier(y.name))}h.push(ne`${m}`)}else h.push(ne`${m}`);u=ne` order by ${ne.join(h,ne`, `)} `}let d=typeof i=="object"||typeof i=="number"&&i>=0?ne` limit ${i}`:void 0,p=ne.raw(`${n} ${r?"all ":""}`),f=a?ne` offset ${a}`:void 0;return ne`${c}${p}${l}${u}${d}${f}`}buildInsertQuery({table:e,values:n,onConflict:r,returning:o,withList:i,select:s,overridingSystemValue_:a}){let c=[],l=e[lt.Symbol.Columns],u=Object.entries(l).filter(([y,S])=>!S.shouldDisableInsert()),d=u.map(([,y])=>ne.identifier(this.casing.getColumnCasing(y)));if(s){let y=n;Te(y,St)?c.push(y):c.push(y.getSQL())}else{let y=n;c.push(ne.raw("values "));for(let[S,v]of y.entries()){let A=[];for(let[w,I]of u){let D=v[w];if(D===void 0||Te(D,wc)&&D.value===void 0)if(I.defaultFn!==void 0){let k=I.defaultFn(),O=Te(k,St)?k:ne.param(k,I);A.push(O)}else if(!I.default&&I.onUpdateFn!==void 0){let k=I.onUpdateFn(),O=Te(k,St)?k:ne.param(k,I);A.push(O)}else A.push(ne`default`);else A.push(D)}c.push(A),S<y.length-1&&c.push(ne`, `)}}let p=this.buildWithCTE(i),f=ne.join(c),h=o?ne` returning ${this.buildSelection(o,{isSingleTable:!0})}`:void 0,m=r?ne` on conflict ${r}`:void 0,g=a===!0?ne`overriding system value `:void 0;return ne`${p}insert into ${e} ${d} ${g}${f}${m}${h}`}buildRefreshMaterializedViewQuery({view:e,concurrently:n,withNoData:r}){let o=n?ne` concurrently`:void 0,i=r?ne` with no data`:void 0;return ne`refresh materialized view${o} ${e}${i}`}prepareTyping(e){return Te(e,K4)||Te(e,W4)?"json":Te(e,J4)?"decimal":Te(e,Y4)?"time":Te(e,Q4)||Te(e,X4)?"timestamp":Te(e,j4)||Te(e,q4)?"date":Te(e,Z4)?"uuid":"none"}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:n})}buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:r,table:o,tableConfig:i,queryConfig:s,tableAlias:a,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,f=[],h,m=[];if(s===!0)u=Object.entries(i.columns).map(([S,v])=>({dbKey:v.name,tsKey:S,field:lf(v,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let y=Object.fromEntries(Object.entries(i.columns).map(([D,k])=>[D,lf(k,a)]));if(s.where){let D=typeof s.where=="function"?s.where(y,zMe()):s.where;h=D&&H4(D,a)}let S=[],v=[];if(s.columns){let D=!1;for(let[k,O]of Object.entries(s.columns))O!==void 0&&k in i.columns&&(!D&&O===!0&&(D=!0),v.push(k));v.length>0&&(v=D?v.filter(k=>s.columns?.[k]===!0):Object.keys(i.columns).filter(k=>!v.includes(k)))}else v=Object.keys(i.columns);for(let D of v){let k=i.columns[D];S.push({tsKey:D,value:k})}let A=[];s.with&&(A=Object.entries(s.with).filter(D=>!!D[1]).map(([D,k])=>({tsKey:D,queryConfig:k,relation:i.relations[D]})));let w;if(s.extras){w=typeof s.extras=="function"?s.extras(y,{sql:ne}):s.extras;for(let[D,k]of Object.entries(w))S.push({tsKey:D,value:jne(k,a)})}for(let{tsKey:D,value:k}of S)u.push({dbKey:Te(k,St.Aliased)?k.fieldAlias:i.columns[D].name,tsKey:D,field:Te(k,Cr)?lf(k,a):k,relationTableTsKey:void 0,isJson:!1,selection:[]});let I=typeof s.orderBy=="function"?s.orderBy(y,jMe()):s.orderBy??[];Array.isArray(I)||(I=[I]),f=I.map(D=>Te(D,Cr)?lf(D,a):H4(D,a)),d=s.limit,p=s.offset;for(let{tsKey:D,queryConfig:k,relation:O}of A){let U=qMe(n,r,O),G=l_(O.referencedTable),J=r[G],C=`${a}_${D}`,_=Vi(...U.fields.map((M,$)=>an(lf(U.references[$],C),lf(M,a)))),E=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:r,table:e[J],tableConfig:n[J],queryConfig:Te(O,V0)?k===!0?{limit:1}:{...k,limit:1}:k,tableAlias:C,joinOn:_,nestedQueryRelation:O}),R=ne`${ne.identifier(C)}.${ne.identifier("data")}`.as(D);m.push({on:ne`true`,table:new lo(E.sql,{},C),alias:C,joinType:"left",lateral:!0}),u.push({dbKey:D,tsKey:D,field:R,relationTableTsKey:J,isJson:!0,selection:E.selection})}}if(u.length===0)throw new t6({message:`No fields selected for table "${i.tsName}" ("${a}")`});let g;if(h=Vi(l,h),c){let y=ne`json_build_array(${ne.join(u.map(({field:A,tsKey:w,isJson:I})=>I?ne`${ne.identifier(`${a}_${w}`)}.${ne.identifier("data")}`:Te(A,St.Aliased)?A.sql:A),ne`, `)})`;Te(c,r6)&&(y=ne`coalesce(json_agg(${y}${f.length>0?ne` order by ${ne.join(f,ne`, `)}`:void 0}), '[]'::json)`);let S=[{dbKey:"data",tsKey:"data",field:y.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:u}];d!==void 0||p!==void 0||f.length>0?(g=this.buildSelectQuery({table:F4(o,a),fields:{},fieldsFlat:[{path:[],field:ne.raw("*")}],where:h,limit:d,offset:p,orderBy:f,setOperators:[]}),h=void 0,d=void 0,p=void 0,f=[]):g=F4(o,a),g=this.buildSelectQuery({table:Te(g,Ri)?g:new lo(g,{},a),fields:{},fieldsFlat:S.map(({field:A})=>({path:[],field:Te(A,Cr)?lf(A,a):A})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:F4(o,a),fields:{},fieldsFlat:u.map(({field:y})=>({path:[],field:Te(y,Cr)?lf(y,a):y})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:g,selection:u}}}});var eM,YMe=b(()=>{"use strict";st();eM=class{static[ee]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function _A(t,e){return(n,r,...o)=>{let i=[r,...o].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of i)if(!G4(n.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}var ra,oie,tM,zOt,jOt,qOt,WOt,KOt,JOt,YOt,iie=b(()=>{"use strict";st();Z7();YMe();F0();H0();zo();cf();xc();Vm();wr();wr();$0();SA();ra=class{static[ee]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let n=!!this.fields,r=e,o;return this.fields?o=this.fields:Te(r,lo)?o=Object.fromEntries(Object.keys(r._.selectedFields).map(i=>[i,r[i]])):Te(r,Km)?o=r[Zr].selectedFields:Te(r,St)?o={}:o=V4(r),new tM({table:r,fields:o,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},oie=class extends eM{static[ee]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:n,isPartialSelect:r,session:o,dialect:i,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...n},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=o,this.dialect=i,this._={selectedFields:n,config:this.config},this.tableName=jm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let c of qd(e))this.usedTables.add(c)}getUsedTables(){return[...this.usedTables]}createJoin(e,n){return(r,o)=>{let i=this.tableName,s=jm(r);for(let a of qd(r))this.usedTables.add(a);if(typeof s=="string"&&this.config.joins?.some(a=>a.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof s=="string"&&!Te(r,St))){let a=Te(r,lo)?r._.selectedFields:Te(r,Oa)?r[Zr].selectedFields:r[lt.Symbol.Columns];this.config.fields[s]=a}if(typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Nr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:o,table:r,joinType:e,alias:s,lateral:n}),typeof s=="string")switch(e){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,n){return r=>{let o=typeof r=="function"?r(zOt()):r;if(!G4(this.getSelectedFields(),o.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:n,rightSelect:o}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Nr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Nr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let n=e[0](new Proxy(this.config.fields,new Nr({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let n=e[0](new Proxy(this.config.fields,new Nr({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{let n=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,n={}){return this.config.lockingClause={strength:e,config:n},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(e){let n=[];if(n.push(...qd(this.config.table)),this.config.joins)for(let r of this.config.joins)n.push(...qd(r.table));return new Proxy(new lo(this.getSQL(),this.config.fields,e,!1,[...new Set(n)]),new Nr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Nr({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}},tM=class extends oie{static[ee]="PgSelect";_prepare(e){let{session:n,config:r,dialect:o,joinsNotNullableMap:i,authToken:s,cacheConfig:a,usedTables:c}=this;if(!n)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=r;return Vr.startActiveSpan("drizzle.prepareQuery",()=>{let u=Uu(l),d=n.prepareQuery(o.sqlToQuery(this.getSQL()),u,e,!0,void 0,{type:"select",tables:[...c]},a);return d.joinsNotNullableMap=i,d.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Vr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};z7e(tM,[na]);zOt=()=>({union:jOt,unionAll:qOt,intersect:WOt,intersectAll:KOt,except:JOt,exceptAll:YOt}),jOt=_A("union",!1),qOt=_A("union",!0),WOt=_A("intersect",!1),KOt=_A("intersect",!0),JOt=_A("except",!1),YOt=_A("except",!0)});var Jm,nM=b(()=>{"use strict";st();i6();H0();cf();iie();Jm=class{static[ee]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=Te(e,df)?e:void 0,this.dialectConfig=Te(e,df)?void 0:e}$with=(e,n)=>{let r=this;return{as:i=>(typeof i=="function"&&(i=i(r)),new Proxy(new yA(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new Nr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let n=this;function r(s){return new ra({fields:s??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function o(s){return new ra({fields:s??void 0,session:void 0,dialect:n.getDialect(),distinct:!0})}function i(s,a){return new ra({fields:a??void 0,session:void 0,dialect:n.getDialect(),distinct:{on:s}})}return{select:r,selectDistinct:o,selectDistinctOn:i}}select(e){return new ra({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new ra({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,n){return new ra({fields:n??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new df(this.dialectConfig)),this.dialect}}});function XMe(t,e,n){return e?new aie(t,e,n):new sie(t,n)}function ZMe(t,e,n){return e?new lie(t,e,n):new cie(t,n)}var rM,sie,aie,oM,cie,lie,s6,QMe,a6,uie=b(()=>{"use strict";st();H0();wr();nM();G0();Z7();Zoe();rM=class{constructor(e,n){this.name=e,this.schema=n}static[ee]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}},sie=class extends rM{static[ee]="PgViewBuilder";as(e){typeof e=="function"&&(e=e(new Jm));let n=new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),n);return new Proxy(new s6({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),n)}},aie=class extends rM{static[ee]="PgManualViewBuilder";columns;constructor(e,n,r){super(e,r),this.columns=V4(Ne(e,n))}existing(){return new Proxy(new s6({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new s6({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},oM=class{constructor(e,n){this.name=e,this.schema=n}static[ee]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}},cie=class extends oM{static[ee]="PgMaterializedViewBuilder";as(e){typeof e=="function"&&(e=e(new Jm));let n=new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),n);return new Proxy(new a6({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),n)}},lie=class extends oM{static[ee]="PgManualMaterializedViewBuilder";columns;constructor(e,n,r){super(e,r),this.columns=V4(Ne(e,n))}existing(){return new Proxy(new a6({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new a6({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new Nr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},s6=class extends Km{static[ee]="PgView";[Xoe];constructor({pgConfig:e,config:n}){super(n),e&&(this[Xoe]={with:e.with})}},QMe=Symbol.for("drizzle:PgMaterializedViewConfig"),a6=class extends Km{static[ee]="PgMaterializedView";[QMe];constructor({pgConfig:e,config:n}){super(n),this[QMe]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}});function qd(t){return Te(t,Ri)?[t[c_]?`${t[c_]}.${t[lt.Symbol.BaseName]}`:t[lt.Symbol.BaseName]]:Te(t,lo)?t._.usedTables??[]:Te(t,St)?t.usedTables??[]:[]}var SA=b(()=>{"use strict";st();G0();zo();cf();xc()});var c6,eBe=b(()=>{"use strict";st();F0();H0();xc();Vm();wr();SA();c6=class extends na{constructor(e,n,r,o){super(),this.session=n,this.dialect=r,this.config={table:e,withList:o}}static[ee]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[lt.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Uu(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Vr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:qd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Vr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Nr({alias:Ac(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var l6,iM,tBe=b(()=>{"use strict";st();F0();H0();zo();xc();Vm();wr();SA();nM();l6=class{constructor(e,n,r,o,i){this.table=e,this.session=n,this.dialect=r,this.withList=o,this.overridingSystemValue_=i}static[ee]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let n=e.map(r=>{let o={},i=this.table[lt.Symbol.Columns];for(let s of Object.keys(r)){let a=r[s];o[s]=Te(a,St)?a:new wc(a,i[s])}return o});return new iM(this.table,n,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let n=typeof e=="function"?e(new Jm):e;if(!Te(n,St)&&!G4(this.table[U7],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new iM(this.table,n,this.session,this.dialect,this.withList,!0)}},iM=class extends na{constructor(e,n,r,o,i,s,a){super(),this.session=r,this.dialect=o,this.config={table:e,values:n,withList:i,select:s,overridingSystemValue_:a}}static[ee]="PgInsert";config;cacheConfig;returning(e=this.config.table[lt.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Uu(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=ne`do nothing`;else{let n="";n=Array.isArray(e.target)?e.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?ne` where ${e.where}`:void 0;this.config.onConflict=ne`(${ne.raw(n)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let n=e.where?ne` where ${e.where}`:void 0,r=e.targetWhere?ne` where ${e.targetWhere}`:void 0,o=e.setWhere?ne` where ${e.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,F7(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=ne`(${ne.raw(s)})${r} do update set ${i}${n}${o}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Vr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:qd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Vr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Nr({alias:Ac(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var sM,die=b(()=>{"use strict";st();F0();Vm();sM=class extends na{constructor(e,n,r){super(),this.session=n,this.dialect=r,this.config={view:e}}static[ee]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Vr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Vr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}});var nBe=b(()=>{"use strict"});var u6,pie,rBe=b(()=>{"use strict";st();G0();F0();H0();zo();cf();xc();wr();$0();SA();u6=class{constructor(e,n,r,o){this.table=e,this.session=n,this.dialect=r,this.withList=o}static[ee]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new pie(this.table,F7(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},pie=class extends na{constructor(e,n,r,o,i){super(),this.session=r,this.dialect=o,this.config={set:n,table:e,withList:i,joins:[]},this.tableName=jm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[ee]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let n=e,r=jm(n);return typeof r=="string"&&(this.joinsNotNullableMap[r]=!0),this.config.from=n,this}getTableLikeFields(e){return Te(e,Ri)?e[lt.Symbol.Columns]:Te(e,lo)?e._.selectedFields:e[Zr].selectedFields}createJoin(e){return(n,r)=>{let o=jm(n);if(typeof o=="string"&&this.config.joins.some(i=>i.alias===o))throw new Error(`Alias "${o}" is already used in this query`);if(typeof r=="function"){let i=this.config.from&&!Te(this.config.from,St)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[lt.Symbol.Columns],new Nr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),i&&new Proxy(i,new Nr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:n,joinType:e,alias:o}),typeof o=="string")switch(e){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[lt.Symbol.Columns]),this.config.from)){let n=jm(this.config.from);if(typeof n=="string"&&this.config.from&&!Te(this.config.from,St)){let r=this.getTableLikeFields(this.config.from);e[n]=r}for(let r of this.config.joins){let o=jm(r.table);if(typeof o=="string"&&!Te(r.table,St)){let i=this.getTableLikeFields(r.table);e[o]=i}}}return this.config.returningFields=e,this.config.returning=Uu(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){let n=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:qd(this.config.table)},this.cacheConfig);return n.joinsNotNullableMap=this.joinsNotNullableMap,n}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Nr({alias:Ac(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var fie=b(()=>{"use strict";eBe();tBe();nM();die();iie();nBe();rBe()});var aM,oBe=b(()=>{"use strict";st();zo();aM=class t extends St{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[ee]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,n){return ne`(select count(*) from ${e}${ne.raw(" where ").if(n)}${n})`}static buildCount(e,n){return ne`select count(*) as count from ${e}${ne.raw(" where ").if(n)}${n};`}setToken(e){return this.token=e,this}then(e,n){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,n)}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}}});var cM,lM,iBe=b(()=>{"use strict";st();F0();o6();Vm();cM=class{constructor(e,n,r,o,i,s,a){this.fullSchema=e,this.schema=n,this.tableNamesMap=r,this.table=o,this.tableConfig=i,this.dialect=s,this.session=a}static[ee]="PgRelationalQueryBuilder";findMany(e){return new lM(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new lM(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},lM=class extends na{constructor(e,n,r,o,i,s,a,c,l){super(),this.fullSchema=e,this.schema=n,this.tableNamesMap=r,this.table=o,this.tableConfig=i,this.dialect=s,this.session=a,this.config=c,this.mode=l}static[ee]="PgRelationalQuery";_prepare(e){return Vr.startActiveSpan("drizzle.prepareQuery",()=>{let{query:n,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(o,i)=>{let s=o.map(a=>Y7(this.schema,this.tableConfig,a,n.selection,i));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),n=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return Vr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var uM,sBe=b(()=>{"use strict";st();F0();uM=class extends na{constructor(e,n,r,o){super(),this.execute=e,this.sql=n,this.query=r,this.mapBatchResult=o}static[ee]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,n){return n?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}});var z0,d6=b(()=>{"use strict";st();fie();H0();zo();cf();oBe();iBe();sBe();die();z0=class{constructor(e,n,r){if(this.dialect=e,this.session=n,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:n}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:n},this.query={},this._.schema)for(let[o,i]of Object.entries(this._.schema))this.query[o]=new cM(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[o],i,e,n);this.$cache={invalidate:async o=>{}}}static[ee]="PgDatabase";query;$with=(e,n)=>{let r=this;return{as:i=>(typeof i=="function"&&(i=i(new Jm(r.dialect))),new Proxy(new yA(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new Nr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,n){return new aM({source:e,filters:n,session:this.session})}$cache;with(...e){let n=this;function r(l){return new ra({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e})}function o(l){return new ra({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function i(l,u){return new ra({fields:u??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:{on:l}})}function s(l){return new u6(l,n.session,n.dialect,e)}function a(l){return new l6(l,n.session,n.dialect,e)}function c(l){return new c6(l,n.session,n.dialect,e)}return{select:r,selectDistinct:o,selectDistinctOn:i,update:s,insert:a,delete:c}}select(e){return new ra({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new ra({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,n){return new ra({fields:n??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new u6(e,this.session,this.dialect)}insert(e){return new l6(e,this.session,this.dialect)}delete(e){return new c6(e,this.session,this.dialect)}refreshMaterializedView(e){return new sM(e,this.session,this.dialect)}authToken;execute(e){let n=typeof e=="string"?ne.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(n),o=this.session.prepareQuery(r,void 0,void 0,!1);return new uM(()=>o.execute(void 0,this.authToken),n,r,i=>o.mapResult(i,!0))}transaction(e,n){return this.session.transaction(e,n)}}});var aBe,cBe=b(()=>{"use strict";st();aBe=class{constructor(e,n){this.name=e,n&&(this.createDb=n.createDb,this.createRole=n.createRole,this.inherit=n.inherit)}static[ee]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function lBe(t,e,n){return new mie(t,e,n)}var mie,hie=b(()=>{"use strict";st();mie=class{constructor(e,n,r){this.seqName=e,this.seqOptions=n,this.schema=r}static[ee]="PgSequence"}});var uBe,dBe=b(()=>{"use strict";st();zo();B7();hie();G0();uie();uBe=class{constructor(e){this.schemaName=e}static[ee]="PgSchema";table=(e,n,r)=>Woe(e,n,r,this.schemaName);view=(e,n)=>XMe(e,n,this.schemaName);materializedView=(e,n)=>ZMe(e,n,this.schemaName);enum(e,n){return Array.isArray(n)?N7e(e,[...n],this.schemaName):O7e(e,n,this.schemaName)}sequence=(e,n)=>lBe(e,n,this.schemaName);getSQL(){return new St([ne.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});async function yie(t,e){let n=`${t}-${JSON.stringify(e)}`,o=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",o);return[...new Uint8Array(i)].map(c=>c.toString(16).padStart(2,"0")).join("")}var gie,j0,bie=b(()=>{"use strict";st();gie=class{static[ee]="Cache"},j0=class extends gie{strategy(){return"all"}static[ee]="NoopCache";async get(e){}async put(e,n,r,o){}async onMutate(e){}}});var vA,EA,AA,dM=b(()=>{"use strict";bie();st();eie();rie();Vm();d6();vA=class{constructor(e,n,r,o){this.query=e,this.cache=n,this.queryMetadata=r,this.cacheConfig=o,n&&n.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,n){return e}setToken(e){return this.authToken=e,this}static[ee]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,n,r){if(this.cache===void 0||Te(this.cache,j0)||this.queryMetadata===void 0)try{return await r()}catch(o){throw new Wm(e,n,o)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(o){throw new Wm(e,n,o)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[o]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return o}catch(o){throw new Wm(e,n,o)}if(!this.cacheConfig)try{return await r()}catch(o){throw new Wm(e,n,o)}if(this.queryMetadata.type==="select"){let o=await this.cache.get(this.cacheConfig.tag??await yie(e,n),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(o===void 0){let i;try{i=await r()}catch(s){throw new Wm(e,n,s)}return await this.cache.put(this.cacheConfig.tag??await yie(e,n),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return o}try{return await r()}catch(o){throw new Wm(e,n,o)}}},EA=class{constructor(e){this.dialect=e}static[ee]="PgSession";execute(e,n){return Vr.startActiveSpan("drizzle.operation",()=>Vr.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(n).execute(void 0,n))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,n){let r=await this.execute(e,n);return Number(r[0].count)}},AA=class extends z0{constructor(e,n,r,o=0){super(e,n,r),this.schema=r,this.nestedIndex=o}static[ee]="PgTransaction";rollback(){throw new q7}getTransactionConfigSQL(e){let n=[];return e.isolationLevel&&n.push(`isolation level ${e.isolationLevel}`),e.accessMode&&n.push(e.accessMode),typeof e.deferrable=="boolean"&&n.push(e.deferrable?"deferrable":"not deferrable"),ne.raw(n.join(" "))}setTransaction(e){return this.session.execute(ne`set transaction ${this.getTransactionConfigSQL(e)}`)}}});var pBe=b(()=>{"use strict"});var fBe=b(()=>{"use strict";Pne()});var Un=b(()=>{"use strict";H7e();V7e();V7();d6();i6();xne();EMe();xMe();Qoe();fie();cBe();dBe();hie();dM();pBe();G0();Nne();SA();fBe();Zoe();uie()});var _ie,xA,wA,f6=b(()=>{"use strict";st();_ie=class{static[ee]="ConsoleLogWriter";write(e){console.log(e)}},xA=class{static[ee]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new _ie}logQuery(e,n){let r=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),o=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${o}`)}},wA=class{static[ee]="NoopLogger";logQuery(){}}});var M$e={};kn(M$e,{Client:()=>D$e,DatabaseError:()=>t8t,NeonDbError:()=>f_,NeonQueryPromise:()=>y6,Pool:()=>Z5t,SqlTemplate:()=>Uie,UnsafeRawSql:()=>$ie,_bundleExt:()=>e8t,defaults:()=>n8t,escapeIdentifier:()=>r8t,escapeLiteral:()=>o8t,neon:()=>g_,neonConfig:()=>TA,types:()=>Pa,warnIfBrowser:()=>EM});function qUe(t){return 0}function Nie(t,e=!1){let{protocol:n}=new URL(t),r="http:"+t.substring(n.length),{username:o,password:i,host:s,hostname:a,port:c,pathname:l,search:u,searchParams:d,hash:p}=new URL(r);i=decodeURIComponent(i),o=decodeURIComponent(o),l=decodeURIComponent(l);let f=o+":"+i,h=e?Object.fromEntries(d.entries()):u;return{href:t,protocol:n,auth:f,username:o,password:i,host:s,hostname:a,port:c,pathname:l,search:u,query:h,hash:p}}function g6(t){let e=1779033703,n=3144134277,r=1013904242,o=2773480762,i=1359893119,s=2600822924,a=528734635,c=1541459225,l=0,u=0,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=q((S,v)=>S>>>v|S<<32-v,"rrot"),f=new Uint32Array(64),h=new Uint8Array(64),m=q(()=>{for(let U=0,G=0;U<16;U++,G+=4)f[U]=h[G]<<24|h[G+1]<<16|h[G+2]<<8|h[G+3];for(let U=16;U<64;U++){let G=p(f[U-15],7)^p(f[U-15],18)^f[U-15]>>>3,J=p(f[U-2],17)^p(f[U-2],19)^f[U-2]>>>10;f[U]=f[U-16]+G+f[U-7]+J|0}let S=e,v=n,A=r,w=o,I=i,D=s,k=a,O=c;for(let U=0;U<64;U++){let G=p(I,6)^p(I,11)^p(I,25),J=I&D^~I&k,C=O+G+J+d[U]+f[U]|0,_=p(S,2)^p(S,13)^p(S,22),E=S&v^S&A^v&A,R=_+E|0;O=k,k=D,D=I,I=w+C|0,w=A,A=v,v=S,S=C+R|0}e=e+S|0,n=n+v|0,r=r+A|0,o=o+w|0,i=i+I|0,s=s+D|0,a=a+k|0,c=c+O|0,u=0},"process"),g=q(S=>{typeof S=="string"&&(S=new TextEncoder().encode(S));for(let v=0;v<S.length;v++)h[u++]=S[v],u===64&&m();l+=S.length},"add"),y=q(()=>{if(h[u++]=128,u==64&&m(),u+8>64){for(;u<64;)h[u++]=0;m()}for(;u<58;)h[u++]=0;let S=l*8;h[u++]=S/1099511627776&255,h[u++]=S/4294967296&255,h[u++]=S>>>24,h[u++]=S>>>16&255,h[u++]=S>>>8&255,h[u++]=S&255,m();let v=new Uint8Array(32);return v[0]=e>>>24,v[1]=e>>>16&255,v[2]=e>>>8&255,v[3]=e&255,v[4]=n>>>24,v[5]=n>>>16&255,v[6]=n>>>8&255,v[7]=n&255,v[8]=r>>>24,v[9]=r>>>16&255,v[10]=r>>>8&255,v[11]=r&255,v[12]=o>>>24,v[13]=o>>>16&255,v[14]=o>>>8&255,v[15]=o&255,v[16]=i>>>24,v[17]=i>>>16&255,v[18]=i>>>8&255,v[19]=i&255,v[20]=s>>>24,v[21]=s>>>16&255,v[22]=s>>>8&255,v[23]=s&255,v[24]=a>>>24,v[25]=a>>>16&255,v[26]=a>>>8&255,v[27]=a&255,v[28]=c>>>24,v[29]=c>>>16&255,v[30]=c>>>8&255,v[31]=c&255,v},"digest");return t===void 0?{add:g,digest:y}:(g(t),y())}function XUe(t){return crypto.getRandomValues(sn.alloc(t))}function ZUe(t){if(t==="sha256")return{update:q(function(e){return{digest:q(function(){return sn.from(g6(e))},"digest")}},"update")};if(t==="md5")return{update:q(function(e){return{digest:q(function(){return typeof e=="string"?Tie.hashStr(e):Tie.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function e$e(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:q(function(n){return{digest:q(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof n=="string"&&(n=new TextEncoder().encode(n));let r=e.length;if(r>64)e=g6(e);else if(r<64){let c=new Uint8Array(64);c.set(e),e=c}let o=new Uint8Array(64),i=new Uint8Array(64);for(let c=0;c<64;c++)o[c]=54^e[c],i[c]=92^e[c];let s=new Uint8Array(n.length+64);s.set(o,0),s.set(n,64);let a=new Uint8Array(96);return a.set(i,0),a.set(g6(s),64),sn.from(g6(a))},"digest")}},"update")}}function r$e(...t){return t.join("/")}function i$e(t,e){e(new Error("No filesystem"))}function g$e({socket:t,servername:e}){return t.startTls(e),t}function v$e(t,{alphabet:e,scratchArr:n}={}){if(!h6)if(h6=new Uint16Array(256),hM=new Uint16Array(256),GUe)for(let f=0;f<256;f++)h6[f]=fM[f&15]<<8|fM[f>>>4],hM[f]=mM[f&15]<<8|mM[f>>>4];else for(let f=0;f<256;f++)h6[f]=fM[f&15]|fM[f>>>4]<<8,hM[f]=mM[f&15]|mM[f>>>4]<<8;t.byteOffset%4!==0&&(t=new Uint8Array(t));let r=t.length,o=r>>>1,i=r>>>2,s=n||new Uint16Array(r),a=new Uint32Array(t.buffer,t.byteOffset,i),c=new Uint32Array(s.buffer,s.byteOffset,o),l=e==="upper"?hM:h6,u=0,d=0,p;if(GUe)for(;u<i;)p=a[u++],c[d++]=l[p>>>8&255]<<16|l[p&255],c[d++]=l[p>>>24]<<16|l[p>>>16&255];else for(;u<i;)p=a[u++],c[d++]=l[p>>>24]<<16|l[p>>>16&255],c[d++]=l[p>>>8&255]<<16|l[p&255];for(u<<=2;u<r;)s[u]=l[t[u++]];return j5t.decode(s.subarray(0,r))}function E$e(t,e={}){let n="",r=t.length,o=z5t>>>1,i=Math.ceil(r/o),s=new Uint16Array(i>1?o:r);for(let a=0;a<i;a++){let c=a*o,l=c+o;n+=v$e(t.subarray(c,l),V5t(G5t({},e),{scratchArr:s}))}return n}function A$e(t,e={}){return e.alphabet!=="upper"&&typeof t.toHex=="function"?t.toHex():E$e(t,e)}function EM(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function C$e(t){return t instanceof sn?"\\x"+A$e(t):t}function Iie(t){let{query:e,params:n}=t instanceof Uie?t.toParameterizedQuery():t;return{query:e,params:n.map(r=>C$e((0,K5t.prepareValue)(r)))}}function g_(t,{arrayMode:e,fullResults:n,fetchOptions:r,isolationLevel:o,readOnly:i,deferrable:s,authToken:a,disableWarningInBrowsers:c}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let l;try{l=Nie(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:u,username:d,hostname:p,port:f,pathname:h}=l;if(u!=="postgres:"&&u!=="postgresql:"||!d||!p||!h)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function m(y,...S){if(!(Array.isArray(y)&&Array.isArray(y.raw)&&Array.isArray(S)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new y6(g,new Uie(y,S))}q(m,"templateFn"),m.query=(y,S,v)=>new y6(g,{query:y,params:S??[]},v),m.unsafe=y=>new $ie(y),m.transaction=async(y,S)=>{if(typeof y=="function"&&(y=y(m)),!Array.isArray(y))throw new Error(VUe);y.forEach(w=>{if(!(w instanceof y6))throw new Error(VUe)});let v=y.map(w=>w.queryData),A=y.map(w=>w.opts??{});return g(v,A,S)};async function g(y,S,v){let{fetchEndpoint:A,fetchFunction:w}=TA,I=Array.isArray(y)?{queries:y.map($=>Iie($))}:Iie(y),D=r??{},k=e??!1,O=n??!1,U=o,G=i,J=s;v!==void 0&&(v.fetchOptions!==void 0&&(D={...D,...v.fetchOptions}),v.arrayMode!==void 0&&(k=v.arrayMode),v.fullResults!==void 0&&(O=v.fullResults),v.isolationLevel!==void 0&&(U=v.isolationLevel),v.readOnly!==void 0&&(G=v.readOnly),v.deferrable!==void 0&&(J=v.deferrable)),S!==void 0&&!Array.isArray(S)&&S.fetchOptions!==void 0&&(D={...D,...S.fetchOptions});let C=a;!Array.isArray(S)&&S?.authToken!==void 0&&(C=S.authToken);let _=typeof A=="function"?A(p,f,{jwtAuth:C!==void 0}):A,E={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},R=await O$e(C);R&&(E.Authorization=`Bearer ${R}`),Array.isArray(y)&&(U!==void 0&&(E["Neon-Batch-Isolation-Level"]=U),G!==void 0&&(E["Neon-Batch-Read-Only"]=String(G)),J!==void 0&&(E["Neon-Batch-Deferrable"]=String(J))),c||TA.disableWarningInBrowsers||EM();let M;try{M=await(w??fetch)(_,{method:"POST",body:JSON.stringify(I),headers:E,...D})}catch($){let j=new f_(`Error connecting to database: ${$}`);throw j.sourceError=$,j}if(M.ok){let $=await M.json();if(Array.isArray(y)){let j=$.results;if(!Array.isArray(j))throw new f_("Neon internal error: unexpected result format");return j.map((Y,z)=>{let x=S[z]??{},Q=x.arrayMode??k,Re=x.fullResults??O;return Rie(Y,{arrayMode:Q,fullResults:Re,types:x.types})})}else{let j=S??{},Y=j.arrayMode??k,z=j.fullResults??O;return Rie($,{arrayMode:Y,fullResults:z,types:j.types})}}else{let{status:$}=M;if($===400){let j=await M.json(),Y=new f_(j.message);for(let z of J5t)Y[z]=j[z]??void 0;throw Y}else{let j=await M.text();throw new f_(`Server error (HTTP status ${$}): ${j}`)}}}return q(g,"execute"),m}function Rie(t,{arrayMode:e,fullResults:n,types:r}){let o=new W5t.default(r),i=t.fields.map(c=>c.name),s=t.fields.map(c=>o.getTypeParser(c.dataTypeID)),a=e===!0?t.rows.map(c=>c.map((l,u)=>l===null?null:s[u](l))):t.rows.map(c=>Object.fromEntries(c.map((l,u)=>[i[u],l===null?null:s[u](l)])));return n?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=a,t._parsers=s,t._types=o,t):a}async function O$e(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let n=new f_("Error getting auth token.");throw e instanceof Error&&(n=new f_(`Error getting auth token: ${e.message}`)),n}}function k$e(t,e){if(e)return{callback:e,result:void 0};let n,r,o=q(function(s,a){s?n(s):r(a)},"cb"),i=new t(function(s,a){r=s,n=a});return{callback:o,result:i}}var QOt,IA,XOt,ZOt,e5t,t5t,n5t,q,Rc,Pn,Wd,zUe,m_,rs,cn,r5t,o5t,i5t,gM,Cie,s5t,sn,On,Ut,h_,jUe,UUe,xie,m6,TA,b6,WUe,KUe,JUe,QUe,a5t,c5t,l5t,u5t,d5t,p5t,f5t,m5t,yM,Oie,h5t,Ym,Tie,g5t,Pie,t$e,bM,_M,_6,n$e,SM,y5t,Die,o$e,kie,s$e,Lie,a$e,c$e,l$e,wie,u$e,b5t,_5t,S5t,v5t,d$e,p$e,E5t,A5t,Mie,x5t,w5t,f$e,T5t,I5t,R5t,C5t,m$e,h$e,N5t,y$e,O5t,P5t,b$e,_$e,D5t,k5t,L5t,M5t,$Ue,vM,B5t,U5t,$5t,FUe,F5t,H5t,HUe,G5t,V5t,z5t,GUe,j5t,Bie,fM,mM,q5t,S$e,h6,hM,x$e,Uie,T$e,$ie,W5t,K5t,I$e,f_,VUe,J5t,N$e,y6,Y5t,Q5t,P$e,D$e,X5t,L$e,Z5t,S6,e8t,t8t,n8t,r8t,o8t,Pa,Fie=b(()=>{"use strict";QOt=Object.create,IA=Object.defineProperty,XOt=Object.getOwnPropertyDescriptor,ZOt=Object.getOwnPropertyNames,e5t=Object.getPrototypeOf,t5t=Object.prototype.hasOwnProperty,n5t=(t,e,n)=>e in t?IA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>IA(t,"name",{value:e,configurable:!0}),Rc=(t,e)=>()=>(t&&(e=t(t=0)),e),Pn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wd=(t,e)=>{for(var n in e)IA(t,n,{get:e[n],enumerable:!0})},zUe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ZOt(e))!t5t.call(t,o)&&o!==n&&IA(t,o,{get:()=>e[o],enumerable:!(r=XOt(e,o))||r.enumerable});return t},m_=(t,e,n)=>(n=t!=null?QOt(e5t(t)):{},zUe(e||!t||!t.__esModule?IA(n,"default",{value:t,enumerable:!0}):n,t)),rs=t=>zUe(IA({},"__esModule",{value:!0}),t),cn=(t,e,n)=>n5t(t,typeof e!="symbol"?e+"":e,n),r5t=Pn(t=>{"use strict";Ut(),t.byteLength=c,t.toByteArray=u,t.fromByteArray=f;var e=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=o.length;i<s;++i)e[i]=o[i],n[o.charCodeAt(i)]=i;var i,s;n[45]=62,n[95]=63;function a(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=m);var y=g===m?0:4-g%4;return[g,y]}q(a,"getLens");function c(h){var m=a(h),g=m[0],y=m[1];return(g+y)*3/4-y}q(c,"byteLength");function l(h,m,g){return(m+g)*3/4-g}q(l,"_byteLength");function u(h){var m,g=a(h),y=g[0],S=g[1],v=new r(l(h,y,S)),A=0,w=S>0?y-4:y,I;for(I=0;I<w;I+=4)m=n[h.charCodeAt(I)]<<18|n[h.charCodeAt(I+1)]<<12|n[h.charCodeAt(I+2)]<<6|n[h.charCodeAt(I+3)],v[A++]=m>>16&255,v[A++]=m>>8&255,v[A++]=m&255;return S===2&&(m=n[h.charCodeAt(I)]<<2|n[h.charCodeAt(I+1)]>>4,v[A++]=m&255),S===1&&(m=n[h.charCodeAt(I)]<<10|n[h.charCodeAt(I+1)]<<4|n[h.charCodeAt(I+2)]>>2,v[A++]=m>>8&255,v[A++]=m&255),v}q(u,"toByteArray");function d(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}q(d,"tripletToBase64");function p(h,m,g){for(var y,S=[],v=m;v<g;v+=3)y=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(h[v+2]&255),S.push(d(y));return S.join("")}q(p,"encodeChunk");function f(h){for(var m,g=h.length,y=g%3,S=[],v=16383,A=0,w=g-y;A<w;A+=v)S.push(p(h,A,A+v>w?w:A+v));return y===1?(m=h[g-1],S.push(e[m>>2]+e[m<<4&63]+"==")):y===2&&(m=(h[g-2]<<8)+h[g-1],S.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),S.join("")}q(f,"fromByteArray")}),o5t=Pn(t=>{Ut(),t.read=function(e,n,r,o,i){var s,a,c=i*8-o-1,l=(1<<c)-1,u=l>>1,d=-7,p=r?i-1:0,f=r?-1:1,h=e[n+p];for(p+=f,s=h&(1<<-d)-1,h>>=-d,d+=c;d>0;s=s*256+e[n+p],p+=f,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=o;d>0;a=a*256+e[n+p],p+=f,d-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,o),s=s-u}return(h?-1:1)*a*Math.pow(2,s-o)},t.write=function(e,n,r,o,i,s){var a,c,l,u=s*8-i-1,d=(1<<u)-1,p=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:s-1,m=o?1:-1,g=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,a=d):(a=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?n+=f/l:n+=f*Math.pow(2,1-p),n*l>=2&&(a++,l/=2),a+p>=d?(c=0,a=d):a+p>=1?(c=(n*l-1)*Math.pow(2,i),a=a+p):(c=n*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=c&255,h+=m,c/=256,i-=8);for(a=a<<i|c,u+=i;u>0;e[r+h]=a&255,h+=m,a/=256,u-=8);e[r+h-m]|=g*128}}),i5t=Pn(t=>{"use strict";Ut();var e=r5t(),n=o5t(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;var o=2147483647;t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let T=new Uint8Array(1),B={foo:q(function(){return 42},"foo")};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(T,B),T.foo()===42}catch{return!1}}q(i,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function s(T){if(T>o)throw new RangeError('The value "'+T+'" is invalid for option "size"');let B=new Uint8Array(T);return Object.setPrototypeOf(B,a.prototype),B}q(s,"createBuffer");function a(T,B,V){if(typeof T=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return c(T,B,V)}q(a,"Buffer"),a.poolSize=8192;function c(T,B,V){if(typeof T=="string")return p(T,B);if(ArrayBuffer.isView(T))return h(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(mi(T,ArrayBuffer)||T&&mi(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mi(T,SharedArrayBuffer)||T&&mi(T.buffer,SharedArrayBuffer)))return m(T,B,V);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let oe=T.valueOf&&T.valueOf();if(oe!=null&&oe!==T)return a.from(oe,B,V);let W=g(T);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),B,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}q(c,"from"),a.from=function(T,B,V){return c(T,B,V)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}q(l,"assertSize");function u(T,B,V){return l(T),T<=0?s(T):B!==void 0?typeof V=="string"?s(T).fill(B,V):s(T).fill(B):s(T)}q(u,"alloc"),a.alloc=function(T,B,V){return u(T,B,V)};function d(T){return l(T),s(T<0?0:y(T)|0)}q(d,"allocUnsafe"),a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function p(T,B){if((typeof B!="string"||B==="")&&(B="utf8"),!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);let V=v(T,B)|0,oe=s(V),W=oe.write(T,B);return W!==V&&(oe=oe.slice(0,W)),oe}q(p,"fromString");function f(T){let B=T.length<0?0:y(T.length)|0,V=s(B);for(let oe=0;oe<B;oe+=1)V[oe]=T[oe]&255;return V}q(f,"fromArrayLike");function h(T){if(mi(T,Uint8Array)){let B=new Uint8Array(T);return m(B.buffer,B.byteOffset,B.byteLength)}return f(T)}q(h,"fromArrayView");function m(T,B,V){if(B<0||T.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<B+(V||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return B===void 0&&V===void 0?oe=new Uint8Array(T):V===void 0?oe=new Uint8Array(T,B):oe=new Uint8Array(T,B,V),Object.setPrototypeOf(oe,a.prototype),oe}q(m,"fromArrayBuffer");function g(T){if(a.isBuffer(T)){let B=y(T.length)|0,V=s(B);return V.length===0||T.copy(V,0,0,B),V}if(T.length!==void 0)return typeof T.length!="number"||Fr(T.length)?s(0):f(T);if(T.type==="Buffer"&&Array.isArray(T.data))return f(T.data)}q(g,"fromObject");function y(T){if(T>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return T|0}q(y,"checked");function S(T){return+T!=T&&(T=0),a.alloc(+T)}q(S,"SlowBuffer"),a.isBuffer=q(function(T){return T!=null&&T._isBuffer===!0&&T!==a.prototype},"isBuffer"),a.compare=q(function(T,B){if(mi(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),mi(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),!a.isBuffer(T)||!a.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===B)return 0;let V=T.length,oe=B.length;for(let W=0,X=Math.min(V,oe);W<X;++W)if(T[W]!==B[W]){V=T[W],oe=B[W];break}return V<oe?-1:oe<V?1:0},"compare"),a.isEncoding=q(function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=q(function(T,B){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return a.alloc(0);let V;if(B===void 0)for(B=0,V=0;V<T.length;++V)B+=T[V].length;let oe=a.allocUnsafe(B),W=0;for(V=0;V<T.length;++V){let X=T[V];if(mi(X,Uint8Array))W+X.length>oe.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(oe,W)):Uint8Array.prototype.set.call(oe,X,W);else if(a.isBuffer(X))X.copy(oe,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=X.length}return oe},"concat");function v(T,B){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||mi(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);let V=T.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&V===0)return 0;let W=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return mr(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return Hn(T).length;default:if(W)return oe?-1:mr(T).length;B=(""+B).toLowerCase(),W=!0}}q(v,"byteLength"),a.byteLength=v;function A(T,B,V){let oe=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,B>>>=0,V<=B))return"";for(T||(T="utf8");;)switch(T){case"hex":return j(this,B,V);case"utf8":case"utf-8":return _(this,B,V);case"ascii":return M(this,B,V);case"latin1":case"binary":return $(this,B,V);case"base64":return C(this,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,B,V);default:if(oe)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),oe=!0}}q(A,"slowToString"),a.prototype._isBuffer=!0;function w(T,B,V){let oe=T[B];T[B]=T[V],T[V]=oe}q(w,"swap"),a.prototype.swap16=q(function(){let T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<T;B+=2)w(this,B,B+1);return this},"swap16"),a.prototype.swap32=q(function(){let T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<T;B+=4)w(this,B,B+3),w(this,B+1,B+2);return this},"swap32"),a.prototype.swap64=q(function(){let T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<T;B+=8)w(this,B,B+7),w(this,B+1,B+6),w(this,B+2,B+5),w(this,B+3,B+4);return this},"swap64"),a.prototype.toString=q(function(){let T=this.length;return T===0?"":arguments.length===0?_(this,0,T):A.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=q(function(T){if(!a.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:a.compare(this,T)===0},"equals"),a.prototype.inspect=q(function(){let T="",B=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(T+=" ... "),"<Buffer "+T+">"},"inspect"),r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=q(function(T,B,V,oe,W){if(mi(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(B===void 0&&(B=0),V===void 0&&(V=T?T.length:0),oe===void 0&&(oe=0),W===void 0&&(W=this.length),B<0||V>T.length||oe<0||W>this.length)throw new RangeError("out of range index");if(oe>=W&&B>=V)return 0;if(oe>=W)return-1;if(B>=V)return 1;if(B>>>=0,V>>>=0,oe>>>=0,W>>>=0,this===T)return 0;let X=W-oe,ie=V-B,Le=Math.min(X,ie),Je=this.slice(oe,W),Rt=T.slice(B,V);for(let nn=0;nn<Le;++nn)if(Je[nn]!==Rt[nn]){X=Je[nn],ie=Rt[nn];break}return X<ie?-1:ie<X?1:0},"compare");function I(T,B,V,oe,W){if(T.length===0)return-1;if(typeof V=="string"?(oe=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,Fr(V)&&(V=W?0:T.length-1),V<0&&(V=T.length+V),V>=T.length){if(W)return-1;V=T.length-1}else if(V<0)if(W)V=0;else return-1;if(typeof B=="string"&&(B=a.from(B,oe)),a.isBuffer(B))return B.length===0?-1:D(T,B,V,oe,W);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(T,B,V):Uint8Array.prototype.lastIndexOf.call(T,B,V):D(T,[B],V,oe,W);throw new TypeError("val must be string, number or Buffer")}q(I,"bidirectionalIndexOf");function D(T,B,V,oe,W){let X=1,ie=T.length,Le=B.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(T.length<2||B.length<2)return-1;X=2,ie/=2,Le/=2,V/=2}function Je(nn,ft){return X===1?nn[ft]:nn.readUInt16BE(ft*X)}q(Je,"read");let Rt;if(W){let nn=-1;for(Rt=V;Rt<ie;Rt++)if(Je(T,Rt)===Je(B,nn===-1?0:Rt-nn)){if(nn===-1&&(nn=Rt),Rt-nn+1===Le)return nn*X}else nn!==-1&&(Rt-=Rt-nn),nn=-1}else for(V+Le>ie&&(V=ie-Le),Rt=V;Rt>=0;Rt--){let nn=!0;for(let ft=0;ft<Le;ft++)if(Je(T,Rt+ft)!==Je(B,ft)){nn=!1;break}if(nn)return Rt}return-1}q(D,"arrayIndexOf"),a.prototype.includes=q(function(T,B,V){return this.indexOf(T,B,V)!==-1},"includes"),a.prototype.indexOf=q(function(T,B,V){return I(this,T,B,V,!0)},"indexOf"),a.prototype.lastIndexOf=q(function(T,B,V){return I(this,T,B,V,!1)},"lastIndexOf");function k(T,B,V,oe){V=Number(V)||0;let W=T.length-V;oe?(oe=Number(oe),oe>W&&(oe=W)):oe=W;let X=B.length;oe>X/2&&(oe=X/2);let ie;for(ie=0;ie<oe;++ie){let Le=parseInt(B.substr(ie*2,2),16);if(Fr(Le))return ie;T[V+ie]=Le}return ie}q(k,"hexWrite");function O(T,B,V,oe){return Qn(mr(B,T.length-V),T,V,oe)}q(O,"utf8Write");function U(T,B,V,oe){return Qn(Tr(B),T,V,oe)}q(U,"asciiWrite");function G(T,B,V,oe){return Qn(Hn(B),T,V,oe)}q(G,"base64Write");function J(T,B,V,oe){return Qn(Dd(B,T.length-V),T,V,oe)}q(J,"ucs2Write"),a.prototype.write=q(function(T,B,V,oe){if(B===void 0)oe="utf8",V=this.length,B=0;else if(V===void 0&&typeof B=="string")oe=B,V=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(V)?(V=V>>>0,oe===void 0&&(oe="utf8")):(oe=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let W=this.length-B;if((V===void 0||V>W)&&(V=W),T.length>0&&(V<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let X=!1;for(;;)switch(oe){case"hex":return k(this,T,B,V);case"utf8":case"utf-8":return O(this,T,B,V);case"ascii":case"latin1":case"binary":return U(this,T,B,V);case"base64":return G(this,T,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,T,B,V);default:if(X)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),X=!0}},"write"),a.prototype.toJSON=q(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function C(T,B,V){return B===0&&V===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(B,V))}q(C,"base64Slice");function _(T,B,V){V=Math.min(T.length,V);let oe=[],W=B;for(;W<V;){let X=T[W],ie=null,Le=X>239?4:X>223?3:X>191?2:1;if(W+Le<=V){let Je,Rt,nn,ft;switch(Le){case 1:X<128&&(ie=X);break;case 2:Je=T[W+1],(Je&192)===128&&(ft=(X&31)<<6|Je&63,ft>127&&(ie=ft));break;case 3:Je=T[W+1],Rt=T[W+2],(Je&192)===128&&(Rt&192)===128&&(ft=(X&15)<<12|(Je&63)<<6|Rt&63,ft>2047&&(ft<55296||ft>57343)&&(ie=ft));break;case 4:Je=T[W+1],Rt=T[W+2],nn=T[W+3],(Je&192)===128&&(Rt&192)===128&&(nn&192)===128&&(ft=(X&15)<<18|(Je&63)<<12|(Rt&63)<<6|nn&63,ft>65535&&ft<1114112&&(ie=ft))}}ie===null?(ie=65533,Le=1):ie>65535&&(ie-=65536,oe.push(ie>>>10&1023|55296),ie=56320|ie&1023),oe.push(ie),W+=Le}return R(oe)}q(_,"utf8Slice");var E=4096;function R(T){let B=T.length;if(B<=E)return String.fromCharCode.apply(String,T);let V="",oe=0;for(;oe<B;)V+=String.fromCharCode.apply(String,T.slice(oe,oe+=E));return V}q(R,"decodeCodePointsArray");function M(T,B,V){let oe="";V=Math.min(T.length,V);for(let W=B;W<V;++W)oe+=String.fromCharCode(T[W]&127);return oe}q(M,"asciiSlice");function $(T,B,V){let oe="";V=Math.min(T.length,V);for(let W=B;W<V;++W)oe+=String.fromCharCode(T[W]);return oe}q($,"latin1Slice");function j(T,B,V){let oe=T.length;(!B||B<0)&&(B=0),(!V||V<0||V>oe)&&(V=oe);let W="";for(let X=B;X<V;++X)W+=mo[T[X]];return W}q(j,"hexSlice");function Y(T,B,V){let oe=T.slice(B,V),W="";for(let X=0;X<oe.length-1;X+=2)W+=String.fromCharCode(oe[X]+oe[X+1]*256);return W}q(Y,"utf16leSlice"),a.prototype.slice=q(function(T,B){let V=this.length;T=~~T,B=B===void 0?V:~~B,T<0?(T+=V,T<0&&(T=0)):T>V&&(T=V),B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),B<T&&(B=T);let oe=this.subarray(T,B);return Object.setPrototypeOf(oe,a.prototype),oe},"slice");function z(T,B,V){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+B>V)throw new RangeError("Trying to access beyond buffer length")}q(z,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||z(T,B,this.length);let oe=this[T],W=1,X=0;for(;++X<B&&(W*=256);)oe+=this[T+X]*W;return oe},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||z(T,B,this.length);let oe=this[T+--B],W=1;for(;B>0&&(W*=256);)oe+=this[T+--B]*W;return oe},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=q(function(T,B){return T=T>>>0,B||z(T,1,this.length),this[T]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=q(function(T,B){return T=T>>>0,B||z(T,2,this.length),this[T]|this[T+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=q(function(T,B){return T=T>>>0,B||z(T,2,this.length),this[T]<<8|this[T+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=oc(q(function(T){T=T>>>0,tn(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&un(T,this.length-8);let oe=B+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,W=this[++T]+this[++T]*2**8+this[++T]*2**16+V*2**24;return BigInt(oe)+(BigInt(W)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=oc(q(function(T){T=T>>>0,tn(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&un(T,this.length-8);let oe=B*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],W=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+V;return(BigInt(oe)<<BigInt(32))+BigInt(W)},"readBigUInt64BE")),a.prototype.readIntLE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||z(T,B,this.length);let oe=this[T],W=1,X=0;for(;++X<B&&(W*=256);)oe+=this[T+X]*W;return W*=128,oe>=W&&(oe-=Math.pow(2,8*B)),oe},"readIntLE"),a.prototype.readIntBE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||z(T,B,this.length);let oe=B,W=1,X=this[T+--oe];for(;oe>0&&(W*=256);)X+=this[T+--oe]*W;return W*=128,X>=W&&(X-=Math.pow(2,8*B)),X},"readIntBE"),a.prototype.readInt8=q(function(T,B){return T=T>>>0,B||z(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},"readInt8"),a.prototype.readInt16LE=q(function(T,B){T=T>>>0,B||z(T,2,this.length);let V=this[T]|this[T+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),a.prototype.readInt16BE=q(function(T,B){T=T>>>0,B||z(T,2,this.length);let V=this[T+1]|this[T]<<8;return V&32768?V|4294901760:V},"readInt16BE"),a.prototype.readInt32LE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},"readInt32LE"),a.prototype.readInt32BE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},"readInt32BE"),a.prototype.readBigInt64LE=oc(q(function(T){T=T>>>0,tn(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&un(T,this.length-8);let oe=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(V<<24);return(BigInt(oe)<<BigInt(32))+BigInt(B+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=oc(q(function(T){T=T>>>0,tn(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&un(T,this.length-8);let oe=(B<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(oe)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+V)},"readBigInt64BE")),a.prototype.readFloatLE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),n.read(this,T,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=q(function(T,B){return T=T>>>0,B||z(T,4,this.length),n.read(this,T,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=q(function(T,B){return T=T>>>0,B||z(T,8,this.length),n.read(this,T,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=q(function(T,B){return T=T>>>0,B||z(T,8,this.length),n.read(this,T,!1,52,8)},"readDoubleBE");function x(T,B,V,oe,W,X){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>W||B<X)throw new RangeError('"value" argument is out of bounds');if(V+oe>T.length)throw new RangeError("Index out of range")}q(x,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=q(function(T,B,V,oe){if(T=+T,B=B>>>0,V=V>>>0,!oe){let ie=Math.pow(2,8*V)-1;x(this,T,B,V,ie,0)}let W=1,X=0;for(this[B]=T&255;++X<V&&(W*=256);)this[B+X]=T/W&255;return B+V},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=q(function(T,B,V,oe){if(T=+T,B=B>>>0,V=V>>>0,!oe){let ie=Math.pow(2,8*V)-1;x(this,T,B,V,ie,0)}let W=V-1,X=1;for(this[B+W]=T&255;--W>=0&&(X*=256);)this[B+W]=T/X&255;return B+V},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,1,255,0),this[B]=T&255,B+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,2,65535,0),this[B]=T&255,this[B+1]=T>>>8,B+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,2,65535,0),this[B]=T>>>8,this[B+1]=T&255,B+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,4,4294967295,0),this[B+3]=T>>>24,this[B+2]=T>>>16,this[B+1]=T>>>8,this[B]=T&255,B+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,4,4294967295,0),this[B]=T>>>24,this[B+1]=T>>>16,this[B+2]=T>>>8,this[B+3]=T&255,B+4},"writeUInt32BE");function Q(T,B,V,oe,W){se(B,oe,W,T,V,7);let X=Number(B&BigInt(4294967295));T[V++]=X,X=X>>8,T[V++]=X,X=X>>8,T[V++]=X,X=X>>8,T[V++]=X;let ie=Number(B>>BigInt(32)&BigInt(4294967295));return T[V++]=ie,ie=ie>>8,T[V++]=ie,ie=ie>>8,T[V++]=ie,ie=ie>>8,T[V++]=ie,V}q(Q,"wrtBigUInt64LE");function Re(T,B,V,oe,W){se(B,oe,W,T,V,7);let X=Number(B&BigInt(4294967295));T[V+7]=X,X=X>>8,T[V+6]=X,X=X>>8,T[V+5]=X,X=X>>8,T[V+4]=X;let ie=Number(B>>BigInt(32)&BigInt(4294967295));return T[V+3]=ie,ie=ie>>8,T[V+2]=ie,ie=ie>>8,T[V+1]=ie,ie=ie>>8,T[V]=ie,V+8}q(Re,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=oc(q(function(T,B=0){return Q(this,T,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=oc(q(function(T,B=0){return Re(this,T,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=q(function(T,B,V,oe){if(T=+T,B=B>>>0,!oe){let Le=Math.pow(2,8*V-1);x(this,T,B,V,Le-1,-Le)}let W=0,X=1,ie=0;for(this[B]=T&255;++W<V&&(X*=256);)T<0&&ie===0&&this[B+W-1]!==0&&(ie=1),this[B+W]=(T/X>>0)-ie&255;return B+V},"writeIntLE"),a.prototype.writeIntBE=q(function(T,B,V,oe){if(T=+T,B=B>>>0,!oe){let Le=Math.pow(2,8*V-1);x(this,T,B,V,Le-1,-Le)}let W=V-1,X=1,ie=0;for(this[B+W]=T&255;--W>=0&&(X*=256);)T<0&&ie===0&&this[B+W+1]!==0&&(ie=1),this[B+W]=(T/X>>0)-ie&255;return B+V},"writeIntBE"),a.prototype.writeInt8=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,1,127,-128),T<0&&(T=255+T+1),this[B]=T&255,B+1},"writeInt8"),a.prototype.writeInt16LE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,2,32767,-32768),this[B]=T&255,this[B+1]=T>>>8,B+2},"writeInt16LE"),a.prototype.writeInt16BE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,2,32767,-32768),this[B]=T>>>8,this[B+1]=T&255,B+2},"writeInt16BE"),a.prototype.writeInt32LE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,4,2147483647,-2147483648),this[B]=T&255,this[B+1]=T>>>8,this[B+2]=T>>>16,this[B+3]=T>>>24,B+4},"writeInt32LE"),a.prototype.writeInt32BE=q(function(T,B,V){return T=+T,B=B>>>0,V||x(this,T,B,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[B]=T>>>24,this[B+1]=T>>>16,this[B+2]=T>>>8,this[B+3]=T&255,B+4},"writeInt32BE"),a.prototype.writeBigInt64LE=oc(q(function(T,B=0){return Q(this,T,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=oc(q(function(T,B=0){return Re(this,T,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Se(T,B,V,oe,W,X){if(V+oe>T.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}q(Se,"checkIEEE754");function pe(T,B,V,oe,W){return B=+B,V=V>>>0,W||Se(T,B,V,4,34028234663852886e22,-34028234663852886e22),n.write(T,B,V,oe,23,4),V+4}q(pe,"writeFloat"),a.prototype.writeFloatLE=q(function(T,B,V){return pe(this,T,B,!0,V)},"writeFloatLE"),a.prototype.writeFloatBE=q(function(T,B,V){return pe(this,T,B,!1,V)},"writeFloatBE");function Ve(T,B,V,oe,W){return B=+B,V=V>>>0,W||Se(T,B,V,8,17976931348623157e292,-17976931348623157e292),n.write(T,B,V,oe,52,8),V+8}q(Ve,"writeDouble"),a.prototype.writeDoubleLE=q(function(T,B,V){return Ve(this,T,B,!0,V)},"writeDoubleLE"),a.prototype.writeDoubleBE=q(function(T,B,V){return Ve(this,T,B,!1,V)},"writeDoubleBE"),a.prototype.copy=q(function(T,B,V,oe){if(!a.isBuffer(T))throw new TypeError("argument should be a Buffer");if(V||(V=0),!oe&&oe!==0&&(oe=this.length),B>=T.length&&(B=T.length),B||(B=0),oe>0&&oe<V&&(oe=V),oe===V||T.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),T.length-B<oe-V&&(oe=T.length-B+V);let W=oe-V;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,V,oe):Uint8Array.prototype.set.call(T,this.subarray(V,oe),B),W},"copy"),a.prototype.fill=q(function(T,B,V,oe){if(typeof T=="string"){if(typeof B=="string"?(oe=B,B=0,V=this.length):typeof V=="string"&&(oe=V,V=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!a.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(T.length===1){let X=T.charCodeAt(0);(oe==="utf8"&&X<128||oe==="latin1")&&(T=X)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(B<0||this.length<B||this.length<V)throw new RangeError("Out of range index");if(V<=B)return this;B=B>>>0,V=V===void 0?this.length:V>>>0,T||(T=0);let W;if(typeof T=="number")for(W=B;W<V;++W)this[W]=T;else{let X=a.isBuffer(T)?T:a.from(T,oe),ie=X.length;if(ie===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(W=0;W<V-B;++W)this[W+B]=X[W%ie]}return this},"fill");var xe={};function ut(T,B,V){var oe;xe[T]=(oe=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}},q(oe,"NodeError"),oe)}q(ut,"E"),ut("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(T,B){return`The "${T}" argument must be of type number. Received type ${typeof B}`},TypeError),ut("ERR_OUT_OF_RANGE",function(T,B,V){let oe=`The value of "${T}" is out of range.`,W=V;return Number.isInteger(V)&&Math.abs(V)>2**32?W=dt(String(V)):typeof V=="bigint"&&(W=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(W=dt(W)),W+="n"),oe+=` It must be ${B}. Received ${W}`,oe},RangeError);function dt(T){let B="",V=T.length,oe=T[0]==="-"?1:0;for(;V>=oe+4;V-=3)B=`_${T.slice(V-3,V)}${B}`;return`${T.slice(0,V)}${B}`}q(dt,"addNumericalSeparator");function Ot(T,B,V){tn(B,"offset"),(T[B]===void 0||T[B+V]===void 0)&&un(B,T.length-(V+1))}q(Ot,"checkBounds");function se(T,B,V,oe,W,X){if(T>V||T<B){let ie=typeof B=="bigint"?"n":"",Le;throw X>3?B===0||B===BigInt(0)?Le=`>= 0${ie} and < 2${ie} ** ${(X+1)*8}${ie}`:Le=`>= -(2${ie} ** ${(X+1)*8-1}${ie}) and < 2 ** ${(X+1)*8-1}${ie}`:Le=`>= ${B}${ie} and <= ${V}${ie}`,new xe.ERR_OUT_OF_RANGE("value",Le,T)}Ot(oe,W,X)}q(se,"checkIntBI");function tn(T,B){if(typeof T!="number")throw new xe.ERR_INVALID_ARG_TYPE(B,"number",T)}q(tn,"validateNumber");function un(T,B,V){throw Math.floor(T)!==T?(tn(T,V),new xe.ERR_OUT_OF_RANGE(V||"offset","an integer",T)):B<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${B}`,T)}q(un,"boundsError");var fr=/[^+/0-9A-Za-z-_]/g;function rc(T){if(T=T.split("=")[0],T=T.trim().replace(fr,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}q(rc,"base64clean");function mr(T,B){B=B||1/0;let V,oe=T.length,W=null,X=[];for(let ie=0;ie<oe;++ie){if(V=T.charCodeAt(ie),V>55295&&V<57344){if(!W){if(V>56319){(B-=3)>-1&&X.push(239,191,189);continue}else if(ie+1===oe){(B-=3)>-1&&X.push(239,191,189);continue}W=V;continue}if(V<56320){(B-=3)>-1&&X.push(239,191,189),W=V;continue}V=(W-55296<<10|V-56320)+65536}else W&&(B-=3)>-1&&X.push(239,191,189);if(W=null,V<128){if((B-=1)<0)break;X.push(V)}else if(V<2048){if((B-=2)<0)break;X.push(V>>6|192,V&63|128)}else if(V<65536){if((B-=3)<0)break;X.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((B-=4)<0)break;X.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return X}q(mr,"utf8ToBytes");function Tr(T){let B=[];for(let V=0;V<T.length;++V)B.push(T.charCodeAt(V)&255);return B}q(Tr,"asciiToBytes");function Dd(T,B){let V,oe,W,X=[];for(let ie=0;ie<T.length&&!((B-=2)<0);++ie)V=T.charCodeAt(ie),oe=V>>8,W=V%256,X.push(W),X.push(oe);return X}q(Dd,"utf16leToBytes");function Hn(T){return e.toByteArray(rc(T))}q(Hn,"base64ToBytes");function Qn(T,B,V,oe){let W;for(W=0;W<oe&&!(W+V>=B.length||W>=T.length);++W)B[W+V]=T[W];return W}q(Qn,"blitBuffer");function mi(T,B){return T instanceof B||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===B.name}q(mi,"isInstance");function Fr(T){return T!==T}q(Fr,"numberIsNaN");var mo=(function(){let T="0123456789abcdef",B=new Array(256);for(let V=0;V<16;++V){let oe=V*16;for(let W=0;W<16;++W)B[oe+W]=T[V]+T[W]}return B})();function oc(T){return typeof BigInt>"u"?Ir:T}q(oc,"defineBigIntMethod");function Ir(){throw new Error("BigInt not supported")}q(Ir,"BufferBigIntNotDefined")}),Ut=Rc(()=>{"use strict";gM=globalThis,Cie=globalThis.setImmediate??(t=>setTimeout(t,0)),s5t=globalThis.clearImmediate??(t=>clearTimeout(t)),sn=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:i5t().Buffer,On=globalThis.process??{},On.env??(On.env={});try{On.nextTick(()=>{})}catch{let t=Promise.resolve();On.nextTick=t.then.bind(t)}}),h_=Pn((t,e)=>{"use strict";Ut();var n=typeof Reflect=="object"?Reflect:null,r=n&&typeof n.apply=="function"?n.apply:q(function(I,D,k){return Function.prototype.apply.call(I,D,k)},"ReflectApply"),o;n&&typeof n.ownKeys=="function"?o=n.ownKeys:Object.getOwnPropertySymbols?o=q(function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))},"ReflectOwnKeys"):o=q(function(I){return Object.getOwnPropertyNames(I)},"ReflectOwnKeys");function i(I){console&&console.warn&&console.warn(I)}q(i,"ProcessEmitWarning");var s=Number.isNaN||q(function(I){return I!==I},"NumberIsNaN");function a(){a.init.call(this)}q(a,"EventEmitter"),e.exports=a,e.exports.once=v,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}q(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:q(function(){return c},"get"),set:q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");c=I},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this},"setMaxListeners");function u(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}q(u,"_getMaxListeners"),a.prototype.getMaxListeners=q(function(){return u(this)},"getMaxListeners"),a.prototype.emit=q(function(I){for(var D=[],k=1;k<arguments.length;k++)D.push(arguments[k]);var O=I==="error",U=this._events;if(U!==void 0)O=O&&U.error===void 0;else if(!O)return!1;if(O){var G;if(D.length>0&&(G=D[0]),G instanceof Error)throw G;var J=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw J.context=G,J}var C=U[I];if(C===void 0)return!1;if(typeof C=="function")r(C,this,D);else for(var _=C.length,E=g(C,_),k=0;k<_;++k)r(E[k],this,D);return!0},"emit");function d(I,D,k,O){var U,G,J;if(l(k),G=I._events,G===void 0?(G=I._events=Object.create(null),I._eventsCount=0):(G.newListener!==void 0&&(I.emit("newListener",D,k.listener?k.listener:k),G=I._events),J=G[D]),J===void 0)J=G[D]=k,++I._eventsCount;else if(typeof J=="function"?J=G[D]=O?[k,J]:[J,k]:O?J.unshift(k):J.push(k),U=u(I),U>0&&J.length>U&&!J.warned){J.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=I,C.type=D,C.count=J.length,i(C)}return I}q(d,"_addListener"),a.prototype.addListener=q(function(I,D){return d(this,I,D,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=q(function(I,D){return d(this,I,D,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}q(p,"onceWrapper");function f(I,D,k){var O={fired:!1,wrapFn:void 0,target:I,type:D,listener:k},U=p.bind(O);return U.listener=k,O.wrapFn=U,U}q(f,"_onceWrap"),a.prototype.once=q(function(I,D){return l(D),this.on(I,f(this,I,D)),this},"once"),a.prototype.prependOnceListener=q(function(I,D){return l(D),this.prependListener(I,f(this,I,D)),this},"prependOnceListener"),a.prototype.removeListener=q(function(I,D){var k,O,U,G,J;if(l(D),O=this._events,O===void 0)return this;if(k=O[I],k===void 0)return this;if(k===D||k.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete O[I],O.removeListener&&this.emit("removeListener",I,k.listener||D));else if(typeof k!="function"){for(U=-1,G=k.length-1;G>=0;G--)if(k[G]===D||k[G].listener===D){J=k[G].listener,U=G;break}if(U<0)return this;U===0?k.shift():y(k,U),k.length===1&&(O[I]=k[0]),O.removeListener!==void 0&&this.emit("removeListener",I,J||D)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=q(function(I){var D,k,O;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[I]),this;if(arguments.length===0){var U=Object.keys(k),G;for(O=0;O<U.length;++O)G=U[O],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=k[I],typeof D=="function")this.removeListener(I,D);else if(D!==void 0)for(O=D.length-1;O>=0;O--)this.removeListener(I,D[O]);return this},"removeAllListeners");function h(I,D,k){var O=I._events;if(O===void 0)return[];var U=O[D];return U===void 0?[]:typeof U=="function"?k?[U.listener||U]:[U]:k?S(U):g(U,U.length)}q(h,"_listeners"),a.prototype.listeners=q(function(I){return h(this,I,!0)},"listeners"),a.prototype.rawListeners=q(function(I){return h(this,I,!1)},"rawListeners"),a.listenerCount=function(I,D){return typeof I.listenerCount=="function"?I.listenerCount(D):m.call(I,D)},a.prototype.listenerCount=m;function m(I){var D=this._events;if(D!==void 0){var k=D[I];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}q(m,"listenerCount"),a.prototype.eventNames=q(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function g(I,D){for(var k=new Array(D),O=0;O<D;++O)k[O]=I[O];return k}q(g,"arrayClone");function y(I,D){for(;D+1<I.length;D++)I[D]=I[D+1];I.pop()}q(y,"spliceOne");function S(I){for(var D=new Array(I.length),k=0;k<D.length;++k)D[k]=I[k].listener||I[k];return D}q(S,"unwrapListeners");function v(I,D){return new Promise(function(k,O){function U(J){I.removeListener(D,G),O(J)}q(U,"errorListener");function G(){typeof I.removeListener=="function"&&I.removeListener("error",U),k([].slice.call(arguments))}q(G,"resolver"),w(I,D,G,{once:!0}),D!=="error"&&A(I,U,{once:!0})})}q(v,"once");function A(I,D,k){typeof I.on=="function"&&w(I,"error",D,k)}q(A,"addErrorHandlerIfEventEmitter");function w(I,D,k,O){if(typeof I.on=="function")O.once?I.once(D,k):I.on(D,k);else if(typeof I.addEventListener=="function")I.addEventListener(D,q(function U(G){O.once&&I.removeEventListener(D,U),k(G)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}q(w,"eventTargetAgnosticAddListener")}),jUe={};Wd(jUe,{Socket:()=>TA,isIP:()=>qUe});b6=Rc(()=>{"use strict";Ut(),UUe=m_(h_(),1),q(qUe,"isIP"),xie=/^[^.]+\./,m6=class Yt extends UUe.EventEmitter{constructor(){super(...arguments),cn(this,"opts",{}),cn(this,"connecting",!1),cn(this,"pending",!0),cn(this,"writable",!0),cn(this,"encrypted",!1),cn(this,"authorized",!1),cn(this,"destroyed",!1),cn(this,"ws",null),cn(this,"writeBuffer"),cn(this,"tlsState",0),cn(this,"tlsRead"),cn(this,"tlsWrite")}static get poolQueryViaFetch(){return Yt.opts.poolQueryViaFetch??Yt.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){Yt.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return Yt.opts.fetchEndpoint??Yt.defaults.fetchEndpoint}static set fetchEndpoint(e){Yt.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return Yt.opts.fetchFunction??Yt.defaults.fetchFunction}static set fetchFunction(e){Yt.opts.fetchFunction=e}static get webSocketConstructor(){return Yt.opts.webSocketConstructor??Yt.defaults.webSocketConstructor}static set webSocketConstructor(e){Yt.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??Yt.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return Yt.opts.wsProxy??Yt.defaults.wsProxy}static set wsProxy(e){Yt.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??Yt.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return Yt.opts.coalesceWrites??Yt.defaults.coalesceWrites}static set coalesceWrites(e){Yt.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??Yt.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return Yt.opts.useSecureWebSocket??Yt.defaults.useSecureWebSocket}static set useSecureWebSocket(e){Yt.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??Yt.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return Yt.opts.forceDisablePgSSL??Yt.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){Yt.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??Yt.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return Yt.opts.disableSNI??Yt.defaults.disableSNI}static set disableSNI(e){Yt.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??Yt.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get disableWarningInBrowsers(){return Yt.opts.disableWarningInBrowsers??Yt.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(e){Yt.opts.disableWarningInBrowsers=e}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??Yt.disableWarningInBrowsers}set disableWarningInBrowsers(e){this.opts.disableWarningInBrowsers=e}static get pipelineConnect(){return Yt.opts.pipelineConnect??Yt.defaults.pipelineConnect}static set pipelineConnect(e){Yt.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??Yt.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return Yt.opts.subtls??Yt.defaults.subtls}static set subtls(e){Yt.opts.subtls=e}get subtls(){return this.opts.subtls??Yt.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return Yt.opts.pipelineTLS??Yt.defaults.pipelineTLS}static set pipelineTLS(e){Yt.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??Yt.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return Yt.opts.rootCerts??Yt.defaults.rootCerts}static set rootCerts(e){Yt.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??Yt.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,n){let r=this.wsProxy;if(r===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof r=="function"?r(e,n):`${r}?address=${e}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,n,r){this.connecting=!0,r&&this.once("connect",r);let o=q(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=q((a,c=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",l=>{this.emit("error",l),this.emit("close")}),a.addEventListener("message",l=>{if(this.tlsState===0){let u=sn.from(l.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),c?o():a.addEventListener("open",o)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(n,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),i(this.ws);else try{this.ws=new WebSocket(a),i(this.ws)}catch{this.ws=new __unstable_WebSocket(a),i(this.ws)}}catch(a){let c=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(c,{headers:{Upgrade:"websocket"}}).then(l=>{if(this.ws=l.webSocket,this.ws==null)throw a;this.ws.accept(),i(this.ws,!0)}).catch(l=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${l}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),o=r.read.bind(r),i=this.rawWrite.bind(this),{read:s,write:a}=await this.subtls.startTls(e,n,o,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let n=sn.from(e);this.emit("data",n)}}}rawWrite(e){if(!this.coalesceWrites){this.ws&&this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+e.length);n.set(this.writeBuffer),n.set(e,this.writeBuffer.length),this.writeBuffer=n}}write(e,n="utf8",r=o=>{}){return e.length===0?(r(),!0):(typeof e=="string"&&(e=sn.from(e,n)),this.tlsState===0?(this.rawWrite(e),r()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,n,r)}):(this.tlsWrite(e),r()),!0)}end(e=sn.alloc(0),n="utf8",r=()=>{}){return this.write(e,n,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},q(m6,"Socket"),cn(m6,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:q((t,e,n)=>{let r;return n?.jwtAuth?r=t.replace(xie,"apiauth."):r=t.replace(xie,"api."),"https://"+r+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:q(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),cn(m6,"opts",{}),TA=m6}),WUe={};Wd(WUe,{parse:()=>Nie});KUe=Rc(()=>{"use strict";Ut(),q(Nie,"parse")}),JUe=Pn(t=>{"use strict";Ut(),t.parse=function(o,i){return new n(o,i).parse()};var e=class YUe{constructor(i,s){this.source=i,this.transform=s||r,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var i=this.source[this.position++];return i==="\\"?{value:this.source[this.position++],escaped:!0}:{value:i,escaped:!1}}record(i){this.recorded.push(i)}newEntry(i){var s;(this.recorded.length>0||i)&&(s=this.recorded.join(""),s==="NULL"&&!i&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var i=this.nextCharacter();if(i.value==="=")break}}parse(i){var s,a,c;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!c)this.dimension++,this.dimension>1&&(a=new YUe(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(s.value==="}"&&!c){if(this.dimension--,!this.dimension&&(this.newEntry(),i))return this.entries}else s.value==='"'&&!s.escaped?(c&&this.newEntry(!0),c=!c):s.value===","&&!c?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};q(e,"ArrayParser");var n=e;function r(o){return o}q(r,"identity")}),QUe=Pn((t,e)=>{Ut();var n=JUe();e.exports={create:q(function(r,o){return{parse:q(function(){return n.parse(r,o)},"parse")}},"create")}}),a5t=Pn((t,e)=>{"use strict";Ut();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,r=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,i=/^-?infinity$/;e.exports=q(function(u){if(i.test(u))return Number(u.replace("i","I"));var d=n.exec(u);if(!d)return s(u)||null;var p=!!d[8],f=parseInt(d[1],10);p&&(f=c(f));var h=parseInt(d[2],10)-1,m=d[3],g=parseInt(d[4],10),y=parseInt(d[5],10),S=parseInt(d[6],10),v=d[7];v=v?1e3*parseFloat(v):0;var A,w=a(u);return w!=null?(A=new Date(Date.UTC(f,h,m,g,y,S,v)),l(f)&&A.setUTCFullYear(f),w!==0&&A.setTime(A.getTime()-w)):(A=new Date(f,h,m,g,y,S,v),l(f)&&A.setFullYear(f)),A},"parseDate");function s(u){var d=r.exec(u);if(d){var p=parseInt(d[1],10),f=!!d[4];f&&(p=c(p));var h=parseInt(d[2],10)-1,m=d[3],g=new Date(p,h,m);return l(p)&&g.setFullYear(p),g}}q(s,"getDate");function a(u){if(u.endsWith("+00"))return 0;var d=o.exec(u.split(" ")[1]);if(d){var p=d[1];if(p==="Z")return 0;var f=p==="-"?-1:1,h=parseInt(d[2],10)*3600+parseInt(d[3]||0,10)*60+parseInt(d[4]||0,10);return h*f*1e3}}q(a,"timeZoneOffset");function c(u){return-(u-1)}q(c,"bcYearToNegativeYear");function l(u){return u>=0&&u<100}q(l,"is0To99")}),c5t=Pn((t,e)=>{Ut(),e.exports=r;var n=Object.prototype.hasOwnProperty;function r(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)n.call(s,a)&&(o[a]=s[a])}return o}q(r,"extend")}),l5t=Pn((t,e)=>{"use strict";Ut();var n=c5t();e.exports=r;function r(S){if(!(this instanceof r))return new r(S);n(this,y(S))}q(r,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];r.prototype.toPostgres=function(){var S=o.filter(this.hasOwnProperty,this);return this.milliseconds&&S.indexOf("seconds")<0&&S.push("seconds"),S.length===0?"0":S.map(function(v){var A=this[v]||0;return v==="seconds"&&this.milliseconds&&(A=(A+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),A+" "+v},this).join(" ")};var i={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],a=["hours","minutes","seconds"];r.prototype.toISOString=r.prototype.toISO=function(){var S=s.map(A,this).join(""),v=a.map(A,this).join("");return"P"+S+"T"+v;function A(w){var I=this[w]||0;return w==="seconds"&&this.milliseconds&&(I=(I+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),I+i[w]}};var c="([+-]?\\d+)",l=c+"\\s+years?",u=c+"\\s+mons?",d=c+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",f=new RegExp([l,u,d,p].map(function(S){return"("+S+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},m=["hours","minutes","seconds","milliseconds"];function g(S){var v=S+"000000".slice(S.length);return parseInt(v,10)/1e3}q(g,"parseMilliseconds");function y(S){if(!S)return{};var v=f.exec(S),A=v[8]==="-";return Object.keys(h).reduce(function(w,I){var D=h[I],k=v[D];return!k||(k=I==="milliseconds"?g(k):parseInt(k,10),!k)||(A&&~m.indexOf(I)&&(k*=-1),w[I]=k),w},{})}q(y,"parse")}),u5t=Pn((t,e)=>{"use strict";Ut(),e.exports=q(function(n){if(/^\\x/.test(n))return new sn(n.substr(2),"hex");for(var r="",o=0;o<n.length;)if(n[o]!=="\\")r+=n[o],++o;else if(/[0-7]{3}/.test(n.substr(o+1,3)))r+=String.fromCharCode(parseInt(n.substr(o+1,3),8)),o+=4;else{for(var i=1;o+i<n.length&&n[o+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)r+="\\";o+=Math.floor(i/2)*2}return new sn(r,"binary")},"parseBytea")}),d5t=Pn((t,e)=>{Ut();var n=JUe(),r=QUe(),o=a5t(),i=l5t(),s=u5t();function a(O){return q(function(U){return U===null?U:O(U)},"nullAllowed")}q(a,"allowNull");function c(O){return O===null?O:O==="TRUE"||O==="t"||O==="true"||O==="y"||O==="yes"||O==="on"||O==="1"}q(c,"parseBool");function l(O){return O?n.parse(O,c):null}q(l,"parseBoolArray");function u(O){return parseInt(O,10)}q(u,"parseBaseTenInt");function d(O){return O?n.parse(O,a(u)):null}q(d,"parseIntegerArray");function p(O){return O?n.parse(O,a(function(U){return A(U).trim()})):null}q(p,"parseBigIntegerArray");var f=q(function(O){if(!O)return null;var U=r.create(O,function(G){return G!==null&&(G=I(G)),G});return U.parse()},"parsePointArray"),h=q(function(O){if(!O)return null;var U=r.create(O,function(G){return G!==null&&(G=parseFloat(G)),G});return U.parse()},"parseFloatArray"),m=q(function(O){if(!O)return null;var U=r.create(O);return U.parse()},"parseStringArray"),g=q(function(O){if(!O)return null;var U=r.create(O,function(G){return G!==null&&(G=o(G)),G});return U.parse()},"parseDateArray"),y=q(function(O){if(!O)return null;var U=r.create(O,function(G){return G!==null&&(G=i(G)),G});return U.parse()},"parseIntervalArray"),S=q(function(O){return O?n.parse(O,a(s)):null},"parseByteAArray"),v=q(function(O){return parseInt(O,10)},"parseInteger"),A=q(function(O){var U=String(O);return/^\d+$/.test(U)?U:O},"parseBigInteger"),w=q(function(O){return O?n.parse(O,a(JSON.parse)):null},"parseJsonArray"),I=q(function(O){return O[0]!=="("?null:(O=O.substring(1,O.length-1).split(","),{x:parseFloat(O[0]),y:parseFloat(O[1])})},"parsePoint"),D=q(function(O){if(O[0]!=="<"&&O[1]!=="(")return null;for(var U="(",G="",J=!1,C=2;C<O.length-1;C++){if(J||(U+=O[C]),O[C]===")"){J=!0;continue}else if(!J)continue;O[C]!==","&&(G+=O[C])}var _=I(U);return _.radius=parseFloat(G),_},"parseCircle"),k=q(function(O){O(20,A),O(21,v),O(23,v),O(26,v),O(700,parseFloat),O(701,parseFloat),O(16,c),O(1082,o),O(1114,o),O(1184,o),O(600,I),O(651,m),O(718,D),O(1e3,l),O(1001,S),O(1005,d),O(1007,d),O(1028,d),O(1016,p),O(1017,f),O(1021,h),O(1022,h),O(1231,h),O(1014,m),O(1015,m),O(1008,m),O(1009,m),O(1040,m),O(1041,m),O(1115,g),O(1182,g),O(1185,g),O(1186,i),O(1187,y),O(17,s),O(114,JSON.parse.bind(JSON)),O(3802,JSON.parse.bind(JSON)),O(199,w),O(3807,w),O(3907,m),O(2951,m),O(791,m),O(1183,m),O(1270,m)},"init");e.exports={init:k}}),p5t=Pn((t,e)=>{"use strict";Ut();var n=1e6;function r(o){var i=o.readInt32BE(0),s=o.readUInt32BE(4),a="";i<0&&(i=~i+(s===0),s=~s+1>>>0,a="-");var c="",l,u,d,p,f,h;{if(l=i%n,i=i/n>>>0,u=4294967296*l+s,s=u/n>>>0,d=""+(u-n*s),s===0&&i===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=i%n,i=i/n>>>0,u=4294967296*l+s,s=u/n>>>0,d=""+(u-n*s),s===0&&i===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=i%n,i=i/n>>>0,u=4294967296*l+s,s=u/n>>>0,d=""+(u-n*s),s===0&&i===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}return l=i%n,u=4294967296*l+s,d=""+u%n,a+d+c}q(r,"readInt8"),e.exports=r}),f5t=Pn((t,e)=>{Ut();var n=p5t(),r=q(function(m,g,y,S,v){y=y||0,S=S||!1,v=v||function(J,C,_){return J*Math.pow(2,_)+C};var A=y>>3,w=q(function(J){return S?~J&255:J},"inv"),I=255,D=8-y%8;g<D&&(I=255<<8-g&255,D=g),y&&(I=I>>y%8);var k=0;y%8+g>=8&&(k=v(0,w(m[A])&I,D));for(var O=g+y>>3,U=A+1;U<O;U++)k=v(k,w(m[U]),8);var G=(g+y)%8;return G>0&&(k=v(k,w(m[O])>>8-G,G)),k},"parseBits"),o=q(function(m,g,y){var S=Math.pow(2,y-1)-1,v=r(m,1),A=r(m,y,1);if(A===0)return 0;var w=1,I=q(function(k,O,U){k===0&&(k=1);for(var G=1;G<=U;G++)w/=2,(O&1<<U-G)>0&&(k+=w);return k},"parsePrecisionBits"),D=r(m,g,y+1,!1,I);return A==Math.pow(2,y+1)-1?D===0?v===0?1/0:-1/0:NaN:(v===0?1:-1)*Math.pow(2,A-S)*D},"parseFloatFromBits"),i=q(function(m){return r(m,1)==1?-1*(r(m,15,1,!0)+1):r(m,15,1)},"parseInt16"),s=q(function(m){return r(m,1)==1?-1*(r(m,31,1,!0)+1):r(m,31,1)},"parseInt32"),a=q(function(m){return o(m,23,8)},"parseFloat32"),c=q(function(m){return o(m,52,11)},"parseFloat64"),l=q(function(m){var g=r(m,16,32);if(g==49152)return NaN;for(var y=Math.pow(1e4,r(m,16,16)),S=0,v=[],A=r(m,16),w=0;w<A;w++)S+=r(m,16,64+16*w)*y,y/=1e4;var I=Math.pow(10,r(m,16,48));return(g===0?1:-1)*Math.round(S*I)/I},"parseNumeric"),u=q(function(m,g){var y=r(g,1),S=r(g,63,1),v=new Date((y===0?1:-1)*S/1e3+9466848e5);return m||v.setTime(v.getTime()+v.getTimezoneOffset()*6e4),v.usec=S%1e3,v.getMicroSeconds=function(){return this.usec},v.setMicroSeconds=function(A){this.usec=A},v.getUTCMicroSeconds=function(){return this.usec},v},"parseDate"),d=q(function(m){for(var g=r(m,32),y=r(m,32,32),S=r(m,32,64),v=96,A=[],w=0;w<g;w++)A[w]=r(m,32,v),v+=32,v+=32;var I=q(function(k){var O=r(m,32,v);if(v+=32,O==4294967295)return null;var U;if(k==23||k==20)return U=r(m,O*8,v),v+=O*8,U;if(k==25)return U=m.toString(this.encoding,v>>3,(v+=O<<3)>>3),U;console.log("ERROR: ElementType not implemented: "+k)},"parseElement"),D=q(function(k,O){var U=[],G;if(k.length>1){var J=k.shift();for(G=0;G<J;G++)U[G]=D(k,O);k.unshift(J)}else for(G=0;G<k[0];G++)U[G]=I(O);return U},"parse");return D(A,S)},"parseArray"),p=q(function(m){return m.toString("utf8")},"parseText"),f=q(function(m){return m===null?null:r(m,8)>0},"parseBool"),h=q(function(m){m(20,n),m(21,i),m(23,s),m(26,s),m(1700,l),m(700,a),m(701,c),m(16,f),m(1114,u.bind(null,!1)),m(1184,u.bind(null,!0)),m(1e3,d),m(1007,d),m(1016,d),m(1008,d),m(1009,d),m(25,p)},"init");e.exports={init:h}}),m5t=Pn((t,e)=>{Ut(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),yM=Pn(t=>{Ut();var e=d5t(),n=f5t(),r=QUe(),o=m5t();t.getTypeParser=a,t.setTypeParser=c,t.arrayParser=r,t.builtins=o;var i={text:{},binary:{}};function s(l){return String(l)}q(s,"noParse");function a(l,u){return u=u||"text",i[u]&&i[u][l]||s}q(a,"getTypeParser");function c(l,u,d){typeof u=="function"&&(d=u,u="text"),i[u][l]=d}q(c,"setTypeParser"),e.init(function(l,u){i.text[l]=u}),n.init(function(l,u){i.binary[l]=u})}),Oie=Pn((t,e)=>{"use strict";Ut();var n=yM();function r(o){this._types=o||n,this.text={},this.binary={}}q(r,"TypeOverrides"),r.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},r.prototype.setTypeParser=function(o,i,s){typeof i=="function"&&(s=i,i="text"),this.getOverrides(i)[o]=s},r.prototype.getTypeParser=function(o,i){return i=i||"text",this.getOverrides(i)[o]||this._types.getTypeParser(o,i)},e.exports=r});h5t=Rc(()=>{"use strict";Ut(),q(g6,"sha256")}),g5t=Rc(()=>{"use strict";Ut(),Ym=class $u{constructor(){cn(this,"_dataLength",0),cn(this,"_bufferLength",0),cn(this,"_state",new Int32Array(4)),cn(this,"_buffer",new ArrayBuffer(68)),cn(this,"_buffer8"),cn(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,n=!1){return this.onePassHasher.start().appendByteArray(e).end(n)}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){let n=$u.hexChars,r=$u.hexOut,o,i,s,a;for(a=0;a<4;a+=1)for(i=a*8,o=e[a],s=0;s<8;s+=2)r[i+1+s]=n.charAt(o&15),o>>>=4,r[i+0+s]=n.charAt(o&15),o>>>=4;return r.join("")}static _md5cycle(e,n){let r=e[0],o=e[1],i=e[2],s=e[3];r+=(o&i|~o&s)+n[0]-680876936|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[1]-389564586|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[2]+606105819|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[3]-1044525330|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[4]-176418897|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[5]+1200080426|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[7]-45705983|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[8]+1770035416|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[9]-1958414417|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[10]-42063|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[11]-1990404162|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[12]+1804603682|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[13]-40341101|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[15]+1236535329|0,o=(o<<22|o>>>10)+i|0,r+=(o&s|i&~s)+n[1]-165796510|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[6]-1069501632|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[11]+643717713|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[0]-373897302|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[5]-701558691|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[10]+38016083|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[15]-660478335|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[4]-405537848|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[9]+568446438|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[14]-1019803690|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[3]-187363961|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[8]+1163531501|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[13]-1444681467|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[2]-51403784|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[12]-1926607734|0,o=(o<<20|o>>>12)+i|0,r+=(o^i^s)+n[5]-378558|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[8]-2022574463|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[14]-35309556|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[1]-1530992060|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[4]+1272893353|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[7]-155497632|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[10]-1094730640|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[13]+681279174|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[0]-358537222|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[3]-722521979|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[6]+76029189|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[9]-640364487|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[12]-421815835|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[15]+530742520|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[2]-995338651|0,o=(o<<23|o>>>9)+i|0,r+=(i^(o|~s))+n[0]-198630844|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[7]+1126891415|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[5]-57434055|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[12]+1700485571|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[3]-1894986606|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[10]-1051523|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[1]-2054922799|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[8]+1873313359|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[15]-30611744|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[13]+1309151649|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[4]-145523070|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[11]-1120210379|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[2]+718787259|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[9]-343485551|0,o=(o<<21|o>>>11)+i|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set($u.stateIdentity),this}appendStr(e){let n=this._buffer8,r=this._buffer32,o=this._bufferLength,i,s;for(s=0;s<e.length;s+=1){if(i=e.charCodeAt(s),i<128)n[o++]=i;else if(i<2048)n[o++]=(i>>>6)+192,n[o++]=i&63|128;else if(i<55296||i>56319)n[o++]=(i>>>12)+224,n[o++]=i>>>6&63|128,n[o++]=i&63|128;else{if(i=(i-55296)*1024+(e.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[o++]=(i>>>18)+240,n[o++]=i>>>12&63|128,n[o++]=i>>>6&63|128,n[o++]=i&63|128}o>=64&&(this._dataLength+=64,$u._md5cycle(this._state,r),o-=64,r[0]=r[16])}return this._bufferLength=o,this}appendAsciiStr(e){let n=this._buffer8,r=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(e.length-s,64-o);i--;)n[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,$u._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}appendByteArray(e){let n=this._buffer8,r=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(e.length-s,64-o);i--;)n[o++]=e[s++];if(o<64)break;this._dataLength+=64,$u._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let n=e.buffer,r=e.state,o=this._state,i;for(this._dataLength=e.length,this._bufferLength=e.buflen,o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],i=0;i<n.length;i+=1)this._buffer8[i]=n.charCodeAt(i)}end(e=!1){let n=this._bufferLength,r=this._buffer8,o=this._buffer32,i=(n>>2)+1;this._dataLength+=n;let s=this._dataLength*8;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,o.set($u.buffer32Identity.subarray(i),i),n>55&&($u._md5cycle(this._state,o),o.set($u.buffer32Identity)),s<=4294967295)o[14]=s;else{let a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let c=parseInt(a[2],16),l=parseInt(a[1],16)||0;o[14]=c,o[15]=l}return $u._md5cycle(this._state,o),e?this._state:$u._hex(this._state)}},q(Ym,"Md5"),cn(Ym,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),cn(Ym,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),cn(Ym,"hexChars","0123456789abcdef"),cn(Ym,"hexOut",[]),cn(Ym,"onePassHasher",new Ym),Tie=Ym}),Pie={};Wd(Pie,{createHash:()=>ZUe,createHmac:()=>e$e,randomBytes:()=>XUe});t$e=Rc(()=>{"use strict";Ut(),h5t(),g5t(),q(XUe,"randomBytes"),q(ZUe,"createHash"),q(e$e,"createHmac")}),bM=Pn((t,e)=>{"use strict";Ut(),e.exports={host:"localhost",user:On.platform==="win32"?On.env.USERNAME:On.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=yM(),r=n.getTypeParser(20,"text"),o=n.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(i){n.setTypeParser(20,"text",i?n.getTypeParser(23,"text"):r),n.setTypeParser(1016,"text",i?n.getTypeParser(1007,"text"):o)})}),_M=Pn((t,e)=>{"use strict";Ut();var n=(t$e(),rs(Pie)),r=bM();function o(h){var m=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+m+'"'}q(o,"escapeElement");function i(h){for(var m="{",g=0;g<h.length;g++)g>0&&(m=m+","),h[g]===null||typeof h[g]>"u"?m=m+"NULL":Array.isArray(h[g])?m=m+i(h[g]):h[g]instanceof sn?m+="\\\\x"+h[g].toString("hex"):m+=o(s(h[g]));return m=m+"}",m}q(i,"arrayString");var s=q(function(h,m){if(h==null)return null;if(h instanceof sn)return h;if(ArrayBuffer.isView(h)){var g=sn.from(h.buffer,h.byteOffset,h.byteLength);return g.length===h.byteLength?g:g.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?r.parseInputDatesAsUTC?u(h):l(h):Array.isArray(h)?i(h):typeof h=="object"?a(h,m):h.toString()},"prepareValue");function a(h,m){if(h&&typeof h.toPostgres=="function"){if(m=m||[],m.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return m.push(h),s(h.toPostgres(s),m)}return JSON.stringify(h)}q(a,"prepareObject");function c(h,m){for(h=""+h;h.length<m;)h="0"+h;return h}q(c,"pad");function l(h){var m=-h.getTimezoneOffset(),g=h.getFullYear(),y=g<1;y&&(g=Math.abs(g)+1);var S=c(g,4)+"-"+c(h.getMonth()+1,2)+"-"+c(h.getDate(),2)+"T"+c(h.getHours(),2)+":"+c(h.getMinutes(),2)+":"+c(h.getSeconds(),2)+"."+c(h.getMilliseconds(),3);return m<0?(S+="-",m*=-1):S+="+",S+=c(Math.floor(m/60),2)+":"+c(m%60,2),y&&(S+=" BC"),S}q(l,"dateToString");function u(h){var m=h.getUTCFullYear(),g=m<1;g&&(m=Math.abs(m)+1);var y=c(m,4)+"-"+c(h.getUTCMonth()+1,2)+"-"+c(h.getUTCDate(),2)+"T"+c(h.getUTCHours(),2)+":"+c(h.getUTCMinutes(),2)+":"+c(h.getUTCSeconds(),2)+"."+c(h.getUTCMilliseconds(),3);return y+="+00:00",g&&(y+=" BC"),y}q(u,"dateToStringUTC");function d(h,m,g){return h=typeof h=="string"?{text:h}:h,m&&(typeof m=="function"?h.callback=m:h.values=m),g&&(h.callback=g),h}q(d,"normalizeQueryConfig");var p=q(function(h){return n.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),f=q(function(h,m,g){var y=p(m+h),S=p(sn.concat([sn.from(y),g]));return"md5"+S},"postgresMd5PasswordHash");e.exports={prepareValue:q(function(h){return s(h)},"prepareValueWrapper"),normalizeQueryConfig:d,postgresMd5PasswordHash:f,md5:p}}),_6={};Wd(_6,{default:()=>n$e});SM=Rc(()=>{"use strict";Ut(),n$e={}}),y5t=Pn((t,e)=>{"use strict";Ut();var n=(t$e(),rs(Pie));function r(m){if(m.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let g=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:g,response:"n,,n=*,r="+g,message:"SASLInitialResponse"}}q(r,"startSession");function o(m,g,y){if(m.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let S=l(y);if(S.nonce.startsWith(m.clientNonce)){if(S.nonce.length===m.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var v=sn.from(S.salt,"base64"),A=h(g,v,S.iteration),w=f(A,"Client Key"),I=p(w),D="n=*,r="+m.clientNonce,k="r="+S.nonce+",s="+S.salt+",i="+S.iteration,O="c=biws,r="+S.nonce,U=D+","+k+","+O,G=f(I,U),J=d(w,G),C=J.toString("base64"),_=f(A,"Server Key"),E=f(_,U);m.message="SASLResponse",m.serverSignature=E.toString("base64"),m.response=O+",p="+C}q(o,"continueSession");function i(m,g){if(m.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:y}=u(g);if(y!==m.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}q(i,"finalizeSession");function s(m){if(typeof m!="string")throw new TypeError("SASL: text must be a string");return m.split("").map((g,y)=>m.charCodeAt(y)).every(g=>g>=33&&g<=43||g>=45&&g<=126)}q(s,"isPrintableChars");function a(m){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(m)}q(a,"isBase64");function c(m){if(typeof m!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(m.split(",").map(g=>{if(!/^.=/.test(g))throw new Error("SASL: Invalid attribute pair entry");let y=g[0],S=g.substring(2);return[y,S]}))}q(c,"parseAttributePairs");function l(m){let g=c(m),y=g.get("r");if(y){if(!s(y))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let S=g.get("s");if(S){if(!a(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let v=g.get("i");if(v){if(!/^[1-9][0-9]*$/.test(v))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let A=parseInt(v,10);return{nonce:y,salt:S,iteration:A}}q(l,"parseServerFirstMessage");function u(m){let g=c(m).get("v");if(g){if(!a(g))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:g}}q(u,"parseServerFinalMessage");function d(m,g){if(!sn.isBuffer(m))throw new TypeError("first argument must be a Buffer");if(!sn.isBuffer(g))throw new TypeError("second argument must be a Buffer");if(m.length!==g.length)throw new Error("Buffer lengths must match");if(m.length===0)throw new Error("Buffers cannot be empty");return sn.from(m.map((y,S)=>m[S]^g[S]))}q(d,"xorBuffers");function p(m){return n.createHash("sha256").update(m).digest()}q(p,"sha256");function f(m,g){return n.createHmac("sha256",m).update(g).digest()}q(f,"hmacSha256");function h(m,g,y){for(var S=f(m,sn.concat([g,sn.from([0,0,0,1])])),v=S,A=0;A<y-1;A++)S=f(m,S),v=d(v,S);return v}q(h,"Hi"),e.exports={startSession:r,continueSession:o,finalizeSession:i}}),Die={};Wd(Die,{join:()=>r$e});o$e=Rc(()=>{"use strict";Ut(),q(r$e,"join")}),kie={};Wd(kie,{stat:()=>i$e});s$e=Rc(()=>{"use strict";Ut(),q(i$e,"stat")}),Lie={};Wd(Lie,{default:()=>a$e});c$e=Rc(()=>{"use strict";Ut(),a$e={}}),l$e={};Wd(l$e,{StringDecoder:()=>u$e});b5t=Rc(()=>{"use strict";Ut(),wie=class{constructor(e){cn(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},q(wie,"StringDecoder"),u$e=wie}),_5t=Pn((t,e)=>{"use strict";Ut();var{Transform:n}=(c$e(),rs(Lie)),{StringDecoder:r}=(b5t(),rs(l$e)),o=Symbol("last"),i=Symbol("decoder");function s(d,p,f){let h;if(this.overflow){if(h=this[i].write(d).split(this.matcher),h.length===1)return f();h.shift(),this.overflow=!1}else this[o]+=this[i].write(d),h=this[o].split(this.matcher);this[o]=h.pop();for(let m=0;m<h.length;m++)try{c(this,this.mapper(h[m]))}catch(g){return f(g)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){f(new Error("maximum buffer reached"));return}f()}q(s,"transform");function a(d){if(this[o]+=this[i].end(),this[o])try{c(this,this.mapper(this[o]))}catch(p){return d(p)}d()}q(a,"flush");function c(d,p){p!==void 0&&d.push(p)}q(c,"push");function l(d){return d}q(l,"noop");function u(d,p,f){switch(d=d||/\r?\n/,p=p||l,f=f||{},arguments.length){case 1:typeof d=="function"?(p=d,d=/\r?\n/):typeof d=="object"&&!(d instanceof RegExp)&&!d[Symbol.split]&&(f=d,d=/\r?\n/);break;case 2:typeof d=="function"?(f=p,p=d,d=/\r?\n/):typeof p=="object"&&(f=p,p=l)}f=Object.assign({},f),f.autoDestroy=!0,f.transform=s,f.flush=a,f.readableObjectMode=!0;let h=new n(f);return h[o]="",h[i]=new r("utf8"),h.matcher=d,h.mapper=p,h.maxLength=f.maxLength,h.skipOverflow=f.skipOverflow||!1,h.overflow=!1,h._destroy=function(m,g){this._writableState.errorEmitted=!1,g(m)},h}q(u,"split"),e.exports=u}),S5t=Pn((t,e)=>{"use strict";Ut();var n=(o$e(),rs(Die)),r=(c$e(),rs(Lie)).Stream,o=_5t(),i=(SM(),rs(_6)),s=5432,a=On.platform==="win32",c=On.stderr,l=56,u=7,d=61440,p=32768;function f(w){return(w&d)==p}q(f,"isRegFile");var h=["host","port","database","user","password"],m=h.length,g=h[m-1];function y(){var w=c instanceof r&&c.writable===!0;if(w){var I=Array.prototype.slice.call(arguments).concat(`
`);c.write(i.format.apply(i,I))}}q(y,"warn"),Object.defineProperty(e.exports,"isWin",{get:q(function(){return a},"get"),set:q(function(w){a=w},"set")}),e.exports.warnTo=function(w){var I=c;return c=w,I},e.exports.getFileName=function(w){var I=w||On.env,D=I.PGPASSFILE||(a?n.join(I.APPDATA||"./","postgresql","pgpass.conf"):n.join(I.HOME||"./",".pgpass"));return D},e.exports.usePgPass=function(w,I){return Object.prototype.hasOwnProperty.call(On.env,"PGPASSWORD")?!1:a?!0:(I=I||"<unkn>",f(w.mode)?w.mode&(l|u)?(y('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',I),!1):!0:(y('WARNING: password file "%s" is not a plain file',I),!1))};var S=e.exports.match=function(w,I){return h.slice(0,-1).reduce(function(D,k,O){return O==1&&Number(w[k]||s)===Number(I[k])?D&&!0:D&&(I[k]==="*"||I[k]===w[k])},!0)};e.exports.getPassword=function(w,I,D){var k,O=I.pipe(o());function U(C){var _=v(C);_&&A(_)&&S(w,_)&&(k=_[g],O.end())}q(U,"onLine");var G=q(function(){I.destroy(),D(k)},"onEnd"),J=q(function(C){I.destroy(),y("WARNING: error on reading file: %s",C),D(void 0)},"onErr");I.on("error",J),O.on("data",U).on("end",G).on("error",J)};var v=e.exports.parseLine=function(w){if(w.length<11||w.match(/^\s+#/))return null;for(var I="",D="",k=0,O=0,U=0,G={},J=!1,C=q(function(E,R,M){var $=w.substring(R,M);Object.hasOwnProperty.call(On.env,"PGPASS_NO_DEESCAPE")||($=$.replace(/\\([:\\])/g,"$1")),G[h[E]]=$},"addToObj"),_=0;_<w.length-1;_+=1){if(I=w.charAt(_+1),D=w.charAt(_),J=k==m-1,J){C(k,O);break}_>=0&&I==":"&&D!=="\\"&&(C(k,O,_+1),O=_+2,k+=1)}return G=Object.keys(G).length===m?G:null,G},A=e.exports.isValidEntry=function(w){for(var I={0:function(G){return G.length>0},1:function(G){return G==="*"?!0:(G=Number(G),isFinite(G)&&G>0&&G<9007199254740992&&Math.floor(G)===G)},2:function(G){return G.length>0},3:function(G){return G.length>0},4:function(G){return G.length>0}},D=0;D<h.length;D+=1){var k=I[D],O=w[h[D]]||"",U=k(O);if(!U)return!1}return!0}}),v5t=Pn((t,e)=>{"use strict";Ut();var n=(o$e(),rs(Die)),r=(s$e(),rs(kie)),o=S5t();e.exports=function(i,s){var a=o.getFileName();r.stat(a,function(c,l){if(c||!o.usePgPass(l,a))return s(void 0);var u=r.createReadStream(a);o.getPassword(i,u,s)})},e.exports.warnTo=o.warnTo}),d$e={};Wd(d$e,{default:()=>p$e});E5t=Rc(()=>{"use strict";Ut(),p$e={}}),A5t=Pn((t,e)=>{"use strict";Ut();var n=(KUe(),rs(WUe)),r=(s$e(),rs(kie));function o(i){if(i.charAt(0)==="/"){var a=i.split(" ");return{host:a[0],database:a[1]}}var s=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(i)?encodeURI(i).replace(/\%25(\d\d)/g,"%$1"):i,!0),a=s.query;for(var c in a)Array.isArray(a[c])&&(a[c]=a[c][a[c].length-1]);var l=(s.auth||":").split(":");if(a.user=l[0],a.password=l.splice(1).join(":"),a.port=s.port,s.protocol=="socket:")return a.host=decodeURI(s.pathname),a.database=s.query.db,a.client_encoding=s.query.encoding,a;a.host||(a.host=s.hostname);var u=s.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var d=u.split("/");a.host=decodeURIComponent(d[0]),u=d.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=r.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=r.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=r.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}q(o,"parse"),e.exports=o,o.parse=o}),Mie=Pn((t,e)=>{"use strict";Ut();var n=(E5t(),rs(d$e)),r=bM(),o=A5t().parse,i=q(function(d,p,f){return f===void 0?f=On.env["PG"+d.toUpperCase()]:f===!1||(f=On.env[f]),p[d]||f||r[d]},"val"),s=q(function(){switch(On.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return r.ssl},"readSSLConfigFromEnvironment"),a=q(function(d){return"'"+(""+d).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),c=q(function(d,p,f){var h=p[f];h!=null&&d.push(f+"="+a(h))},"add"),l=class{constructor(p){p=typeof p=="string"?o(p):p||{},p.connectionString&&(p=Object.assign({},p,o(p.connectionString))),this.user=i("user",p),this.database=i("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(i("port",p),10),this.host=i("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:i("password",p)}),this.binary=i("binary",p),this.options=i("options",p),this.ssl=typeof p.ssl>"u"?s():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=i("client_encoding",p),this.replication=i("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=i("application_name",p,"PGAPPNAME"),this.fallback_application_name=i("fallback_application_name",p,!1),this.statement_timeout=i("statement_timeout",p,!1),this.lock_timeout=i("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=i("idle_in_transaction_session_timeout",p,!1),this.query_timeout=i("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=On.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var f=[];c(f,this,"user"),c(f,this,"password"),c(f,this,"port"),c(f,this,"application_name"),c(f,this,"fallback_application_name"),c(f,this,"connect_timeout"),c(f,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(f,h,"sslmode"),c(f,h,"sslca"),c(f,h,"sslkey"),c(f,h,"sslcert"),c(f,h,"sslrootcert"),this.database&&f.push("dbname="+a(this.database)),this.replication&&f.push("replication="+a(this.replication)),this.host&&f.push("host="+a(this.host)),this.isDomainSocket)return p(null,f.join(" "));this.client_encoding&&f.push("client_encoding="+a(this.client_encoding)),n.lookup(this.host,function(m,g){return m?p(m,null):(f.push("hostaddr="+a(g)),p(null,f.join(" ")))})}};q(l,"ConnectionParameters");var u=l;e.exports=u}),x5t=Pn((t,e)=>{"use strict";Ut();var n=yM(),r=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{constructor(a,c){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=c,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var c;a.text?c=r.exec(a.text):c=r.exec(a.command),c&&(this.command=c[1],c[3]?(this.oid=parseInt(c[2],10),this.rowCount=parseInt(c[3],10)):c[2]&&(this.rowCount=parseInt(c[2],10)))}_parseRowAsArray(a){for(var c=new Array(a.length),l=0,u=a.length;l<u;l++){var d=a[l];d!==null?c[l]=this._parsers[l](d):c[l]=null}return c}parseRow(a){for(var c={},l=0,u=a.length;l<u;l++){var d=a[l],p=this.fields[l].name;d!==null?c[p]=this._parsers[l](d):c[p]=null}return c}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var c=0;c<a.length;c++){var l=a[c];this._types?this._parsers[c]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[c]=n.getTypeParser(l.dataTypeID,l.format||"text")}}};q(o,"Result");var i=o;e.exports=i}),w5t=Pn((t,e)=>{"use strict";Ut();var{EventEmitter:n}=h_(),r=x5t(),o=_M(),i=class extends n{constructor(c,l,u){super(),c=o.normalizeQueryConfig(c,l,u),this.text=c.text,this.values=c.values,this.rows=c.rows,this.types=c.types,this.name=c.name,this.binary=c.binary,this.portal=c.portal||"",this.callback=c.callback,this._rowMode=c.rowMode,On.domain&&c.callback&&(this.callback=On.domain.bind(c.callback)),this._result=new r(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new r(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(c){this._checkForMultirow(),this._result.addFields(c.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(c){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(c.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(c,l){this._checkForMultirow(),this._result.addCommandComplete(c),this.rows&&l.sync()}handleEmptyQuery(c){this.rows&&c.sync()}handleError(c,l){if(this._canceledDueToError&&(c=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(c);this.emit("error",c)}handleReadyForQuery(c){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,c);if(this.callback)try{this.callback(null,this._results)}catch(l){On.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(c){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let l=c.parsedStatements[this.name];return this.text&&l&&this.text!==l?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(c):c.query(this.text),null)}hasBeenParsed(c){return this.name&&c.parsedStatements[this.name]}handlePortalSuspended(c){this._getRows(c,this.rows)}_getRows(c,l){c.execute({portal:this.portal,rows:l}),l?c.flush():c.sync()}prepare(c){this.isPreparedStatement=!0,this.hasBeenParsed(c)||c.parse({text:this.text,name:this.name,types:this.types});try{c.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(l){this.handleError(l,c);return}c.describe({type:"P",name:this.portal||""}),this._getRows(c,this.rows)}handleCopyInResponse(c){c.sendCopyFail("No source stream defined")}handleCopyData(c,l){}};q(i,"Query");var s=i;e.exports=s}),f$e=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(_,E,R){super(_),this.length=E,this.name=R}};q(e,"DatabaseError");var n=e;t.DatabaseError=n;var r=class{constructor(_,E){this.length=_,this.chunk=E,this.name="copyData"}};q(r,"CopyDataMessage");var o=r;t.CopyDataMessage=o;var i=class{constructor(_,E,R,M){this.length=_,this.name=E,this.binary=R,this.columnTypes=new Array(M)}};q(i,"CopyResponse");var s=i;t.CopyResponse=s;var a=class{constructor(_,E,R,M,$,j,Y){this.name=_,this.tableID=E,this.columnID=R,this.dataTypeID=M,this.dataTypeSize=$,this.dataTypeModifier=j,this.format=Y}};q(a,"Field");var c=a;t.Field=c;var l=class{constructor(_,E){this.length=_,this.fieldCount=E,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};q(l,"RowDescriptionMessage");var u=l;t.RowDescriptionMessage=u;var d=class{constructor(_,E){this.length=_,this.parameterCount=E,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};q(d,"ParameterDescriptionMessage");var p=d;t.ParameterDescriptionMessage=p;var f=class{constructor(_,E,R){this.length=_,this.parameterName=E,this.parameterValue=R,this.name="parameterStatus"}};q(f,"ParameterStatusMessage");var h=f;t.ParameterStatusMessage=h;var m=class{constructor(_,E){this.length=_,this.salt=E,this.name="authenticationMD5Password"}};q(m,"AuthenticationMD5Password");var g=m;t.AuthenticationMD5Password=g;var y=class{constructor(_,E,R){this.length=_,this.processID=E,this.secretKey=R,this.name="backendKeyData"}};q(y,"BackendKeyDataMessage");var S=y;t.BackendKeyDataMessage=S;var v=class{constructor(_,E,R,M){this.length=_,this.processId=E,this.channel=R,this.payload=M,this.name="notification"}};q(v,"NotificationResponseMessage");var A=v;t.NotificationResponseMessage=A;var w=class{constructor(_,E){this.length=_,this.status=E,this.name="readyForQuery"}};q(w,"ReadyForQueryMessage");var I=w;t.ReadyForQueryMessage=I;var D=class{constructor(_,E){this.length=_,this.text=E,this.name="commandComplete"}};q(D,"CommandCompleteMessage");var k=D;t.CommandCompleteMessage=k;var O=class{constructor(_,E){this.length=_,this.fields=E,this.name="dataRow",this.fieldCount=E.length}};q(O,"DataRowMessage");var U=O;t.DataRowMessage=U;var G=class{constructor(_,E){this.length=_,this.message=E,this.name="notice"}};q(G,"NoticeMessage");var J=G;t.NoticeMessage=J}),T5t=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=sn.allocUnsafe(o)}ensure(o){if(this.buffer.length-this.offset<o){let i=this.buffer,s=i.length+(i.length>>1)+o;this.buffer=sn.allocUnsafe(s),i.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{let i=sn.byteLength(o);this.ensure(i+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=i}return this.buffer[this.offset++]=0,this}addString(o=""){let i=sn.byteLength(o);return this.ensure(i),this.buffer.write(o,this.offset),this.offset+=i,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let i=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(i,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){let i=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=sn.allocUnsafe(this.size),i}};q(e,"Writer");var n=e;t.Writer=n}),I5t=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=T5t(),n=new e.Writer,r=q(_=>{n.addInt16(3).addInt16(0);for(let M of Object.keys(_))n.addCString(M).addCString(_[M]);n.addCString("client_encoding").addCString("UTF8");let E=n.addCString("").flush(),R=E.length+4;return new e.Writer().addInt32(R).add(E).flush()},"startup"),o=q(()=>{let _=sn.allocUnsafe(8);return _.writeInt32BE(8,0),_.writeInt32BE(80877103,4),_},"requestSsl"),i=q(_=>n.addCString(_).flush(112),"password"),s=q(function(_,E){return n.addCString(_).addInt32(sn.byteLength(E)).addString(E),n.flush(112)},"sendSASLInitialResponseMessage"),a=q(function(_){return n.addString(_).flush(112)},"sendSCRAMClientFinalMessage"),c=q(_=>n.addCString(_).flush(81),"query"),l=[],u=q(_=>{let E=_.name||"";E.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",E,E.length),console.error("This can cause conflicts and silent errors executing queries"));let R=_.types||l,M=R.length,$=n.addCString(E).addCString(_.text).addInt16(M);for(let j=0;j<M;j++)$.addInt32(R[j]);return n.flush(80)},"parse"),d=new e.Writer,p=q(function(_,E){for(let R=0;R<_.length;R++){let M=E?E(_[R],R):_[R];M==null?(n.addInt16(0),d.addInt32(-1)):M instanceof sn?(n.addInt16(1),d.addInt32(M.length),d.add(M)):(n.addInt16(0),d.addInt32(sn.byteLength(M)),d.addString(M))}},"writeValues"),f=q((_={})=>{let E=_.portal||"",R=_.statement||"",M=_.binary||!1,$=_.values||l,j=$.length;return n.addCString(E).addCString(R),n.addInt16(j),p($,_.valueMapper),n.addInt16(j),n.add(d.flush()),n.addInt16(M?1:0),n.flush(66)},"bind"),h=sn.from([69,0,0,0,9,0,0,0,0,0]),m=q(_=>{if(!_||!_.portal&&!_.rows)return h;let E=_.portal||"",R=_.rows||0,M=sn.byteLength(E),$=4+M+1+4,j=sn.allocUnsafe(1+$);return j[0]=69,j.writeInt32BE($,1),j.write(E,5,"utf-8"),j[M+5]=0,j.writeUInt32BE(R,j.length-4),j},"execute"),g=q((_,E)=>{let R=sn.allocUnsafe(16);return R.writeInt32BE(16,0),R.writeInt16BE(1234,4),R.writeInt16BE(5678,6),R.writeInt32BE(_,8),R.writeInt32BE(E,12),R},"cancel"),y=q((_,E)=>{let R=4+sn.byteLength(E)+1,M=sn.allocUnsafe(1+R);return M[0]=_,M.writeInt32BE(R,1),M.write(E,5,"utf-8"),M[R]=0,M},"cstringMessage"),S=n.addCString("P").flush(68),v=n.addCString("S").flush(68),A=q(_=>_.name?y(68,`${_.type}${_.name||""}`):_.type==="P"?S:v,"describe"),w=q(_=>{let E=`${_.type}${_.name||""}`;return y(67,E)},"close"),I=q(_=>n.add(_).flush(100),"copyData"),D=q(_=>y(102,_),"copyFail"),k=q(_=>sn.from([_,0,0,0,4]),"codeOnlyBuffer"),O=k(72),U=k(83),G=k(88),J=k(99),C={startup:r,password:i,requestSsl:o,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:a,query:c,parse:u,bind:f,execute:m,describe:A,close:w,flush:q(()=>O,"flush"),sync:q(()=>U,"sync"),end:q(()=>G,"end"),copyData:I,copyDone:q(()=>J,"copyDone"),copyFail:D,cancel:g};t.serialize=C}),R5t=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=sn.allocUnsafe(0),n=class{constructor(i=0){this.offset=i,this.buffer=e,this.encoding="utf-8"}setBuffer(i,s){this.offset=i,this.buffer=s}int16(){let i=this.buffer.readInt16BE(this.offset);return this.offset+=2,i}byte(){let i=this.buffer[this.offset];return this.offset++,i}int32(){let i=this.buffer.readInt32BE(this.offset);return this.offset+=4,i}uint32(){let i=this.buffer.readUInt32BE(this.offset);return this.offset+=4,i}string(i){let s=this.buffer.toString(this.encoding,this.offset,this.offset+i);return this.offset+=i,s}cstring(){let i=this.offset,s=i;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,i,s-1)}bytes(i){let s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}};q(n,"BufferReader");var r=n;t.BufferReader=r}),C5t=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=f$e(),n=R5t(),r=1,o=4,i=r+o,s=sn.allocUnsafe(0),a=class{constructor(u){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,u?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=u?.mode||"text"}parse(u,d){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,f=this.bufferOffset;for(;f+i<=p;){let h=this.buffer[f],m=this.buffer.readUInt32BE(f+r),g=r+m;if(g+f<=p){let y=this.handlePacket(f+i,h,m,this.buffer);d(y),f+=g}else break}f===p?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-f,this.bufferOffset=f)}mergeBuffer(u){if(this.bufferLength>0){let d=this.bufferLength+u.byteLength;if(d+this.bufferOffset>this.buffer.byteLength){let p;if(d<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let f=this.buffer.byteLength*2;for(;d>=f;)f*=2;p=sn.allocUnsafe(f)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=d}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,d,p,f){switch(d){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(u,p,f);case 67:return this.parseCommandCompleteMessage(u,p,f);case 90:return this.parseReadyForQueryMessage(u,p,f);case 65:return this.parseNotificationMessage(u,p,f);case 82:return this.parseAuthenticationResponse(u,p,f);case 83:return this.parseParameterStatusMessage(u,p,f);case 75:return this.parseBackendKeyData(u,p,f);case 69:return this.parseErrorMessage(u,p,f,"error");case 78:return this.parseErrorMessage(u,p,f,"notice");case 84:return this.parseRowDescriptionMessage(u,p,f);case 116:return this.parseParameterDescriptionMessage(u,p,f);case 71:return this.parseCopyInMessage(u,p,f);case 72:return this.parseCopyOutMessage(u,p,f);case 100:return this.parseCopyData(u,p,f);default:return new e.DatabaseError("received invalid response: "+d.toString(16),p,"error")}}parseReadyForQueryMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.string(1);return new e.ReadyForQueryMessage(d,f)}parseCommandCompleteMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring();return new e.CommandCompleteMessage(d,f)}parseCopyData(u,d,p){let f=p.slice(u,u+(d-4));return new e.CopyDataMessage(d,f)}parseCopyInMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyInResponse")}parseCopyOutMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyOutResponse")}parseCopyMessage(u,d,p,f){this.reader.setBuffer(u,p);let h=this.reader.byte()!==0,m=this.reader.int16(),g=new e.CopyResponse(d,f,h,m);for(let y=0;y<m;y++)g.columnTypes[y]=this.reader.int16();return g}parseNotificationMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.cstring(),m=this.reader.cstring();return new e.NotificationResponseMessage(d,f,h,m)}parseRowDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.RowDescriptionMessage(d,f);for(let m=0;m<f;m++)h.fields[m]=this.parseField();return h}parseField(){let u=this.reader.cstring(),d=this.reader.uint32(),p=this.reader.int16(),f=this.reader.uint32(),h=this.reader.int16(),m=this.reader.int32(),g=this.reader.int16()===0?"text":"binary";return new e.Field(u,d,p,f,h,m,g)}parseParameterDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.ParameterDescriptionMessage(d,f);for(let m=0;m<f;m++)h.dataTypeIDs[m]=this.reader.int32();return h}parseDataRowMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new Array(f);for(let m=0;m<f;m++){let g=this.reader.int32();h[m]=g===-1?null:this.reader.string(g)}return new e.DataRowMessage(d,h)}parseParameterStatusMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(d,f,h)}parseBackendKeyData(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(d,f,h)}parseAuthenticationResponse(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h={name:"authenticationOk",length:d};switch(f){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let m=this.reader.bytes(4);return new e.AuthenticationMD5Password(d,m)}break;case 10:{h.name="authenticationSASL",h.mechanisms=[];let m;do m=this.reader.cstring(),m&&h.mechanisms.push(m);while(m)}break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(d-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(d-8);break;default:throw new Error("Unknown authenticationOk message type "+f)}return h}parseErrorMessage(u,d,p,f){this.reader.setBuffer(u,p);let h={},m=this.reader.string(1);for(;m!=="\0";)h[m]=this.reader.cstring(),m=this.reader.string(1);let g=h.M,y=f==="notice"?new e.NoticeMessage(d,g):new e.DatabaseError(g,d,f);return y.severity=h.S,y.code=h.C,y.detail=h.D,y.hint=h.H,y.position=h.P,y.internalPosition=h.p,y.internalQuery=h.q,y.where=h.W,y.schema=h.s,y.table=h.t,y.column=h.c,y.dataType=h.d,y.constraint=h.n,y.file=h.F,y.line=h.L,y.routine=h.R,y}};q(a,"Parser");var c=a;t.Parser=c}),m$e=Pn(t=>{"use strict";Ut(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=f$e();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:q(function(){return e.DatabaseError},"get")});var n=I5t();Object.defineProperty(t,"serialize",{enumerable:!0,get:q(function(){return n.serialize},"get")});var r=C5t();function o(i,s){let a=new r.Parser;return i.on("data",c=>a.parse(c,s)),new Promise(c=>i.on("end",()=>c()))}q(o,"parse"),t.parse=o}),h$e={};Wd(h$e,{connect:()=>g$e});N5t=Rc(()=>{"use strict";Ut(),q(g$e,"connect")}),y$e=Pn((t,e)=>{"use strict";Ut();var n=(b6(),rs(jUe)),r=h_().EventEmitter,{parse:o,serialize:i}=m$e(),s=i.flush(),a=i.sync(),c=i.end(),l=class extends r{constructor(p){super(),p=p||{},this.stream=p.stream||new n.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var f=this;this.on("newListener",function(h){h==="message"&&(f._emitMessage=!0)})}connect(p,f){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,f),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let m=q(function(g){h._ending&&(g.code==="ECONNRESET"||g.code==="EPIPE")||h.emit("error",g)},"reportStreamError");if(this.stream.on("error",m),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(g){var y=g.toString("utf8");switch(y){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var S=(N5t(),rs(h$e));let v={socket:h.stream};h.ssl!==!0&&(Object.assign(v,h.ssl),"key"in h.ssl&&(v.key=h.ssl.key)),n.isIP(f)===0&&(v.servername=f);try{h.stream=S.connect(v)}catch(A){return h.emit("error",A)}h.attachListeners(h.stream),h.stream.on("error",m),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),o(p,f=>{var h=f.name==="error"?"errorMessage":f.name;this._emitMessage&&this.emit("message",f),this.emit(h,f)})}requestSsl(){this.stream.write(i.requestSsl())}startup(p){this.stream.write(i.startup(p))}cancel(p,f){this._send(i.cancel(p,f))}password(p){this._send(i.password(p))}sendSASLInitialResponseMessage(p,f){this._send(i.sendSASLInitialResponseMessage(p,f))}sendSCRAMClientFinalMessage(p){this._send(i.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(i.query(p))}parse(p){this._send(i.parse(p))}bind(p){this._send(i.bind(p))}execute(p){this._send(i.execute(p))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(p){this._send(i.close(p))}describe(p){this._send(i.describe(p))}sendCopyFromChunk(p){this._send(i.copyData(p))}endCopyFrom(){this._send(i.copyDone())}sendCopyFail(p){this._send(i.copyFail(p))}};q(l,"Connection");var u=l;e.exports=u}),O5t=Pn((t,e)=>{"use strict";Ut();var n=h_().EventEmitter,r=(SM(),rs(_6)),o=_M(),i=y5t(),s=v5t(),a=Oie(),c=Mie(),l=w5t(),u=bM(),d=y$e(),p=class extends n{constructor(m){super(),this.connectionParameters=new c(m),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var g=m||{};this._Promise=g.Promise||gM.Promise,this._types=new a(g.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=g.connection||new d({stream:g.stream,ssl:this.connectionParameters.ssl,keepAlive:g.keepAlive||!1,keepAliveInitialDelayMillis:g.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=g.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=g.connectionTimeoutMillis||0}_errorAllQueries(m){let g=q(y=>{On.nextTick(()=>{y.handleError(m,this.connection)})},"enqueueError");this.activeQuery&&(g(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(g),this.queryQueue.length=0}_connect(m){var g=this,y=this.connection;if(this._connectionCallback=m,this._connecting||this._connected){let S=new Error("Client has already been connected. You cannot reuse a client.");On.nextTick(()=>{m(S)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{y._ending=!0,y.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?y.connect(this.host+"/.s.PGSQL."+this.port):y.connect(this.port,this.host),y.on("connect",function(){g.ssl?y.requestSsl():y.startup(g.getStartupConf())}),y.on("sslconnect",function(){y.startup(g.getStartupConf())}),this._attachListeners(y),y.once("end",()=>{let S=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(S),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(S):this._handleErrorEvent(S):this._connectionError||this._handleErrorEvent(S)),On.nextTick(()=>{this.emit("end")})})}connect(m){if(m){this._connect(m);return}return new this._Promise((g,y)=>{this._connect(S=>{S?y(S):g()})})}_attachListeners(m){m.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),m.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),m.on("authenticationSASL",this._handleAuthSASL.bind(this)),m.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),m.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),m.on("backendKeyData",this._handleBackendKeyData.bind(this)),m.on("error",this._handleErrorEvent.bind(this)),m.on("errorMessage",this._handleErrorMessage.bind(this)),m.on("readyForQuery",this._handleReadyForQuery.bind(this)),m.on("notice",this._handleNotice.bind(this)),m.on("rowDescription",this._handleRowDescription.bind(this)),m.on("dataRow",this._handleDataRow.bind(this)),m.on("portalSuspended",this._handlePortalSuspended.bind(this)),m.on("emptyQuery",this._handleEmptyQuery.bind(this)),m.on("commandComplete",this._handleCommandComplete.bind(this)),m.on("parseComplete",this._handleParseComplete.bind(this)),m.on("copyInResponse",this._handleCopyInResponse.bind(this)),m.on("copyData",this._handleCopyData.bind(this)),m.on("notification",this._handleNotification.bind(this))}_checkPgPass(m){let g=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(y=>{if(y!==void 0){if(typeof y!="string"){g.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=y}else this.connectionParameters.password=this.password=null;m()}).catch(y=>{g.emit("error",y)}):this.password!==null?m():s(this.connectionParameters,y=>{y!==void 0&&(this.connectionParameters.password=this.password=y),m()})}_handleAuthCleartextPassword(m){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(m){this._checkPgPass(()=>{let g=o.postgresMd5PasswordHash(this.user,this.password,m.salt);this.connection.password(g)})}_handleAuthSASL(m){this._checkPgPass(()=>{this.saslSession=i.startSession(m.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(m){i.continueSession(this.saslSession,this.password,m.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(m){i.finalizeSession(this.saslSession,m.data),this.saslSession=null}_handleBackendKeyData(m){this.processID=m.processID,this.secretKey=m.secretKey}_handleReadyForQuery(m){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:g}=this;this.activeQuery=null,this.readyForQuery=!0,g&&g.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(m){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(m);this.emit("error",m)}}_handleErrorEvent(m){if(this._connecting)return this._handleErrorWhileConnecting(m);this._queryable=!1,this._errorAllQueries(m),this.emit("error",m)}_handleErrorMessage(m){if(this._connecting)return this._handleErrorWhileConnecting(m);let g=this.activeQuery;if(!g){this._handleErrorEvent(m);return}this.activeQuery=null,g.handleError(m,this.connection)}_handleRowDescription(m){this.activeQuery.handleRowDescription(m)}_handleDataRow(m){this.activeQuery.handleDataRow(m)}_handlePortalSuspended(m){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(m){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(m){this.activeQuery.handleCommandComplete(m,this.connection)}_handleParseComplete(m){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(m){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(m){this.activeQuery.handleCopyData(m,this.connection)}_handleNotification(m){this.emit("notification",m)}_handleNotice(m){this.emit("notice",m)}getStartupConf(){var m=this.connectionParameters,g={user:m.user,database:m.database},y=m.application_name||m.fallback_application_name;return y&&(g.application_name=y),m.replication&&(g.replication=""+m.replication),m.statement_timeout&&(g.statement_timeout=String(parseInt(m.statement_timeout,10))),m.lock_timeout&&(g.lock_timeout=String(parseInt(m.lock_timeout,10))),m.idle_in_transaction_session_timeout&&(g.idle_in_transaction_session_timeout=String(parseInt(m.idle_in_transaction_session_timeout,10))),m.options&&(g.options=m.options),g}cancel(m,g){if(m.activeQuery===g){var y=this.connection;this.host&&this.host.indexOf("/")===0?y.connect(this.host+"/.s.PGSQL."+this.port):y.connect(this.port,this.host),y.on("connect",function(){y.cancel(m.processID,m.secretKey)})}else m.queryQueue.indexOf(g)!==-1&&m.queryQueue.splice(m.queryQueue.indexOf(g),1)}setTypeParser(m,g,y){return this._types.setTypeParser(m,g,y)}getTypeParser(m,g){return this._types.getTypeParser(m,g)}escapeIdentifier(m){return'"'+m.replace(/"/g,'""')+'"'}escapeLiteral(m){for(var g=!1,y="'",S=0;S<m.length;S++){var v=m[S];v==="'"?y+=v+v:v==="\\"?(y+=v+v,g=!0):y+=v}return y+="'",g===!0&&(y=" E"+y),y}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let m=this.activeQuery.submit(this.connection);m&&On.nextTick(()=>{this.activeQuery.handleError(m,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(m,g,y){var S,v,A,w,I;if(m==null)throw new TypeError("Client was passed a null or undefined query");return typeof m.submit=="function"?(A=m.query_timeout||this.connectionParameters.query_timeout,v=S=m,typeof g=="function"&&(S.callback=S.callback||g)):(A=this.connectionParameters.query_timeout,S=new l(m,g,y),S.callback||(v=new this._Promise((D,k)=>{S.callback=(O,U)=>O?k(O):D(U)}))),A&&(I=S.callback,w=setTimeout(()=>{var D=new Error("Query read timeout");On.nextTick(()=>{S.handleError(D,this.connection)}),I(D),S.callback=()=>{};var k=this.queryQueue.indexOf(S);k>-1&&this.queryQueue.splice(k,1),this._pulseQueryQueue()},A),S.callback=(D,k)=>{clearTimeout(w),I(D,k)}),this.binary&&!S.binary&&(S.binary=!0),S._result&&!S._result._types&&(S._result._types=this._types),this._queryable?this._ending?(On.nextTick(()=>{S.handleError(new Error("Client was closed and is not queryable"),this.connection)}),v):(this.queryQueue.push(S),this._pulseQueryQueue(),v):(On.nextTick(()=>{S.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),v)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(m){if(this._ending=!0,!this.connection._connecting)if(m)m();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),m)this.connection.once("end",m);else return new this._Promise(g=>{this.connection.once("end",g)})}};q(p,"Client");var f=p;f.Query=l,e.exports=f}),P5t=Pn((t,e)=>{"use strict";Ut();var n=h_().EventEmitter,r=q(function(){},"NOOP"),o=q((h,m)=>{let g=h.findIndex(m);return g===-1?void 0:h.splice(g,1)[0]},"removeWhere"),i=class{constructor(m,g,y){this.client=m,this.idleListener=g,this.timeoutId=y}};q(i,"IdleItem");var s=i,a=class{constructor(m){this.callback=m}};q(a,"PendingItem");var c=a;function l(){throw new Error("Release called on client which has already been released to the pool.")}q(l,"throwOnDoubleRelease");function u(h,m){if(m)return{callback:m,result:void 0};let g,y,S=q(function(A,w){A?g(A):y(w)},"cb"),v=new h(function(A,w){y=A,g=w}).catch(A=>{throw Error.captureStackTrace(A),A});return{callback:S,result:v}}q(u,"promisify");function d(h,m){return q(function g(y){y.client=m,m.removeListener("error",g),m.on("error",()=>{h.log("additional client error after disconnection due to error",y)}),h._remove(m),h.emit("error",y,m)},"idleListener")}q(d,"makeIdleListener");var p=class extends n{constructor(m,g){super(),this.options=Object.assign({},m),m!=null&&"password"in m&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:m.password}),m!=null&&m.ssl&&m.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||g||vM().Client,this.Promise=this.options.Promise||gM.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(g=>{this._remove(g.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let m=this._pendingQueue.shift();if(this._idle.length){let g=this._idle.pop();clearTimeout(g.timeoutId);let y=g.client;y.ref&&y.ref();let S=g.idleListener;return this._acquireClient(y,m,S,!1)}if(!this._isFull())return this.newClient(m);throw new Error("unexpected condition")}_remove(m){let g=o(this._idle,y=>y.client===m);g!==void 0&&clearTimeout(g.timeoutId),this._clients=this._clients.filter(y=>y!==m),m.end(),this.emit("remove",m)}connect(m){if(this.ending){let S=new Error("Cannot use a pool after calling end on the pool");return m?m(S):this.Promise.reject(S)}let g=u(this.Promise,m),y=g.result;if(this._isFull()||this._idle.length){if(this._idle.length&&On.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new c(g.callback)),y;let S=q((w,I,D)=>{clearTimeout(A),g.callback(w,I,D)},"queueCallback"),v=new c(S),A=setTimeout(()=>{o(this._pendingQueue,w=>w.callback===S),v.timedOut=!0,g.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return A.unref&&A.unref(),this._pendingQueue.push(v),y}return this.newClient(new c(g.callback)),y}newClient(m){let g=new this.Client(this.options);this._clients.push(g);let y=d(this,g);this.log("checking client timeout");let S,v=!1;this.options.connectionTimeoutMillis&&(S=setTimeout(()=>{this.log("ending client due to timeout"),v=!0,g.connection?g.connection.stream.destroy():g.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),g.connect(A=>{if(S&&clearTimeout(S),g.on("error",y),A)this.log("client failed to connect",A),this._clients=this._clients.filter(w=>w!==g),v&&(A=new Error("Connection terminated due to connection timeout",{cause:A})),this._pulseQueue(),m.timedOut||m.callback(A,void 0,r);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let w=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(g),this._idle.findIndex(I=>I.client===g)!==-1&&this._acquireClient(g,new c((I,D,k)=>k()),y,!1)},this.options.maxLifetimeSeconds*1e3);w.unref(),g.once("end",()=>clearTimeout(w))}return this._acquireClient(g,m,y,!0)}})}_acquireClient(m,g,y,S){S&&this.emit("connect",m),this.emit("acquire",m),m.release=this._releaseOnce(m,y),m.removeListener("error",y),g.timedOut?S&&this.options.verify?this.options.verify(m,m.release):m.release():S&&this.options.verify?this.options.verify(m,v=>{if(v)return m.release(v),g.callback(v,void 0,r);g.callback(void 0,m,m.release)}):g.callback(void 0,m,m.release)}_releaseOnce(m,g){let y=!1;return S=>{y&&l(),y=!0,this._release(m,g,S)}}_release(m,g,y){if(m.on("error",g),m._poolUseCount=(m._poolUseCount||0)+1,this.emit("release",y,m),y||this.ending||!m._queryable||m._ending||m._poolUseCount>=this.options.maxUses){m._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(m),this._pulseQueue();return}if(this._expired.has(m)){this.log("remove expired client"),this._expired.delete(m),this._remove(m),this._pulseQueue();return}let S;this.options.idleTimeoutMillis&&this._isAboveMin()&&(S=setTimeout(()=>{this.log("remove idle client"),this._remove(m)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&S.unref()),this.options.allowExitOnIdle&&m.unref(),this._idle.push(new s(m,g,S)),this._pulseQueue()}query(m,g,y){if(typeof m=="function"){let v=u(this.Promise,m);return Cie(function(){return v.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),v.result}typeof g=="function"&&(y=g,g=void 0);let S=u(this.Promise,y);return y=S.callback,this.connect((v,A)=>{if(v)return y(v);let w=!1,I=q(D=>{w||(w=!0,A.release(D),y(D))},"onError");A.once("error",I),this.log("dispatching query");try{A.query(m,g,(D,k)=>{if(this.log("query dispatched"),A.removeListener("error",I),!w)return w=!0,A.release(D),D?y(D):y(void 0,k)})}catch(D){return A.release(D),y(D)}}),S.result}end(m){if(this.log("ending"),this.ending){let y=new Error("Called end on pool more than once");return m?m(y):this.Promise.reject(y)}this.ending=!0;let g=u(this.Promise,m);return this._endCallback=g.callback,this._pulseQueue(),g.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((m,g)=>m+(this._expired.has(g)?1:0),0)}get totalCount(){return this._clients.length}};q(p,"Pool");var f=p;e.exports=f}),b$e={};Wd(b$e,{default:()=>_$e});D5t=Rc(()=>{"use strict";Ut(),_$e={}}),k5t=Pn((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),L5t=Pn((t,e)=>{"use strict";Ut();var n=h_().EventEmitter,r=(SM(),rs(_6)),o=_M(),i=e.exports=function(a,c,l){n.call(this),a=o.normalizeQueryConfig(a,c,l),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(u){u==="row"&&(this._emitRowEvents=!0)}.bind(this))};r.inherits(i,n);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};i.prototype.handleError=function(a){var c=this.native.pq.resultErrorFields();if(c)for(var l in c){var u=s[l]||l;a[u]=c[l]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},i.prototype.then=function(a,c){return this._getPromise().then(a,c)},i.prototype.catch=function(a){return this._getPromise().catch(a)},i.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(a,c){this._once("end",a),this._once("error",c)}.bind(this)),this._promise)},i.prototype.submit=function(a){this.state="running";var c=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var l=q(function(p,f,h){if(a.native.arrayMode=!1,Cie(function(){c.emit("_done")}),p)return c.handleError(p);c._emitRowEvents&&(h.length>1?f.forEach((m,g)=>{m.forEach(y=>{c.emit("row",y,h[g])})}):f.forEach(function(m){c.emit("row",m,h)})),c.state="end",c.emit("end",h),c.callback&&c.callback(null,h)},"after");if(On.domain&&(l=On.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(o.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(p)}return a.native.execute(this.name,u,l)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?l(p):(a.namedQueries[c.name]=c.text,c.native.execute(c.name,u,l))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return l(p)}var d=this.values.map(o.prepareValue);a.native.query(this.text,d,l)}else a.native.query(this.text,l)}}),M5t=Pn((t,e)=>{"use strict";Ut();var n=(D5t(),rs(b$e)),r=Oie(),o=k5t(),i=h_().EventEmitter,s=(SM(),rs(_6)),a=Mie(),c=L5t(),l=e.exports=function(u){i.call(this),u=u||{},this._Promise=u.Promise||gM.Promise,this._types=new r(u.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new a(u);this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};l.Query=c,s.inherits(l,i),l.prototype._errorAllQueries=function(u){let d=q(p=>{On.nextTick(()=>{p.native=this.native,p.handleError(u)})},"enqueueError");this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},l.prototype._connect=function(u){var d=this;if(this._connecting){On.nextTick(()=>u(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(p,f){if(p)return u(p);d.native.connect(f,function(h){if(h)return d.native.end(),u(h);d._connected=!0,d.native.on("error",function(m){d._queryable=!1,d._errorAllQueries(m),d.emit("error",m)}),d.native.on("notification",function(m){d.emit("notification",{channel:m.relname,payload:m.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),u()})})},l.prototype.connect=function(u){if(u){this._connect(u);return}return new this._Promise((d,p)=>{this._connect(f=>{f?p(f):d()})})},l.prototype.query=function(u,d,p){var f,h,m,g,y;if(u==null)throw new TypeError("Client was passed a null or undefined query");if(typeof u.submit=="function")m=u.query_timeout||this.connectionParameters.query_timeout,h=f=u,typeof d=="function"&&(u.callback=d);else if(m=this.connectionParameters.query_timeout,f=new c(u,d,p),!f.callback){let S,v;h=new this._Promise((A,w)=>{S=A,v=w}),f.callback=(A,w)=>A?v(A):S(w)}return m&&(y=f.callback,g=setTimeout(()=>{var S=new Error("Query read timeout");On.nextTick(()=>{f.handleError(S,this.connection)}),y(S),f.callback=()=>{};var v=this._queryQueue.indexOf(f);v>-1&&this._queryQueue.splice(v,1),this._pulseQueryQueue()},m),f.callback=(S,v)=>{clearTimeout(g),y(S,v)}),this._queryable?this._ending?(f.native=this.native,On.nextTick(()=>{f.handleError(new Error("Client was closed and is not queryable"))}),h):(this._queryQueue.push(f),this._pulseQueryQueue(),h):(f.native=this.native,On.nextTick(()=>{f.handleError(new Error("Client has encountered a connection error and is not queryable"))}),h)},l.prototype.end=function(u){var d=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,u));var p;return u||(p=new this._Promise(function(f,h){u=q(m=>m?h(m):f(),"cb")})),this.native.end(function(){d._errorAllQueries(new Error("Connection terminated")),On.nextTick(()=>{d.emit("end"),u&&u()})}),p},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(u){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){u||this.emit("drain");return}this._activeQuery=d,d.submit(this);var p=this;d.once("_done",function(){p._pulseQueryQueue()})}},l.prototype.cancel=function(u){this._activeQuery===u?this.native.cancel(function(){}):this._queryQueue.indexOf(u)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(u),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(u,d,p){return this._types.setTypeParser(u,d,p)},l.prototype.getTypeParser=function(u,d){return this._types.getTypeParser(u,d)}}),$Ue=Pn((t,e)=>{"use strict";Ut(),e.exports=M5t()}),vM=Pn((t,e)=>{"use strict";Ut();var n=O5t(),r=bM(),o=y$e(),i=P5t(),{DatabaseError:s}=m$e(),a=q(l=>{var u;return u=class extends i{constructor(d){super(d,l)}},q(u,"BoundPool"),u},"poolFactory"),c=q(function(l){this.defaults=r,this.Client=l,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=o,this.types=yM(),this.DatabaseError=s},"PG");typeof On.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new c($Ue()):(e.exports=new c(n),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var l=null;try{l=new c($Ue())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(e.exports,"native",{value:l}),l}}))});Ut();Ut();b6();KUe();Ut();B5t=Object.defineProperty,U5t=Object.defineProperties,$5t=Object.getOwnPropertyDescriptors,FUe=Object.getOwnPropertySymbols,F5t=Object.prototype.hasOwnProperty,H5t=Object.prototype.propertyIsEnumerable,HUe=q((t,e,n)=>e in t?B5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"__defNormalProp"),G5t=q((t,e)=>{for(var n in e||(e={}))F5t.call(e,n)&&HUe(t,n,e[n]);if(FUe)for(var n of FUe(e))H5t.call(e,n)&&HUe(t,n,e[n]);return t},"__spreadValues"),V5t=q((t,e)=>U5t(t,$5t(e)),"__spreadProps"),z5t=1008e3,GUe=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,j5t=new TextDecoder,Bie=new TextEncoder,fM=Bie.encode("0123456789abcdef"),mM=Bie.encode("0123456789ABCDEF"),q5t=Bie.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),S$e=q5t.slice();S$e[62]=45;S$e[63]=95;q(v$e,"_toHex");q(E$e,"_toHexChunked");q(A$e,"toHex");Ut();x$e=class w$e{constructor(e,n){this.strings=e,this.values=n}toParameterizedQuery(e={query:"",params:[]}){let{strings:n,values:r}=this;for(let o=0,i=n.length;o<i;o++)if(e.query+=n[o],o<r.length){let s=r[o];if(s instanceof $ie)e.query+=s.sql;else if(s instanceof y6)if(s.queryData instanceof w$e)s.queryData.toParameterizedQuery(e);else{if(s.queryData.params?.length)throw new Error("This query is not composable");e.query+=s.queryData.query}else{let{params:a}=e;a.push(s),e.query+="$"+a.length,(s instanceof sn||ArrayBuffer.isView(s))&&(e.query+="::bytea")}}return e}};q(x$e,"SqlTemplate");Uie=x$e,T$e=class{constructor(e){this.sql=e}};q(T$e,"UnsafeRawSql");$ie=T$e;Ut();q(EM,"warnIfBrowser");b6();W5t=m_(Oie()),K5t=m_(_M()),I$e=class R$e extends Error{constructor(e){super(e),cn(this,"name","NeonDbError"),cn(this,"severity"),cn(this,"code"),cn(this,"detail"),cn(this,"hint"),cn(this,"position"),cn(this,"internalPosition"),cn(this,"internalQuery"),cn(this,"where"),cn(this,"schema"),cn(this,"table"),cn(this,"column"),cn(this,"dataType"),cn(this,"constraint"),cn(this,"file"),cn(this,"line"),cn(this,"routine"),cn(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,R$e)}};q(I$e,"NeonDbError");f_=I$e,VUe="transaction() expects an array of queries, or a function returning an array of queries",J5t=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];q(C$e,"encodeBuffersAsBytea");q(Iie,"prepareQuery");q(g_,"neon");N$e=class{constructor(e,n,r){this.execute=e,this.queryData=n,this.opts=r}then(e,n){return this.execute(this.queryData,this.opts).then(e,n)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(this.queryData,this.opts).finally(e)}};q(N$e,"NeonQueryPromise");y6=N$e;q(Rie,"processQueryResult");q(O$e,"getAuthToken");Ut();Y5t=m_(vM());Ut();Q5t=m_(vM()),P$e=class extends Q5t.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||On.env.PGHOST!==void 0,o=On.env.USER??On.env.USERNAME;if(!r&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let i=super.connect(e),s=n.pipelineTLS&&this.ssl,a=n.pipelineConnect==="password";if(!s&&!n.pipelineConnect)return i;let c=this.connection;if(s&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let l=this.ssl?"sslconnect":"connect";c.on(l,()=>{this.neonConfig.disableWarningInBrowsers||EM(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(e){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let n=crypto.subtle,r=this.saslSession,o=this.password,i=e.data;if(r.message!=="SASLInitialResponse"||typeof o!="string"||typeof i!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(i.split(",").map($=>{if(!/^.=/.test($))throw new Error("SASL: Invalid attribute pair entry");let j=$[0],Y=$.substring(2);return[j,Y]})),a=s.r,c=s.s,l=s.i;if(!a||!/^[!-+--~]+$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!a.startsWith(r.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(a.length===r.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let u=parseInt(l,10),d=sn.from(c,"base64"),p=new TextEncoder,f=p.encode(o),h=await n.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await n.sign("HMAC",h,sn.concat([d,sn.from([0,0,0,1])]))),g=m;for(var y=0;y<u-1;y++)m=new Uint8Array(await n.sign("HMAC",h,m)),g=sn.from(g.map(($,j)=>g[j]^m[j]));let S=g,v=await n.importKey("raw",S,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),A=new Uint8Array(await n.sign("HMAC",v,p.encode("Client Key"))),w=await n.digest("SHA-256",A),I="n=*,r="+r.clientNonce,D="r="+a+",s="+c+",i="+u,k="c=biws,r="+a,O=I+","+D+","+k,U=await n.importKey("raw",w,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var G=new Uint8Array(await n.sign("HMAC",U,p.encode(O))),J=sn.from(A.map(($,j)=>A[j]^G[j])),C=J.toString("base64");let _=await n.importKey("raw",S,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=await n.sign("HMAC",_,p.encode("Server Key")),R=await n.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var M=sn.from(await n.sign("HMAC",R,p.encode(O)));r.message="SASLResponse",r.serverSignature=M.toString("base64"),r.response=k+",p="+C,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};q(P$e,"NeonClient");D$e=P$e;b6();X5t=m_(Mie());q(k$e,"promisify");L$e=class extends Y5t.Pool{constructor(){super(...arguments),cn(this,"Client",D$e),cn(this,"hasFetchUnsupportedListeners",!1),cn(this,"addListener",this.on)}on(e,n){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,n)}query(e,n,r){if(!TA.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,n,r);typeof n=="function"&&(r=n,n=void 0);let o=k$e(this.Promise,r);r=o.callback;try{let i=new X5t.default(this.options),s=encodeURIComponent,a=encodeURI,c=`postgresql://${s(i.user)}:${s(i.password)}@${s(i.host)}/${a(i.database)}`,l=typeof e=="string"?e:e.text,u=n??e.values??[];g_(c,{fullResults:!0,arrayMode:e.rowMode==="array"}).query(l,u,{types:e.types??this.options?.types}).then(d=>r(void 0,d)).catch(d=>r(d))}catch(i){r(i)}return o.result}};q(L$e,"NeonPool");Z5t=L$e;b6();S6=m_(vM()),e8t="mjs",t8t=S6.DatabaseError,n8t=S6.defaults,r8t=S6.escapeIdentifier,o8t=S6.escapeLiteral,Pa=S6.types;});var Hie=b(()=>{"use strict";bie()});var AM,Gie,xM,v6,Vie,zie=b(()=>{"use strict";Hie();st();f6();Un();dM();zo();wr();AM={arrayMode:!1,fullResults:!0},Gie={arrayMode:!0,fullResults:!0},xM=class extends vA{constructor(e,n,r,o,i,s,a,c,l){super(n,o,i,s),this.client=e,this.logger=r,this.fields=a,this._isResponseInArrayMode=c,this.customResultMapper=l,this.clientQuery=e.query??e}static[ee]="NeonHttpPreparedQuery";clientQuery;async execute(e={},n=this.authToken){let r=u_(this.query.params,e);this.logger.logQuery(this.query.sql,r);let{fields:o,clientQuery:i,query:s,customResultMapper:a}=this;if(!o&&!a)return this.queryWithCache(s.sql,r,async()=>i(s.sql,r,n===void 0?AM:{...AM,authToken:n}));let c=await this.queryWithCache(s.sql,r,async()=>await i(s.sql,r,n===void 0?Gie:{...Gie,authToken:n}));return this.mapResult(c)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;let n=e.rows;return this.customResultMapper?this.customResultMapper(n):n.map(r=>$7(this.fields,r,this.joinsNotNullableMap))}all(e={}){let n=u_(this.query.params,e);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,this.authToken===void 0?AM:{...AM,authToken:this.authToken}).then(r=>r.rows)}values(e={},n){let r=u_(this.query.params,e);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,{arrayMode:!0,fullResults:!0,authToken:n}).then(o=>o.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},v6=class extends EA{constructor(e,n,r,o={}){super(n),this.client=e,this.schema=r,this.options=o,this.clientQuery=e.query??e,this.logger=o.logger??new wA,this.cache=o.cache??new j0}static[ee]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(e,n,r,o,i,s,a){return new xM(this.client,e,this.logger,this.cache,s,a,n,o,i)}async batch(e){let n=[],r=[];for(let i of e){let s=i._prepare(),a=s.getQuery();n.push(s),r.push(this.clientQuery(a.sql,a.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(r,Gie)).map((i,s)=>n[s].mapResult(i,!0))}async query(e,n){return this.logger.logQuery(e,n),await this.clientQuery(e,n,{arrayMode:!0,fullResults:!0})}async queryObjects(e,n){return this.clientQuery(e,n,{arrayMode:!1,fullResults:!0})}async count(e,n){let r=await this.execute(e,n);return Number(r.rows[0].count)}async transaction(e,n={}){throw new Error("No transactions support in neon-http driver")}},Vie=class extends AA{static[ee]="NeonHttpTransaction";async transaction(e){throw new Error("No transactions support in neon-http driver")}}});function TM(t,e,n,r){return new Proxy(t,{get(o,i){let s=o[i];return typeof s!="function"&&(typeof s!="object"||s===null)?s:r?TM(s,e,n):i==="query"?TM(s,e,n,!0):new Proxy(s,{apply(a,c,l){let u=a.call(c,...l);return typeof u=="object"&&u!==null&&"setToken"in u&&typeof u.setToken=="function"&&u.setToken(e),n(a,i,u)}})}})}function RA(t,e={}){let n=new df({casing:e.casing}),r;e.logger===!0?r=new xA:e.logger!==!1&&(r=e.logger);let o;if(e.schema){let c=Q7(e.schema,X7);o={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new wM(t,n,{logger:r,cache:e.cache}).createSession(o),a=new IM(n,s,o);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function jie(...t){if(typeof t[0]=="string"){let e=g_(t[0]);return RA(e,t[1])}if(H7(t[0])){let{connection:e,client:n,...r}=t[0];if(n)return RA(n,r);if(typeof e=="object"){let{connectionString:i,...s}=e,a=g_(i,s);return RA(a,r)}let o=g_(e);return RA(o,r)}return RA(t[0],t[1])}var wM,IM,B$e=b(()=>{"use strict";Fie();st();f6();d6();i6();o6();wr();zie();wM=class{constructor(e,n,r={}){this.client=e,this.dialect=n,this.options=r,this.initMappers()}static[ee]="NeonHttpDriver";createSession(e){return new v6(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Pa.setTypeParser(Pa.builtins.TIMESTAMPTZ,e=>e),Pa.setTypeParser(Pa.builtins.TIMESTAMP,e=>e),Pa.setTypeParser(Pa.builtins.DATE,e=>e),Pa.setTypeParser(Pa.builtins.INTERVAL,e=>e),Pa.setTypeParser(1231,e=>e),Pa.setTypeParser(1115,e=>e),Pa.setTypeParser(1185,e=>e),Pa.setTypeParser(1187,e=>e),Pa.setTypeParser(1182,e=>e)}};IM=class extends z0{static[ee]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,TM(this,e,(n,r,o)=>r==="with"?TM(o,e,(i,s,a)=>a):o)}async batch(e){return this.session.batch(e)}};(t=>{function e(n){return RA({},n)}t.mock=e})(jie||(jie={}))});var U$e={};kn(U$e,{NeonHttpDatabase:()=>IM,NeonHttpDriver:()=>wM,NeonHttpPreparedQuery:()=>xM,NeonHttpSession:()=>v6,NeonTransaction:()=>Vie,drizzle:()=>jie});var $$e=b(()=>{"use strict";B$e();zie()});var Wie=Ge(F$e=>{"use strict";F$e.parse=function(t,e){return new qie(t,e).parse()};var qie=class t{constructor(e,n){this.source=e,this.transform=n||i8t,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var n;(this.recorded.length>0||e)&&(n=this.recorded.join(""),n==="NULL"&&!e&&(n=null),n!==null&&(n=this.transform(n)),this.entries.push(n),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var n,r,o;for(this.consumeDimensions();!this.isEof();)if(n=this.nextCharacter(),n.value==="{"&&!o)this.dimension++,this.dimension>1&&(r=new t(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);else if(n.value==="}"&&!o){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else n.value==='"'&&!n.escaped?(o&&this.newEntry(!0),o=!o):n.value===","&&!o?this.newEntry():this.record(n.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function i8t(t){return t}});var Kie=Ge((GNr,H$e)=>{"use strict";var s8t=Wie();H$e.exports={create:function(t,e){return{parse:function(){return s8t.parse(t,e)}}}}});var z$e=Ge((VNr,V$e)=>{"use strict";var a8t=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,c8t=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,l8t=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,u8t=/^-?infinity$/;V$e.exports=function(e){if(u8t.test(e))return Number(e.replace("i","I"));var n=a8t.exec(e);if(!n)return d8t(e)||null;var r=!!n[8],o=parseInt(n[1],10);r&&(o=G$e(o));var i=parseInt(n[2],10)-1,s=n[3],a=parseInt(n[4],10),c=parseInt(n[5],10),l=parseInt(n[6],10),u=n[7];u=u?1e3*parseFloat(u):0;var d,p=p8t(e);return p!=null?(d=new Date(Date.UTC(o,i,s,a,c,l,u)),Jie(o)&&d.setUTCFullYear(o),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(o,i,s,a,c,l,u),Jie(o)&&d.setFullYear(o)),d};function d8t(t){var e=c8t.exec(t);if(e){var n=parseInt(e[1],10),r=!!e[4];r&&(n=G$e(n));var o=parseInt(e[2],10)-1,i=e[3],s=new Date(n,o,i);return Jie(n)&&s.setFullYear(n),s}}function p8t(t){if(t.endsWith("+00"))return 0;var e=l8t.exec(t.split(" ")[1]);if(e){var n=e[1];if(n==="Z")return 0;var r=n==="-"?-1:1,o=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return o*r*1e3}}function G$e(t){return-(t-1)}function Jie(t){return t>=0&&t<100}});var q$e=Ge((zNr,j$e)=>{"use strict";j$e.exports=m8t;var f8t=Object.prototype.hasOwnProperty;function m8t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)f8t.call(n,r)&&(t[r]=n[r])}return t}});var J$e=Ge((jNr,K$e)=>{"use strict";var h8t=q$e();K$e.exports=CA;function CA(t){if(!(this instanceof CA))return new CA(t);h8t(this,I8t(t))}var g8t=["seconds","minutes","hours","days","months","years"];CA.prototype.toPostgres=function(){var t=g8t.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var n=this[e]||0;return e==="seconds"&&this.milliseconds&&(n=(n+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),n+" "+e},this).join(" ")};var y8t={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},b8t=["years","months","days"],_8t=["hours","minutes","seconds"];CA.prototype.toISOString=CA.prototype.toISO=function(){var t=b8t.map(n,this).join(""),e=_8t.map(n,this).join("");return"P"+t+"T"+e;function n(r){var o=this[r]||0;return r==="seconds"&&this.milliseconds&&(o=(o+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),o+y8t[r]}};var Yie="([+-]?\\d+)",S8t=Yie+"\\s+years?",v8t=Yie+"\\s+mons?",E8t=Yie+"\\s+days?",A8t="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",x8t=new RegExp([S8t,v8t,E8t,A8t].map(function(t){return"("+t+")?"}).join("\\s*")),W$e={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},w8t=["hours","minutes","seconds","milliseconds"];function T8t(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function I8t(t){if(!t)return{};var e=x8t.exec(t),n=e[8]==="-";return Object.keys(W$e).reduce(function(r,o){var i=W$e[o],s=e[i];return!s||(s=o==="milliseconds"?T8t(s):parseInt(s,10),!s)||(n&&~w8t.indexOf(o)&&(s*=-1),r[o]=s),r},{})}});var X$e=Ge((qNr,Q$e)=>{"use strict";var Y$e=Buffer.from||Buffer;Q$e.exports=function(e){if(/^\\x/.test(e))return Y$e(e.substr(2),"hex");for(var n="",r=0;r<e.length;)if(e[r]!=="\\")n+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))n+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var o=1;r+o<e.length&&e[r+o]==="\\";)o++;for(var i=0;i<Math.floor(o/2);++i)n+="\\";r+=Math.floor(o/2)*2}return Y$e(n,"binary")}});var iFe=Ge((WNr,oFe)=>{"use strict";var E6=Wie(),A6=Kie(),RM=z$e(),eFe=J$e(),tFe=X$e();function CM(t){return function(n){return n===null?n:t(n)}}function nFe(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function R8t(t){return t?E6.parse(t,nFe):null}function C8t(t){return parseInt(t,10)}function Qie(t){return t?E6.parse(t,CM(C8t)):null}function N8t(t){return t?E6.parse(t,CM(function(e){return rFe(e).trim()})):null}var O8t=function(t){if(!t)return null;var e=A6.create(t,function(n){return n!==null&&(n=tse(n)),n});return e.parse()},Xie=function(t){if(!t)return null;var e=A6.create(t,function(n){return n!==null&&(n=parseFloat(n)),n});return e.parse()},Fu=function(t){if(!t)return null;var e=A6.create(t);return e.parse()},Zie=function(t){if(!t)return null;var e=A6.create(t,function(n){return n!==null&&(n=RM(n)),n});return e.parse()},P8t=function(t){if(!t)return null;var e=A6.create(t,function(n){return n!==null&&(n=eFe(n)),n});return e.parse()},D8t=function(t){return t?E6.parse(t,CM(tFe)):null},ese=function(t){return parseInt(t,10)},rFe=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},Z$e=function(t){return t?E6.parse(t,CM(JSON.parse)):null},tse=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},k8t=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",n="",r=!1,o=2;o<t.length-1;o++){if(r||(e+=t[o]),t[o]===")"){r=!0;continue}else if(!r)continue;t[o]!==","&&(n+=t[o])}var i=tse(e);return i.radius=parseFloat(n),i},L8t=function(t){t(20,rFe),t(21,ese),t(23,ese),t(26,ese),t(700,parseFloat),t(701,parseFloat),t(16,nFe),t(1082,RM),t(1114,RM),t(1184,RM),t(600,tse),t(651,Fu),t(718,k8t),t(1e3,R8t),t(1001,D8t),t(1005,Qie),t(1007,Qie),t(1028,Qie),t(1016,N8t),t(1017,O8t),t(1021,Xie),t(1022,Xie),t(1231,Xie),t(1014,Fu),t(1015,Fu),t(1008,Fu),t(1009,Fu),t(1040,Fu),t(1041,Fu),t(1115,Zie),t(1182,Zie),t(1185,Zie),t(1186,eFe),t(1187,P8t),t(17,tFe),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,Z$e),t(3807,Z$e),t(3907,Fu),t(2951,Fu),t(791,Fu),t(1183,Fu),t(1270,Fu)};oFe.exports={init:L8t}});var aFe=Ge((KNr,sFe)=>{"use strict";var Cc=1e6;function M8t(t){var e=t.readInt32BE(0),n=t.readUInt32BE(4),r="";e<0&&(e=~e+(n===0),n=~n+1>>>0,r="-");var o="",i,s,a,c,l,u;{if(i=e%Cc,e=e/Cc>>>0,s=4294967296*i+n,n=s/Cc>>>0,a=""+(s-Cc*n),n===0&&e===0)return r+a+o;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";o=c+a+o}{if(i=e%Cc,e=e/Cc>>>0,s=4294967296*i+n,n=s/Cc>>>0,a=""+(s-Cc*n),n===0&&e===0)return r+a+o;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";o=c+a+o}{if(i=e%Cc,e=e/Cc>>>0,s=4294967296*i+n,n=s/Cc>>>0,a=""+(s-Cc*n),n===0&&e===0)return r+a+o;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";o=c+a+o}return i=e%Cc,s=4294967296*i+n,a=""+s%Cc,r+a+o}sFe.exports=M8t});var pFe=Ge((JNr,dFe)=>{"use strict";var B8t=aFe(),Po=function(t,e,n,r,o){n=n||0,r=r||!1,o=o||function(f,h,m){return f*Math.pow(2,m)+h};var i=n>>3,s=function(f){return r?~f&255:f},a=255,c=8-n%8;e<c&&(a=255<<8-e&255,c=e),n&&(a=a>>n%8);var l=0;n%8+e>=8&&(l=o(0,s(t[i])&a,c));for(var u=e+n>>3,d=i+1;d<u;d++)l=o(l,s(t[d]),8);var p=(e+n)%8;return p>0&&(l=o(l,s(t[u])>>8-p,p)),l},uFe=function(t,e,n){var r=Math.pow(2,n-1)-1,o=Po(t,1),i=Po(t,n,1);if(i===0)return 0;var s=1,a=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)s/=2,(u&1<<d-p)>0&&(l+=s);return l},c=Po(t,e,n+1,!1,a);return i==Math.pow(2,n+1)-1?c===0?o===0?1/0:-1/0:NaN:(o===0?1:-1)*Math.pow(2,i-r)*c},U8t=function(t){return Po(t,1)==1?-1*(Po(t,15,1,!0)+1):Po(t,15,1)},cFe=function(t){return Po(t,1)==1?-1*(Po(t,31,1,!0)+1):Po(t,31,1)},$8t=function(t){return uFe(t,23,8)},F8t=function(t){return uFe(t,52,11)},H8t=function(t){var e=Po(t,16,32);if(e==49152)return NaN;for(var n=Math.pow(1e4,Po(t,16,16)),r=0,o=[],i=Po(t,16),s=0;s<i;s++)r+=Po(t,16,64+16*s)*n,n/=1e4;var a=Math.pow(10,Po(t,16,48));return(e===0?1:-1)*Math.round(r*a)/a},lFe=function(t,e){var n=Po(e,1),r=Po(e,63,1),o=new Date((n===0?1:-1)*r/1e3+9466848e5);return t||o.setTime(o.getTime()+o.getTimezoneOffset()*6e4),o.usec=r%1e3,o.getMicroSeconds=function(){return this.usec},o.setMicroSeconds=function(i){this.usec=i},o.getUTCMicroSeconds=function(){return this.usec},o},x6=function(t){for(var e=Po(t,32),n=Po(t,32,32),r=Po(t,32,64),o=96,i=[],s=0;s<e;s++)i[s]=Po(t,32,o),o+=32,o+=32;var a=function(l){var u=Po(t,32,o);if(o+=32,u==4294967295)return null;var d;if(l==23||l==20)return d=Po(t,u*8,o),o+=u*8,d;if(l==25)return d=t.toString(this.encoding,o>>3,(o+=u<<3)>>3),d;console.log("ERROR: ElementType not implemented: "+l)},c=function(l,u){var d=[],p;if(l.length>1){var f=l.shift();for(p=0;p<f;p++)d[p]=c(l,u);l.unshift(f)}else for(p=0;p<l[0];p++)d[p]=a(u);return d};return c(i,r)},G8t=function(t){return t.toString("utf8")},V8t=function(t){return t===null?null:Po(t,8)>0},z8t=function(t){t(20,B8t),t(21,U8t),t(23,cFe),t(26,cFe),t(1700,H8t),t(700,$8t),t(701,F8t),t(16,V8t),t(1114,lFe.bind(null,!1)),t(1184,lFe.bind(null,!0)),t(1e3,x6),t(1007,x6),t(1016,x6),t(1008,x6),t(1009,x6),t(25,G8t)};dFe.exports={init:z8t}});var mFe=Ge((YNr,fFe)=>{"use strict";fFe.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var I6=Ge(T6=>{"use strict";var j8t=iFe(),q8t=pFe(),W8t=Kie(),K8t=mFe();T6.getTypeParser=J8t;T6.setTypeParser=Y8t;T6.arrayParser=W8t;T6.builtins=K8t;var w6={text:{},binary:{}};function hFe(t){return String(t)}function J8t(t,e){return e=e||"text",w6[e]&&w6[e][t]||hFe}function Y8t(t,e,n){typeof e=="function"&&(n=e,e="text"),w6[e][t]=n}j8t.init(function(t,e){w6.text[t]=e});q8t.init(function(t,e){w6.binary[t]=e})});var R6=Ge((XNr,nse)=>{"use strict";var gFe;try{gFe=process.platform==="win32"?process.env.USERNAME:process.env.USER}catch{}nse.exports={host:"localhost",user:gFe,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var NA=I6(),Q8t=NA.getTypeParser(20,"text"),X8t=NA.getTypeParser(1016,"text");nse.exports.__defineSetter__("parseInt8",function(t){NA.setTypeParser(20,"text",t?NA.getTypeParser(23,"text"):Q8t),NA.setTypeParser(1016,"text",t?NA.getTypeParser(1007,"text"):X8t)})});var OA=Ge((ZNr,_Fe)=>{"use strict";var Z8t=R6(),yFe=_t("util"),{isDate:ePt}=yFe.types||yFe;function tPt(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function bFe(t){let e="{";for(let n=0;n<t.length;n++)if(n>0&&(e=e+","),t[n]===null||typeof t[n]>"u")e=e+"NULL";else if(Array.isArray(t[n]))e=e+bFe(t[n]);else if(ArrayBuffer.isView(t[n])){let r=t[n];if(!(r instanceof Buffer)){let o=Buffer.from(r.buffer,r.byteOffset,r.byteLength);o.length===r.byteLength?r=o:r=o.slice(r.byteOffset,r.byteOffset+r.byteLength)}e+="\\\\x"+r.toString("hex")}else e+=tPt(NM(t[n]));return e=e+"}",e}var NM=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){let n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return n.length===t.byteLength?n:n.slice(t.byteOffset,t.byteOffset+t.byteLength)}return ePt(t)?Z8t.parseInputDatesAsUTC?oPt(t):rPt(t):Array.isArray(t)?bFe(t):nPt(t,e)}return t.toString()};function nPt(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),NM(t.toPostgres(NM),e)}return JSON.stringify(t)}function rPt(t){let e=-t.getTimezoneOffset(),n=t.getFullYear(),r=n<1;r&&(n=Math.abs(n)+1);let o=String(n).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(o+="-",e*=-1):o+="+",o+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),r&&(o+=" BC"),o}function oPt(t){let e=t.getUTCFullYear(),n=e<1;n&&(e=Math.abs(e)+1);let r=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return r+="+00:00",n&&(r+=" BC"),r}function iPt(t,e,n){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),n&&(t.callback=n),t}var sPt=function(t){return'"'+t.replace(/"/g,'""')+'"'},aPt=function(t){let e=!1,n="'";if(t==null||typeof t!="string")return"''";for(let r=0;r<t.length;r++){let o=t[r];o==="'"?n+=o+o:o==="\\"?(n+=o+o,e=!0):n+=o}return n+="'",e===!0&&(n=" E"+n),n};_Fe.exports={prepareValue:function(e){return NM(e)},normalizeQueryConfig:iPt,escapeIdentifier:sPt,escapeLiteral:aPt}});var vFe=Ge((eOr,SFe)=>{"use strict";var PA=_t("crypto");function rse(t){return PA.createHash("md5").update(t,"utf-8").digest("hex")}function cPt(t,e,n){let r=rse(e+t);return"md5"+rse(Buffer.concat([Buffer.from(r),n]))}function lPt(t){return PA.createHash("sha256").update(t).digest()}function uPt(t,e){return t=t.replace(/(\D)-/,"$1"),PA.createHash(t).update(e).digest()}function dPt(t,e){return PA.createHmac("sha256",t).update(e).digest()}async function pPt(t,e,n){return PA.pbkdf2Sync(t,e,n,32,"sha256")}SFe.exports={postgresMd5PasswordHash:cPt,randomBytes:PA.randomBytes,deriveKey:pPt,sha256:lPt,hashByName:uPt,hmacSha256:dPt,md5:rse}});var wFe=Ge((tOr,xFe)=>{"use strict";var EFe=_t("crypto");xFe.exports={postgresMd5PasswordHash:mPt,randomBytes:fPt,deriveKey:bPt,sha256:hPt,hashByName:gPt,hmacSha256:yPt,md5:ose};var AFe=EFe.webcrypto||globalThis.crypto,y_=AFe.subtle,ise=new TextEncoder;function fPt(t){return AFe.getRandomValues(Buffer.alloc(t))}async function ose(t){try{return EFe.createHash("md5").update(t,"utf-8").digest("hex")}catch{let n=typeof t=="string"?ise.encode(t):t,r=await y_.digest("MD5",n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}}async function mPt(t,e,n){let r=await ose(e+t);return"md5"+await ose(Buffer.concat([Buffer.from(r),n]))}async function hPt(t){return await y_.digest("SHA-256",t)}async function gPt(t,e){return await y_.digest(t,e)}async function yPt(t,e){let n=await y_.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await y_.sign("HMAC",n,ise.encode(e))}async function bPt(t,e,n){let r=await y_.importKey("raw",ise.encode(t),"PBKDF2",!1,["deriveBits"]),o={name:"PBKDF2",hash:"SHA-256",salt:e,iterations:n};return await y_.deriveBits(o,r,256,["deriveBits"])}});var ase=Ge((nOr,sse)=>{"use strict";var _Pt=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;_Pt?sse.exports=vFe():sse.exports=wFe()});var RFe=Ge((rOr,IFe)=>{"use strict";function b_(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function cse(t,e){let n=t[e++];if(n<128)return{length:n,index:e};let r=n&127;if(r>4)throw b_("bad length",t);n=0;for(let o=0;o<r;o++)n=n<<8|t[e++];return{length:n,index:e}}function TFe(t,e){if(t[e++]!==6)throw b_("non-OID data",t);let{length:n,index:r}=cse(t,e);e=r;let o=e+n,i=t[e++],s=(i/40>>0)+"."+i%40;for(;e<o;){let a=0;for(;e<o;){let c=t[e++];if(a=a<<7|c&127,c<128)break}s+="."+a}return{oid:s,index:e}}function C6(t,e){if(t[e++]!==48)throw b_("non-sequence data",t);return cse(t,e)}function SPt(t,e){e===void 0&&(e=0),e=C6(t,e).index;let{length:n,index:r}=C6(t,e);e=r+n,e=C6(t,e).index;let{oid:o,index:i}=TFe(t,e);switch(o){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=i,e=C6(t,e).index,t[e++]!==160)throw b_("non-tag data",t);e=cse(t,e).index,e=C6(t,e).index;let{oid:s}=TFe(t,e);switch(s){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw b_("unknown hash OID "+s,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw b_("Ed448 certificate channel binding is not currently supported by Postgres")}throw b_("unknown OID "+o,t)}IFe.exports={signatureAlgorithmHashFromCertificate:SPt}});var PFe=Ge((oOr,OFe)=>{"use strict";var q0=ase(),{signatureAlgorithmHashFromCertificate:vPt}=RFe();function EPt(t,e){let n=["SCRAM-SHA-256"];e&&n.unshift("SCRAM-SHA-256-PLUS");let r=n.find(s=>t.includes(s));if(!r)throw new Error("SASL: Only mechanism(s) "+n.join(" and ")+" are supported");if(r==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");let o=q0.randomBytes(18).toString("base64");return{mechanism:r,clientNonce:o,response:(r==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+o,message:"SASLInitialResponse"}}async function APt(t,e,n,r){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof n!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let o=TPt(n);if(o.nonce.startsWith(t.clientNonce)){if(o.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");let i="n=*,r="+t.clientNonce,s="r="+o.nonce+",s="+o.salt+",i="+o.iteration,a=r?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){let S=r.getPeerCertificate().raw,v=vPt(S);(v==="MD5"||v==="SHA-1")&&(v="SHA-256");let A=await q0.hashByName(v,S);a=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(A)]).toString("base64")}let c="c="+a+",r="+o.nonce,l=i+","+s+","+c,u=Buffer.from(o.salt,"base64"),d=await q0.deriveKey(e,u,o.iteration),p=await q0.hmacSha256(d,"Client Key"),f=await q0.sha256(p),h=await q0.hmacSha256(f,l),m=RPt(Buffer.from(p),Buffer.from(h)).toString("base64"),g=await q0.hmacSha256(d,"Server Key"),y=await q0.hmacSha256(g,l);t.message="SASLResponse",t.serverSignature=Buffer.from(y).toString("base64"),t.response=c+",p="+m}function xPt(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:n}=IPt(e);if(n!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function wPt(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,n)=>t.charCodeAt(n)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function CFe(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function NFe(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");let n=e[0],r=e.substring(2);return[n,r]}))}function TPt(t){let e=NFe(t),n=e.get("r");if(n){if(!wPt(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let r=e.get("s");if(r){if(!CFe(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let o=e.get("i");if(o){if(!/^[1-9][0-9]*$/.test(o))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let i=parseInt(o,10);return{nonce:n,salt:r,iteration:i}}function IPt(t){let n=NFe(t).get("v");if(n){if(!CFe(n))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:n}}function RPt(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((n,r)=>t[r]^e[r]))}OFe.exports={startSession:EPt,continueSession:APt,finalizeSession:xPt}});var PM=Ge((iOr,DFe)=>{"use strict";var CPt=I6();function OM(t){this._types=t||CPt,this.text={},this.binary={}}OM.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};OM.prototype.setTypeParser=function(t,e,n){typeof e=="function"&&(n=e,e="text"),this.getOverrides(e)[t]=n};OM.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};DFe.exports=OM});var MFe=Ge((sOr,LFe)=>{"use strict";function DA(t,e={}){if(t.charAt(0)==="/"){let c=t.split(" ");return{host:c[0],database:c[1]}}let n={},r,o=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{r=new URL(t,"postgres://base")}catch{r=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),o=!0}}catch(c){throw c.input&&(c.input="*****REDACTED*****"),c}for(let c of r.searchParams.entries())n[c[0]]=c[1];if(n.user=n.user||decodeURIComponent(r.username),n.password=n.password||decodeURIComponent(r.password),r.protocol=="socket:")return n.host=decodeURI(r.pathname),n.database=r.searchParams.get("db"),n.client_encoding=r.searchParams.get("encoding"),n;let i=o?"":r.hostname;n.host?i&&/^%2f/i.test(i)&&(r.pathname=i+r.pathname):n.host=decodeURIComponent(i),n.port||(n.port=r.port);let s=r.pathname.slice(1)||null;n.database=s?decodeURI(s):null,(n.ssl==="true"||n.ssl==="1")&&(n.ssl=!0),n.ssl==="0"&&(n.ssl=!1),(n.sslcert||n.sslkey||n.sslrootcert||n.sslmode)&&(n.ssl={});let a=n.sslcert||n.sslkey||n.sslrootcert?_t("fs"):null;if(n.sslcert&&(n.ssl.cert=a.readFileSync(n.sslcert).toString()),n.sslkey&&(n.ssl.key=a.readFileSync(n.sslkey).toString()),n.sslrootcert&&(n.ssl.ca=a.readFileSync(n.sslrootcert).toString()),e.useLibpqCompat&&n.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(n.uselibpqcompat==="true"||e.useLibpqCompat)switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":{n.ssl.rejectUnauthorized=!1;break}case"require":{n.sslrootcert?n.ssl.checkServerIdentity=function(){}:n.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!n.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");n.ssl.checkServerIdentity=function(){};break}case"verify-full":break}else switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":{n.sslmode!=="verify-full"&&lse(n.sslmode);break}case"no-verify":{n.ssl.rejectUnauthorized=!1;break}}return n}function NPt(t){return Object.entries(t).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}function kFe(t){return Object.entries(t).reduce((n,[r,o])=>{if(r==="ssl"){let i=o;typeof i=="boolean"&&(n[r]=i),typeof i=="object"&&(n[r]=NPt(i))}else if(o!=null)if(r==="port"){if(o!==""){let i=parseInt(o,10);if(isNaN(i))throw new Error(`Invalid ${r}: ${o}`);n[r]=i}}else n[r]=o;return n},{})}function OPt(t){return kFe(DA(t))}function lse(t){!lse.warned&&typeof process<"u"&&process.emitWarning&&(lse.warned=!0,process.emitWarning(`SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=${t}'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.`))}LFe.exports=DA;DA.parse=DA;DA.toClientConfig=kFe;DA.parseIntoClientConfig=OPt});var dse=Ge((aOr,$Fe)=>{"use strict";var PPt=_t("dns"),UFe=R6(),BFe=MFe().parse,Da=function(t,e,n){return e[t]?e[t]:(n===void 0?n=process.env["PG"+t.toUpperCase()]:n===!1||(n=process.env[n]),n||UFe[t])},DPt=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return UFe.ssl},kA=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Hu=function(t,e,n){let r=e[n];r!=null&&t.push(n+"="+kA(r))},use=class{constructor(e){e=typeof e=="string"?BFe(e):e||{},e.connectionString&&(e=Object.assign({},e,BFe(e.connectionString))),this.user=Da("user",e),this.database=Da("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(Da("port",e),10),this.host=Da("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Da("password",e)}),this.binary=Da("binary",e),this.options=Da("options",e),this.ssl=typeof e.ssl>"u"?DPt():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=Da("client_encoding",e),this.replication=Da("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Da("application_name",e,"PGAPPNAME"),this.fallback_application_name=Da("fallback_application_name",e,!1),this.statement_timeout=Da("statement_timeout",e,!1),this.lock_timeout=Da("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=Da("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Da("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){let n=[];Hu(n,this,"user"),Hu(n,this,"password"),Hu(n,this,"port"),Hu(n,this,"application_name"),Hu(n,this,"fallback_application_name"),Hu(n,this,"connect_timeout"),Hu(n,this,"options");let r=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Hu(n,r,"sslmode"),Hu(n,r,"sslca"),Hu(n,r,"sslkey"),Hu(n,r,"sslcert"),Hu(n,r,"sslrootcert"),this.database&&n.push("dbname="+kA(this.database)),this.replication&&n.push("replication="+kA(this.replication)),this.host&&n.push("host="+kA(this.host)),this.isDomainSocket)return e(null,n.join(" "));this.client_encoding&&n.push("client_encoding="+kA(this.client_encoding)),PPt.lookup(this.host,function(o,i){return o?e(o,null):(n.push("hostaddr="+kA(i)),e(null,n.join(" ")))})}};$Fe.exports=use});var fse=Ge((cOr,HFe)=>{"use strict";var kPt=I6(),FFe=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,pse=class{constructor(e,n){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=n,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let n;e.text?n=FFe.exec(e.text):n=FFe.exec(e.command),n&&(this.command=n[1],n[3]?(this.oid=parseInt(n[2],10),this.rowCount=parseInt(n[3],10)):n[2]&&(this.rowCount=parseInt(n[2],10)))}_parseRowAsArray(e){let n=new Array(e.length);for(let r=0,o=e.length;r<o;r++){let i=e[r];i!==null?n[r]=this._parsers[r](i):n[r]=null}return n}parseRow(e){let n={...this._prebuiltEmptyResultObject};for(let r=0,o=e.length;r<o;r++){let i=e[r],s=this.fields[r].name;if(i!==null){let a=this.fields[r].format==="binary"?Buffer.from(i):i;n[s]=this._parsers[r](a)}else n[s]=null}return n}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));let n={};for(let r=0;r<e.length;r++){let o=e[r];n[o.name]=null,this._types?this._parsers[r]=this._types.getTypeParser(o.dataTypeID,o.format||"text"):this._parsers[r]=kPt.getTypeParser(o.dataTypeID,o.format||"text")}this._prebuiltEmptyResultObject={...n}}};HFe.exports=pse});var jFe=Ge((lOr,zFe)=>{"use strict";var{EventEmitter:LPt}=_t("events"),GFe=fse(),VFe=OA(),mse=class extends LPt{constructor(e,n,r){super(),e=VFe.normalizeQueryConfig(e,n,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new GFe(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new GFe(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let n;if(!this._canceledDueToError){try{n=this._result.parseRow(e.fields)}catch(r){this._canceledDueToError=r;return}this.emit("row",n,this._result),this._accumulateRows&&this._result.addRow(n)}}handleCommandComplete(e,n){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&n.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,n){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(n){process.nextTick(()=>{throw n})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let n=e.parsedStatements[this.name];if(this.text&&n&&this.text!==n)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,n){e.execute({portal:this.portal,rows:n}),n?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:VFe.prepareValue})}catch(n){this.handleError(n,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,n){}};zFe.exports=mse});var Cse=Ge(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.NoticeMessage=mn.DataRowMessage=mn.CommandCompleteMessage=mn.ReadyForQueryMessage=mn.NotificationResponseMessage=mn.BackendKeyDataMessage=mn.AuthenticationMD5Password=mn.ParameterStatusMessage=mn.ParameterDescriptionMessage=mn.RowDescriptionMessage=mn.Field=mn.CopyResponse=mn.CopyDataMessage=mn.DatabaseError=mn.copyDone=mn.emptyQuery=mn.replicationStart=mn.portalSuspended=mn.noData=mn.closeComplete=mn.bindComplete=mn.parseComplete=void 0;mn.parseComplete={name:"parseComplete",length:5};mn.bindComplete={name:"bindComplete",length:5};mn.closeComplete={name:"closeComplete",length:5};mn.noData={name:"noData",length:5};mn.portalSuspended={name:"portalSuspended",length:5};mn.replicationStart={name:"replicationStart",length:4};mn.emptyQuery={name:"emptyQuery",length:4};mn.copyDone={name:"copyDone",length:4};var hse=class extends Error{constructor(e,n,r){super(e),this.length=n,this.name=r}};mn.DatabaseError=hse;var gse=class{constructor(e,n){this.length=e,this.chunk=n,this.name="copyData"}};mn.CopyDataMessage=gse;var yse=class{constructor(e,n,r,o){this.length=e,this.name=n,this.binary=r,this.columnTypes=new Array(o)}};mn.CopyResponse=yse;var bse=class{constructor(e,n,r,o,i,s,a){this.name=e,this.tableID=n,this.columnID=r,this.dataTypeID=o,this.dataTypeSize=i,this.dataTypeModifier=s,this.format=a}};mn.Field=bse;var _se=class{constructor(e,n){this.length=e,this.fieldCount=n,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};mn.RowDescriptionMessage=_se;var Sse=class{constructor(e,n){this.length=e,this.parameterCount=n,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};mn.ParameterDescriptionMessage=Sse;var vse=class{constructor(e,n,r){this.length=e,this.parameterName=n,this.parameterValue=r,this.name="parameterStatus"}};mn.ParameterStatusMessage=vse;var Ese=class{constructor(e,n){this.length=e,this.salt=n,this.name="authenticationMD5Password"}};mn.AuthenticationMD5Password=Ese;var Ase=class{constructor(e,n,r){this.length=e,this.processID=n,this.secretKey=r,this.name="backendKeyData"}};mn.BackendKeyDataMessage=Ase;var xse=class{constructor(e,n,r,o){this.length=e,this.processId=n,this.channel=r,this.payload=o,this.name="notification"}};mn.NotificationResponseMessage=xse;var wse=class{constructor(e,n){this.length=e,this.status=n,this.name="readyForQuery"}};mn.ReadyForQueryMessage=wse;var Tse=class{constructor(e,n){this.length=e,this.text=n,this.name="commandComplete"}};mn.CommandCompleteMessage=Tse;var Ise=class{constructor(e,n){this.length=e,this.fields=n,this.name="dataRow",this.fieldCount=n.length}};mn.DataRowMessage=Ise;var Rse=class{constructor(e,n){this.length=e,this.message=n,this.name="notice"}};mn.NoticeMessage=Rse});var qFe=Ge(DM=>{"use strict";Object.defineProperty(DM,"__esModule",{value:!0});DM.Writer=void 0;var Nse=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){let r=this.buffer,o=r.length+(r.length>>1)+e;this.buffer=Buffer.allocUnsafe(o),r.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{let n=Buffer.byteLength(e);this.ensure(n+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=n}return this.buffer[this.offset++]=0,this}addString(e=""){let n=Buffer.byteLength(e);return this.ensure(n),this.buffer.write(e,this.offset),this.offset+=n,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let n=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(n,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){let n=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),n}};DM.Writer=Nse});var KFe=Ge(LM=>{"use strict";Object.defineProperty(LM,"__esModule",{value:!0});LM.serialize=void 0;var Ose=qFe(),bo=new Ose.Writer,MPt=t=>{bo.addInt16(3).addInt16(0);for(let r of Object.keys(t))bo.addCString(r).addCString(t[r]);bo.addCString("client_encoding").addCString("UTF8");let e=bo.addCString("").flush(),n=e.length+4;return new Ose.Writer().addInt32(n).add(e).flush()},BPt=()=>{let t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},UPt=t=>bo.addCString(t).flush(112),$Pt=function(t,e){return bo.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),bo.flush(112)},FPt=function(t){return bo.addString(t).flush(112)},HPt=t=>bo.addCString(t).flush(81),WFe=[],GPt=t=>{let e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));let n=t.types||WFe,r=n.length,o=bo.addCString(e).addCString(t.text).addInt16(r);for(let i=0;i<r;i++)o.addInt32(n[i]);return bo.flush(80)},LA=new Ose.Writer,VPt=function(t,e){for(let n=0;n<t.length;n++){let r=e?e(t[n],n):t[n];r==null?(bo.addInt16(0),LA.addInt32(-1)):r instanceof Buffer?(bo.addInt16(1),LA.addInt32(r.length),LA.add(r)):(bo.addInt16(0),LA.addInt32(Buffer.byteLength(r)),LA.addString(r))}},zPt=(t={})=>{let e=t.portal||"",n=t.statement||"",r=t.binary||!1,o=t.values||WFe,i=o.length;return bo.addCString(e).addCString(n),bo.addInt16(i),VPt(o,t.valueMapper),bo.addInt16(i),bo.add(LA.flush()),bo.addInt16(1),bo.addInt16(r?1:0),bo.flush(66)},jPt=Buffer.from([69,0,0,0,9,0,0,0,0,0]),qPt=t=>{if(!t||!t.portal&&!t.rows)return jPt;let e=t.portal||"",n=t.rows||0,r=Buffer.byteLength(e),o=4+r+1+4,i=Buffer.allocUnsafe(1+o);return i[0]=69,i.writeInt32BE(o,1),i.write(e,5,"utf-8"),i[r+5]=0,i.writeUInt32BE(n,i.length-4),i},WPt=(t,e)=>{let n=Buffer.allocUnsafe(16);return n.writeInt32BE(16,0),n.writeInt16BE(1234,4),n.writeInt16BE(5678,6),n.writeInt32BE(t,8),n.writeInt32BE(e,12),n},Pse=(t,e)=>{let r=4+Buffer.byteLength(e)+1,o=Buffer.allocUnsafe(1+r);return o[0]=t,o.writeInt32BE(r,1),o.write(e,5,"utf-8"),o[r]=0,o},KPt=bo.addCString("P").flush(68),JPt=bo.addCString("S").flush(68),YPt=t=>t.name?Pse(68,`${t.type}${t.name||""}`):t.type==="P"?KPt:JPt,QPt=t=>{let e=`${t.type}${t.name||""}`;return Pse(67,e)},XPt=t=>bo.add(t).flush(100),ZPt=t=>Pse(102,t),kM=t=>Buffer.from([t,0,0,0,4]),e9t=kM(72),t9t=kM(83),n9t=kM(88),r9t=kM(99),o9t={startup:MPt,password:UPt,requestSsl:BPt,sendSASLInitialResponseMessage:$Pt,sendSCRAMClientFinalMessage:FPt,query:HPt,parse:GPt,bind:zPt,execute:qPt,describe:YPt,close:QPt,flush:()=>e9t,sync:()=>t9t,end:()=>n9t,copyData:XPt,copyDone:()=>r9t,copyFail:ZPt,cancel:WPt};LM.serialize=o9t});var JFe=Ge(MM=>{"use strict";Object.defineProperty(MM,"__esModule",{value:!0});MM.BufferReader=void 0;var i9t=Buffer.allocUnsafe(0),Dse=class{constructor(e=0){this.offset=e,this.buffer=i9t,this.encoding="utf-8"}setBuffer(e,n){this.offset=e,this.buffer=n}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){let n=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,n}cstring(){let e=this.offset,n=e;for(;this.buffer[n++]!==0;);return this.offset=n,this.buffer.toString(this.encoding,e,n-1)}bytes(e){let n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}};MM.BufferReader=Dse});var ZFe=Ge(BM=>{"use strict";Object.defineProperty(BM,"__esModule",{value:!0});BM.Parser=void 0;var Do=Cse(),s9t=JFe(),Lse=1,a9t=4,YFe=Lse+a9t,dl=-1,kse=Buffer.allocUnsafe(0),Mse=class{constructor(e){if(this.buffer=kse,this.bufferLength=0,this.bufferOffset=0,this.reader=new s9t.BufferReader,e?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,n){this.mergeBuffer(e);let r=this.bufferOffset+this.bufferLength,o=this.bufferOffset;for(;o+YFe<=r;){let i=this.buffer[o],s=this.buffer.readUInt32BE(o+Lse),a=Lse+s;if(a+o<=r){let c=this.handlePacket(o+YFe,i,s,this.buffer);n(c),o+=a}else break}o===r?(this.buffer=kse,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-o,this.bufferOffset=o)}mergeBuffer(e){if(this.bufferLength>0){let n=this.bufferLength+e.byteLength;if(n+this.bufferOffset>this.buffer.byteLength){let o;if(n<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)o=this.buffer;else{let i=this.buffer.byteLength*2;for(;n>=i;)i*=2;o=Buffer.allocUnsafe(i)}this.buffer.copy(o,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=o,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=n}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,n,r,o){let{reader:i}=this;i.setBuffer(e,o);let s;switch(n){case 50:s=Do.bindComplete;break;case 49:s=Do.parseComplete;break;case 51:s=Do.closeComplete;break;case 110:s=Do.noData;break;case 115:s=Do.portalSuspended;break;case 99:s=Do.copyDone;break;case 87:s=Do.replicationStart;break;case 73:s=Do.emptyQuery;break;case 68:s=y9t(i);break;case 67:s=l9t(i);break;case 90:s=c9t(i);break;case 65:s=f9t(i);break;case 82:s=S9t(i,r);break;case 83:s=b9t(i);break;case 75:s=_9t(i);break;case 69:s=QFe(i,"error");break;case 78:s=QFe(i,"notice");break;case 84:s=m9t(i);break;case 116:s=g9t(i);break;case 71:s=d9t(i);break;case 72:s=p9t(i);break;case 100:s=u9t(i,r);break;default:return new Do.DatabaseError("received invalid response: "+n.toString(16),r,"error")}return i.setBuffer(0,kse),s.length=r,s}};BM.Parser=Mse;var c9t=t=>{let e=t.string(1);return new Do.ReadyForQueryMessage(dl,e)},l9t=t=>{let e=t.cstring();return new Do.CommandCompleteMessage(dl,e)},u9t=(t,e)=>{let n=t.bytes(e-4);return new Do.CopyDataMessage(dl,n)},d9t=t=>XFe(t,"copyInResponse"),p9t=t=>XFe(t,"copyOutResponse"),XFe=(t,e)=>{let n=t.byte()!==0,r=t.int16(),o=new Do.CopyResponse(dl,e,n,r);for(let i=0;i<r;i++)o.columnTypes[i]=t.int16();return o},f9t=t=>{let e=t.int32(),n=t.cstring(),r=t.cstring();return new Do.NotificationResponseMessage(dl,e,n,r)},m9t=t=>{let e=t.int16(),n=new Do.RowDescriptionMessage(dl,e);for(let r=0;r<e;r++)n.fields[r]=h9t(t);return n},h9t=t=>{let e=t.cstring(),n=t.uint32(),r=t.int16(),o=t.uint32(),i=t.int16(),s=t.int32(),a=t.int16()===0?"text":"binary";return new Do.Field(e,n,r,o,i,s,a)},g9t=t=>{let e=t.int16(),n=new Do.ParameterDescriptionMessage(dl,e);for(let r=0;r<e;r++)n.dataTypeIDs[r]=t.int32();return n},y9t=t=>{let e=t.int16(),n=new Array(e);for(let r=0;r<e;r++){let o=t.int32();n[r]=o===-1?null:t.string(o)}return new Do.DataRowMessage(dl,n)},b9t=t=>{let e=t.cstring(),n=t.cstring();return new Do.ParameterStatusMessage(dl,e,n)},_9t=t=>{let e=t.int32(),n=t.int32();return new Do.BackendKeyDataMessage(dl,e,n)},S9t=(t,e)=>{let n=t.int32(),r={name:"authenticationOk",length:e};switch(n){case 0:break;case 3:r.length===8&&(r.name="authenticationCleartextPassword");break;case 5:if(r.length===12){r.name="authenticationMD5Password";let o=t.bytes(4);return new Do.AuthenticationMD5Password(dl,o)}break;case 10:{r.name="authenticationSASL",r.mechanisms=[];let o;do o=t.cstring(),o&&r.mechanisms.push(o);while(o)}break;case 11:r.name="authenticationSASLContinue",r.data=t.string(e-8);break;case 12:r.name="authenticationSASLFinal",r.data=t.string(e-8);break;default:throw new Error("Unknown authenticationOk message type "+n)}return r},QFe=(t,e)=>{let n={},r=t.string(1);for(;r!=="\0";)n[r]=t.cstring(),r=t.string(1);let o=n.M,i=e==="notice"?new Do.NoticeMessage(dl,o):new Do.DatabaseError(o,dl,e);return i.severity=n.S,i.code=n.C,i.detail=n.D,i.hint=n.H,i.position=n.P,i.internalPosition=n.p,i.internalQuery=n.q,i.where=n.W,i.schema=n.s,i.table=n.t,i.column=n.c,i.dataType=n.d,i.constraint=n.n,i.file=n.F,i.line=n.L,i.routine=n.R,i}});var Bse=Ge(W0=>{"use strict";Object.defineProperty(W0,"__esModule",{value:!0});W0.DatabaseError=W0.serialize=W0.parse=void 0;var v9t=Cse();Object.defineProperty(W0,"DatabaseError",{enumerable:!0,get:function(){return v9t.DatabaseError}});var E9t=KFe();Object.defineProperty(W0,"serialize",{enumerable:!0,get:function(){return E9t.serialize}});var A9t=ZFe();function x9t(t,e){let n=new A9t.Parser;return t.on("data",r=>n.parse(r,e)),new Promise(r=>t.on("end",()=>r()))}W0.parse=x9t});var eHe=Ge(Use=>{"use strict";Object.defineProperty(Use,"__esModule",{value:!0});Use.default={}});var nHe=Ge((yOr,tHe)=>{"use strict";var{getStream:w9t,getSecureStream:T9t}=N9t();tHe.exports={getStream:w9t,getSecureStream:T9t};function I9t(){function t(n){let r=_t("net");return new r.Socket}function e(n){return _t("tls").connect(n)}return{getStream:t,getSecureStream:e}}function R9t(){function t(n){let{CloudflareSocket:r}=eHe();return new r(n)}function e(n){return n.socket.startTls(n),n.socket}return{getStream:t,getSecureStream:e}}function C9t(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){let t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function N9t(){return C9t()?R9t():I9t()}});var Fse=Ge((bOr,rHe)=>{"use strict";var O9t=_t("events").EventEmitter,{parse:P9t,serialize:os}=Bse(),{getStream:D9t,getSecureStream:k9t}=nHe(),L9t=os.flush(),M9t=os.sync(),B9t=os.end(),$se=class extends O9t{constructor(e){super(),e=e||{},this.stream=e.stream||D9t(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;let n=this;this.on("newListener",function(r){r==="message"&&(n._emitMessage=!0)})}connect(e,n){let r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,n),this.stream.once("connect",function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")});let o=function(i){r._ending&&(i.code==="ECONNRESET"||i.code==="EPIPE")||r.emit("error",i)};if(this.stream.on("error",o),this.stream.on("close",function(){r.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(i){switch(i.toString("utf8")){case"S":break;case"N":return r.stream.end(),r.emit("error",new Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",new Error("There was an error establishing an SSL connection"))}let a={socket:r.stream};r.ssl!==!0&&(Object.assign(a,r.ssl),"key"in r.ssl&&(a.key=r.ssl.key));let c=_t("net");c.isIP&&c.isIP(n)===0&&(a.servername=n);try{r.stream=k9t(a)}catch(l){return r.emit("error",l)}r.attachListeners(r.stream),r.stream.on("error",o),r.emit("sslconnect")})}attachListeners(e){P9t(e,n=>{let r=n.name==="error"?"errorMessage":n.name;this._emitMessage&&this.emit("message",n),this.emit(r,n)})}requestSsl(){this.stream.write(os.requestSsl())}startup(e){this.stream.write(os.startup(e))}cancel(e,n){this._send(os.cancel(e,n))}password(e){this._send(os.password(e))}sendSASLInitialResponseMessage(e,n){this._send(os.sendSASLInitialResponseMessage(e,n))}sendSCRAMClientFinalMessage(e){this._send(os.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(os.query(e))}parse(e){this._send(os.parse(e))}bind(e){this._send(os.bind(e))}execute(e){this._send(os.execute(e))}flush(){this.stream.writable&&this.stream.write(L9t)}sync(){this._ending=!0,this._send(M9t)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(B9t,()=>{this.stream.end()})}close(e){this._send(os.close(e))}describe(e){this._send(os.describe(e))}sendCopyFromChunk(e){this._send(os.copyData(e))}endCopyFrom(){this._send(os.copyDone())}sendCopyFail(e){this._send(os.copyFail(e))}};rHe.exports=$se});var aHe=Ge((_Or,sHe)=>{"use strict";var{Transform:U9t}=_t("stream"),{StringDecoder:$9t}=_t("string_decoder"),K0=Symbol("last"),UM=Symbol("decoder");function F9t(t,e,n){let r;if(this.overflow){if(r=this[UM].write(t).split(this.matcher),r.length===1)return n();r.shift(),this.overflow=!1}else this[K0]+=this[UM].write(t),r=this[K0].split(this.matcher);this[K0]=r.pop();for(let o=0;o<r.length;o++)try{iHe(this,this.mapper(r[o]))}catch(i){return n(i)}if(this.overflow=this[K0].length>this.maxLength,this.overflow&&!this.skipOverflow){n(new Error("maximum buffer reached"));return}n()}function H9t(t){if(this[K0]+=this[UM].end(),this[K0])try{iHe(this,this.mapper(this[K0]))}catch(e){return t(e)}t()}function iHe(t,e){e!==void 0&&t.push(e)}function oHe(t){return t}function G9t(t,e,n){switch(t=t||/\r?\n/,e=e||oHe,n=n||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(n=t,t=/\r?\n/);break;case 2:typeof t=="function"?(n=e,e=t,t=/\r?\n/):typeof e=="object"&&(n=e,e=oHe)}n=Object.assign({},n),n.autoDestroy=!0,n.transform=F9t,n.flush=H9t,n.readableObjectMode=!0;let r=new U9t(n);return r[K0]="",r[UM]=new $9t("utf8"),r.matcher=t,r.mapper=e,r.maxLength=n.maxLength,r.skipOverflow=n.skipOverflow||!1,r.overflow=!1,r._destroy=function(o,i){this._writableState.errorEmitted=!1,i(o)},r}sHe.exports=G9t});var uHe=Ge((SOr,Qm)=>{"use strict";var cHe=_t("path"),V9t=_t("stream").Stream,z9t=aHe(),lHe=_t("util"),j9t=5432,$M=process.platform==="win32",N6=process.stderr,q9t=56,W9t=7,K9t=61440,J9t=32768;function Y9t(t){return(t&K9t)==J9t}var MA=["host","port","database","user","password"],Hse=MA.length,Q9t=MA[Hse-1];function Gse(){var t=N6 instanceof V9t&&N6.writable===!0;if(t){var e=Array.prototype.slice.call(arguments).concat(`
`);N6.write(lHe.format.apply(lHe,e))}}Object.defineProperty(Qm.exports,"isWin",{get:function(){return $M},set:function(t){$M=t}});Qm.exports.warnTo=function(t){var e=N6;return N6=t,e};Qm.exports.getFileName=function(t){var e=t||process.env,n=e.PGPASSFILE||($M?cHe.join(e.APPDATA||"./","postgresql","pgpass.conf"):cHe.join(e.HOME||"./",".pgpass"));return n};Qm.exports.usePgPass=function(t,e){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:$M?!0:(e=e||"<unkn>",Y9t(t.mode)?t.mode&(q9t|W9t)?(Gse('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1):!0:(Gse('WARNING: password file "%s" is not a plain file',e),!1))};var X9t=Qm.exports.match=function(t,e){return MA.slice(0,-1).reduce(function(n,r,o){return o==1&&Number(t[r]||j9t)===Number(e[r])?n&&!0:n&&(e[r]==="*"||e[r]===t[r])},!0)};Qm.exports.getPassword=function(t,e,n){var r,o=e.pipe(z9t());function i(c){var l=Z9t(c);l&&eDt(l)&&X9t(t,l)&&(r=l[Q9t],o.end())}var s=function(){e.destroy(),n(r)},a=function(c){e.destroy(),Gse("WARNING: error on reading file: %s",c),n(void 0)};e.on("error",a),o.on("data",i).on("end",s).on("error",a)};var Z9t=Qm.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",n="",r=0,o=0,i=0,s={},a=!1,c=function(u,d,p){var f=t.substring(d,p);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(f=f.replace(/\\([:\\])/g,"$1")),s[MA[u]]=f},l=0;l<t.length-1;l+=1){if(e=t.charAt(l+1),n=t.charAt(l),a=r==Hse-1,a){c(r,o);break}l>=0&&e==":"&&n!=="\\"&&(c(r,o,l+1),o=l+2,r+=1)}return s=Object.keys(s).length===Hse?s:null,s},eDt=Qm.exports.isValidEntry=function(t){for(var e={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},n=0;n<MA.length;n+=1){var r=e[n],o=t[MA[n]]||"",i=r(o);if(!i)return!1}return!0}});var pHe=Ge((EOr,Vse)=>{"use strict";var vOr=_t("path"),dHe=_t("fs"),FM=uHe();Vse.exports=function(t,e){var n=FM.getFileName();dHe.stat(n,function(r,o){if(r||!FM.usePgPass(o,n))return e(void 0);var i=dHe.createReadStream(n);FM.getPassword(t,i,e)})};Vse.exports.warnTo=FM.warnTo});var yHe=Ge((AOr,gHe)=>{"use strict";var tDt=_t("events").EventEmitter,fHe=OA(),GM=_t("util"),zse=PFe(),nDt=PM(),rDt=dse(),hHe=jFe(),oDt=R6(),iDt=Fse(),sDt=ase(),mHe=GM.deprecate(()=>{},"Client.activeQuery is deprecated and will be removed in a future version."),aDt=GM.deprecate(()=>{},"Client.queryQueue is deprecated and will be removed in a future version."),cDt=GM.deprecate(()=>{},"pgpass support is deprecated and will be removed in a future version. You can provide an async function as the password property to the Client/Pool constructor that returns a password instead. Within this funciton you can call the pgpass module in your own code."),lDt=GM.deprecate(()=>{},"Passing a custom Promise implementation to the Client/Pool constructor is deprecated and will be removed in a future version."),HM=class extends tDt{constructor(e){super(),this.connectionParameters=new rDt(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let n=e||{};n.Promise&&lDt(),this._Promise=n.Promise||global.Promise,this._types=new nDt(n.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this._activeQuery=null,this.enableChannelBinding=!!n.enableChannelBinding,this.connection=n.connection||new iDt({stream:n.stream,ssl:this.connectionParameters.ssl,keepAlive:n.keepAlive||!1,keepAliveInitialDelayMillis:n.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this._queryQueue=[],this.binary=n.binary||oDt.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=n.connectionTimeoutMillis||0}get activeQuery(){return mHe(),this._activeQuery}set activeQuery(e){mHe(),this._activeQuery=e}_getActiveQuery(){return this._activeQuery}_errorAllQueries(e){let n=o=>{process.nextTick(()=>{o.handleError(e,this.connection)})},r=this._getActiveQuery();r&&(n(r),this._activeQuery=null),this._queryQueue.forEach(n),this._queryQueue.length=0}_connect(e){let n=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let o=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(o)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){n.ssl?r.requestSsl():r.startup(n.getStartupConf())}),r.on("sslconnect",function(){r.startup(n.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let o=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(o),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(o):this._handleErrorEvent(o):this._connectionError||this._handleErrorEvent(o)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((n,r)=>{this._connect(o=>{o?r(o):n(this)})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_getPassword(e){let n=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(r=>{if(r!==void 0){if(typeof r!="string"){n.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(r=>{n.emit("error",r)});else if(this.password!==null)e();else try{pHe()(this.connectionParameters,o=>{o!==void 0&&(cDt(),this.connectionParameters.password=this.password=o),e()})}catch(r){this.emit("error",r)}}_handleAuthCleartextPassword(e){this._getPassword(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._getPassword(async()=>{try{let n=await sDt.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(n)}catch(n){this.emit("error",n)}})}_handleAuthSASL(e){this._getPassword(()=>{try{this.saslSession=zse.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(n){this.connection.emit("error",n)}})}async _handleAuthSASLContinue(e){try{await zse.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(n){this.connection.emit("error",n)}}_handleAuthSASLFinal(e){try{zse.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(n){this.connection.emit("error",n)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let n=this._getActiveQuery();this._activeQuery=null,this.readyForQuery=!0,n&&n.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let n=this._getActiveQuery();if(!n){this._handleErrorEvent(e);return}this._activeQuery=null,n.handleError(e,this.connection)}_handleRowDescription(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected rowDescription message from backend.");this._handleErrorEvent(r);return}n.handleRowDescription(e)}_handleDataRow(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected dataRow message from backend.");this._handleErrorEvent(r);return}n.handleDataRow(e)}_handlePortalSuspended(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected portalSuspended message from backend.");this._handleErrorEvent(r);return}n.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected emptyQuery message from backend.");this._handleErrorEvent(r);return}n.handleEmptyQuery(this.connection)}_handleCommandComplete(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(r);return}n.handleCommandComplete(e,this.connection)}_handleParseComplete(){let e=this._getActiveQuery();if(e==null){let n=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(n);return}e.name&&(this.connection.parsedStatements[e.name]=e.text)}_handleCopyInResponse(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected copyInResponse message from backend.");this._handleErrorEvent(r);return}n.handleCopyInResponse(this.connection)}_handleCopyData(e){let n=this._getActiveQuery();if(n==null){let r=new Error("Received unexpected copyData message from backend.");this._handleErrorEvent(r);return}n.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){let e=this.connectionParameters,n={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(n.application_name=r),e.replication&&(n.replication=""+e.replication),e.statement_timeout&&(n.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(n.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(n.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(n.options=e.options),n}cancel(e,n){if(e.activeQuery===n){let r=this.connection;this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else e._queryQueue.indexOf(n)!==-1&&e._queryQueue.splice(e._queryQueue.indexOf(n),1)}setTypeParser(e,n,r){return this._types.setTypeParser(e,n,r)}getTypeParser(e,n){return this._types.getTypeParser(e,n)}escapeIdentifier(e){return fHe.escapeIdentifier(e)}escapeLiteral(e){return fHe.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0){this._activeQuery=this._queryQueue.shift();let e=this._getActiveQuery();if(e){this.readyForQuery=!1,this.hasExecuted=!0;let n=e.submit(this.connection);n&&process.nextTick(()=>{e.handleError(n,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this._activeQuery=null,this.emit("drain"))}}query(e,n,r){let o,i,s,a,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,i=o=e,typeof n=="function"&&(o.callback=o.callback||n)):(s=e.query_timeout||this.connectionParameters.query_timeout,o=new hHe(e,n,r),o.callback||(i=new this._Promise((l,u)=>{o.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=o.callback,a=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{o.handleError(l,this.connection)}),c(l),o.callback=()=>{};let u=this._queryQueue.indexOf(o);u>-1&&this._queryQueue.splice(u,1),this._pulseQueryQueue()},s),o.callback=(l,u)=>{clearTimeout(a),c(l,u)}),this.binary&&!o.binary&&(o.binary=!0),o._result&&!o._result._types&&(o._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{o.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this._queryQueue.push(o),this._pulseQueryQueue(),i):(process.nextTick(()=>{o.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this._getActiveQuery()||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(n=>{this.connection.once("end",n)})}get queryQueue(){return aDt(),this._queryQueue}};HM.Query=hHe;gHe.exports=HM});var vHe=Ge((xOr,SHe)=>{"use strict";var uDt=_t("events").EventEmitter,bHe=function(){},_He=(t,e)=>{let n=t.findIndex(e);return n===-1?void 0:t.splice(n,1)[0]},jse=class{constructor(e,n,r){this.client=e,this.idleListener=n,this.timeoutId=r}},BA=class{constructor(e){this.callback=e}};function dDt(){throw new Error("Release called on client which has already been released to the pool.")}function VM(t,e){if(e)return{callback:e,result:void 0};let n,r,o=function(s,a){s?n(s):r(a)},i=new t(function(s,a){r=s,n=a}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:o,result:i}}function pDt(t,e){return function n(r){r.client=e,e.removeListener("error",n),e.on("error",()=>{t.log("additional client error after disconnection due to error",r)}),t._remove(e),t.emit("error",r,e)}}var qse=class extends uDt{constructor(e,n){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||n||Wse().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(n=>{this._remove(n.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let n=this._idle.pop();clearTimeout(n.timeoutId);let r=n.client;r.ref&&r.ref();let o=n.idleListener;return this._acquireClient(r,e,o,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,n){let r=_He(this._idle,i=>i.client===e);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(i=>i!==e);let o=this;e.end(()=>{o.emit("remove",e),typeof n=="function"&&n()})}connect(e){if(this.ending){let o=new Error("Cannot use a pool after calling end on the pool");return e?e(o):this.Promise.reject(o)}let n=VM(this.Promise,e),r=n.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new BA(n.callback)),r;let o=(a,c,l)=>{clearTimeout(s),n.callback(a,c,l)},i=new BA(o),s=setTimeout(()=>{_He(this._pendingQueue,a=>a.callback===o),i.timedOut=!0,n.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(i),r}return this.newClient(new BA(n.callback)),r}newClient(e){let n=new this.Client(this.options);this._clients.push(n);let r=pDt(this,n);this.log("checking client timeout");let o,i=!1;this.options.connectionTimeoutMillis&&(o=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,n.connection?n.connection.stream.destroy():n.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),n.connect(s=>{if(o&&clearTimeout(o),n.on("error",r),s)this.log("client failed to connect",s),this._clients=this._clients.filter(a=>a!==n),i&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),e.timedOut||e.callback(s,void 0,bHe);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(n),this._idle.findIndex(l=>l.client===n)!==-1&&this._acquireClient(n,new BA((l,u,d)=>d()),r,!1)},this.options.maxLifetimeSeconds*1e3);a.unref(),n.once("end",()=>clearTimeout(a))}return this._acquireClient(n,e,r,!0)}})}_acquireClient(e,n,r,o){o&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),n.timedOut?o&&this.options.verify?this.options.verify(e,e.release):e.release():o&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),n.callback(i,void 0,bHe);n.callback(void 0,e,e.release)}):n.callback(void 0,e,e.release)}_releaseOnce(e,n){let r=!1;return o=>{r&&dDt(),r=!0,this._release(e,n,o)}}_release(e,n,r){if(e.on("error",n),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let i;this.options.idleTimeoutMillis&&this._isAboveMin()&&(i=setTimeout(()=>{this._isAboveMin()&&(this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this)))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&i.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new jse(e,n,i)),this._pulseQueue()}query(e,n,r){if(typeof e=="function"){let i=VM(this.Promise,e);return setImmediate(function(){return i.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),i.result}typeof n=="function"&&(r=n,n=void 0);let o=VM(this.Promise,r);return r=o.callback,this.connect((i,s)=>{if(i)return r(i);let a=!1,c=l=>{a||(a=!0,s.release(l),r(l))};s.once("error",c),this.log("dispatching query");try{s.query(e,n,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!a)return a=!0,s.release(l),l?r(l):r(void 0,u)})}catch(l){return s.release(l),r(l)}}),o.result}end(e){if(this.log("ending"),this.ending){let r=new Error("Called end on pool more than once");return e?e(r):this.Promise.reject(r)}this.ending=!0;let n=VM(this.Promise,e);return this._endCallback=n.callback,this._pulseQueue(),n.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,n)=>e+(this._expired.has(n)?1:0),0)}get totalCount(){return this._clients.length}};SHe.exports=qse});var xHe=Ge((wOr,AHe)=>{"use strict";var EHe=_t("events").EventEmitter,fDt=_t("util"),Kse=OA(),UA=AHe.exports=function(t,e,n){EHe.call(this),t=Kse.normalizeQueryConfig(t,e,n),this.text=t.text,this.values=t.values,this.name=t.name,this.queryMode=t.queryMode,this.callback=t.callback,this.state="new",this._arrayMode=t.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(r){r==="row"&&(this._emitRowEvents=!0)}.bind(this))};fDt.inherits(UA,EHe);var mDt={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};UA.prototype.handleError=function(t){let e=this.native.pq.resultErrorFields();if(e)for(let n in e){let r=mDt[n]||n;t[r]=e[n]}this.callback?this.callback(t):this.emit("error",t),this.state="error"};UA.prototype.then=function(t,e){return this._getPromise().then(t,e)};UA.prototype.catch=function(t){return this._getPromise().catch(t)};UA.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this)),this._promise)};UA.prototype.submit=function(t){this.state="running";let e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;let n=function(r,o,i){if(t.native.arrayMode=!1,setImmediate(function(){e.emit("_done")}),r)return e.handleError(r);e._emitRowEvents&&(i.length>1?o.forEach((s,a)=>{s.forEach(c=>{e.emit("row",c,i[a])})}):o.forEach(function(s){e.emit("row",s,i)})),e.state="end",e.emit("end",i),e.callback&&e.callback(null,i)};if(process.domain&&(n=process.domain.bind(n)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let r=(this.values||[]).map(Kse.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){let o=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return n(o)}return t.native.execute(this.name,r,n)}return t.native.prepare(this.name,this.text,r.length,function(o){return o?n(o):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,r,n))})}else if(this.values){if(!Array.isArray(this.values)){let o=new Error("Query values must be an array");return n(o)}let r=this.values.map(Kse.prepareValue);t.native.query(this.text,r,n)}else this.queryMode==="extended"?t.native.query(this.text,[],n):t.native.query(this.text,n)}});var CHe=Ge((TOr,RHe)=>{"use strict";var wHe;try{wHe=_t("pg-native")}catch(t){throw t}var hDt=PM(),THe=_t("events").EventEmitter,gDt=_t("util"),yDt=dse(),IHe=xHe(),Nc=RHe.exports=function(t){THe.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new hDt(t.types),this.native=new wHe({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let e=this.connectionParameters=new yDt(t);t.nativeConnectionString&&(e.nativeConnectionString=t.nativeConnectionString),this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};Nc.Query=IHe;gDt.inherits(Nc,THe);Nc.prototype._errorAllQueries=function(t){let e=n=>{process.nextTick(()=>{n.native=this.native,n.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0};Nc.prototype._connect=function(t){let e=this;if(this._connecting){process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(n,r){if(e.connectionParameters.nativeConnectionString&&(r=e.connectionParameters.nativeConnectionString),n)return t(n);e.native.connect(r,function(o){if(o)return e.native.end(),t(o);e._connected=!0,e.native.on("error",function(i){e._queryable=!1,e._errorAllQueries(i),e.emit("error",i)}),e.native.on("notification",function(i){e.emit("notification",{channel:i.relname,payload:i.extra})}),e.emit("connect"),e._pulseQueryQueue(!0),t(null,this)})})};Nc.prototype.connect=function(t){if(t){this._connect(t);return}return new this._Promise((e,n)=>{this._connect(r=>{r?n(r):e(this)})})};Nc.prototype.query=function(t,e,n){let r,o,i,s,a;if(t==null)throw new TypeError("Client was passed a null or undefined query");if(typeof t.submit=="function")i=t.query_timeout||this.connectionParameters.query_timeout,o=r=t,typeof e=="function"&&(t.callback=e);else if(i=t.query_timeout||this.connectionParameters.query_timeout,r=new IHe(t,e,n),!r.callback){let c,l;o=new this._Promise((u,d)=>{c=u,l=d}).catch(u=>{throw Error.captureStackTrace(u),u}),r.callback=(u,d)=>u?l(u):c(d)}return i&&(a=r.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{r.handleError(c,this.connection)}),a(c),r.callback=()=>{};let l=this._queryQueue.indexOf(r);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},i),r.callback=(c,l)=>{clearTimeout(s),a(c,l)}),this._queryable?this._ending?(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"))}),o):(this._queryQueue.push(r),this._pulseQueryQueue(),o):(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"))}),o)};Nc.prototype.end=function(t){let e=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t));let n;return t||(n=new this._Promise(function(r,o){t=i=>i?o(i):r()})),this.native.end(function(){e._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{e.emit("end"),t&&t()})}),n};Nc.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};Nc.prototype._pulseQueryQueue=function(t){if(!this._connected||this._hasActiveQuery())return;let e=this._queryQueue.shift();if(!e){t||this.emit("drain");return}this._activeQuery=e,e.submit(this);let n=this;e.once("_done",function(){n._pulseQueryQueue()})};Nc.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel(function(){}):this._queryQueue.indexOf(t)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)};Nc.prototype.ref=function(){};Nc.prototype.unref=function(){};Nc.prototype.setTypeParser=function(t,e,n){return this._types.setTypeParser(t,e,n)};Nc.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}});var Jse=Ge((IOr,NHe)=>{"use strict";NHe.exports=CHe()});var Wse=Ge((COr,zM)=>{"use strict";var bDt=yHe(),_Dt=R6(),SDt=Fse(),vDt=fse(),EDt=OA(),ADt=vHe(),xDt=PM(),{DatabaseError:wDt}=Bse(),{escapeIdentifier:TDt,escapeLiteral:IDt}=OA(),RDt=t=>class extends ADt{constructor(n){super(n,t)}},OHe=function(t){this.defaults=_Dt,this.Client=t,this.Query=this.Client.Query,this.Pool=RDt(this.Client),this._pools=[],this.Connection=SDt,this.types=I6(),this.DatabaseError=wDt,this.TypeOverrides=xDt,this.escapeIdentifier=TDt,this.escapeLiteral=IDt,this.Result=vDt,this.utils=EDt},PHe=bDt,DHe=!1;try{DHe=!!process.env.NODE_PG_FORCE_NATIVE}catch{}DHe&&(PHe=Jse());zM.exports=new OHe(PHe);Object.defineProperty(zM.exports,"native",{configurable:!0,enumerable:!1,get(){let t=null;try{t=new OHe(Jse())}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}return Object.defineProperty(zM.exports,"native",{value:t}),t}})});var kHe={};kn(kHe,{Client:()=>CDt,Connection:()=>ODt,DatabaseError:()=>kDt,Pool:()=>NDt,Query:()=>DDt,Result:()=>BDt,TypeOverrides:()=>UDt,default:()=>__,defaults:()=>$Dt,escapeIdentifier:()=>LDt,escapeLiteral:()=>MDt,types:()=>PDt});var pl,CDt,NDt,ODt,PDt,DDt,kDt,LDt,MDt,BDt,UDt,$Dt,__,jM=b(()=>{"use strict";pl=ho(Wse(),1),CDt=pl.default.Client,NDt=pl.default.Pool,ODt=pl.default.Connection,PDt=pl.default.types,DDt=pl.default.Query,kDt=pl.default.DatabaseError,LDt=pl.default.escapeIdentifier,MDt=pl.default.escapeLiteral,BDt=pl.default.Result,UDt=pl.default.TypeOverrides,$Dt=pl.default.defaults,__=pl.default});var FDt,pf,qM,O6,WM,Yse=b(()=>{"use strict";jM();Hie();st();f6();Un();dM();zo();Vm();wr();({Pool:FDt,types:pf}=__),qM=class extends vA{constructor(e,n,r,o,i,s,a,c,l,u,d){super({sql:n,params:r},i,s,a),this.client=e,this.queryString=n,this.params=r,this.logger=o,this.fields=c,this._isResponseInArrayMode=u,this.customResultMapper=d,this.rawQueryConfig={name:l,text:n,types:{getTypeParser:(p,f)=>p===pf.builtins.TIMESTAMPTZ?h=>h:p===pf.builtins.TIMESTAMP?h=>h:p===pf.builtins.DATE?h=>h:p===pf.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:pf.getTypeParser(p,f)}},this.queryConfig={name:l,text:n,rowMode:"array",types:{getTypeParser:(p,f)=>p===pf.builtins.TIMESTAMPTZ?h=>h:p===pf.builtins.TIMESTAMP?h=>h:p===pf.builtins.DATE?h=>h:p===pf.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:pf.getTypeParser(p,f)}}}static[ee]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return Vr.startActiveSpan("drizzle.execute",async()=>{let n=u_(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,n);let{fields:r,rawQueryConfig:o,client:i,queryConfig:s,joinsNotNullableMap:a,customResultMapper:c}=this;if(!r&&!c)return Vr.startActiveSpan("drizzle.driver.execute",async u=>(u?.setAttributes({"drizzle.query.name":o.name,"drizzle.query.text":o.text,"drizzle.query.params":JSON.stringify(n)}),this.queryWithCache(o.text,n,async()=>await i.query(o,n))));let l=await Vr.startActiveSpan("drizzle.driver.execute",u=>(u?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(n)}),this.queryWithCache(s.text,n,async()=>await i.query(s,n))));return Vr.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(u=>$7(r,u,a)))})}all(e={}){return Vr.startActiveSpan("drizzle.execute",()=>{let n=u_(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,n),Vr.startActiveSpan("drizzle.driver.execute",r=>(r?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(n)}),this.queryWithCache(this.rawQueryConfig.text,n,async()=>this.client.query(this.rawQueryConfig,n)).then(o=>o.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},O6=class t extends EA{constructor(e,n,r,o={}){super(n),this.client=e,this.schema=r,this.options=o,this.logger=o.logger??new wA,this.cache=o.cache??new j0}static[ee]="NodePgSession";logger;cache;prepareQuery(e,n,r,o,i,s,a){return new qM(this.client,e.sql,e.params,this.logger,this.cache,s,a,n,r,o,i)}async transaction(e,n){let r=this.client instanceof FDt||Object.getPrototypeOf(this.client).constructor.name.includes("Pool"),o=r?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,i=new WM(this.dialect,o,this.schema);await i.execute(ne`begin${n?ne` ${i.getTransactionConfigSQL(n)}`:void 0}`);try{let s=await e(i);return await i.execute(ne`commit`),s}catch(s){throw await i.execute(ne`rollback`),s}finally{r&&o.client.release()}}async count(e){let n=await this.execute(e);return Number(n.rows[0].count)}},WM=class t extends AA{static[ee]="NodePgTransaction";async transaction(e){let n=`sp${this.nestedIndex+1}`,r=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await r.execute(ne.raw(`savepoint ${n}`));try{let o=await e(r);return await r.execute(ne.raw(`release savepoint ${n}`)),o}catch(o){throw await r.execute(ne.raw(`rollback to savepoint ${n}`)),o}}}});function P6(t,e={}){let n=new df({casing:e.casing}),r;e.logger===!0?r=new xA:e.logger!==!1&&(r=e.logger);let o;if(e.schema){let c=Q7(e.schema,X7);o={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new KM(t,n,{logger:r,cache:e.cache}).createSession(o),a=new JM(n,s,o);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function Qse(...t){if(typeof t[0]=="string"){let e=new __.Pool({connectionString:t[0]});return P6(e,t[1])}if(H7(t[0])){let{connection:e,client:n,...r}=t[0];if(n)return P6(n,r);let o=typeof e=="string"?new __.Pool({connectionString:e}):new __.Pool(e);return P6(o,r)}return P6(t[0],t[1])}var KM,JM,LHe=b(()=>{"use strict";jM();st();f6();d6();i6();o6();wr();Yse();KM=class{constructor(e,n,r={}){this.client=e,this.dialect=n,this.options=r}static[ee]="NodePgDriver";createSession(e){return new O6(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}},JM=class extends z0{static[ee]="NodePgDatabase"};(t=>{function e(n){return P6({},n)}t.mock=e})(Qse||(Qse={}))});var MHe={};kn(MHe,{NodePgDatabase:()=>JM,NodePgDriver:()=>KM,NodePgPreparedQuery:()=>qM,NodePgSession:()=>O6,NodePgTransaction:()=>WM,drizzle:()=>Qse});var BHe=b(()=>{"use strict";LHe();Yse()});function Ke(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}function VDt(t){if(t.length<2)return 0;let e=Ke(t),n=t.map(o=>Math.pow(o-e,2)),r=Ke(n);return Math.sqrt(r)}function Xse(t){return VDt(t)}function Lt(t,e,n){return Math.min(Math.max(t,e),n)}function Zse(t,e){let n=Math.pow(10,e);return Math.round(t*n)/n}function re(t){return Zse(t,2)}function ye(t){return Zse(t,3)}function $A(t){return Zse(t,4)}function vn(t){return t.trim().split(/\s+/).filter(e=>e.length>0).length}function uo(t,e=0){return t.split(/[.!?]+\s+|[.!?]+$/).map(n=>n.trim()).filter(n=>n.length>=e)}function GHe(t,e,n){if(t.length!==0)return typeof e!="function"&&n?t.reduce((r,o)=>{let i=r[e],s=o[e];return n(s,i)<0?o:r}):typeof e=="function"?t.reduce((r,o)=>e(o)<e(r)?o:r):t.reduce((r,o)=>o[e]<r[e]?o:r)}function ue(t,e){let n=0;for(let r of t)e(r)&&n++;return n}function YM(t,e){return t.reduce((n,r)=>{let o=r[e];return n+(typeof o=="number"?o:0)},0)}function fl(t,e){return t.length===0?0:YM(t,e)/t.length}function VHe(t){return Ke(t)}function QM(t,e){return Array.isArray(t)&&Array.isArray(e)?t.reduce((n,r,o)=>n+r*(e[o]??0),0):Object.keys(t).reduce((n,r)=>n+(t[r]??0)*(e[r]??0),0)}function ka(t,e,n){return t.length===0?0:t.reduce((r,o)=>{let i=Number(o[e])||0,s=Number(o[n])||0;return r+i*s},0)}function zHe(t){if(t.length===0)return 0;let e=0;for(let n of t){let r=Math.abs(n);r>e&&(e=r)}return e}function jHe(t,e){return[...t].sort((n,r)=>{let o=n[e],i=r[e];return typeof o=="number"&&typeof i=="number"?i-o:0})}function S_(t){return Object.entries(t).sort((e,n)=>n[1]-e[1])}function k6(t){let e=Object.entries(t);if(e.length===0)return;let n=e[0][0],r=e[0][1];for(let[o,i]of e)i>r&&(n=o,r=i);return n}function eae(t,e){if(t.length!==e.length||t.length===0)return 0;let n=0,r=0,o=0;for(let s=0;s<t.length;s++)n+=t[s]*e[s],r+=t[s]*t[s],o+=e[s]*e[s];let i=Math.sqrt(r)*Math.sqrt(o);return i===0?0:n/i}function FA(t,e=0){let n=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","will","with"]);return t.toLowerCase().split(/\s+/).filter(r=>r.length>=e&&!n.has(r))}var mt=b(()=>{"use strict"});function Ue(t){return t instanceof Error?t.message:String(t)}var _o=b(()=>{"use strict"});function gf(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"")}var eh,cB,uae=b(()=>{"use strict";eh=(t,e)=>{let n=/^[0-9A-Fa-f]+$/;if(!t||t.length%2!=0||!n.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);let r=new Uint8Array(t.match(/../g).map(i=>parseInt(i,16)));if(!e)return r;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let o=new Uint8Array(e);return o.set(r,e-r.length),o},cB=(t,e)=>{let n=e-t.length;if(n>0){let r=new Uint8Array(n).fill(0);return new Uint8Array([...r,...t])}if(n<0){let r=n*-1,o=0;for(let i=0;i<r&&i<t.length;i++)t[i]===0&&o++;if(o!==r)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${r}. Found: ${o}.`);return t.slice(r,r+e)}return t}});function VA(t){let e=lLt(t);return vGe(e)}function dae(t,e){let n=t.padStart(Math.ceil(t.length/2)*2,"0"),r=eh(n,e);return VA(r.reduce((o,i)=>o+String.fromCharCode(i),""))}function vGe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function lLt(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let n="";for(e=0;e<t.length;e+=3){let r=[void 0,void 0,void 0,void 0];r[0]=t.charCodeAt(e)>>2,r[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(r[1]|=t.charCodeAt(e+1)>>4,r[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(r[2]|=t.charCodeAt(e+2)>>6,r[3]=t.charCodeAt(e+2)&63);for(let o=0;o<r.length;o++)typeof r[o]>"u"?n+="=":n+=uLt(r[o])}return n}function uLt(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t>=0&&t<64)return e[t]}var EGe=b(()=>{"use strict";uae()});var AGe=b(()=>{"use strict"});function dLt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}let n=t.length,r=t.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,p=0,f=l.length;for(;p!==f&&l[p]===0;)p++,u++;let h=(f-p)*i+1>>>0,m=new Uint8Array(h);for(;p!==f;){let S=l[p],v=0;for(let A=h-1;(S!==0||v<d)&&A!==-1;A--,v++)S+=256*m[A]>>>0,m[A]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");d=v,p++}let g=h-d;for(;g!==h&&m[g]===0;)g++;let y=r.repeat(u);for(;g<h;++g)y+=t.charAt(m[g]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,p=0;for(;l[u]===r;)d++,u++;let f=(l.length-u)*o+1>>>0,h=new Uint8Array(f);for(;u<l.length;){let S=l.charCodeAt(u);if(S>255)return;let v=e[S];if(v===255)return;let A=0;for(let w=f-1;(v!==0||A<p)&&w!==-1;w--,A++)v+=n*h[w]>>>0,h[w]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");p=A,u++}let m=f-p;for(;m!==f&&h[m]===0;)m++;let g=new Uint8Array(d+(f-m)),y=d;for(;m!==f;)g[y++]=h[m++];return g}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var xGe,wGe=b(()=>{"use strict";xGe=dLt});var pae={};kn(pae,{default:()=>v_});var pLt,v_,lB=b(()=>{"use strict";wGe();pLt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",v_=xGe(pLt)});function fLt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var TGe,IGe=b(()=>{"use strict";lB();TGe=fLt(pae)});import*as th from"node:crypto";var E_,RGe=b(()=>{"use strict";E_=th&&typeof th=="object"&&"webcrypto"in th?th.webcrypto:th&&typeof th=="object"&&"randomBytes"in th?th:void 0});function rh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Z0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ws(t,...e){if(!rh(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Z0(t.outputLen),Z0(t.blockLen)}function oh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function dB(t,e){ws(t);let n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function NGe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function pB(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Jd(t,e){return t<<32-e|t>>>e}function hLt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function gLt(t){for(let e=0;e<t.length;e++)t[e]=hLt(t[e]);return t}function Vu(t){if(ws(t),OGe)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=yLt[t[n]];return e}function CGe(t){if(t>=nh._0&&t<=nh._9)return t-nh._0;if(t>=nh.A&&t<=nh.F)return t-(nh.A-10);if(t>=nh.a&&t<=nh.f)return t-(nh.a-10)}function A_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(OGe)return Uint8Array.fromHex(t);let e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){let s=CGe(t.charCodeAt(i)),a=CGe(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[o]=s*16+a}return r}function mae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function x_(t){return typeof t=="string"&&(t=mae(t)),ws(t),t}function La(...t){let e=0;for(let r=0;r<t.length;r++){let o=t[r];ws(o),e+=o.length}let n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){let i=t[r];n.set(i,o),o+=i.length}return n}function zA(t){let e=r=>t().update(x_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jA(t=32){if(E_&&typeof E_.getRandomValues=="function")return E_.getRandomValues(new Uint8Array(t));if(E_&&typeof E_.randomBytes=="function")return Uint8Array.from(E_.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var mLt,fae,OGe,yLt,nh,e1,ih=b(()=>{"use strict";RGe();mLt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;fae=mLt?t=>t:gLt,OGe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yLt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));nh={_0:48,_9:57,A:65,F:70,a:97,f:102};e1=class{}});function bLt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}function PGe(t,e,n){return t&e^~t&n}function DGe(t,e,n){return t&e^t&n^e&n}var M6,sh,Ts,Is,kGe=b(()=>{"use strict";ih();M6=class extends e1{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=pB(this.buffer)}update(e){oh(this),e=x_(e),ws(e);let{view:n,buffer:r,blockLen:o}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=pB(e);for(;o<=i-s;s+=o)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oh(this),dB(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:i}=this,{pos:s}=this;n[s++]=128,Gu(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let d=s;d<o;d++)n[d]=0;bLt(r,o-8,BigInt(this.length*8),i),this.process(r,0);let a=pB(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=o,e.pos=a,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}},sh=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Is=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function _Lt(t,e=!1){return e?{h:Number(t&fB),l:Number(t>>LGe&fB)}:{h:Number(t>>LGe&fB)|0,l:Number(t&fB)|0}}function mB(t,e=!1){let n=t.length,r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){let{h:s,l:a}=_Lt(t[i],e);[r[i],o[i]]=[s,a]}return[r,o]}function yf(t,e,n,r){let o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}var fB,LGe,hae,gae,w_,T_,B6,U6,MGe,BGe,UGe,$Ge,FGe,HGe,GGe,VGe,zGe,jGe,yae=b(()=>{"use strict";fB=BigInt(4294967295),LGe=BigInt(32);hae=(t,e,n)=>t>>>n,gae=(t,e,n)=>t<<32-n|e>>>n,w_=(t,e,n)=>t>>>n|e<<32-n,T_=(t,e,n)=>t<<32-n|e>>>n,B6=(t,e,n)=>t<<64-n|e>>>n-32,U6=(t,e,n)=>t>>>n-32|e<<64-n,MGe=(t,e,n)=>t<<n|e>>>32-n,BGe=(t,e,n)=>e<<n|t>>>32-n,UGe=(t,e,n)=>e<<n-32|t>>>64-n,$Ge=(t,e,n)=>t<<n-32|e>>>64-n;FGe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),HGe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,GGe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VGe=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,zGe=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),jGe=(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0});var vLt,t1,hB,qGe,ELt,ALt,n1,r1,gB,bae,qA,yB,WGe,$6=b(()=>{"use strict";kGe();yae();ih();vLt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t1=new Uint32Array(64),hB=class extends M6{constructor(e=32){super(64,e,8,!1),this.A=sh[0]|0,this.B=sh[1]|0,this.C=sh[2]|0,this.D=sh[3]|0,this.E=sh[4]|0,this.F=sh[5]|0,this.G=sh[6]|0,this.H=sh[7]|0}get(){let{A:e,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return[e,n,r,o,i,s,a,c]}set(e,n,r,o,i,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)t1[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){let p=t1[d-15],f=t1[d-2],h=Jd(p,7)^Jd(p,18)^p>>>3,m=Jd(f,17)^Jd(f,19)^f>>>10;t1[d]=m+t1[d-7]+h+t1[d-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=Jd(a,6)^Jd(a,11)^Jd(a,25),f=u+p+PGe(a,c,l)+vLt[d]+t1[d]|0,m=(Jd(r,2)^Jd(r,13)^Jd(r,22))+DGe(r,o,i)|0;u=l,l=c,c=a,a=s+f|0,s=i,i=o,o=r,r=f+m|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,i,s,a,c,l,u)}roundClean(){Gu(t1)}destroy(){this.set(0,0,0,0,0,0,0,0),Gu(this.buffer)}},qGe=mB(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ELt=qGe[0],ALt=qGe[1],n1=new Uint32Array(80),r1=new Uint32Array(80),gB=class extends M6{constructor(e=64){super(128,e,16,!1),this.Ah=Is[0]|0,this.Al=Is[1]|0,this.Bh=Is[2]|0,this.Bl=Is[3]|0,this.Ch=Is[4]|0,this.Cl=Is[5]|0,this.Dh=Is[6]|0,this.Dl=Is[7]|0,this.Eh=Is[8]|0,this.El=Is[9]|0,this.Fh=Is[10]|0,this.Fl=Is[11]|0,this.Gh=Is[12]|0,this.Gl=Is[13]|0,this.Hh=Is[14]|0,this.Hl=Is[15]|0}get(){let{Ah:e,Al:n,Bh:r,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:m,Hl:g}=this;return[e,n,r,o,i,s,a,c,l,u,d,p,f,h,m,g]}set(e,n,r,o,i,s,a,c,l,u,d,p,f,h,m,g){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,n){for(let v=0;v<16;v++,n+=4)n1[v]=e.getUint32(n),r1[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){let A=n1[v-15]|0,w=r1[v-15]|0,I=w_(A,w,1)^w_(A,w,8)^hae(A,w,7),D=T_(A,w,1)^T_(A,w,8)^gae(A,w,7),k=n1[v-2]|0,O=r1[v-2]|0,U=w_(k,O,19)^B6(k,O,61)^hae(k,O,6),G=T_(k,O,19)^U6(k,O,61)^gae(k,O,6),J=GGe(D,G,r1[v-7],r1[v-16]),C=VGe(J,I,U,n1[v-7],n1[v-16]);n1[v]=C|0,r1[v]=J|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:m,Gl:g,Hh:y,Hl:S}=this;for(let v=0;v<80;v++){let A=w_(d,p,14)^w_(d,p,18)^B6(d,p,41),w=T_(d,p,14)^T_(d,p,18)^U6(d,p,41),I=d&f^~d&m,D=p&h^~p&g,k=zGe(S,w,D,ALt[v],r1[v]),O=jGe(k,y,A,I,ELt[v],n1[v]),U=k|0,G=w_(r,o,28)^B6(r,o,34)^B6(r,o,39),J=T_(r,o,28)^U6(r,o,34)^U6(r,o,39),C=r&i^r&a^i&a,_=o&s^o&c^s&c;y=m|0,S=g|0,m=f|0,g=h|0,f=d|0,h=p|0,{h:d,l:p}=yf(l|0,u|0,O|0,U|0),l=a|0,u=c|0,a=i|0,c=s|0,i=r|0,s=o|0;let E=FGe(U,J,_);r=HGe(E,O,G,C),o=E|0}({h:r,l:o}=yf(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=yf(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=yf(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=yf(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=yf(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=yf(this.Fh|0,this.Fl|0,f|0,h|0),{h:m,l:g}=yf(this.Gh|0,this.Gl|0,m|0,g|0),{h:y,l:S}=yf(this.Hh|0,this.Hl|0,y|0,S|0),this.set(r,o,i,s,a,c,l,u,d,p,f,h,m,g,y,S)}roundClean(){Gu(n1,r1)}destroy(){Gu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},bae=class extends gB{constructor(){super(48),this.Ah=Ts[0]|0,this.Al=Ts[1]|0,this.Bh=Ts[2]|0,this.Bl=Ts[3]|0,this.Ch=Ts[4]|0,this.Cl=Ts[5]|0,this.Dh=Ts[6]|0,this.Dl=Ts[7]|0,this.Eh=Ts[8]|0,this.El=Ts[9]|0,this.Fh=Ts[10]|0,this.Fl=Ts[11]|0,this.Gh=Ts[12]|0,this.Gl=Ts[13]|0,this.Hh=Ts[14]|0,this.Hl=Ts[15]|0}},qA=zA(()=>new hB),yB=zA(()=>new gB),WGe=zA(()=>new bae)});var WA,_ae=b(()=>{"use strict";$6();WA=qA});function KGe(t){function e(i){var s=Uint8Array.from(i),a=t(s),c=s.length+4,l=new Uint8Array(c);return l.set(s,0),l.set(a.subarray(0,4),s.length),v_.encode(l)}function n(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function r(i){var s=v_.decodeUnsafe(i);if(s!=null)return n(s)}function o(i){var s=v_.decode(i),a=n(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:r}}var JGe=b(()=>{"use strict";lB()});var Sae={};kn(Sae,{default:()=>wLt});function xLt(t){return WA(WA(t))}var wLt,YGe=b(()=>{"use strict";_ae();JGe();wLt=KGe(xLt)});function TLt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var QGe,XGe=b(()=>{"use strict";YGe();QGe=TLt(Sae)});var ZGe,bf=b(()=>{"use strict";EGe();AGe();uae();IGe();XGe();ZGe=32});var bB,vae,eVe=b(()=>{"use strict";ih();bB=class extends e1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,uB(e);let r=x_(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Gu(i)}update(e){return oh(this),this.iHash.update(e),this}digestInto(e){oh(this),ws(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},vae=(t,e,n)=>new bB(t,e).update(n).digest();vae.create=(t,e)=>new bB(t,e)});var KA,_B=b(()=>{"use strict";KA=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]});var tVe,nVe,Eae=b(()=>{"use strict";tVe=(function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+e);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(e,n){var r=n.substring(1),o=parseInt(r)/8;this.resize_if_necessary(o);var i=n[0]==="f"?"setFloat".concat(r):n[0]==="i"?"setInt".concat(r):"setUint".concat(r);this.view[i](this.offset,e,!0),this.offset+=o},t.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},t})(),nVe=(function(){function t(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(e){var n=e.substring(1),r=parseInt(n)/8;this.assert_enough_buffer(r);var o=e[0]==="f"?"getFloat".concat(n):e[0]==="i"?"getInt".concat(n):"getUint".concat(n),i=this.view[o](this.offset,!0);return this.offset+=r,i},t.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n},t})()});function rVe(t){return Array.isArray(t)||!!t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}function I_(t,e,n){if(typeof t!==e)throw new Error("Expected ".concat(e," not ").concat(typeof t,"(").concat(t,") at ").concat(n.join(".")))}function oVe(t,e){var n=["number","string","bigint","boolean"].includes(typeof t),r=typeof t=="object"&&t!==null&&"toString"in t;if(!n&&!r)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}function Aae(t,e,n){if(t!==e)throw new Error("Array length ".concat(t," does not match schema length ").concat(e," at ").concat(n.join(".")))}function iVe(t,e){if(typeof t!="object"||t===null)throw new Error("Expected object not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}var RLt,d8r,p8r,xae=b(()=>{"use strict";_B();RLt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();d8r=KA.concat(["bool","string"]),p8r=(function(t){RLt(e,t);function e(n,r){var o="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(r);return t.call(this,o)||this}return e})(Error)});var CLt,aVe=b(()=>{"use strict";_B();Eae();xae();CLt=(function(){function t(e){this.encoded=new tVe,this.fieldPath=["value"],this.checkTypes=e}return t.prototype.encode=function(e,n){return this.encode_value(e,n),this.encoded.get_used_buffer()},t.prototype.encode_value=function(e,n){if(typeof n=="string"){if(KA.includes(n))return this.encode_integer(e,n);if(n==="string")return this.encode_string(e);if(n==="bool")return this.encode_boolean(e)}if(typeof n=="object"){if("option"in n)return this.encode_option(e,n);if("enum"in n)return this.encode_enum(e,n);if("array"in n)return this.encode_array(e,n);if("set"in n)return this.encode_set(e,n);if("map"in n)return this.encode_map(e,n);if("struct"in n)return this.encode_struct(e,n)}},t.prototype.encode_integer=function(e,n){var r=parseInt(n.substring(1));r<=32||n=="f64"?(this.checkTypes&&I_(e,"number",this.fieldPath),this.encoded.store_value(e,n)):(this.checkTypes&&oVe(e,this.fieldPath),this.encode_bigint(BigInt(e),r))},t.prototype.encode_bigint=function(e,n){for(var r=n/8,o=new Uint8Array(r),i=0;i<r;i++)o[i]=Number(e&BigInt(255)),e=e>>BigInt(8);this.encoded.store_bytes(new Uint8Array(o))},t.prototype.encode_string=function(e){this.checkTypes&&I_(e,"string",this.fieldPath);for(var n=e,r=[],o=0;o<n.length;o++){var i=n.charCodeAt(o);i<128?r.push(i):i<2048?r.push(192|i>>6,128|i&63):i<55296||i>=57344?r.push(224|i>>12,128|i>>6&63,128|i&63):(o++,i=65536+((i&1023)<<10|n.charCodeAt(o)&1023),r.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63))}this.encoded.store_value(r.length,"u32"),this.encoded.store_bytes(new Uint8Array(r))},t.prototype.encode_boolean=function(e){this.checkTypes&&I_(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},t.prototype.encode_option=function(e,n){e==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,n.option))},t.prototype.encode_enum=function(e,n){this.checkTypes&&iVe(e,this.fieldPath);for(var r=Object.keys(e)[0],o=0;o<n.enum.length;o++){var i=n.enum[o];if(r===Object.keys(i.struct)[0])return this.encoded.store_value(o,"u8"),this.encode_struct(e,i)}throw new Error("Enum key (".concat(r,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},t.prototype.encode_array=function(e,n){if(rVe(e))return this.encode_arraylike(e,n);if(e instanceof ArrayBuffer)return this.encode_buffer(e,n);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},t.prototype.encode_arraylike=function(e,n){n.array.len?Aae(e.length,n.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var r=0;r<e.length;r++)this.encode_value(e[r],n.array.type)},t.prototype.encode_buffer=function(e,n){n.array.len?Aae(e.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},t.prototype.encode_set=function(e,n){this.checkTypes&&I_(e,"object",this.fieldPath);var r=e instanceof Set,o=r?Array.from(e.values()):Object.values(e);this.encoded.store_value(o.length,"u32");for(var i=0,s=o;i<s.length;i++){var a=s[i];this.encode_value(a,n.set)}},t.prototype.encode_map=function(e,n){this.checkTypes&&I_(e,"object",this.fieldPath);var r=e instanceof Map,o=r?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(o.length,"u32");for(var i=0,s=o;i<s.length;i++){var a=s[i];this.encode_value(a,n.map.key),this.encode_value(r?e.get(a):e[a],n.map.value)}},t.prototype.encode_struct=function(e,n){this.checkTypes&&I_(e,"object",this.fieldPath);for(var r=0,o=Object.keys(n.struct);r<o.length;r++){var i=o[r];this.fieldPath.push(i),this.encode_value(e[i],n.struct[i]),this.fieldPath.pop()}},t})()});var NLt,cVe=b(()=>{"use strict";_B();Eae();NLt=(function(){function t(e){this.buffer=new nVe(e)}return t.prototype.decode=function(e){return this.decode_value(e)},t.prototype.decode_value=function(e){if(typeof e=="string"){if(KA.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},t.prototype.decode_integer=function(e){var n=parseInt(e.substring(1));return n<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(n,e.startsWith("i"))},t.prototype.decode_bigint=function(e,n){n===void 0&&(n=!1);var r=e/8,o=new Uint8Array(this.buffer.consume_bytes(r)),i=o.reduceRight(function(s,a){return s+a.toString(16).padStart(2,"0")},"");return n&&o[r-1]?BigInt.asIntN(e,BigInt("0x".concat(i))):BigInt("0x".concat(i))},t.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(e)),r=[],o=0;o<e;++o){var i=n[o];if(i<128)r.push(i);else if(i<224)r.push((i&31)<<6|n[++o]&63);else if(i<240)r.push((i&15)<<12|(n[++o]&63)<<6|n[++o]&63);else{var s=(i&7)<<18|(n[++o]&63)<<12|(n[++o]&63)<<6|n[++o]&63;r.push(s)}}return String.fromCodePoint.apply(String,r)},t.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},t.prototype.decode_option=function(e){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(e.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},t.prototype.decode_enum=function(e){var n,r=this.buffer.consume_value("u8");if(r>e.enum.length)throw new Error("Enum option ".concat(r," is not available"));var o=e.enum[r].struct,i=Object.keys(o)[0];return n={},n[i]=this.decode_value(o[i]),n},t.prototype.decode_array=function(e){for(var n=[],r=e.array.len?e.array.len:this.decode_integer("u32"),o=0;o<r;++o)n.push(this.decode_value(e.array.type));return n},t.prototype.decode_set=function(e){for(var n=this.decode_integer("u32"),r=new Set,o=0;o<n;++o)r.add(this.decode_value(e.set));return r},t.prototype.decode_map=function(e){for(var n=this.decode_integer("u32"),r=new Map,o=0;o<n;++o){var i=this.decode_value(e.map.key),s=this.decode_value(e.map.value);r.set(i,s)}return r},t.prototype.decode_struct=function(e){var n={};for(var r in e.struct)n[r]=this.decode_value(e.struct[r]);return n},t})()});var lVe=b(()=>{"use strict";aVe();cVe();xae()});var uVe=b(()=>{"use strict"});var PLt,DLt,kLt,LLt,MLt,BLt,ULt,$Lt,FLt,SB=b(()=>{"use strict";PLt=new Uint8Array([75,69,77,0,16]),DLt=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),kLt=new Uint8Array([72,80,75,69,45,118,49]),LLt=new Uint8Array([115,101,99,114,101,116]),MLt=new Uint8Array([101,97,101,95,112,114,107]),BLt=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),ULt=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),$Lt=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),FLt=new Uint8Array([113,111,115,95,101,110,99,114,121,112,116,105,111,110,95,104,109,97,99,95,109,101,115,115,97,103,101])});var vB,wae=b(()=>{"use strict";lVe();bf();uVe();SB();vB=t=>{let e=eh(t);if(e.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(e[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let n=1,r=e[n];if(r<=127){if(e.length<2+r)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");n+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(e[n]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");n++;let o=e[n];if(o>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");n++;let i=e.slice(n,n+o);if(n+=o,e[n]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");n++;let s=e[n];if(s>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");n++;let a=e.slice(n,n+s),c=cB(i,32),l=cB(a,32);return new Uint8Array([...c,...l])}});var Tae,dVe=b(()=>{"use strict";bf();SB();wae();(function(t){t.NOTARIZER="notarizer",t.SIGNER="signer",t.EVM_PARSER="evm-parser",t.TLS_FETCHER="tls-fetcher",t.UMP="ump"})(Tae||(Tae={}))});var fVe=Ge((pVe,EB)=>{"use strict";(function(t,e){"use strict";var n=Math.pow(2,-24),r=Math.pow(2,32),o=Math.pow(2,53);function i(c){var l=new ArrayBuffer(256),u=new DataView(l),d,p=0;function f(U){for(var G=l.byteLength,J=p+U;G<J;)G*=2;if(G!==l.byteLength){var C=u;l=new ArrayBuffer(G),u=new DataView(l);for(var _=p+3>>2,E=0;E<_;++E)u.setUint32(E*4,C.getUint32(E*4))}return d=U,u}function h(){p+=d}function m(U){h(f(8).setFloat64(p,U))}function g(U){h(f(1).setUint8(p,U))}function y(U){for(var G=f(U.length),J=0;J<U.length;++J)G.setUint8(p+J,U[J]);h()}function S(U){h(f(2).setUint16(p,U))}function v(U){h(f(4).setUint32(p,U))}function A(U){var G=U%r,J=(U-G)/r,C=f(8);C.setUint32(p,J),C.setUint32(p+4,G),h()}function w(U,G){G<24?g(U<<5|G):G<256?(g(U<<5|24),g(G)):G<65536?(g(U<<5|25),S(G)):G<4294967296?(g(U<<5|26),v(G)):(g(U<<5|27),A(G))}function I(U){var G;if(U===!1)return g(244);if(U===!0)return g(245);if(U===null)return g(246);if(U===e)return g(247);switch(typeof U){case"number":if(Math.floor(U)===U){if(0<=U&&U<=o)return w(0,U);if(-o<=U&&U<0)return w(1,-(U+1))}return g(251),m(U);case"string":var J=[];for(G=0;G<U.length;++G){var C=U.charCodeAt(G);C<128?J.push(C):C<2048?(J.push(192|C>>6),J.push(128|C&63)):C<55296?(J.push(224|C>>12),J.push(128|C>>6&63),J.push(128|C&63)):(C=(C&1023)<<10,C|=U.charCodeAt(++G)&1023,C+=65536,J.push(240|C>>18),J.push(128|C>>12&63),J.push(128|C>>6&63),J.push(128|C&63))}return w(3,J.length),y(J);default:var _;if(Array.isArray(U))for(_=U.length,w(4,_),G=0;G<_;++G)I(U[G]);else if(U instanceof Uint8Array)w(2,U.length),y(U);else{var E=Object.keys(U);for(_=E.length,w(5,_),G=0;G<_;++G){var R=E[G];I(R),I(U[R])}}}}if(I(c),"slice"in l)return l.slice(0,p);for(var D=new ArrayBuffer(p),k=new DataView(D),O=0;O<p;++O)k.setUint8(O,u.getUint8(O));return D}function s(c,l,u){var d=new DataView(c),p=0;typeof l!="function"&&(l=function(J){return J}),typeof u!="function"&&(u=function(){return e});function f(J,C){return p+=C,J}function h(J){return f(new Uint8Array(c,p,J),J)}function m(){var J=new ArrayBuffer(4),C=new DataView(J),_=v(),E=_&32768,R=_&31744,M=_&1023;if(R===31744)R=261120;else if(R!==0)R+=114688;else if(M!==0)return M*n;return C.setUint32(0,E<<16|R<<13|M<<13),C.getFloat32(0)}function g(){return f(d.getFloat32(p),4)}function y(){return f(d.getFloat64(p),8)}function S(){return f(d.getUint8(p),1)}function v(){return f(d.getUint16(p),2)}function A(){return f(d.getUint32(p),4)}function w(){return A()*r+A()}function I(){return d.getUint8(p)!==255?!1:(p+=1,!0)}function D(J){if(J<24)return J;if(J===24)return S();if(J===25)return v();if(J===26)return A();if(J===27)return w();if(J===31)return-1;throw"Invalid length encoding"}function k(J){var C=S();if(C===255)return-1;var _=D(C&31);if(_<0||C>>5!==J)throw"Invalid indefinite length element";return _}function O(J,C){for(var _=0;_<C;++_){var E=S();E&128&&(E<224?(E=(E&31)<<6|S()&63,C-=1):E<240?(E=(E&15)<<12|(S()&63)<<6|S()&63,C-=2):(E=(E&15)<<18|(S()&63)<<12|(S()&63)<<6|S()&63,C-=3)),E<65536?J.push(E):(E-=65536,J.push(55296|E>>10),J.push(56320|E&1023))}}function U(){var J=S(),C=J>>5,_=J&31,E,R;if(C===7)switch(_){case 25:return m();case 26:return g();case 27:return y()}if(R=D(_),R<0&&(C<2||6<C))throw"Invalid length";switch(C){case 0:return R;case 1:return-1-R;case 2:if(R<0){for(var M=[],$=0;(R=k(C))>=0;)$+=R,M.push(h(R));var j=new Uint8Array($),Y=0;for(E=0;E<M.length;++E)j.set(M[E],Y),Y+=M[E].length;return j}return h(R);case 3:var z=[];if(R<0)for(;(R=k(C))>=0;)O(z,R);else O(z,R);return String.fromCharCode.apply(null,z);case 4:var x;if(R<0)for(x=[];!I();)x.push(U());else for(x=new Array(R),E=0;E<R;++E)x[E]=U();return x;case 5:var Q={};for(E=0;E<R||R<0&&!I();++E){var Re=U();Q[Re]=U()}return Q;case 6:return l(U(),R);case 7:switch(R){case 20:return!1;case 21:return!0;case 22:return null;case 23:return e;default:return u(R)}}}var G=U();if(p!==c.byteLength)throw"Remaining bytes";return G}var a={encode:i,decode:s};typeof define=="function"&&define.amd?define("cbor/cbor",a):typeof EB<"u"&&EB.exports?EB.exports=a:t.CBOR||(t.CBOR=a)})(pVe)});var hVe=Ge(()=>{"use strict";var mVe;(function(t){(function(e){var n=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),r=o(t);typeof n.Reflect<"u"&&(r=o(n.Reflect,r)),e(r,n),typeof n.Reflect>"u"&&(n.Reflect=t);function o(c,l){return function(u,d){Object.defineProperty(c,u,{configurable:!0,writable:!0,value:d}),l&&l(u,d)}}function i(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return i()||s()}})(function(e,n){var r=Object.prototype.hasOwnProperty,o=typeof Symbol=="function",i=o&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=o&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,u={create:a?function(){return oe(Object.create(null))}:c?function(){return oe({__proto__:null})}:function(){return oe({})},has:l?function(W,X){return r.call(W,X)}:function(W,X){return X in W},get:l?function(W,X){return r.call(W,X)?W[X]:void 0}:function(W,X){return W[X]}},d=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:T(),f=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:B(),h=typeof WeakMap=="function"?WeakMap:V(),m=o?Symbol.for("@reflect-metadata:registry"):void 0,g=Fr(),y=mo(g);function S(W,X,ie,Le){if(x(ie)){if(!Ot(W))throw new TypeError;if(!tn(X))throw new TypeError;return J(W,X)}else{if(!Ot(W))throw new TypeError;if(!Se(X))throw new TypeError;if(!Se(Le)&&!x(Le)&&!Q(Le))throw new TypeError;return Q(Le)&&(Le=void 0),ie=dt(ie),C(W,X,ie,Le)}}e("decorate",S);function v(W,X){function ie(Le,Je){if(!Se(Le))throw new TypeError;if(!x(Je)&&!un(Je))throw new TypeError;$(W,X,Le,Je)}return ie}e("metadata",v);function A(W,X,ie,Le){if(!Se(ie))throw new TypeError;return x(Le)||(Le=dt(Le)),$(W,X,ie,Le)}e("defineMetadata",A);function w(W,X,ie){if(!Se(X))throw new TypeError;return x(ie)||(ie=dt(ie)),_(W,X,ie)}e("hasMetadata",w);function I(W,X,ie){if(!Se(X))throw new TypeError;return x(ie)||(ie=dt(ie)),E(W,X,ie)}e("hasOwnMetadata",I);function D(W,X,ie){if(!Se(X))throw new TypeError;return x(ie)||(ie=dt(ie)),R(W,X,ie)}e("getMetadata",D);function k(W,X,ie){if(!Se(X))throw new TypeError;return x(ie)||(ie=dt(ie)),M(W,X,ie)}e("getOwnMetadata",k);function O(W,X){if(!Se(W))throw new TypeError;return x(X)||(X=dt(X)),j(W,X)}e("getMetadataKeys",O);function U(W,X){if(!Se(W))throw new TypeError;return x(X)||(X=dt(X)),Y(W,X)}e("getOwnMetadataKeys",U);function G(W,X,ie){if(!Se(X))throw new TypeError;if(x(ie)||(ie=dt(ie)),!Se(X))throw new TypeError;x(ie)||(ie=dt(ie));var Le=Ir(X,ie,!1);return x(Le)?!1:Le.OrdinaryDeleteMetadata(W,X,ie)}e("deleteMetadata",G);function J(W,X){for(var ie=W.length-1;ie>=0;--ie){var Le=W[ie],Je=Le(X);if(!x(Je)&&!Q(Je)){if(!tn(Je))throw new TypeError;X=Je}}return X}function C(W,X,ie,Le){for(var Je=W.length-1;Je>=0;--Je){var Rt=W[Je],nn=Rt(X,ie,Le);if(!x(nn)&&!Q(nn)){if(!Se(nn))throw new TypeError;Le=nn}}return Le}function _(W,X,ie){var Le=E(W,X,ie);if(Le)return!0;var Je=Qn(X);return Q(Je)?!1:_(W,Je,ie)}function E(W,X,ie){var Le=Ir(X,ie,!1);return x(Le)?!1:xe(Le.OrdinaryHasOwnMetadata(W,X,ie))}function R(W,X,ie){var Le=E(W,X,ie);if(Le)return M(W,X,ie);var Je=Qn(X);if(!Q(Je))return R(W,Je,ie)}function M(W,X,ie){var Le=Ir(X,ie,!1);if(!x(Le))return Le.OrdinaryGetOwnMetadata(W,X,ie)}function $(W,X,ie,Le){var Je=Ir(ie,Le,!0);Je.OrdinaryDefineOwnMetadata(W,X,ie,Le)}function j(W,X){var ie=Y(W,X),Le=Qn(W);if(Le===null)return ie;var Je=j(Le,X);if(Je.length<=0)return ie;if(ie.length<=0)return Je;for(var Rt=new f,nn=[],ft=0,Qe=ie;ft<Qe.length;ft++){var At=Qe[ft],rt=Rt.has(At);rt||(Rt.add(At),nn.push(At))}for(var at=0,Dn=Je;at<Dn.length;at++){var At=Dn[at],rt=Rt.has(At);rt||(Rt.add(At),nn.push(At))}return nn}function Y(W,X){var ie=Ir(W,X,!1);return ie?ie.OrdinaryOwnMetadataKeys(W,X):[]}function z(W){if(W===null)return 1;switch(typeof W){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return W===null?1:6;default:return 6}}function x(W){return W===void 0}function Q(W){return W===null}function Re(W){return typeof W=="symbol"}function Se(W){return typeof W=="object"?W!==null:typeof W=="function"}function pe(W,X){switch(z(W)){case 0:return W;case 1:return W;case 2:return W;case 3:return W;case 4:return W;case 5:return W}var ie=X===3?"string":X===5?"number":"default",Le=rc(W,i);if(Le!==void 0){var Je=Le.call(W,ie);if(Se(Je))throw new TypeError;return Je}return Ve(W,ie==="default"?"number":ie)}function Ve(W,X){if(X==="string"){var ie=W.toString;if(se(ie)){var Le=ie.call(W);if(!Se(Le))return Le}var Je=W.valueOf;if(se(Je)){var Le=Je.call(W);if(!Se(Le))return Le}}else{var Je=W.valueOf;if(se(Je)){var Le=Je.call(W);if(!Se(Le))return Le}var Rt=W.toString;if(se(Rt)){var Le=Rt.call(W);if(!Se(Le))return Le}}throw new TypeError}function xe(W){return!!W}function ut(W){return""+W}function dt(W){var X=pe(W,3);return Re(X)?X:ut(X)}function Ot(W){return Array.isArray?Array.isArray(W):W instanceof Object?W instanceof Array:Object.prototype.toString.call(W)==="[object Array]"}function se(W){return typeof W=="function"}function tn(W){return typeof W=="function"}function un(W){switch(z(W)){case 3:return!0;case 4:return!0;default:return!1}}function fr(W,X){return W===X||W!==W&&X!==X}function rc(W,X){var ie=W[X];if(ie!=null){if(!se(ie))throw new TypeError;return ie}}function mr(W){var X=rc(W,s);if(!se(X))throw new TypeError;var ie=X.call(W);if(!Se(ie))throw new TypeError;return ie}function Tr(W){return W.value}function Dd(W){var X=W.next();return X.done?!1:X}function Hn(W){var X=W.return;X&&X.call(W)}function Qn(W){var X=Object.getPrototypeOf(W);if(typeof W!="function"||W===d||X!==d)return X;var ie=W.prototype,Le=ie&&Object.getPrototypeOf(ie);if(Le==null||Le===Object.prototype)return X;var Je=Le.constructor;return typeof Je!="function"||Je===W?X:Je}function mi(){var W;!x(m)&&typeof n.Reflect<"u"&&!(m in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(W=oc(n.Reflect));var X,ie,Le,Je=new h,Rt={registerProvider:nn,getProvider:Qe,setProvider:rt};return Rt;function nn(at){if(!Object.isExtensible(Rt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case W===at:break;case x(X):X=at;break;case X===at:break;case x(ie):ie=at;break;case ie===at:break;default:Le===void 0&&(Le=new f),Le.add(at);break}}function ft(at,Dn){if(!x(X)){if(X.isProviderFor(at,Dn))return X;if(!x(ie)){if(ie.isProviderFor(at,Dn))return X;if(!x(Le))for(var dn=mr(Le);;){var _n=Dd(dn);if(!_n)return;var ic=Tr(_n);if(ic.isProviderFor(at,Dn))return Hn(dn),ic}}}if(!x(W)&&W.isProviderFor(at,Dn))return W}function Qe(at,Dn){var dn=Je.get(at),_n;return x(dn)||(_n=dn.get(Dn)),x(_n)&&(_n=ft(at,Dn),x(_n)||(x(dn)&&(dn=new p,Je.set(at,dn)),dn.set(Dn,_n))),_n}function At(at){if(x(at))throw new TypeError;return X===at||ie===at||!x(Le)&&Le.has(at)}function rt(at,Dn,dn){if(!At(dn))throw new Error("Metadata provider not registered.");var _n=Qe(at,Dn);if(_n!==dn){if(!x(_n))return!1;var ic=Je.get(at);x(ic)&&(ic=new p,Je.set(at,ic)),ic.set(Dn,dn)}return!0}}function Fr(){var W;return!x(m)&&Se(n.Reflect)&&Object.isExtensible(n.Reflect)&&(W=n.Reflect[m]),x(W)&&(W=mi()),!x(m)&&Se(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,m,{enumerable:!1,configurable:!1,writable:!1,value:W}),W}function mo(W){var X=new h,ie={isProviderFor:function(At,rt){var at=X.get(At);return x(at)?!1:at.has(rt)},OrdinaryDefineOwnMetadata:nn,OrdinaryHasOwnMetadata:Je,OrdinaryGetOwnMetadata:Rt,OrdinaryOwnMetadataKeys:ft,OrdinaryDeleteMetadata:Qe};return g.registerProvider(ie),ie;function Le(At,rt,at){var Dn=X.get(At),dn=!1;if(x(Dn)){if(!at)return;Dn=new p,X.set(At,Dn),dn=!0}var _n=Dn.get(rt);if(x(_n)){if(!at)return;if(_n=new p,Dn.set(rt,_n),!W.setProvider(At,rt,ie))throw Dn.delete(rt),dn&&X.delete(At),new Error("Wrong provider for target.")}return _n}function Je(At,rt,at){var Dn=Le(rt,at,!1);return x(Dn)?!1:xe(Dn.has(At))}function Rt(At,rt,at){var Dn=Le(rt,at,!1);if(!x(Dn))return Dn.get(At)}function nn(At,rt,at,Dn){var dn=Le(at,Dn,!0);dn.set(At,rt)}function ft(At,rt){var at=[],Dn=Le(At,rt,!1);if(x(Dn))return at;for(var dn=Dn.keys(),_n=mr(dn),ic=0;;){var Co=Dd(_n);if(!Co)return at.length=ic,at;var Fo=Tr(Co);try{at[ic]=Fo}catch(A9){try{Hn(_n)}finally{throw A9}}ic++}}function Qe(At,rt,at){var Dn=Le(rt,at,!1);if(x(Dn)||!Dn.delete(At))return!1;if(Dn.size===0){var dn=X.get(rt);x(dn)||(dn.delete(at),dn.size===0&&X.delete(dn))}return!0}}function oc(W){var X=W.defineMetadata,ie=W.hasOwnMetadata,Le=W.getOwnMetadata,Je=W.getOwnMetadataKeys,Rt=W.deleteMetadata,nn=new h,ft={isProviderFor:function(Qe,At){var rt=nn.get(Qe);return!x(rt)&&rt.has(At)?!0:Je(Qe,At).length?(x(rt)&&(rt=new f,nn.set(Qe,rt)),rt.add(At),!0):!1},OrdinaryDefineOwnMetadata:X,OrdinaryHasOwnMetadata:ie,OrdinaryGetOwnMetadata:Le,OrdinaryOwnMetadataKeys:Je,OrdinaryDeleteMetadata:Rt};return ft}function Ir(W,X,ie){var Le=g.getProvider(W,X);if(!x(Le))return Le;if(ie){if(g.setProvider(W,X,y))return y;throw new Error("Illegal state.")}}function T(){var W={},X=[],ie=(function(){function ft(Qe,At,rt){this._index=0,this._keys=Qe,this._values=At,this._selector=rt}return ft.prototype["@@iterator"]=function(){return this},ft.prototype[s]=function(){return this},ft.prototype.next=function(){var Qe=this._index;if(Qe>=0&&Qe<this._keys.length){var At=this._selector(this._keys[Qe],this._values[Qe]);return Qe+1>=this._keys.length?(this._index=-1,this._keys=X,this._values=X):this._index++,{value:At,done:!1}}return{value:void 0,done:!0}},ft.prototype.throw=function(Qe){throw this._index>=0&&(this._index=-1,this._keys=X,this._values=X),Qe},ft.prototype.return=function(Qe){return this._index>=0&&(this._index=-1,this._keys=X,this._values=X),{value:Qe,done:!0}},ft})(),Le=(function(){function ft(){this._keys=[],this._values=[],this._cacheKey=W,this._cacheIndex=-2}return Object.defineProperty(ft.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ft.prototype.has=function(Qe){return this._find(Qe,!1)>=0},ft.prototype.get=function(Qe){var At=this._find(Qe,!1);return At>=0?this._values[At]:void 0},ft.prototype.set=function(Qe,At){var rt=this._find(Qe,!0);return this._values[rt]=At,this},ft.prototype.delete=function(Qe){var At=this._find(Qe,!1);if(At>=0){for(var rt=this._keys.length,at=At+1;at<rt;at++)this._keys[at-1]=this._keys[at],this._values[at-1]=this._values[at];return this._keys.length--,this._values.length--,fr(Qe,this._cacheKey)&&(this._cacheKey=W,this._cacheIndex=-2),!0}return!1},ft.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=W,this._cacheIndex=-2},ft.prototype.keys=function(){return new ie(this._keys,this._values,Je)},ft.prototype.values=function(){return new ie(this._keys,this._values,Rt)},ft.prototype.entries=function(){return new ie(this._keys,this._values,nn)},ft.prototype["@@iterator"]=function(){return this.entries()},ft.prototype[s]=function(){return this.entries()},ft.prototype._find=function(Qe,At){if(!fr(this._cacheKey,Qe)){this._cacheIndex=-1;for(var rt=0;rt<this._keys.length;rt++)if(fr(this._keys[rt],Qe)){this._cacheIndex=rt;break}}return this._cacheIndex<0&&At&&(this._cacheIndex=this._keys.length,this._keys.push(Qe),this._values.push(void 0)),this._cacheIndex},ft})();return Le;function Je(ft,Qe){return ft}function Rt(ft,Qe){return Qe}function nn(ft,Qe){return[ft,Qe]}}function B(){var W=(function(){function X(){this._map=new p}return Object.defineProperty(X.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),X.prototype.has=function(ie){return this._map.has(ie)},X.prototype.add=function(ie){return this._map.set(ie,ie),this},X.prototype.delete=function(ie){return this._map.delete(ie)},X.prototype.clear=function(){this._map.clear()},X.prototype.keys=function(){return this._map.keys()},X.prototype.values=function(){return this._map.keys()},X.prototype.entries=function(){return this._map.entries()},X.prototype["@@iterator"]=function(){return this.keys()},X.prototype[s]=function(){return this.keys()},X})();return W}function V(){var W=16,X=u.create(),ie=Le();return(function(){function Qe(){this._key=Le()}return Qe.prototype.has=function(At){var rt=Je(At,!1);return rt!==void 0?u.has(rt,this._key):!1},Qe.prototype.get=function(At){var rt=Je(At,!1);return rt!==void 0?u.get(rt,this._key):void 0},Qe.prototype.set=function(At,rt){var at=Je(At,!0);return at[this._key]=rt,this},Qe.prototype.delete=function(At){var rt=Je(At,!1);return rt!==void 0?delete rt[this._key]:!1},Qe.prototype.clear=function(){this._key=Le()},Qe})();function Le(){var Qe;do Qe="@@WeakMap@@"+ft();while(u.has(X,Qe));return X[Qe]=!0,Qe}function Je(Qe,At){if(!r.call(Qe,ie)){if(!At)return;Object.defineProperty(Qe,ie,{value:u.create()})}return Qe[ie]}function Rt(Qe,At){for(var rt=0;rt<At;++rt)Qe[rt]=Math.random()*255|0;return Qe}function nn(Qe){if(typeof Uint8Array=="function"){var At=new Uint8Array(Qe);return typeof crypto<"u"?crypto.getRandomValues(At):typeof msCrypto<"u"?msCrypto.getRandomValues(At):Rt(At,Qe),At}return Rt(new Array(Qe),Qe)}function ft(){var Qe=nn(W);Qe[6]=Qe[6]&79|64,Qe[8]=Qe[8]&191|128;for(var At="",rt=0;rt<W;++rt){var at=Qe[rt];(rt===4||rt===6||rt===8)&&(At+="-"),at<16&&(At+="0"),At+=at.toString(16).toLowerCase()}return At}}function oe(W){return W.__=void 0,delete W.__,W}})})(mVe||(mVe={}))});function gVe(...t){let e=t.map(o=>o.byteLength).reduce((o,i)=>o+i),n=new Uint8Array(e),r=0;return t.map(o=>new Uint8Array(o)).forEach(o=>{for(let i of o)n[r++]=i}),n.buffer}function xB(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);for(let o=0;o<t.byteLength;o++)if(n[o]!==r[o])return!1;return!0}var qLt,ht,Iae,WLt,KLt,JLt,AB,zu,Pt,ah=b(()=>{"use strict";qLt="[object ArrayBuffer]",ht=class t{static isArrayBuffer(e){return Object.prototype.toString.call(e)===qLt}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,n){if(e.constructor===n)return e;if(this.isArrayBuffer(e))return new n(e);if(this.isArrayBufferView(e))return new n(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,n){let r=t.toUint8Array(e),o=t.toUint8Array(n);if(r.length!==o.byteLength)return!1;for(let i=0;i<r.length;i++)if(r[i]!==o[i])return!1;return!0}static concat(...e){let n;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?n=e[0]:e[e.length-1]instanceof Function?n=e.slice(0,e.length-1):n=e;let r=0;for(let s of n)r+=s.byteLength;let o=new Uint8Array(r),i=0;for(let s of n){let a=this.toUint8Array(s);o.set(a,i),i+=a.length}return e[e.length-1]instanceof Function?this.toView(o,e[e.length-1]):o.buffer}},Iae="string",WLt=/^[0-9a-f\s]+$/i,KLt=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,JLt=/^[a-zA-Z0-9-_]+$/,AB=class{static fromString(e){let n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r.buffer}static toString(e){let n=ht.toUint8Array(e),r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return decodeURIComponent(escape(r))}},zu=class{static toString(e,n=!1){let r=ht.toArrayBuffer(e),o=new DataView(r),i="";for(let s=0;s<r.byteLength;s+=2){let a=o.getUint16(s,n);i+=String.fromCharCode(a)}return i}static fromString(e,n=!1){let r=new ArrayBuffer(e.length*2),o=new DataView(r);for(let i=0;i<e.length;i++)o.setUint16(i*2,e.charCodeAt(i),n);return r}},Pt=class t{static isHex(e){return typeof e===Iae&&WLt.test(e)}static isBase64(e){return typeof e===Iae&&KLt.test(e)}static isBase64Url(e){return typeof e===Iae&&JLt.test(e)}static ToString(e,n="utf8"){let r=ht.toUint8Array(e);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return zu.toString(r,!0);case"utf16":case"utf16be":return zu.toString(r);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(e,n="utf8"){if(!e)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return zu.fromString(e,!0);case"utf16":case"utf16be":return zu.fromString(e);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(e){let n=ht.toUint8Array(e);if(typeof btoa<"u"){let r=this.ToString(n,"binary");return btoa(r)}else return Buffer.from(n).toString("base64")}static FromBase64(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!t.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!t.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,n=t.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(e);case"utf8":return AB.fromString(e);case"utf16":case"utf16be":return zu.fromString(e);case"utf16le":case"usc2":return zu.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(e,n=t.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(e);case"utf8":return AB.toString(e);case"utf16":case"utf16be":return zu.toString(e);case"utf16le":case"usc2":return zu.toString(e,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(e){let n=e.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=e.charCodeAt(o);return r.buffer}static ToBinary(e){let n=ht.toUint8Array(e),r="";for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r}static ToHex(e){let n=ht.toUint8Array(e),r="",o=n.length;for(let i=0;i<o;i++){let s=n[i];s<16&&(r+="0"),r+=s.toString(16)}return r}static FromHex(e){let n=this.formatString(e);if(!n)return new ArrayBuffer(0);if(!t.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);let r=new Uint8Array(n.length/2);for(let o=0;o<n.length;o=o+2){let i=n.slice(o,o+2);r[o/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,n=!1){return zu.toString(e,n)}static FromUtf16String(e,n=!1){return zu.fromString(e,n)}static Base64Padding(e){let n=4-e.length%4;if(n<4)for(let r=0;r<n;r++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};Pt.DEFAULT_UTF8_ENCODING="utf8"});function R_(t,e){let n=0;if(t.length===1)return t[0];for(let r=t.length-1;r>=0;r--)n+=t[t.length-1-r]*Math.pow(2,e*r);return n}function o1(t,e,n=-1){let r=n,o=t,i=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(t<s){let c;if(r<0)c=new ArrayBuffer(a),i=a;else{if(r<a)return new ArrayBuffer(0);c=new ArrayBuffer(r),i=r}let l=new Uint8Array(c);for(let u=a-1;u>=0;u--){let d=Math.pow(2,u*e);l[i-u-1]=Math.floor(o/d),o-=l[i-u-1]*d}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function wB(...t){let e=0,n=0;for(let i of t)e+=i.length;let r=new ArrayBuffer(e),o=new Uint8Array(r);for(let i of t)o.set(i,n),n+=i.length;return o}function Rae(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let a=t[0]===255&&t[1]&128,c=t[0]===0&&(t[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)n[a]=0;n[0]=t[0]&128;let r=R_(n,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let a=0;a<this.valueHex.byteLength;a++)i[a]=t[a];return i[0]&=127,R_(i,8)-r}function bVe(t){let e=t<0?t*-1:t,n=128;for(let r=1;r<8;r++){if(e<=n){if(t<0){let s=n-e,a=o1(s,8,r),c=new Uint8Array(a);return c[0]|=128,a}let o=o1(e,8,r),i=new Uint8Array(o);if(i[0]&128){let s=o.slice(0),a=new Uint8Array(s);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let c=0;c<s.byteLength;c++)i[c+1]=a[c];i[0]=0}return o}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function _Ve(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);for(let o=0;o<n.length;o++)if(n[o]!==r[o])return!1;return!0}function Pc(t,e){let n=t.toString(10);if(e<n.length)return"";let r=e-n.length,o=new Array(r);for(let s=0;s<r;s++)o[s]="0";return o.join("").concat(n)}var V8r,SVe=b(()=>{"use strict";V8r=Math.log(2)});var Af={};kn(Af,{Any:()=>Sf,BaseBlock:()=>Pi,BaseStringBlock:()=>V6,BitString:()=>Xd,BmpString:()=>P_,Boolean:()=>C_,CharacterString:()=>H_,Choice:()=>YA,Constructed:()=>Di,DATE:()=>J6,DateTime:()=>Q6,Duration:()=>X6,EndOfContent:()=>z6,Enumerated:()=>N_,GeneralString:()=>F_,GeneralizedTime:()=>G_,GraphicString:()=>$_,HexBlock:()=>Ef,IA5String:()=>U_,Integer:()=>dh,Null:()=>Yd,NumericString:()=>k_,ObjectIdentifier:()=>O_,OctetString:()=>Qd,Primitive:()=>uh,PrintableString:()=>L_,RawData:()=>Nae,RelativeObjectIdentifier:()=>K6,Repeated:()=>V_,Sequence:()=>ia,Set:()=>Ma,TIME:()=>Z6,TeletexString:()=>M_,TimeOfDay:()=>Y6,UTCTime:()=>s1,UniversalString:()=>D_,Utf8String:()=>ju,ValueBlock:()=>Rs,VideotexString:()=>B_,ViewWriter:()=>JA,VisibleString:()=>i1,compareSchema:()=>ch,fromBER:()=>fh,verifySchema:()=>l7t});function TB(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Oae(t){let e=0,n=0;for(let o=0;o<t.length;o++){let i=t[o];e+=i.byteLength}let r=new Uint8Array(e);for(let o=0;o<t.length;o++){let i=t[o];r.set(new Uint8Array(i),n),n+=i.byteLength}return r.buffer}function ph(t,e,n,r){return e instanceof Uint8Array?e.byteLength?n<0?(t.error="Wrong parameter: inputOffset less than zero",!1):r<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-n-r<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}function Ef(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(r){this.valueHexView=new Uint8Array(r)}constructor(...r){var o;super(...r);let i=r[0]||{};this.isHexOnly=(o=i.isHexOnly)!==null&&o!==void 0?o:!1,this.valueHexView=i.valueHex?ht.toUint8Array(i.valueHex):HB}fromBER(r,o,i){let s=r instanceof ArrayBuffer?new Uint8Array(r):r;if(!ph(this,s,o,i))return-1;let a=o+i;return this.valueHexView=s.subarray(o,a),this.valueHexView.length?(this.blockLength=i,a):(this.warnings.push("Zero buffer length"),o)}toBER(r=!1){return this.isHexOnly?r?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",vf)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Pt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}function TVe(t){var e;if(t instanceof It.Constructed)for(let n of t.valueBlock.value)TVe(n)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}function i7t(t,e){if(t instanceof e)return t;let n=new e;return n.idBlock=t.idBlock,n.lenBlock=t.lenBlock,n.warnings=t.warnings,n.valueBeforeDecodeView=t.valueBeforeDecodeView,n}function QA(t,e=0,n=t.length){let r=e,o=new Pi({},Rs),i=new lh;if(!ph(i,t,e,n))return o.error=i.error,{offset:-1,result:o};if(!t.subarray(e,e+n).length)return o.error="Zero buffer length",{offset:-1,result:o};let a=o.idBlock.fromBER(t,e,n);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),a===-1)return o.error=o.idBlock.error,{offset:-1,result:o};if(e=a,n-=o.idBlock.blockLength,a=o.lenBlock.fromBER(t,e,n),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),a===-1)return o.error=o.lenBlock.error,{offset:-1,result:o};if(e=a,n-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let c=Pi;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&o.idBlock.isHexOnly===!1)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};c=It.EndOfContent;break;case 1:c=It.Boolean;break;case 2:c=It.Integer;break;case 3:c=It.BitString;break;case 4:c=It.OctetString;break;case 5:c=It.Null;break;case 6:c=It.ObjectIdentifier;break;case 10:c=It.Enumerated;break;case 12:c=It.Utf8String;break;case 13:c=It.RelativeObjectIdentifier;break;case 14:c=It.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:c=It.Sequence;break;case 17:c=It.Set;break;case 18:c=It.NumericString;break;case 19:c=It.PrintableString;break;case 20:c=It.TeletexString;break;case 21:c=It.VideotexString;break;case 22:c=It.IA5String;break;case 23:c=It.UTCTime;break;case 24:c=It.GeneralizedTime;break;case 25:c=It.GraphicString;break;case 26:c=It.VisibleString;break;case 27:c=It.GeneralString;break;case 28:c=It.UniversalString;break;case 29:c=It.CharacterString;break;case 30:c=It.BmpString;break;case 31:c=It.DATE;break;case 32:c=It.TimeOfDay;break;case 33:c=It.DateTime;break;case 34:c=It.Duration;break;default:{let l=o.idBlock.isConstructed?new It.Constructed:new It.Primitive;l.idBlock=o.idBlock,l.lenBlock=o.lenBlock,l.warnings=o.warnings,o=l}}break;case 2:case 3:case 4:default:c=o.idBlock.isConstructed?It.Constructed:It.Primitive}return o=i7t(o,c),a=o.fromBER(t,e,o.lenBlock.isIndefiniteForm?n:o.lenBlock.length),o.valueBeforeDecodeView=t.subarray(r,r+o.blockLength),{offset:a,result:o}}function fh(t){if(!t.byteLength){let e=new Pi({},Rs);return e.error="Input buffer has zero length",{offset:-1,result:e}}return QA(ht.toUint8Array(t).slice(),0,t.byteLength)}function s7t(t,e){return t?1:e}function a7t(t,e){let n=new Uint8Array([0]),r=new Uint8Array(t),o=new Uint8Array(e),i=r.slice(0),s=i.length-1,a=o.slice(0),c=a.length-1,l=0,u=c<s?s:c,d=0;for(let p=u;p>=0;p--,d++){switch(!0){case d<a.length:l=i[s-d]+a[c-d]+n[0];break;default:l=i[s-d]+n[0]}switch(n[0]=l/10,!0){case d>=i.length:i=wB(new Uint8Array([l%10]),i);break;default:i[s-d]=l%10}}return n[0]>0&&(i=wB(n,i)),i}function AVe(t){if(t>=F6.length)for(let e=F6.length;e<=t;e++){let n=new Uint8Array([0]),r=F6[e-1].slice(0);for(let o=r.length-1;o>=0;o--){let i=new Uint8Array([(r[o]<<1)+n[0]]);n[0]=i[0]/10,r[o]=i[0]%10}n[0]>0&&(r=wB(n,r)),F6.push(r)}return F6[t]}function c7t(t,e){let n=0,r=new Uint8Array(t),o=new Uint8Array(e),i=r.slice(0),s=i.length-1,a=o.slice(0),c=a.length-1,l,u=0;for(let d=c;d>=0;d--,u++)switch(l=i[s-u]-a[c-u]-n,!0){case l<0:n=1,i[s-u]=l+10;break;default:n=0,i[s-u]=l}if(n>0)for(let d=s-c+1;d>=0;d--,u++)if(l=i[s-u]-n,l<0)n=1,i[s-u]=l+10;else{n=0,i[s-u]=l;break}return i.slice()}function ch(t,e,n){if(n instanceof YA){for(let i of n.value)if(ch(t,e,i).verified)return{verified:!0,result:t};{let i={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(Cae)&&(i.name=n.name),i}}if(n instanceof Sf)return n.hasOwnProperty(Cae)&&(t[n.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(XLt in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(n7t in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(r7t in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let r=n.idBlock.toBER(!1);if(r.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(r,0,r.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(ZLt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(e7t)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(n.idBlock.hasOwnProperty(t7t)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(QLt in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(n.idBlock.isHexOnly){if(!(EVe in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=n.idBlock.valueHexView,s=e.idBlock.valueHexView;if(i.length!==s.length)return{verified:!1,result:t};for(let a=0;a<i.length;a++)if(i[a]!==s[1])return{verified:!1,result:t}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&(t[n.name]=e)),n instanceof It.Constructed){let i=0,s={verified:!1,result:{error:"Unknown error"}},a=n.valueBlock.value.length;if(a>0&&n.valueBlock.value[0]instanceof V_&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let c=!0;for(let l=0;l<n.valueBlock.value.length;l++)c=c&&(n.valueBlock.value[l].optional||!1);return c?{verified:!0,result:t}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&delete t[n.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let c=0;c<a;c++)if(c-i>=e.valueBlock.value.length){if(n.valueBlock.value[c].optional===!1){let l={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&(delete t[n.name],l.name=n.name)),l}}else if(n.valueBlock.value[0]instanceof V_){if(s=ch(t,e.valueBlock.value[c],n.valueBlock.value[0].value),s.verified===!1)if(n.valueBlock.value[0].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&delete t[n.name]),s;if(Cae in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let l={};o7t in n.valueBlock.value[0]&&n.valueBlock.value[0].local?l=e:l=t,typeof l[n.valueBlock.value[0].name]>"u"&&(l[n.valueBlock.value[0].name]=[]),l[n.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=ch(t,e.valueBlock.value[c-i],n.valueBlock.value[c]),s.verified===!1)if(n.valueBlock.value[c].optional)i++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&delete t[n.name]),s;if(s.verified===!1){let c={verified:!1,result:t};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&(delete t[n.name],c.name=n.name)),c}return{verified:!0,result:t}}if(n.primitiveSchema&&EVe in e.valueBlock){let i=QA(e.valueBlock.valueHexView);if(i.offset===-1){let s={verified:!1,result:i.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,Dc),n.name&&(delete t[n.name],s.name=n.name)),s}return ch(t,i.result,n.primitiveSchema)}return{verified:!0,result:t}}function l7t(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let n=QA(ht.toUint8Array(t));return n.offset===-1?{verified:!1,result:n.result}:ch(n.result,n.result,e)}var JA,F6,vVe,Cae,EVe,QLt,XLt,ZLt,e7t,t7t,n7t,r7t,o7t,Dc,vf,HB,G6,xVe,wVe,lh,Rs,IB,RB,It,Pi,V6,CB,IVe,uh,_f,RVe,Di,NB,CVe,z6,NVe,Yd,OB,OVe,C_,PB,Pae,Qd,DB,PVe,Xd,DVe,j6,H6,dh,kVe,N_,q6,kB,LVe,O_,W6,LB,MVe,K6,BVe,ia,UVe,Ma,MB,BB,Ba,UB,$Ve,ju,$B,FVe,P_,FB,HVe,D_,GVe,k_,VVe,L_,zVe,M_,jVe,B_,qVe,U_,WVe,$_,KVe,i1,JVe,F_,YVe,H_,QVe,s1,XVe,G_,ZVe,J6,eze,Y6,tze,Q6,nze,X6,rze,Z6,Sf,YA,V_,Nae,a1=b(()=>{"use strict";ah();SVe();JA=class{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Oae(this.items)}},F6=[new Uint8Array([1])],vVe="0123456789",Cae="name",EVe="valueHexView",QLt="isHexOnly",XLt="idBlock",ZLt="tagClass",e7t="tagNumber",t7t="isConstructed",n7t="fromBER",r7t="toBER",o7t="local",Dc="",vf=new ArrayBuffer(0),HB=new Uint8Array(0),G6="EndOfContent",xVe="OCTET STRING",wVe="BIT STRING";lh=class{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:n=Dc,warnings:r=[],valueBeforeDecode:o=HB}={}){this.blockLength=e,this.error=n,this.warnings=r,this.valueBeforeDecodeView=ht.toUint8Array(o)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Pt.ToHex(this.valueBeforeDecodeView)}}};lh.NAME="baseBlock";Rs=class extends lh{fromBER(e,n,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};Rs.NAME="valueBlock";IB=class extends Ef(lh){constructor({idBlock:e={}}={}){var n,r,o,i;super(),e?(this.isHexOnly=(n=e.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=e.valueHex?ht.toUint8Array(e.valueHex):HB,this.tagClass=(r=e.tagClass)!==null&&r!==void 0?r:-1,this.tagNumber=(o=e.tagNumber)!==null&&o!==void 0?o:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",vf}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){let o=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,n|=i,o[0]=n}return o.buffer}if(!this.isHexOnly){let o=o1(this.tagNumber,7),i=new Uint8Array(o),s=o.byteLength,a=new Uint8Array(s+1);if(a[0]=n|31,!e){for(let c=0;c<s-1;c++)a[c+1]=i[c]|128;a[s]=i[s-1]}return a.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=n|31,!e){let o=this.valueHexView;for(let i=0;i<o.length-1;i++)r[i+1]=o[i]|128;r[this.valueHexView.byteLength]=o[o.length-1]}return r.buffer}fromBER(e,n,r){let o=ht.toUint8Array(e);if(!ph(this,o,n,r))return-1;let i=o.subarray(n,n+r);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;let a=i[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,l=this.valueHexView=new Uint8Array(255),u=255;for(;i[c]&128;){if(l[c-1]=i[c]&127,c++,c>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(c===u){u+=255;let p=new Uint8Array(u);for(let f=0;f<l.length;f++)p[f]=l[f];l=this.valueHexView=new Uint8Array(u)}}this.blockLength=c+1,l[c-1]=i[c]&127;let d=new Uint8Array(c);for(let p=0;p<c;p++)d[p]=l[p];l=this.valueHexView=new Uint8Array(c),l.set(d),this.blockLength<=9?this.tagNumber=R_(l,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};IB.NAME="identificationBlock";RB=class extends lh{constructor({lenBlock:e={}}={}){var n,r,o;super(),this.isIndefiniteForm=(n=e.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(r=e.longFormUsed)!==null&&r!==void 0?r:!1,this.length=(o=e.length)!==null&&o!==void 0?o:0}fromBER(e,n,r){let o=ht.toUint8Array(e);if(!ph(this,o,n,r))return-1;let i=o.subarray(n,n+r);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,n+this.blockLength;let s=i[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let a=n+1,c=o.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=R_(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,n+this.blockLength}toBER(e=!1){let n,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),e===!1&&(r=new Uint8Array(n),r[0]=128),n;if(this.longFormUsed){let o=o1(this.length,8);if(o.byteLength>127)return this.error="Too big length",vf;if(n=new ArrayBuffer(o.byteLength+1),e)return n;let i=new Uint8Array(o);r=new Uint8Array(n),r[0]=o.byteLength|128;for(let s=0;s<o.byteLength;s++)r[s+1]=i[s];return n}return n=new ArrayBuffer(1),e===!1&&(r=new Uint8Array(n),r[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};RB.NAME="lengthBlock";It={},Pi=class extends lh{constructor({name:e=Dc,optional:n=!1,primitiveSchema:r,...o}={},i){super(o),this.name=e,this.optional=n,r&&(this.primitiveSchema=r),this.idBlock=new IB(o),this.lenBlock=new RB(o),this.valueBlock=i?new i(o):new Rs(o)}fromBER(e,n,r){let o=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}toBER(e,n){let r=n||new JA;n||TVe(this);let o=this.idBlock.toBER(e);if(r.write(o),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;let s=this.lenBlock.toBER(e);r.write(s),r.write(i)}return n?vf:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Pt.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,n=Pt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${n}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let n=this.toBER(),r=e.toBER();return _Ve(n,r)}};Pi.NAME="BaseBlock";V6=class extends Pi{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=Dc,...n}={},r){super(n,r),e&&this.fromString(e)}fromBER(e,n,r){let o=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};V6.NAME="BaseStringBlock";CB=class extends Ef(Rs){constructor({isHexOnly:e=!0,...n}={}){super(n),this.isHexOnly=e}};CB.NAME="PrimitiveValueBlock";uh=class extends Pi{constructor(e={}){super(e,CB),this.idBlock.isConstructed=!1}};IVe=uh;It.Primitive=IVe;uh.NAME="PRIMITIVE";_f=class extends Rs{constructor({value:e=[],isIndefiniteForm:n=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=n}fromBER(e,n,r){let o=ht.toUint8Array(e);if(!ph(this,o,n,r))return-1;if(this.valueBeforeDecodeView=o.subarray(n,n+r),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let i=n;for(;s7t(this.isIndefiniteForm,r)>0;){let s=QA(o,i,r);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(i=s.offset,this.blockLength+=s.result.blockLength,r-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===G6)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===G6?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,n){let r=n||new JA;for(let o=0;o<this.value.length;o++)this.value[o].toBER(e,r);return n?vf:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let n of this.value)e.value.push(n.toJSON());return e}};_f.NAME="ConstructedValueBlock";Di=class extends Pi{constructor(e={}){super(e,_f),this.idBlock.isConstructed=!0}fromBER(e,n,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let o=this.valueBlock.fromBER(e,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){let e=[];for(let r of this.valueBlock.value)e.push(r.toString("ascii").split(`
`).map(o=>`  ${o}`).join(`
`));let n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${n} :
${e.join(`
`)}`:`${n} :`}};RVe=Di;It.Constructed=RVe;Di.NAME="CONSTRUCTED";NB=class extends Rs{fromBER(e,n,r){return n}toBER(e){return vf}};NB.override="EndOfContentValueBlock";z6=class extends Pi{constructor(e={}){super(e,NB),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};CVe=z6;It.EndOfContent=CVe;z6.NAME=G6;Yd=class extends Pi{constructor(e={}){super(e,Rs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,n,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,n+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+r}toBER(e,n){let r=new ArrayBuffer(2);if(!e){let o=new Uint8Array(r);o[0]=5,o[1]=0}return n&&n.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}};NVe=Yd;It.Null=NVe;Yd.NAME="NULL";OB=class extends Ef(Rs){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...n}={}){super(n),n.valueHex?this.valueHexView=ht.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,n,r){let o=ht.toUint8Array(e);return ph(this,o,n,r)?(this.valueHexView=o.subarray(n,n+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Rae.call(this),this.blockLength=r,n+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};OB.NAME="BooleanValueBlock";C_=class extends Pi{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,OB),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};OVe=C_;It.Boolean=OVe;C_.NAME="BOOLEAN";PB=class extends Ef(_f){constructor({isConstructed:e=!1,...n}={}){super(n),this.isConstructed=e}fromBER(e,n,r){let o=0;if(this.isConstructed){if(this.isHexOnly=!1,o=_f.prototype.fromBER.call(this,e,n,r),o===-1)return o;for(let i=0;i<this.value.length;i++){let s=this.value[i].constructor.NAME;if(s===G6){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==xVe)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,o=super.fromBER(e,n,r),this.blockLength=r;return o}toBER(e,n){return this.isConstructed?_f.prototype.toBER.call(this,e,n):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};PB.NAME="OctetStringValueBlock";Qd=class extends Pi{constructor({idBlock:e={},lenBlock:n={},...r}={}){var o,i;(o=r.isConstructed)!==null&&o!==void 0||(r.isConstructed=!!(!((i=r.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},PB),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,n,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,r===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(n,n+r);try{if(i.byteLength){let s=QA(i,0,i.byteLength);s.offset!==-1&&s.offset===r&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Di.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,n=Pt.ToHex(this.valueBlock.valueHexView);return`${e} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let n of this.valueBlock.value)n instanceof Pae&&e.push(n.valueBlock.valueHexView);return ht.concat(e)}};Pae=Qd;It.OctetString=Pae;Qd.NAME=xVe;DB=class extends Ef(_f){constructor({unusedBits:e=0,isConstructed:n=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(e,n,r){if(!r)return n;let o=-1;if(this.isConstructed){if(o=_f.prototype.fromBER.call(this,e,n,r),o===-1)return o;for(let a of this.value){let c=a.constructor.NAME;if(c===G6){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==wVe)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let l=a.valueBlock;if(this.unusedBits>0&&l.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=l.unusedBits}return o}let i=ht.toUint8Array(e);if(!ph(this,i,n,r))return-1;let s=i.subarray(n,n+r);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let a=s.subarray(1);try{if(a.byteLength){let c=QA(a,0,a.byteLength);c.offset!==-1&&c.offset===r-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,n+r}toBER(e,n){if(this.isConstructed)return _f.prototype.toBER.call(this,e,n);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let o=new Uint8Array(1);return o[0]=0,o.buffer}let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};DB.NAME="BitStringValueBlock";Xd=class extends Pi{constructor({idBlock:e={},lenBlock:n={},...r}={}){var o,i;(o=r.isConstructed)!==null&&o!==void 0||(r.isConstructed=!!(!((i=r.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},DB),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,n,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Di.prototype.onAsciiEncoding.call(this);{let e=[],n=this.valueBlock.valueHexView;for(let s of n)e.push(s.toString(2).padStart(8,"0"));let r=e.join(""),o=this.constructor.NAME,i=r.substring(0,r.length-this.valueBlock.unusedBits);return`${o} : ${i}`}}};PVe=Xd;It.BitString=PVe;Xd.NAME=wVe;j6=class extends Ef(Rs){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Rae.call(this)))}constructor({value:e,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(bVe(e))}get valueDec(){return this._valueDec}fromDER(e,n,r,o=0){let i=this.fromBER(e,n,r);if(i===-1)return i;let s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):o!==0&&s.length<o&&(o-s.length>1&&(o=s.length+1),this.valueHexView=s.subarray(o-s.length)),i}toDER(e=!1){let n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{let r=new Uint8Array(this.valueHexView.length+1);r[0]=0,r.set(n,1),this.valueHexView=r}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,n,r){let o=super.fromBER(e,n,r);return o===-1||this.setValueHex(),o}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e=this.valueHexView.length*8-1,n=new Uint8Array(this.valueHexView.length*8/3),r=0,o,i=this.valueHexView,s="",a=!1;for(let c=i.byteLength-1;c>=0;c--){o=i[c];for(let l=0;l<8;l++){if((o&1)===1)switch(r){case e:n=c7t(AVe(r),n),s="-";break;default:n=a7t(n,AVe(r))}r++,o>>=1}}for(let c=0;c<n.length;c++)n[c]&&(a=!0),a&&(s+=vVe.charAt(n[c]));return a===!1&&(s+=vVe.charAt(0)),s}};DVe=j6;j6.NAME="IntegerValueBlock";Object.defineProperty(DVe.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});dh=class extends Pi{constructor(e={}){super(e,j6),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return TB(),BigInt(this.valueBlock.toString())}static fromBigInt(e){TB();let n=BigInt(e),r=new JA,o=n.toString(16).replace(/^-/,""),i=new Uint8Array(Pt.FromHex(o));if(n<0){let a=new Uint8Array(i.length+(i[0]&128?1:0));a[0]|=128;let l=BigInt(`0x${Pt.ToHex(a)}`)+n,u=ht.toUint8Array(Pt.FromHex(l.toString(16)));u[0]|=128,r.write(u)}else i[0]&128&&r.write(new Uint8Array([0])),r.write(i);return new H6({valueHex:r.final()})}convertToDER(){let e=new H6({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new H6({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};H6=dh;It.Integer=H6;dh.NAME="INTEGER";N_=class extends dh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};kVe=N_;It.Enumerated=kVe;N_.NAME="ENUMERATED";q6=class extends Ef(Rs){constructor({valueDec:e=-1,isFirstSid:n=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=n}fromBER(e,n,r){if(!r)return n;let o=ht.toUint8Array(e);if(!ph(this,o,n,r))return-1;let i=o.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=R_(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(e){TB();let n=BigInt(e).toString(2);for(;n.length%7;)n="0"+n;let r=new Uint8Array(n.length/7);for(let o=0;o<r.length;o++)r[o]=parseInt(n.slice(o*7,o*7+7),2)+(o+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}let n=o1(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",vf;let r=new Uint8Array(n.byteLength);if(!e){let o=new Uint8Array(n),i=n.byteLength-1;for(let s=0;s<i;s++)r[s]=o[s]|128;r[i]=o[i]}return r}toString(){let e="";if(this.isHexOnly)e=Pt.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",n-=40):(e="2.",n-=80),e+=n.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};q6.NAME="sidBlock";kB=class extends Rs{constructor({value:e=Dc,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,r){let o=n;for(;r>0;){let i=new q6;if(o=i.fromBER(e,o,r),o===-1)return this.blockLength=0,this.error=i.error,o;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,r-=i.blockLength,this.value.push(i)}return o}toBER(e){let n=[];for(let r=0;r<this.value.length;r++){let o=this.value[r].toBER(e);if(o.byteLength===0)return this.error=this.value[r].error,vf;n.push(o)}return Oae(n)}fromString(e){this.value=[];let n=0,r=0,o="",i=!1;do if(r=e.indexOf(".",n),r===-1?o=e.substring(n):o=e.substring(n,r),n=r+1,i){let s=this.value[0],a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}let c=parseInt(o,10);if(isNaN(c))return;s.valueDec=c+a,i=!1}else{let s=new q6;if(o>Number.MAX_SAFE_INTEGER){TB();let a=BigInt(o);s.valueBigInt=a}else if(s.valueDec=parseInt(o,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,i=!0),this.value.push(s)}while(r!==-1)}toString(){let e="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let o=this.value[r].toString();r!==0&&(e=`${e}.`),n?(o=`{${o}}`,this.value[r].isFirstSid?e=`2.{${o} - 80}`:e+=o):e+=o}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}};kB.NAME="ObjectIdentifierValueBlock";O_=class extends Pi{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,kB),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};LVe=O_;It.ObjectIdentifier=LVe;O_.NAME="OBJECT IDENTIFIER";W6=class extends Ef(lh){constructor({valueDec:e=0,...n}={}){super(n),this.valueDec=e}fromBER(e,n,r){if(r===0)return n;let o=ht.toUint8Array(e);if(!ph(this,o,n,r))return-1;let i=o.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=R_(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}let n=o1(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",vf;let r=new Uint8Array(n.byteLength);if(!e){let o=new Uint8Array(n),i=n.byteLength-1;for(let s=0;s<i;s++)r[s]=o[s]|128;r[i]=o[i]}return r.buffer}toString(){let e="";return this.isHexOnly?e=Pt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};W6.NAME="relativeSidBlock";LB=class extends Rs{constructor({value:e=Dc,...n}={}){super(n),this.value=[],e&&this.fromString(e)}fromBER(e,n,r){let o=n;for(;r>0;){let i=new W6;if(o=i.fromBER(e,o,r),o===-1)return this.blockLength=0,this.error=i.error,o;this.blockLength+=i.blockLength,r-=i.blockLength,this.value.push(i)}return o}toBER(e,n){let r=[];for(let o=0;o<this.value.length;o++){let i=this.value[o].toBER(e);if(i.byteLength===0)return this.error=this.value[o].error,vf;r.push(i)}return Oae(r)}fromString(e){this.value=[];let n=0,r=0,o="";do{r=e.indexOf(".",n),r===-1?o=e.substring(n):o=e.substring(n,r),n=r+1;let i=new W6;if(i.valueDec=parseInt(o,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(r!==-1);return!0}toString(){let e="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let o=this.value[r].toString();r!==0&&(e=`${e}.`),n&&(o=`{${o}}`),e+=o}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)e.sidArray.push(this.value[n].toJSON());return e}};LB.NAME="RelativeObjectIdentifierValueBlock";K6=class extends Pi{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,LB),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};MVe=K6;It.RelativeObjectIdentifier=MVe;K6.NAME="RelativeObjectIdentifier";ia=class extends Di{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};BVe=ia;It.Sequence=BVe;ia.NAME="SEQUENCE";Ma=class extends Di{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};UVe=Ma;It.Set=UVe;Ma.NAME="SET";MB=class extends Ef(Rs){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Dc}toJSON(){return{...super.toJSON(),value:this.value}}};MB.NAME="StringValueBlock";BB=class extends MB{};BB.NAME="SimpleStringValueBlock";Ba=class extends V6{constructor({...e}={}){super(e,BB)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,ht.toUint8Array(e))}fromString(e){let n=e.length,r=this.valueBlock.valueHexView=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=e.charCodeAt(o);this.valueBlock.value=e}};Ba.NAME="SIMPLE STRING";UB=class extends Ba{fromBuffer(e){this.valueBlock.valueHexView=ht.toUint8Array(e);try{this.valueBlock.value=Pt.ToUtf8String(e)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=Pt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Pt.FromUtf8String(e)),this.valueBlock.value=e}};UB.NAME="Utf8StringValueBlock";ju=class extends UB{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};$Ve=ju;It.Utf8String=$Ve;ju.NAME="UTF8String";$B=class extends Ba{fromBuffer(e){this.valueBlock.value=Pt.ToUtf16String(e),this.valueBlock.valueHexView=ht.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Pt.FromUtf16String(e))}};$B.NAME="BmpStringValueBlock";P_=class extends $B{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};FVe=P_;It.BmpString=FVe;P_.NAME="BMPString";FB=class extends Ba{fromBuffer(e){let n=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(n);for(let o=0;o<r.length;o+=4)r[o]=r[o+3],r[o+1]=r[o+2],r[o+2]=0,r[o+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(e){let n=e.length,r=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let o=0;o<n;o++){let i=o1(e.charCodeAt(o),8),s=new Uint8Array(i);if(s.length>4)continue;let a=4-s.length;for(let c=s.length-1;c>=0;c--)r[o*4+c+a]=s[c]}this.valueBlock.value=e}};FB.NAME="UniversalStringValueBlock";D_=class extends FB{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};HVe=D_;It.UniversalString=HVe;D_.NAME="UniversalString";k_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};GVe=k_;It.NumericString=GVe;k_.NAME="NumericString";L_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};VVe=L_;It.PrintableString=VVe;L_.NAME="PrintableString";M_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};zVe=M_;It.TeletexString=zVe;M_.NAME="TeletexString";B_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};jVe=B_;It.VideotexString=jVe;B_.NAME="VideotexString";U_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};qVe=U_;It.IA5String=qVe;U_.NAME="IA5String";$_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};WVe=$_;It.GraphicString=WVe;$_.NAME="GraphicString";i1=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};KVe=i1;It.VisibleString=KVe;i1.NAME="VisibleString";F_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};JVe=F_;It.GeneralString=JVe;F_.NAME="GeneralString";H_=class extends Ba{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};YVe=H_;It.CharacterString=YVe;H_.NAME="CharacterString";s1=class extends i1{constructor({value:e,valueDate:n,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let o=0;o<e.length;o++)this.valueBlock.valueHexView[o]=e.charCodeAt(o)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,ht.toUint8Array(e)))}toBuffer(){let e=this.toString(),n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return n}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let r=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(r===null){this.error="Wrong input string for conversion";return}let o=parseInt(r[1],10);o>=50?this.year=1900+o:this.year=2e3+o,this.month=parseInt(r[2],10),this.day=parseInt(r[3],10),this.hour=parseInt(r[4],10),this.minute=parseInt(r[5],10),this.second=parseInt(r[6],10)}toString(e="iso"){if(e==="iso"){let n=new Array(7);return n[0]=Pc(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=Pc(this.month,2),n[2]=Pc(this.day,2),n[3]=Pc(this.hour,2),n[4]=Pc(this.minute,2),n[5]=Pc(this.second,2),n[6]="Z",n.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};QVe=s1;It.UTCTime=QVe;s1.NAME="UTCTime";G_=class extends s1{constructor(e={}){var n;super(e),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){let e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let n=!1,r="",o="",i=0,s,a=0,c=0;if(e[e.length-1]==="Z")r=e.substring(0,e.length-1),n=!0;else{let d=new Number(e[e.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");r=e}if(n){if(r.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(r.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,p=r.indexOf("+"),f="";if(p===-1&&(p=r.indexOf("-"),d=-1),p!==-1){if(f=r.substring(p+1),r=r.substring(0,p),f.length!==2&&f.length!==4)throw new Error("Wrong input string for conversion");let h=parseInt(f.substring(0,2),10);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*h,f.length===4){if(h=parseInt(f.substring(2,4),10),isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");c=d*h}}}let l=r.indexOf(".");if(l===-1&&(l=r.indexOf(",")),l!==-1){let d=new Number(`0${r.substring(l)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");i=d.valueOf(),o=r.substring(0,l)}else o=r;switch(!0){case o.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,l!==-1)throw new Error("Wrong input string for conversion");break;case o.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*i;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case o.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*i;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case o.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=1e3*i;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}let u=s.exec(o);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+c;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){let d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){let n=[];return n.push(Pc(this.year,4)),n.push(Pc(this.month,2)),n.push(Pc(this.day,2)),n.push(Pc(this.hour,2)),n.push(Pc(this.minute,2)),n.push(Pc(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(Pc(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};XVe=G_;It.GeneralizedTime=XVe;G_.NAME="GeneralizedTime";J6=class extends ju{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};ZVe=J6;It.DATE=ZVe;J6.NAME="DATE";Y6=class extends ju{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};eze=Y6;It.TimeOfDay=eze;Y6.NAME="TimeOfDay";Q6=class extends ju{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};tze=Q6;It.DateTime=tze;Q6.NAME="DateTime";X6=class extends ju{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};nze=X6;It.Duration=nze;X6.NAME="Duration";Z6=class extends ju{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};rze=Z6;It.TIME=rze;Z6.NAME="TIME";Sf=class{constructor({name:e=Dc,optional:n=!1}={}){this.name=e,this.optional=n}},YA=class extends Sf{constructor({value:e=[],...n}={}){super(n),this.value=e}},V_=class extends Sf{constructor({value:e=new Sf,local:n=!1,...r}={}){super(r),this.value=e,this.local=n}},Nae=class{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=ht.toUint8Array(e)}constructor({data:e=HB}={}){this.dataView=ht.toUint8Array(e)}fromBER(e,n,r){let o=n+r;return this.dataView=ht.toUint8Array(e).subarray(n,o),o}toBER(e){return this.dataView.slice().buffer}}});var fe,Z,z_=b(()=>{"use strict";(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(fe||(fe={}));(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(Z||(Z={}))});var xf,oze=b(()=>{"use strict";a1();ah();xf=class{constructor(e,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(ht.isBufferSource(e))this.unusedBits=n,this.value=ht.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Xd))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Xd({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Xd({name:e})}toNumber(){let e="",n=new Uint8Array(this.value);for(let r of n)e+=r.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let n=e.toString(2),r=n.length+7>>3;this.unusedBits=(r<<3)-n.length;let o=new Uint8Array(r);n=n.padStart(r<<3,"0").split("").reverse().join("");let i=0;for(;i<r;)o[i]=parseInt(n.slice(i<<3,(i<<3)+8),2),i++;this.value=o.buffer}}});var Vt,ize=b(()=>{"use strict";a1();ah();Vt=class{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):ht.isBufferSource(e)?this.buffer=ht.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof Qd))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Qd({valueHex:this.buffer})}toSchema(e){return new Qd({name:e})}}});var Dae=b(()=>{"use strict";oze();ize()});function qu(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}function c1(t){switch(t){case Z.Any:return u7t;case Z.BitString:return f7t;case Z.BmpString:return g7t;case Z.Boolean:return h7t;case Z.CharacterString:return T7t;case Z.Enumerated:return p7t;case Z.GeneralString:return w7t;case Z.GeneralizedTime:return R7t;case Z.GraphicString:return A7t;case Z.IA5String:return E7t;case Z.Integer:return d7t;case Z.Null:return C7t;case Z.NumericString:return b7t;case Z.ObjectIdentifier:return m7t;case Z.OctetString:return XA;case Z.PrintableString:return _7t;case Z.TeletexString:return S7t;case Z.UTCTime:return I7t;case Z.UniversalString:return y7t;case Z.Utf8String:return kae;case Z.VideotexString:return v7t;case Z.VisibleString:return x7t;default:return null}}var u7t,d7t,p7t,Ln,f7t,m7t,h7t,XA,sze,kae,g7t,y7t,b7t,_7t,S7t,v7t,E7t,A7t,x7t,w7t,T7t,I7t,R7t,C7t,e3=b(()=>{"use strict";a1();z_();Dae();u7t={fromASN:t=>t instanceof Yd?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new Yd;let e=fh(t);if(e.result.error)throw new Error(e.result.error);return e.result}},d7t={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new dh({value:+t})},p7t={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new N_({value:t})},Ln={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new dh({valueHex:t})},f7t={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Xd({valueHex:t})},m7t={fromASN:t=>t.valueBlock.toString(),toASN:t=>new O_({value:t})},h7t={fromASN:t=>t.valueBlock.value,toASN:t=>new C_({value:t})},XA={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Qd({valueHex:t})},sze={fromASN:t=>new Vt(t.getValue()),toASN:t=>t.toASN()};kae=qu(ju),g7t=qu(P_),y7t=qu(D_),b7t=qu(k_),_7t=qu(L_),S7t=qu(M_),v7t=qu(B_),E7t=qu(U_),A7t=qu($_),x7t=qu(i1),w7t=qu(F_),T7t=qu(H_),I7t={fromASN:t=>t.toDate(),toASN:t=>new s1({valueDate:t})},R7t={fromASN:t=>t.toDate(),toASN:t=>new G_({valueDate:t})},C7t={fromASN:()=>null,toASN:()=>new Yd}});function Wu(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:Wu(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function Mae(t){var e;if(t){let n=Object.getPrototypeOf(t);return((e=n?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:Mae(n)}return!1}function aze(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);for(let o=0;o<t.byteLength;o++)if(n[o]!==r[o])return!1;return!0}var GB=b(()=>{"use strict"});var VB,cze=b(()=>{"use strict";a1();z_();GB();VB=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,n=!1){let r=this.items.get(e);if(!r)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(n&&!r.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let n=this.get(e);n.schema||(n.schema=this.create(e,!0))}createDefault(e){let n={type:fe.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(n,r),n.items=Object.assign({},n.items,r.items)),n}create(e,n){let r=this.items.get(e)||this.createDefault(e),o=[];for(let i in r.items){let s=r.items[i],a=n?i:"",c;if(typeof s.type=="number"){let u=Z[s.type],d=Af[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);c=new d({name:a})}else Wu(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===fe.Choice?c=new Sf({name:a}):(c=this.create(s.type,!1),c.name=a):c=new Sf({name:a});let l=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";let u=s.repeated==="set"?Ma:ia;c=new u({name:"",value:[new V_({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||Wu(s.type)){let u=s.repeated?Di:uh;o.push(new u({name:a,optional:l,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let u=!!s.repeated,d=u?c:this.get(s.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,o.push(new Di({name:u?"":a,optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:d}))}else o.push(new Di({optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=l,o.push(c)}switch(r.type){case fe.Sequence:return new ia({value:o,name:""});case fe.Set:return new Ma({value:o,name:""});case fe.Choice:return new YA({value:o,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,n){return this.items.set(e,n),this}findParentSchema(e){let n=Object.getPrototypeOf(e);return n?this.items.get(n)||this.findParentSchema(n):null}}});var ki,zB=b(()=>{"use strict";cze();ki=new VB});var _e,F,lze=b(()=>{"use strict";e3();z_();zB();_e=t=>e=>{let n;ki.has(e)?n=ki.get(e):(n=ki.createDefault(e),ki.set(e,n)),Object.assign(n,t)},F=t=>(e,n)=>{let r;ki.has(e.constructor)?r=ki.get(e.constructor):(r=ki.createDefault(e.constructor),ki.set(e.constructor,r));let o=Object.assign({},t);if(typeof o.type=="number"&&!o.converter){let i=c1(t.type);if(!i)throw new Error(`Cannot get default converter for property '${n}' of ${e.constructor.name}`);o.converter=i}o.raw=t.raw,r.items[n]=o}});var l1,uze=b(()=>{"use strict";l1=class extends Error{constructor(){super(...arguments),this.schemas=[]}}});var Bae=b(()=>{"use strict";uze()});var t3,Uae=b(()=>{"use strict";a1();z_();e3();Bae();GB();zB();t3=class{static parse(e,n){let r=fh(e);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,n)}static fromASN(e,n){try{if(Wu(n))return new n().fromASN(e);let r=ki.get(n);ki.cache(n);let o=r.schema,i=this.handleChoiceTypes(e,r,n,o);if(i?.result)return i.result;i?.targetSchema&&(o=i.targetSchema);let s=this.handleSequenceTypes(e,r,n,o),a=new n;return Mae(n)?this.handleArrayTypes(e,r,n):(this.processSchemaItems(r,s,a),a)}catch(r){throw r instanceof l1&&r.schemas.push(n.name),r}}static handleChoiceTypes(e,n,r,o){if(e.constructor===Di&&n.type===fe.Choice&&e.idBlock.tagClass===3)for(let i in n.items){let s=n.items[i];if(s.context===e.idBlock.tagNumber&&s.implicit&&typeof s.type=="function"&&ki.has(s.type)){let a=ki.get(s.type);if(a&&a.type===fe.Sequence){let c=new ia;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in c.valueBlock){c.valueBlock.value=e.valueBlock.value;let l=this.fromASN(c,s.type),u=new r;return u[i]=l,{result:u}}}}}else if(e.constructor===Di&&n.type!==fe.Choice){let i=new Di({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:n.schema.valueBlock.value});for(let s in n.items)delete e[s];return{targetSchema:i}}return null}static handleSequenceTypes(e,n,r,o){if(n.type===fe.Sequence){let i=ch({},e,o);if(!i.verified)throw new l1(`Data does not match to ${r.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}else{let i=ch({},e,o);if(!i.verified)throw new l1(`Data does not match to ${r.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}}static processRepeatedField(e,n,r){let o=e.slice(n);if(o.length===1&&o[0].constructor.name==="Sequence"){let i=o[0];i.valueBlock&&i.valueBlock.value&&Array.isArray(i.valueBlock.value)&&(o=i.valueBlock.value)}if(typeof r.type=="number"){let i=c1(r.type);if(!i)throw new Error(`No converter for ASN.1 type ${r.type}`);return o.filter(s=>s&&s.valueBlock).map(s=>{try{return i.fromASN(s)}catch{return}}).filter(s=>s!==void 0)}else return o.filter(i=>i&&i.valueBlock).map(i=>{try{return this.fromASN(i,r.type)}catch{return}}).filter(i=>i!==void 0)}static processPrimitiveField(e,n){let r=c1(n.type);if(!r)throw new Error(`No converter for ASN.1 type ${n.type}`);return r.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&ki.has(e.type)&&ki.get(e.type).type===fe.Choice}static processOptionalChoiceField(e,n){try{return{processed:!0,value:this.fromASN(e,n.type)}}catch(r){if(r instanceof l1&&/Wrong values for Choice type/.test(r.message))return{processed:!1};throw r}}static handleArrayTypes(e,n,r){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let o=n.itemType;if(typeof o=="number"){let i=c1(o);if(!i)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,s=>i.fromASN(s))}else return r.from(e.valueBlock.value,i=>this.fromASN(i,o))}static processSchemaItems(e,n,r){for(let o in e.items){let i=n.result[o];if(!i)continue;let s=e.items[o],a=s.type,c;typeof a=="number"||Wu(a)?c=this.processPrimitiveSchemaItem(i,s,a):c=this.processComplexSchemaItem(i,s,a),c&&typeof c=="object"&&"value"in c&&"raw"in c?(r[o]=c.value,r[`${o}Raw`]=c.raw):r[o]=c}}static processPrimitiveSchemaItem(e,n,r){var o;let i=(o=n.converter)!==null&&o!==void 0?o:Wu(r)?new r:null;if(!i)throw new Error("Converter is empty");return n.repeated?this.processRepeatedPrimitiveItem(e,n,i):this.processSinglePrimitiveItem(e,n,r,i)}static processRepeatedPrimitiveItem(e,n,r){if(n.implicit){let o=n.repeated==="sequence"?ia:Ma,i=new o;i.valueBlock=e.valueBlock;let s=fh(i.toBER(!1));if(s.offset===-1)throw new Error(`Cannot parse the child item. ${s.result.error}`);if(!("value"in s.result.valueBlock&&Array.isArray(s.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let a=s.result.valueBlock.value;return Array.from(a,c=>r.fromASN(c))}else return Array.from(e,o=>r.fromASN(o))}static processSinglePrimitiveItem(e,n,r,o){let i=e;if(n.implicit){let s;if(Wu(r))s=new r().toSchema("");else{let a=Z[r],c=Af[a];if(!c)throw new Error(`Cannot get '${a}' class from asn1js module`);s=new c}s.valueBlock=i.valueBlock,i=fh(s.toBER(!1)).result}return o.fromASN(i)}static processComplexSchemaItem(e,n,r){if(n.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,o=>this.fromASN(o,r))}else{let o=this.handleImplicitTagging(e,n,r);if(this.isOptionalChoiceField(n))try{return this.fromASN(o,r)}catch(i){if(i instanceof l1&&/Wrong values for Choice type/.test(i.message))return;throw i}else{let i=this.fromASN(o,r);return n.raw?{value:i,raw:e.valueBeforeDecodeView}:i}}}static handleImplicitTagging(e,n,r){if(n.implicit&&typeof n.context=="number"){let o=ki.get(r);if(o.type===fe.Sequence){let i=new ia;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}else if(o.type===fe.Set){let i=new Ma;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=e.valueBlock.value,i}}return e}}});var n3,$ae=b(()=>{"use strict";a1();e3();z_();GB();zB();n3=class t{static serialize(e){return e instanceof Pi?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&Wu(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");let n=e.constructor,r=ki.get(n);ki.cache(n);let o=[];if(r.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof r.itemType=="number"){let s=c1(r.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);o=e.map(a=>s.toASN(a))}else o=e.map(s=>this.toAsnItem({type:r.itemType},"[]",n,s))}else for(let s in r.items){let a=r.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&aze(this.serialize(a.defaultValue),this.serialize(c)))continue;let l=t.toAsnItem(a,s,n,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||Wu(a.type))){let u={};u.valueHex=l instanceof Yd?l.valueBeforeDecodeView:l.valueBlock.toBER(),o.push(new uh({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else o.push(new Di({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:l.valueBlock.value}));else o.push(new Di({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[l]}));else a.repeated?o=o.concat(l):o.push(l)}let i;switch(r.type){case fe.Sequence:i=new ia({value:o});break;case fe.Set:i=new Ma({value:o});break;case fe.Choice:if(!o[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);i=o[0];break}return i}static toAsnItem(e,n,r,o){let i;if(typeof e.type=="number"){let s=e.converter;if(!s)throw new Error(`Property '${n}' doesn't have converter for type ${Z[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(o,l=>s.toASN(l)),c=e.repeated==="sequence"?ia:Ma;i=new c({value:a})}else i=s.toASN(o)}else if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");let s=Array.from(o,c=>this.toASN(c)),a=e.repeated==="sequence"?ia:Ma;i=new a({value:s})}else i=this.toASN(o);return i}}});var Bt,dze=b(()=>{"use strict";Bt=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let n of e)this.push(n)}}}});var yt,pze=b(()=>{"use strict";a1();ah();Uae();$ae();yt=class t{static serialize(e){return n3.serialize(e)}static parse(e,n){return t3.parse(e,n)}static toString(e){let n=ht.isBufferSource(e)?ht.toArrayBuffer(e):t.serialize(e),r=fh(n);if(r.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${r.result.error}`);return r.result.toString()}}});var Me=b(()=>{"use strict";e3();Dae();lze();z_();Uae();$ae();Bae();dze();pze()});function P(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}var Fe=b(()=>{"use strict"});var r3,fze=b(()=>{"use strict";ah();r3=class{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){let n=e.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(r=>{let o=parseInt(r,10);if(isNaN(o)||o<0||o>255)throw new Error("Invalid IPv4 address part");return o})}static parseIPv6(e){let r=this.expandIPv6(e).split(":");if(r.length!==8)throw new Error("Invalid IPv6 address");return r.reduce((o,i)=>{let s=parseInt(i,16);if(isNaN(s)||s<0||s>65535)throw new Error("Invalid IPv6 address part");return o.push(s>>8&255),o.push(s&255),o},[])}static expandIPv6(e){if(!e.includes("::"))return e;let n=e.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");let r=n[0]?n[0].split(":"):[],o=n[1]?n[1].split(":"):[],i=8-(r.length+o.length);if(i<0)throw new Error("Invalid IPv6 address");return[...r,...Array(i).fill("0"),...o].join(":")}static formatIPv6(e){let n=[];for(let r=0;r<16;r+=2)n.push((e[r]<<8|e[r+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(e){let n=e.split(":"),r=-1,o=0,i=-1,s=0;for(let a=0;a<n.length;a++)n[a]==="0"?(i===-1&&(i=a),s++):(s>o&&(r=i,o=s),i=-1,s=0);if(s>o&&(r=i,o=s),o>1){let a=n.slice(0,r).join(":"),c=n.slice(r+o).join(":");return`${a}::${c}`}return e}static parseCIDR(e){let[n,r]=e.split("/"),o=parseInt(r,10);if(this.isIPv4(n)){if(o<0||o>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),o]}else{if(o<0||o>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),o]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let n=parseInt(e.slice(8),16).toString(2).split("").reduce((o,i)=>o+ +i,0),r=e.slice(0,8).replace(/(.{2})/g,o=>`${parseInt(o,16)}.`);return r=r.slice(0,-1),`${r}/${n}`}static toString(e){let n=new Uint8Array(e);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){let r=n.length/2,o=n.slice(0,r),i=n.slice(r);if(n.every(c=>c===0))return n.length===8?"0.0.0.0/0":"::/0";let a=i.reduce((c,l)=>c+(l.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(o).join(".")}/${a}`:`${this.formatIPv6(o)}/${a}`}return this.decodeIP(Pt.ToHex(e))}static fromString(e){if(e.includes("/")){let[r,o]=this.parseCIDR(e),i=new Uint8Array(r.length),s=o;for(let c=0;c<i.length;c++)s>=8?(i[c]=255,s-=8):s>0&&(i[c]=255<<8-s,s=0);let a=new Uint8Array(r.length*2);return a.set(r,0),a.set(i,r.length),a.buffer}let n=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(n).buffer}}});var Fae,Hae,Gae,Li,ZA,j_,u1,Vae,eo,ex=b(()=>{"use strict";Fe();Me();ah();Li=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};P([F({type:Z.TeletexString})],Li.prototype,"teletexString",void 0);P([F({type:Z.PrintableString})],Li.prototype,"printableString",void 0);P([F({type:Z.UniversalString})],Li.prototype,"universalString",void 0);P([F({type:Z.Utf8String})],Li.prototype,"utf8String",void 0);P([F({type:Z.BmpString})],Li.prototype,"bmpString",void 0);Li=P([_e({type:fe.Choice})],Li);ZA=class extends Li{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Pt.ToHex(this.anyValue):super.toString())}};P([F({type:Z.IA5String})],ZA.prototype,"ia5String",void 0);P([F({type:Z.Any})],ZA.prototype,"anyValue",void 0);ZA=P([_e({type:fe.Choice})],ZA);j_=class{constructor(e={}){this.type="",this.value=new ZA,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],j_.prototype,"type",void 0);P([F({type:ZA})],j_.prototype,"value",void 0);u1=Fae=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Fae.prototype)}};u1=Fae=P([_e({type:fe.Set,itemType:j_})],u1);Vae=Hae=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Hae.prototype)}};Vae=Hae=P([_e({type:fe.Sequence,itemType:u1})],Vae);eo=Gae=class extends Vae{constructor(e){super(e),Object.setPrototypeOf(this,Gae.prototype)}};eo=Gae=P([_e({type:fe.Sequence})],eo)});var N7t,d1,o3,Qt,q_=b(()=>{"use strict";Fe();Me();fze();ex();N7t={fromASN:t=>r3.toString(XA.fromASN(t)),toASN:t=>XA.toASN(r3.fromString(t))},d1=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],d1.prototype,"typeId",void 0);P([F({type:Z.Any,context:0})],d1.prototype,"value",void 0);o3=class{constructor(e={}){this.partyName=new Li,Object.assign(this,e)}};P([F({type:Li,optional:!0,context:0,implicit:!0})],o3.prototype,"nameAssigner",void 0);P([F({type:Li,context:1,implicit:!0})],o3.prototype,"partyName",void 0);Qt=class{constructor(e={}){Object.assign(this,e)}};P([F({type:d1,context:0,implicit:!0})],Qt.prototype,"otherName",void 0);P([F({type:Z.IA5String,context:1,implicit:!0})],Qt.prototype,"rfc822Name",void 0);P([F({type:Z.IA5String,context:2,implicit:!0})],Qt.prototype,"dNSName",void 0);P([F({type:Z.Any,context:3,implicit:!0})],Qt.prototype,"x400Address",void 0);P([F({type:eo,context:4,implicit:!1})],Qt.prototype,"directoryName",void 0);P([F({type:o3,context:5})],Qt.prototype,"ediPartyName",void 0);P([F({type:Z.IA5String,context:6,implicit:!0})],Qt.prototype,"uniformResourceIdentifier",void 0);P([F({type:Z.OctetString,context:7,implicit:!0,converter:N7t})],Qt.prototype,"iPAddress",void 0);P([F({type:Z.ObjectIdentifier,context:8,implicit:!0})],Qt.prototype,"registeredID",void 0);Qt=P([_e({type:fe.Choice})],Qt)});var p1,f1,mze,W_,jB,o9r,i9r,zae,jae,qae,Wae,gn,to=b(()=>{"use strict";p1="1.3.6.1.5.5.7",f1=`${p1}.1`,mze=`${p1}.2`,W_=`${p1}.3`,jB=`${p1}.48`,o9r=`${mze}.1`,i9r=`${mze}.2`,zae=`${jB}.1`,jae=`${jB}.2`,qae=`${jB}.3`,Wae=`${jB}.5`,gn="2.5.29"});var Kae,qB,mh,K_,Jae=b(()=>{"use strict";Fe();Me();q_();to();qB=`${f1}.1`,mh=class{constructor(e={}){this.accessMethod="",this.accessLocation=new Qt,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],mh.prototype,"accessMethod",void 0);P([F({type:Qt})],mh.prototype,"accessLocation",void 0);K_=Kae=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Kae.prototype)}};K_=Kae=P([_e({type:fe.Sequence,itemType:mh})],K_)});var WB,J_,wf,Yae=b(()=>{"use strict";Fe();Me();q_();to();WB=`${gn}.35`,J_=class extends Vt{},wf=class{constructor(e={}){e&&Object.assign(this,e)}};P([F({type:J_,context:0,optional:!0,implicit:!0})],wf.prototype,"keyIdentifier",void 0);P([F({type:Qt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],wf.prototype,"authorityCertIssuer",void 0);P([F({type:Z.Integer,context:2,optional:!0,implicit:!0,converter:Ln})],wf.prototype,"authorityCertSerialNumber",void 0)});var KB,Y_,hze=b(()=>{"use strict";Fe();Me();to();KB=`${gn}.19`,Y_=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};P([F({type:Z.Boolean,defaultValue:!1})],Y_.prototype,"cA",void 0);P([F({type:Z.Integer,optional:!0})],Y_.prototype,"pathLenConstraint",void 0)});var Qae,So,i3=b(()=>{"use strict";Fe();Me();q_();Me();So=Qae=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Qae.prototype)}};So=Qae=P([_e({type:fe.Sequence,itemType:Qt})],So)});var Xae,O7t,gze,yze=b(()=>{"use strict";Fe();Me();i3();to();O7t=`${gn}.29`,gze=Xae=class extends So{constructor(e){super(e),Object.setPrototypeOf(this,Xae.prototype)}};gze=Xae=P([_e({type:fe.Sequence})],gze)});var Zae,YB,B9r,hh,s3,a3,JB,c3,Q_,l3,bze=b(()=>{"use strict";Fe();Me();to();YB=`${gn}.32`,B9r=`${YB}.0`,hh=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};P([F({type:Z.IA5String})],hh.prototype,"ia5String",void 0);P([F({type:Z.VisibleString})],hh.prototype,"visibleString",void 0);P([F({type:Z.BmpString})],hh.prototype,"bmpString",void 0);P([F({type:Z.Utf8String})],hh.prototype,"utf8String",void 0);hh=P([_e({type:fe.Choice})],hh);s3=class{constructor(e={}){this.organization=new hh,this.noticeNumbers=[],Object.assign(this,e)}};P([F({type:hh})],s3.prototype,"organization",void 0);P([F({type:Z.Integer,repeated:"sequence"})],s3.prototype,"noticeNumbers",void 0);a3=class{constructor(e={}){Object.assign(this,e)}};P([F({type:s3,optional:!0})],a3.prototype,"noticeRef",void 0);P([F({type:hh,optional:!0})],a3.prototype,"explicitText",void 0);JB=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.IA5String})],JB.prototype,"cPSuri",void 0);P([F({type:a3})],JB.prototype,"userNotice",void 0);JB=P([_e({type:fe.Choice})],JB);c3=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],c3.prototype,"policyQualifierId",void 0);P([F({type:Z.Any})],c3.prototype,"qualifier",void 0);Q_=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Q_.prototype,"policyIdentifier",void 0);P([F({type:c3,repeated:"sequence",optional:!0})],Q_.prototype,"policyQualifiers",void 0);l3=Zae=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Zae.prototype)}};l3=Zae=P([_e({type:fe.Sequence,itemType:Q_})],l3)});var j9r,u3,ece=b(()=>{"use strict";Fe();Me();to();j9r=`${gn}.20`,u3=class{constructor(e=0){this.value=e}};P([F({type:Z.Integer})],u3.prototype,"value",void 0);u3=P([_e({type:fe.Choice})],u3)});var X9r,_ze,Sze=b(()=>{"use strict";Fe();Me();to();ece();X9r=`${gn}.27`,_ze=class extends u3{};_ze=P([_e({type:fe.Choice})],_ze)});var tce,QB,Zd,d3,gh,Tf,m1,XB=b(()=>{"use strict";Fe();Me();ex();q_();to();QB=`${gn}.31`;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(Zd||(Zd={}));d3=class extends xf{toJSON(){let e=[],n=this.toNumber();return n&Zd.aACompromise&&e.push("aACompromise"),n&Zd.affiliationChanged&&e.push("affiliationChanged"),n&Zd.cACompromise&&e.push("cACompromise"),n&Zd.certificateHold&&e.push("certificateHold"),n&Zd.cessationOfOperation&&e.push("cessationOfOperation"),n&Zd.keyCompromise&&e.push("keyCompromise"),n&Zd.privilegeWithdrawn&&e.push("privilegeWithdrawn"),n&Zd.superseded&&e.push("superseded"),n&Zd.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}},gh=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Qt,context:0,repeated:"sequence",implicit:!0})],gh.prototype,"fullName",void 0);P([F({type:u1,context:1,implicit:!0})],gh.prototype,"nameRelativeToCRLIssuer",void 0);gh=P([_e({type:fe.Choice})],gh);Tf=class{constructor(e={}){Object.assign(this,e)}};P([F({type:gh,context:0,optional:!0})],Tf.prototype,"distributionPoint",void 0);P([F({type:d3,context:1,optional:!0,implicit:!0})],Tf.prototype,"reasons",void 0);P([F({type:Qt,context:2,optional:!0,repeated:"sequence",implicit:!0})],Tf.prototype,"cRLIssuer",void 0);m1=tce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,tce.prototype)}};m1=tce=P([_e({type:fe.Sequence,itemType:Tf})],m1)});var nce,fDr,vze,Eze=b(()=>{"use strict";Fe();Me();to();XB();fDr=`${gn}.46`,vze=nce=class extends m1{constructor(e){super(e),Object.setPrototypeOf(this,nce.prototype)}};vze=nce=P([_e({type:fe.Sequence,itemType:Tf})],vze)});var vDr,ml,Aze=b(()=>{"use strict";Fe();Me();XB();to();Me();vDr=`${gn}.28`,ml=class t{constructor(e={}){this.onlyContainsUserCerts=t.ONLY,this.onlyContainsCACerts=t.ONLY,this.indirectCRL=t.ONLY,this.onlyContainsAttributeCerts=t.ONLY,Object.assign(this,e)}};ml.ONLY=!1;P([F({type:gh,context:0,optional:!0})],ml.prototype,"distributionPoint",void 0);P([F({type:Z.Boolean,context:1,defaultValue:ml.ONLY,implicit:!0})],ml.prototype,"onlyContainsUserCerts",void 0);P([F({type:Z.Boolean,context:2,defaultValue:ml.ONLY,implicit:!0})],ml.prototype,"onlyContainsCACerts",void 0);P([F({type:d3,context:3,optional:!0,implicit:!0})],ml.prototype,"onlySomeReasons",void 0);P([F({type:Z.Boolean,context:4,defaultValue:ml.ONLY,implicit:!0})],ml.prototype,"indirectCRL",void 0);P([F({type:Z.Boolean,context:5,defaultValue:ml.ONLY,implicit:!0})],ml.prototype,"onlyContainsAttributeCerts",void 0)});var xze,p3,f3,wze=b(()=>{"use strict";Fe();Me();to();xze=`${gn}.21`;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(p3||(p3={}));f3=class{constructor(e=p3.unspecified){this.reason=p3.unspecified,this.reason=e}toJSON(){return p3[this.reason]}toString(){return this.toJSON()}};P([F({type:Z.Enumerated})],f3.prototype,"reason",void 0);f3=P([_e({type:fe.Choice})],f3)});var rce,ZB,m3,PDr,Tze,Ize,Rze,Cze,Nze,Oze,Pze=b(()=>{"use strict";Fe();Me();to();ZB=`${gn}.37`,m3=rce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,rce.prototype)}};m3=rce=P([_e({type:fe.Sequence,itemType:Z.ObjectIdentifier})],m3);PDr=`${ZB}.0`,Tze=`${W_}.1`,Ize=`${W_}.2`,Rze=`${W_}.3`,Cze=`${W_}.4`,Nze=`${W_}.8`,Oze=`${W_}.9`});var BDr,oce,Dze=b(()=>{"use strict";Fe();Me();to();BDr=`${gn}.54`,oce=class{constructor(e=new ArrayBuffer(0)){this.value=e}};P([F({type:Z.Integer,converter:Ln})],oce.prototype,"value",void 0);oce=P([_e({type:fe.Choice})],oce)});var kze,h3,Lze=b(()=>{"use strict";Fe();Me();to();kze=`${gn}.24`,h3=class{constructor(e){this.value=new Date,e&&(this.value=e)}};P([F({type:Z.GeneralizedTime})],h3.prototype,"value",void 0);h3=P([_e({type:fe.Choice})],h3)});var ice,JDr,Mze,Bze=b(()=>{"use strict";Fe();Me();i3();to();JDr=`${gn}.18`,Mze=ice=class extends So{constructor(e){super(e),Object.setPrototypeOf(this,ice.prototype)}};Mze=ice=P([_e({type:fe.Sequence})],Mze)});var eU,ep,tx,Uze=b(()=>{"use strict";Me();to();eU=`${gn}.15`;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(ep||(ep={}));tx=class extends xf{toJSON(){let e=this.toNumber(),n=[];return e&ep.cRLSign&&n.push("crlSign"),e&ep.dataEncipherment&&n.push("dataEncipherment"),e&ep.decipherOnly&&n.push("decipherOnly"),e&ep.digitalSignature&&n.push("digitalSignature"),e&ep.encipherOnly&&n.push("encipherOnly"),e&ep.keyAgreement&&n.push("keyAgreement"),e&ep.keyCertSign&&n.push("keyCertSign"),e&ep.keyEncipherment&&n.push("keyEncipherment"),e&ep.nonRepudiation&&n.push("nonRepudiation"),n}toString(){return`[${this.toJSON().join(", ")}]`}}});var sce,ikr,nx,tU,nU,$ze=b(()=>{"use strict";Fe();Me();q_();to();ikr=`${gn}.30`,nx=class{constructor(e={}){this.base=new Qt,this.minimum=0,Object.assign(this,e)}};P([F({type:Qt})],nx.prototype,"base",void 0);P([F({type:Z.Integer,context:0,defaultValue:0,implicit:!0})],nx.prototype,"minimum",void 0);P([F({type:Z.Integer,context:1,optional:!0,implicit:!0})],nx.prototype,"maximum",void 0);tU=sce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,sce.prototype)}};tU=sce=P([_e({type:fe.Sequence,itemType:nx})],tU);nU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:tU,context:0,optional:!0,implicit:!0})],nU.prototype,"permittedSubtrees",void 0);P([F({type:tU,context:1,optional:!0,implicit:!0})],nU.prototype,"excludedSubtrees",void 0)});var dkr,rU,Fze=b(()=>{"use strict";Fe();Me();to();dkr=`${gn}.36`,rU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.Integer,context:0,implicit:!0,optional:!0,converter:Ln})],rU.prototype,"requireExplicitPolicy",void 0);P([F({type:Z.Integer,context:1,implicit:!0,optional:!0,converter:Ln})],rU.prototype,"inhibitPolicyMapping",void 0)});var ace,gkr,g3,Hze,Gze=b(()=>{"use strict";Fe();Me();to();gkr=`${gn}.33`,g3=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],g3.prototype,"issuerDomainPolicy",void 0);P([F({type:Z.ObjectIdentifier})],g3.prototype,"subjectDomainPolicy",void 0);Hze=ace=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,ace.prototype)}};Hze=ace=P([_e({type:fe.Sequence,itemType:g3})],Hze)});var cce,lce,oU,Vze=b(()=>{"use strict";Fe();Me();i3();to();lce=`${gn}.17`,oU=cce=class extends So{constructor(e){super(e),Object.setPrototypeOf(this,cce.prototype)}};oU=cce=P([_e({type:fe.Sequence})],oU)});var Cs,uce=b(()=>{"use strict";Fe();Me();Cs=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Cs.prototype,"type",void 0);P([F({type:Z.Any,repeated:"set"})],Cs.prototype,"values",void 0)});var dce,Pkr,zze,jze=b(()=>{"use strict";Fe();Me();uce();to();Pkr=`${gn}.9`,zze=dce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,dce.prototype)}};zze=dce=P([_e({type:fe.Sequence,itemType:Cs})],zze)});var pce,kc,qze=b(()=>{"use strict";to();Yae();pce=`${gn}.14`,kc=class extends J_{}});var Hkr,iU,Wze=b(()=>{"use strict";Fe();Me();to();Hkr=`${gn}.16`,iU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.GeneralizedTime,context:0,implicit:!0,optional:!0})],iU.prototype,"notBefore",void 0);P([F({type:Z.GeneralizedTime,context:1,implicit:!0,optional:!0})],iU.prototype,"notAfter",void 0)});var y3,sU,aU,Kze=b(()=>{"use strict";Fe();Me();(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(y3||(y3={}));sU=class extends xf{toJSON(){let e=[],n=this.toNumber();return n&y3.pKIXCertificate&&e.push("pKIXCertificate"),n&y3.newExtensions&&e.push("newExtensions"),n&y3.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}},aU=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new sU,Object.assign(this,e)}};P([F({type:Z.GeneralString})],aU.prototype,"entrustVers",void 0);P([F({type:sU})],aU.prototype,"entrustInfoFlags",void 0)});var fce,Ykr,Jze,Yze=b(()=>{"use strict";Fe();Me();to();Jae();Ykr=`${f1}.11`,Jze=fce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,fce.prototype)}};Jze=fce=P([_e({type:fe.Sequence,itemType:mh})],Jze)});var Qze=b(()=>{"use strict";Jae();Yae();hze();yze();bze();Sze();XB();Eze();Aze();ece();wze();Pze();Dze();Lze();Bze();Uze();$ze();Fze();Gze();Vze();jze();qze();Wze();Kze();Yze()});var et,X_=b(()=>{"use strict";Fe();Me();ah();et=class t{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof t&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&xB(e.parameters,this.parameters)||e.parameters===this.parameters)}};P([F({type:Z.ObjectIdentifier})],et.prototype,"algorithm",void 0);P([F({type:Z.Any,optional:!0})],et.prototype,"parameters",void 0)});var sa,mce=b(()=>{"use strict";Fe();Me();X_();sa=class{constructor(e={}){this.algorithm=new et,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:et})],sa.prototype,"algorithm",void 0);P([F({type:Z.BitString})],sa.prototype,"subjectPublicKey",void 0)});var qo,cU=b(()=>{"use strict";Fe();Me();qo=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){let n=new Date(e);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};P([F({type:Z.UTCTime})],qo.prototype,"utcTime",void 0);P([F({type:Z.GeneralizedTime})],qo.prototype,"generalTime",void 0);qo=P([_e({type:fe.Choice})],qo)});var h1,hce=b(()=>{"use strict";Fe();Me();cU();h1=class{constructor(e){this.notBefore=new qo(new Date),this.notAfter=new qo(new Date),e&&(this.notBefore=new qo(e.notBefore),this.notAfter=new qo(e.notAfter))}};P([F({type:qo})],h1.prototype,"notBefore",void 0);P([F({type:qo})],h1.prototype,"notAfter",void 0)});var gce,aa,Ku,lU=b(()=>{"use strict";Fe();Me();aa=class t{constructor(e={}){this.extnID="",this.critical=t.CRITICAL,this.extnValue=new Vt,Object.assign(this,e)}};aa.CRITICAL=!1;P([F({type:Z.ObjectIdentifier})],aa.prototype,"extnID",void 0);P([F({type:Z.Boolean,defaultValue:aa.CRITICAL})],aa.prototype,"critical",void 0);P([F({type:Vt})],aa.prototype,"extnValue",void 0);Ku=gce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,gce.prototype)}};Ku=gce=P([_e({type:fe.Sequence,itemType:aa})],Ku)});var yh,yce=b(()=>{"use strict";(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(yh||(yh={}))});var ca,bce=b(()=>{"use strict";Fe();Me();X_();ex();mce();hce();lU();yce();ca=class{constructor(e={}){this.version=yh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new et,this.issuer=new eo,this.validity=new h1,this.subject=new eo,this.subjectPublicKeyInfo=new sa,Object.assign(this,e)}};P([F({type:Z.Integer,context:0,defaultValue:yh.v1})],ca.prototype,"version",void 0);P([F({type:Z.Integer,converter:Ln})],ca.prototype,"serialNumber",void 0);P([F({type:et})],ca.prototype,"signature",void 0);P([F({type:eo})],ca.prototype,"issuer",void 0);P([F({type:h1})],ca.prototype,"validity",void 0);P([F({type:eo})],ca.prototype,"subject",void 0);P([F({type:sa})],ca.prototype,"subjectPublicKeyInfo",void 0);P([F({type:Z.BitString,context:1,implicit:!0,optional:!0})],ca.prototype,"issuerUniqueID",void 0);P([F({type:Z.BitString,context:2,implicit:!0,optional:!0})],ca.prototype,"subjectUniqueID",void 0);P([F({type:Ku,context:3,optional:!0})],ca.prototype,"extensions",void 0)});var tp,Xze=b(()=>{"use strict";Fe();Me();X_();bce();tp=class{constructor(e={}){this.tbsCertificate=new ca,this.signatureAlgorithm=new et,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:ca,raw:!0})],tp.prototype,"tbsCertificate",void 0);P([F({type:et})],tp.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],tp.prototype,"signatureValue",void 0)});var Z_,hl,_ce=b(()=>{"use strict";Fe();Me();X_();ex();cU();lU();Z_=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new qo,Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ln})],Z_.prototype,"userCertificate",void 0);P([F({type:qo})],Z_.prototype,"revocationDate",void 0);P([F({type:aa,optional:!0,repeated:"sequence"})],Z_.prototype,"crlEntryExtensions",void 0);hl=class{constructor(e={}){this.signature=new et,this.issuer=new eo,this.thisUpdate=new qo,Object.assign(this,e)}};P([F({type:Z.Integer,optional:!0})],hl.prototype,"version",void 0);P([F({type:et})],hl.prototype,"signature",void 0);P([F({type:eo})],hl.prototype,"issuer",void 0);P([F({type:qo})],hl.prototype,"thisUpdate",void 0);P([F({type:qo,optional:!0})],hl.prototype,"nextUpdate",void 0);P([F({type:Z_,repeated:"sequence",optional:!0})],hl.prototype,"revokedCertificates",void 0);P([F({type:aa,optional:!0,context:0,repeated:"sequence"})],hl.prototype,"crlExtensions",void 0)});var eS,Zze=b(()=>{"use strict";Fe();Me();X_();_ce();eS=class{constructor(e={}){this.tbsCertList=new hl,this.signatureAlgorithm=new et,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:hl,raw:!0})],eS.prototype,"tbsCertList",void 0);P([F({type:et})],eS.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],eS.prototype,"signature",void 0)});var Wn=b(()=>{"use strict";Qze();X_();uce();Xze();Zze();lU();q_();i3();ex();to();mce();_ce();bce();cU();yce();hce()});var np,b3=b(()=>{"use strict";Fe();Me();Wn();np=class{constructor(e={}){this.issuer=new eo,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:eo})],np.prototype,"issuer",void 0);P([F({type:Z.Integer,converter:Ln})],np.prototype,"serialNumber",void 0)});var tS,Sce=b(()=>{"use strict";Fe();Me();b3();Wn();tS=class{constructor(e={}){Object.assign(this,e)}};P([F({type:kc,context:0,implicit:!0})],tS.prototype,"subjectKeyIdentifier",void 0);P([F({type:np})],tS.prototype,"issuerAndSerialNumber",void 0);tS=P([_e({type:fe.Choice})],tS)});var Ns,nS,_3,Lc,S3,tje,uU,If=b(()=>{"use strict";Fe();Wn();Me();(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(Ns||(Ns={}));nS=class extends et{};nS=P([_e({type:fe.Sequence})],nS);_3=class extends et{};_3=P([_e({type:fe.Sequence})],_3);Lc=class extends et{};Lc=P([_e({type:fe.Sequence})],Lc);S3=class extends et{};S3=P([_e({type:fe.Sequence})],S3);tje=class extends et{};tje=P([_e({type:fe.Sequence})],tje);uU=class extends et{};uU=P([_e({type:fe.Sequence})],uU)});var rp,dU=b(()=>{"use strict";Fe();Me();rp=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],rp.prototype,"attrType",void 0);P([F({type:Z.Any,repeated:"set"})],rp.prototype,"attrValues",void 0)});var vce,Mc,v3,pU=b(()=>{"use strict";Fe();Me();Sce();If();dU();Mc=class{constructor(e={}){this.version=Ns.v0,this.sid=new tS,this.digestAlgorithm=new nS,this.signatureAlgorithm=new _3,this.signature=new Vt,Object.assign(this,e)}};P([F({type:Z.Integer})],Mc.prototype,"version",void 0);P([F({type:tS})],Mc.prototype,"sid",void 0);P([F({type:nS})],Mc.prototype,"digestAlgorithm",void 0);P([F({type:rp,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],Mc.prototype,"signedAttrs",void 0);P([F({type:_3})],Mc.prototype,"signatureAlgorithm",void 0);P([F({type:Vt})],Mc.prototype,"signature",void 0);P([F({type:rp,repeated:"set",context:1,implicit:!0,optional:!0})],Mc.prototype,"unsignedAttrs",void 0);v3=vce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,vce.prototype)}};v3=vce=P([_e({type:fe.Set,itemType:Mc})],v3)});var nje,rje=b(()=>{"use strict";Fe();Me();pU();nje=class extends Mc{};nje=P([_e({type:fe.Sequence})],nje)});var oje=b(()=>{"use strict";Me()});var ije,sje=b(()=>{"use strict";Fe();Wn();Me();ije=class extends qo{};ije=P([_e({type:fe.Choice})],ije)});var aje=b(()=>{"use strict";rje();oje();sje()});var E3,cje=b(()=>{"use strict";Fe();Me();Wn();E3=class{constructor(e={}){this.acIssuer=new Qt,this.acSerial=0,this.attrs=[],Object.assign(this,e)}};P([F({type:Qt})],E3.prototype,"acIssuer",void 0);P([F({type:Z.Integer})],E3.prototype,"acSerial",void 0);P([F({type:Cs,repeated:"sequence"})],E3.prototype,"attrs",void 0)});var Ece,A3,Ace=b(()=>{"use strict";Fe();Me();A3=Ece=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Ece.prototype)}};A3=Ece=P([_e({type:fe.Sequence,itemType:Z.ObjectIdentifier})],A3)});var rx,lje=b(()=>{"use strict";Fe();Me();Ace();rx=class{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}};P([F({type:Z.Integer,optional:!0})],rx.prototype,"pathLenConstraint",void 0);P([F({type:A3,implicit:!0,context:0,optional:!0})],rx.prototype,"permittedAttrs",void 0);P([F({type:A3,implicit:!0,context:1,optional:!0})],rx.prototype,"excludedAttrs",void 0);P([F({type:Z.Boolean,defaultValue:!0})],rx.prototype,"permitUnSpecified",void 0)});var Ju,x3=b(()=>{"use strict";Fe();Me();Wn();Ju=class{constructor(e={}){this.issuer=new So,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:So})],Ju.prototype,"issuer",void 0);P([F({type:Z.Integer,converter:Ln})],Ju.prototype,"serial",void 0);P([F({type:Z.BitString,optional:!0})],Ju.prototype,"issuerUID",void 0)});var xce,Yu,w3=b(()=>{"use strict";Fe();Me();Wn();(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(xce||(xce={}));Yu=class{constructor(e={}){this.digestedObjectType=xce.publicKey,this.digestAlgorithm=new et,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Enumerated})],Yu.prototype,"digestedObjectType",void 0);P([F({type:Z.ObjectIdentifier,optional:!0})],Yu.prototype,"otherObjectTypeID",void 0);P([F({type:et})],Yu.prototype,"digestAlgorithm",void 0);P([F({type:Z.BitString})],Yu.prototype,"objectDigest",void 0)});var rS,wce=b(()=>{"use strict";Fe();Me();Wn();x3();w3();rS=class{constructor(e={}){Object.assign(this,e)}};P([F({type:So,optional:!0})],rS.prototype,"issuerName",void 0);P([F({type:Ju,context:0,implicit:!0,optional:!0})],rS.prototype,"baseCertificateID",void 0);P([F({type:Yu,context:1,implicit:!0,optional:!0})],rS.prototype,"objectDigestInfo",void 0)});var oS,Tce=b(()=>{"use strict";Fe();Me();Wn();wce();oS=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Qt,repeated:"sequence"})],oS.prototype,"v1Form",void 0);P([F({type:rS,context:0,implicit:!0})],oS.prototype,"v2Form",void 0);oS=P([_e({type:fe.Choice})],oS)});var iS,Ice=b(()=>{"use strict";Fe();Me();iS=class{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}};P([F({type:Z.GeneralizedTime})],iS.prototype,"notBeforeTime",void 0);P([F({type:Z.GeneralizedTime})],iS.prototype,"notAfterTime",void 0)});var g1,Rce=b(()=>{"use strict";Fe();Me();x3();Wn();w3();g1=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Ju,implicit:!0,context:0,optional:!0})],g1.prototype,"baseCertificateID",void 0);P([F({type:So,implicit:!0,context:1,optional:!0})],g1.prototype,"entityName",void 0);P([F({type:Yu,implicit:!0,context:2,optional:!0})],g1.prototype,"objectDigestInfo",void 0)});var Cce,Bc,Nce=b(()=>{"use strict";Fe();Me();Wn();Rce();Tce();Ice();(function(t){t[t.v2=1]="v2"})(Cce||(Cce={}));Bc=class{constructor(e={}){this.version=Cce.v2,this.holder=new g1,this.issuer=new oS,this.signature=new et,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new iS,this.attributes=[],Object.assign(this,e)}};P([F({type:Z.Integer})],Bc.prototype,"version",void 0);P([F({type:g1})],Bc.prototype,"holder",void 0);P([F({type:oS})],Bc.prototype,"issuer",void 0);P([F({type:et})],Bc.prototype,"signature",void 0);P([F({type:Z.Integer,converter:Ln})],Bc.prototype,"serialNumber",void 0);P([F({type:iS})],Bc.prototype,"attrCertValidityPeriod",void 0);P([F({type:Cs,repeated:"sequence"})],Bc.prototype,"attributes",void 0);P([F({type:Z.BitString,optional:!0})],Bc.prototype,"issuerUniqueID",void 0);P([F({type:Ku,optional:!0})],Bc.prototype,"extensions",void 0)});var sS,uje=b(()=>{"use strict";Fe();Me();Wn();Nce();sS=class{constructor(e={}){this.acinfo=new Bc,this.signatureAlgorithm=new et,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Bc})],sS.prototype,"acinfo",void 0);P([F({type:et})],sS.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],sS.prototype,"signatureValue",void 0)});var T3,ox,Oce=b(()=>{"use strict";Me();(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(T3||(T3={}));ox=class extends xf{}});var ix,Pce=b(()=>{"use strict";Fe();Me();ix=class{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier,implicit:!0,context:0})],ix.prototype,"type",void 0);P([F({type:Z.Any,implicit:!0,context:1})],ix.prototype,"value",void 0)});var I3,dje=b(()=>{"use strict";Fe();Me();Oce();Pce();I3=class{constructor(e={}){this.policyId="",this.classList=new ox(T3.unclassified),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],I3.prototype,"policyId",void 0);P([F({type:ox,defaultValue:new ox(T3.unclassified)})],I3.prototype,"classList",void 0);P([F({type:ix,repeated:"set"})],I3.prototype,"securityCategories",void 0)});var sx,fU,pje=b(()=>{"use strict";Fe();Me();Wn();sx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Vt})],sx.prototype,"cotets",void 0);P([F({type:Z.ObjectIdentifier})],sx.prototype,"oid",void 0);P([F({type:Z.Utf8String})],sx.prototype,"string",void 0);fU=class{constructor(e={}){this.values=[],Object.assign(this,e)}};P([F({type:So,implicit:!0,context:0,optional:!0})],fU.prototype,"policyAuthority",void 0);P([F({type:sx,repeated:"sequence"})],fU.prototype,"values",void 0)});var $Br,FBr,HBr,GBr,R3,VBr,zBr,jBr,qBr,WBr,Dce,KBr,fje=b(()=>{"use strict";Wn();$Br=`${f1}.4`,FBr=`${f1}.6`,HBr=`${f1}.10`,GBr=`${gn}.55`,R3=`${p1}.10`,VBr=`${R3}.1`,zBr=`${R3}.2`,jBr=`${R3}.3`,qBr=`${R3}.4`,WBr=`${R3}.6`,Dce="2.5.4",KBr=`${Dce}.72`});var kce,ax,cx,mU,Lce=b(()=>{"use strict";Fe();Me();Wn();x3();w3();ax=class{constructor(e={}){this.targetCertificate=new Ju,Object.assign(this,e)}};P([F({type:Ju})],ax.prototype,"targetCertificate",void 0);P([F({type:Qt,optional:!0})],ax.prototype,"targetName",void 0);P([F({type:Yu,optional:!0})],ax.prototype,"certDigestInfo",void 0);cx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Qt,context:0,implicit:!0})],cx.prototype,"targetName",void 0);P([F({type:Qt,context:1,implicit:!0})],cx.prototype,"targetGroup",void 0);P([F({type:ax,context:2,implicit:!0})],cx.prototype,"targetCert",void 0);cx=P([_e({type:fe.Choice})],cx);mU=kce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,kce.prototype)}};mU=kce=P([_e({type:fe.Sequence,itemType:cx})],mU)});var Mce,mje,hje=b(()=>{"use strict";Fe();Me();Lce();mje=Mce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Mce.prototype)}};mje=Mce=P([_e({type:fe.Sequence,itemType:mU})],mje)});var hU,gje=b(()=>{"use strict";Fe();Me();Wn();hU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:So,implicit:!0,context:0,optional:!0})],hU.prototype,"roleAuthority",void 0);P([F({type:Qt,implicit:!0,context:1})],hU.prototype,"roleName",void 0)});var C3,yje=b(()=>{"use strict";Fe();Me();Wn();C3=class{constructor(e={}){this.service=new Qt,this.ident=new Qt,Object.assign(this,e)}};P([F({type:Qt})],C3.prototype,"service",void 0);P([F({type:Qt})],C3.prototype,"ident",void 0);P([F({type:Vt,optional:!0})],C3.prototype,"authInfo",void 0)});var Bce=b(()=>{"use strict";cje();lje();Tce();Ice();Ace();uje();Nce();Oce();dje();Rce();pje();x3();w3();fje();hje();gje();Pce();yje();Lce();wce()});var Uce,N3,aS,cS,gU=b(()=>{"use strict";Fe();Me();Wn();Bce();N3=class{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],N3.prototype,"otherCertFormat",void 0);P([F({type:Z.Any})],N3.prototype,"otherCert",void 0);aS=class{constructor(e={}){Object.assign(this,e)}};P([F({type:tp})],aS.prototype,"certificate",void 0);P([F({type:sS,context:2,implicit:!0})],aS.prototype,"v2AttrCert",void 0);P([F({type:N3,context:3,implicit:!0})],aS.prototype,"other",void 0);aS=P([_e({type:fe.Choice})],aS);cS=Uce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Uce.prototype)}};cS=Uce=P([_e({type:fe.Set,itemType:aS})],cS)});var Qu,bje=b(()=>{"use strict";Fe();Me();Qu=class{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Qu.prototype,"contentType",void 0);P([F({type:Z.Any,context:0})],Qu.prototype,"content",void 0)});var lx,lS,$ce=b(()=>{"use strict";Fe();Me();lx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Vt})],lx.prototype,"single",void 0);P([F({type:Z.Any})],lx.prototype,"any",void 0);lx=P([_e({type:fe.Choice})],lx);lS=class{constructor(e={}){this.eContentType="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],lS.prototype,"eContentType",void 0);P([F({type:lx,context:0,optional:!0})],lS.prototype,"eContent",void 0)});var O3,y1,Fce=b(()=>{"use strict";Fe();Me();If();O3=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Vt,context:0,implicit:!0,optional:!0})],O3.prototype,"value",void 0);P([F({type:Vt,converter:sze,context:0,implicit:!0,optional:!0,repeated:"sequence"})],O3.prototype,"constructedValue",void 0);O3=P([_e({type:fe.Choice})],O3);y1=class{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new S3,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],y1.prototype,"contentType",void 0);P([F({type:S3})],y1.prototype,"contentEncryptionAlgorithm",void 0);P([F({type:O3,optional:!0})],y1.prototype,"encryptedContent",void 0)});var b1,Hce=b(()=>{"use strict";Fe();Me();b1=class{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],b1.prototype,"keyAttrId",void 0);P([F({type:Z.Any,optional:!0})],b1.prototype,"keyAttr",void 0)});var Gce,ux,dx,P3,yU,D3,uS,bh,Vce=b(()=>{"use strict";Fe();Me();If();b3();Wn();Hce();ux=class{constructor(e={}){this.subjectKeyIdentifier=new kc,Object.assign(this,e)}};P([F({type:kc})],ux.prototype,"subjectKeyIdentifier",void 0);P([F({type:Z.GeneralizedTime,optional:!0})],ux.prototype,"date",void 0);P([F({type:b1,optional:!0})],ux.prototype,"other",void 0);dx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:ux,context:0,implicit:!0,optional:!0})],dx.prototype,"rKeyId",void 0);P([F({type:np,optional:!0})],dx.prototype,"issuerAndSerialNumber",void 0);dx=P([_e({type:fe.Choice})],dx);P3=class{constructor(e={}){this.rid=new dx,this.encryptedKey=new Vt,Object.assign(this,e)}};P([F({type:dx})],P3.prototype,"rid",void 0);P([F({type:Vt})],P3.prototype,"encryptedKey",void 0);yU=Gce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Gce.prototype)}};yU=Gce=P([_e({type:fe.Sequence,itemType:P3})],yU);D3=class{constructor(e={}){this.algorithm=new et,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:et})],D3.prototype,"algorithm",void 0);P([F({type:Z.BitString})],D3.prototype,"publicKey",void 0);uS=class{constructor(e={}){Object.assign(this,e)}};P([F({type:kc,context:0,implicit:!0,optional:!0})],uS.prototype,"subjectKeyIdentifier",void 0);P([F({type:D3,context:1,implicit:!0,optional:!0})],uS.prototype,"originatorKey",void 0);P([F({type:np,optional:!0})],uS.prototype,"issuerAndSerialNumber",void 0);uS=P([_e({type:fe.Choice})],uS);bh=class{constructor(e={}){this.version=Ns.v3,this.originator=new uS,this.keyEncryptionAlgorithm=new Lc,this.recipientEncryptedKeys=new yU,Object.assign(this,e)}};P([F({type:Z.Integer})],bh.prototype,"version",void 0);P([F({type:uS,context:0})],bh.prototype,"originator",void 0);P([F({type:Vt,context:1,optional:!0})],bh.prototype,"ukm",void 0);P([F({type:Lc})],bh.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:yU})],bh.prototype,"recipientEncryptedKeys",void 0)});var px,_1,zce=b(()=>{"use strict";Fe();Me();If();b3();Wn();px=class{constructor(e={}){Object.assign(this,e)}};P([F({type:kc,context:0,implicit:!0})],px.prototype,"subjectKeyIdentifier",void 0);P([F({type:np})],px.prototype,"issuerAndSerialNumber",void 0);px=P([_e({type:fe.Choice})],px);_1=class{constructor(e={}){this.version=Ns.v0,this.rid=new px,this.keyEncryptionAlgorithm=new Lc,this.encryptedKey=new Vt,Object.assign(this,e)}};P([F({type:Z.Integer})],_1.prototype,"version",void 0);P([F({type:px})],_1.prototype,"rid",void 0);P([F({type:Lc})],_1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Vt})],_1.prototype,"encryptedKey",void 0)});var dS,S1,jce=b(()=>{"use strict";Fe();Me();Hce();If();dS=class{constructor(e={}){this.keyIdentifier=new Vt,Object.assign(this,e)}};P([F({type:Vt})],dS.prototype,"keyIdentifier",void 0);P([F({type:Z.GeneralizedTime,optional:!0})],dS.prototype,"date",void 0);P([F({type:b1,optional:!0})],dS.prototype,"other",void 0);S1=class{constructor(e={}){this.version=Ns.v4,this.kekid=new dS,this.keyEncryptionAlgorithm=new Lc,this.encryptedKey=new Vt,Object.assign(this,e)}};P([F({type:Z.Integer})],S1.prototype,"version",void 0);P([F({type:dS})],S1.prototype,"kekid",void 0);P([F({type:Lc})],S1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Vt})],S1.prototype,"encryptedKey",void 0)});var v1,qce=b(()=>{"use strict";Fe();Me();If();v1=class{constructor(e={}){this.version=Ns.v0,this.keyEncryptionAlgorithm=new Lc,this.encryptedKey=new Vt,Object.assign(this,e)}};P([F({type:Z.Integer})],v1.prototype,"version",void 0);P([F({type:uU,context:0,optional:!0})],v1.prototype,"keyDerivationAlgorithm",void 0);P([F({type:Lc})],v1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Vt})],v1.prototype,"encryptedKey",void 0)});var k3,_h,Wce=b(()=>{"use strict";Fe();Me();Vce();zce();jce();qce();k3=class{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],k3.prototype,"oriType",void 0);P([F({type:Z.Any})],k3.prototype,"oriValue",void 0);_h=class{constructor(e={}){Object.assign(this,e)}};P([F({type:_1,optional:!0})],_h.prototype,"ktri",void 0);P([F({type:bh,context:1,implicit:!0,optional:!0})],_h.prototype,"kari",void 0);P([F({type:S1,context:2,implicit:!0,optional:!0})],_h.prototype,"kekri",void 0);P([F({type:v1,context:3,implicit:!0,optional:!0})],_h.prototype,"pwri",void 0);P([F({type:k3,context:4,implicit:!0,optional:!0})],_h.prototype,"ori",void 0);_h=P([_e({type:fe.Choice})],_h)});var Kce,L3,Jce=b(()=>{"use strict";Fe();Me();Wce();L3=Kce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Kce.prototype)}};L3=Kce=P([_e({type:fe.Set,itemType:_h})],L3)});var Yce,_je,W$r,K$r,fx,bU,mx,_U=b(()=>{"use strict";Fe();Me();Wn();_je=`${p1}.16`,W$r=`${_je}.2`,K$r=`${_je}.4`,fx=class{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],fx.prototype,"otherRevInfoFormat",void 0);P([F({type:Z.Any})],fx.prototype,"otherRevInfo",void 0);bU=class{constructor(e={}){this.other=new fx,Object.assign(this,e)}};P([F({type:fx,context:1,implicit:!0})],bU.prototype,"other",void 0);bU=P([_e({type:fe.Choice})],bU);mx=Yce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Yce.prototype)}};mx=Yce=P([_e({type:fe.Set,itemType:bU})],mx)});var hx,Qce=b(()=>{"use strict";Fe();Me();gU();_U();hx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:cS,context:0,implicit:!0,optional:!0})],hx.prototype,"certs",void 0);P([F({type:mx,context:1,implicit:!0,optional:!0})],hx.prototype,"crls",void 0)});var Xce,Zce,pS,Sje=b(()=>{"use strict";Fe();Me();If();dU();Jce();Qce();Fce();Zce=Xce=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Xce.prototype)}};Zce=Xce=P([_e({type:fe.Set,itemType:rp})],Zce);pS=class{constructor(e={}){this.version=Ns.v0,this.recipientInfos=new L3,this.encryptedContentInfo=new y1,Object.assign(this,e)}};P([F({type:Z.Integer})],pS.prototype,"version",void 0);P([F({type:hx,context:0,implicit:!0,optional:!0})],pS.prototype,"originatorInfo",void 0);P([F({type:L3})],pS.prototype,"recipientInfos",void 0);P([F({type:y1})],pS.prototype,"encryptedContentInfo",void 0);P([F({type:Zce,context:1,implicit:!0,optional:!0})],pS.prototype,"unprotectedAttrs",void 0)});var vje,Eje=b(()=>{"use strict";vje="1.2.840.113549.1.7.2"});var ele,SU,Sh,Aje=b(()=>{"use strict";Fe();Me();gU();If();$ce();_U();pU();SU=ele=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,ele.prototype)}};SU=ele=P([_e({type:fe.Set,itemType:nS})],SU);Sh=class{constructor(e={}){this.version=Ns.v0,this.digestAlgorithms=new SU,this.encapContentInfo=new lS,this.signerInfos=new v3,Object.assign(this,e)}};P([F({type:Z.Integer})],Sh.prototype,"version",void 0);P([F({type:SU})],Sh.prototype,"digestAlgorithms",void 0);P([F({type:lS})],Sh.prototype,"encapContentInfo",void 0);P([F({type:cS,context:0,implicit:!0,optional:!0})],Sh.prototype,"certificates",void 0);P([F({type:mx,context:1,implicit:!0,optional:!0})],Sh.prototype,"crls",void 0);P([F({type:v3})],Sh.prototype,"signerInfos",void 0)});var M3=b(()=>{"use strict";aje();dU();gU();bje();$ce();Fce();Sje();b3();jce();Vce();zce();Eje();Qce();qce();Wce();Jce();_U();Aje();Sce();pU();If()});var fS,B3,vU,U3,$3,F3,tle,nle,rle,ole=b(()=>{"use strict";fS="1.2.840.10045.2.1",B3="1.2.840.10045.4.1",vU="1.2.840.10045.4.3.1",U3="1.2.840.10045.4.3.2",$3="1.2.840.10045.4.3.3",F3="1.2.840.10045.4.3.4",tle="1.2.840.10045.3.1.7",nle="1.3.132.0.34",rle="1.3.132.0.35"});function H3(t){return new et({algorithm:t})}var wje,zFr,Tje,Ije,Rje,Cje=b(()=>{"use strict";Wn();ole();wje=H3(B3),zFr=H3(vU),Tje=H3(U3),Ije=H3($3),Rje=H3(F3)});var G3,ile,gx,sle,Rf,ale=b(()=>{"use strict";Fe();Me();G3=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],G3.prototype,"fieldType",void 0);P([F({type:Z.Any})],G3.prototype,"parameters",void 0);G3=P([_e({type:fe.Sequence})],G3);ile=class extends Vt{},gx=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.OctetString})],gx.prototype,"a",void 0);P([F({type:Z.OctetString})],gx.prototype,"b",void 0);P([F({type:Z.BitString,optional:!0})],gx.prototype,"seed",void 0);gx=P([_e({type:fe.Sequence})],gx);(function(t){t[t.ecpVer1=1]="ecpVer1"})(sle||(sle={}));Rf=class{constructor(e={}){this.version=sle.ecpVer1,Object.assign(this,e)}};P([F({type:Z.Integer})],Rf.prototype,"version",void 0);P([F({type:G3})],Rf.prototype,"fieldID",void 0);P([F({type:gx})],Rf.prototype,"curve",void 0);P([F({type:ile})],Rf.prototype,"base",void 0);P([F({type:Z.Integer,converter:Ln})],Rf.prototype,"order",void 0);P([F({type:Z.Integer,optional:!0})],Rf.prototype,"cofactor",void 0);Rf=P([_e({type:fe.Sequence})],Rf)});var Cf,cle=b(()=>{"use strict";Fe();Me();ale();Cf=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Cf.prototype,"namedCurve",void 0);P([F({type:Z.Null})],Cf.prototype,"implicitCurve",void 0);P([F({type:Rf})],Cf.prototype,"specifiedCurve",void 0);Cf=P([_e({type:fe.Choice})],Cf)});var yx,Nje=b(()=>{"use strict";Fe();Me();cle();yx=class{constructor(e={}){this.version=1,this.privateKey=new Vt,Object.assign(this,e)}};P([F({type:Z.Integer})],yx.prototype,"version",void 0);P([F({type:Vt})],yx.prototype,"privateKey",void 0);P([F({type:Cf,context:0,optional:!0})],yx.prototype,"parameters",void 0);P([F({type:Z.BitString,context:1,optional:!0})],yx.prototype,"publicKey",void 0)});var mS,Oje=b(()=>{"use strict";Fe();Me();mS=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ln})],mS.prototype,"r",void 0);P([F({type:Z.Integer,converter:Ln})],mS.prototype,"s",void 0)});var lle=b(()=>{"use strict";Cje();cle();Nje();Oje();ole();ale()});var Uc,Nf,Pje,Dje,E1,kje,Lje,bx,Mje,EU,_x,Sx,ule,dle,hS,AU,gS,yS,bS,Bje,Uje,$je,Fje,A1,V3=b(()=>{"use strict";Uc="1.2.840.113549.1.1",Nf=`${Uc}.1`,Pje=`${Uc}.7`,Dje=`${Uc}.9`,E1=`${Uc}.10`,kje=`${Uc}.2`,Lje=`${Uc}.4`,bx=`${Uc}.5`,Mje=`${Uc}.14`,EU=`${Uc}.11`,_x=`${Uc}.12`,Sx=`${Uc}.13`,ule=`${Uc}.15`,dle=`${Uc}.16`,hS="1.3.14.3.2.26",AU="2.16.840.1.101.3.4.2.4",gS="2.16.840.1.101.3.4.2.1",yS="2.16.840.1.101.3.4.2.2",bS="2.16.840.1.101.3.4.2.3",Bje="2.16.840.1.101.3.4.2.5",Uje="2.16.840.1.101.3.4.2.6",$je="1.2.840.113549.2.2",Fje="1.2.840.113549.2.5",A1=`${Uc}.8`});function ji(t){return new et({algorithm:t,parameters:null})}var bHr,_Hr,vh,SHr,vHr,EHr,AHr,xHr,wHr,xU,ple,THr,IHr,RHr,CHr,NHr,OHr,PHr,DHr,kHr,LHr,wU=b(()=>{"use strict";Me();Wn();V3();bHr=ji($je),_Hr=ji(Fje),vh=ji(hS),SHr=ji(AU),vHr=ji(gS),EHr=ji(yS),AHr=ji(bS),xHr=ji(Bje),wHr=ji(Uje),xU=new et({algorithm:A1,parameters:yt.serialize(vh)}),ple=new et({algorithm:Dje,parameters:yt.serialize(XA.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),THr=ji(Nf),IHr=ji(kje),RHr=ji(Lje),CHr=ji(bx),NHr=ji(ule),OHr=ji(dle),PHr=ji(_x),DHr=ji(Sx),kHr=ji(ule),LHr=ji(dle)});var vx,GHr,Hje=b(()=>{"use strict";Fe();Me();Wn();V3();wU();vx=class{constructor(e={}){this.hashAlgorithm=new et(vh),this.maskGenAlgorithm=new et({algorithm:A1,parameters:yt.serialize(vh)}),this.pSourceAlgorithm=new et(ple),Object.assign(this,e)}};P([F({type:et,context:0,defaultValue:vh})],vx.prototype,"hashAlgorithm",void 0);P([F({type:et,context:1,defaultValue:xU})],vx.prototype,"maskGenAlgorithm",void 0);P([F({type:et,context:2,defaultValue:ple})],vx.prototype,"pSourceAlgorithm",void 0);GHr=new et({algorithm:Pje,parameters:yt.serialize(new vx)})});var Of,JHr,Gje=b(()=>{"use strict";Fe();Me();Wn();V3();wU();Of=class{constructor(e={}){this.hashAlgorithm=new et(vh),this.maskGenAlgorithm=new et({algorithm:A1,parameters:yt.serialize(vh)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};P([F({type:et,context:0,defaultValue:vh})],Of.prototype,"hashAlgorithm",void 0);P([F({type:et,context:1,defaultValue:xU})],Of.prototype,"maskGenAlgorithm",void 0);P([F({type:Z.Integer,context:2,defaultValue:20})],Of.prototype,"saltLength",void 0);P([F({type:Z.Integer,context:3,defaultValue:1})],Of.prototype,"trailerField",void 0);JHr=new et({algorithm:E1,parameters:yt.serialize(new Of)})});var _S,Vje=b(()=>{"use strict";Fe();Wn();Me();_S=class{constructor(e={}){this.digestAlgorithm=new et,this.digest=new Vt,Object.assign(this,e)}};P([F({type:et})],_S.prototype,"digestAlgorithm",void 0);P([F({type:Vt})],_S.prototype,"digest",void 0)});var zje=b(()=>{"use strict";Hje();Gje();Vje()});var fle,Ex,TU,mle=b(()=>{"use strict";Fe();Me();Ex=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ln})],Ex.prototype,"prime",void 0);P([F({type:Z.Integer,converter:Ln})],Ex.prototype,"exponent",void 0);P([F({type:Z.Integer,converter:Ln})],Ex.prototype,"coefficient",void 0);TU=fle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,fle.prototype)}};TU=fle=P([_e({type:fe.Sequence,itemType:Ex})],TU)});var Xu,jje=b(()=>{"use strict";Fe();Me();mle();Xu=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer})],Xu.prototype,"version",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"modulus",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"publicExponent",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"privateExponent",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"prime1",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"prime2",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"exponent1",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"exponent2",void 0);P([F({type:Z.Integer,converter:Ln})],Xu.prototype,"coefficient",void 0);P([F({type:TU,optional:!0})],Xu.prototype,"otherPrimeInfos",void 0)});var Ax,qje=b(()=>{"use strict";Fe();Me();Ax=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ln})],Ax.prototype,"modulus",void 0);P([F({type:Z.Integer,converter:Ln})],Ax.prototype,"publicExponent",void 0)});var IU=b(()=>{"use strict";zje();wU();V3();mle();jje();qje()});var hle,Os,gle=b(()=>{"use strict";(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(hle||(hle={}));Os=hle});var Wje=b(()=>{"use strict";gle()});function z3(t,e){yle(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Kje(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Jje(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function j3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Pf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xx(arguments[e]));return t}var yle,wx=b(()=>{"use strict";yle=function(t,e){return yle=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},yle(t,e)}});function ble(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],n=Reflect.getOwnMetadata(B7t,t)||{};return Object.keys(n).forEach(function(r){e[+r]=n[r]}),e}var B7t,SS=b(()=>{"use strict";B7t="injectionTokens"});function q3(t){return!!t.useClass}var _le=b(()=>{"use strict"});function Tx(t){return!!t.useFactory}var Sle=b(()=>{"use strict"});var RU,CU=b(()=>{"use strict";wx();RU=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var n=this,r={},o=!1,i,s=function(){return o||(i=e(n.wrap()),o=!0),i};return new Proxy(r,this.createHandler(s))},t.prototype.createHandler=function(e){var n={},r=function(o){n[o]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];i[0]=e();var a=Reflect[o];return a.apply(void 0,Pf(i))}};return this.reflectMethods.forEach(r),n},t})()});function x1(t){return typeof t=="string"||typeof t=="symbol"}function vle(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function NU(t){return typeof t=="object"&&"token"in t&&"transform"in t}function Yje(t){return typeof t=="function"||t instanceof RU}var OU=b(()=>{"use strict";CU()});function vS(t){return!!t.useToken}var Ele=b(()=>{"use strict"});function ES(t){return t.useValue!=null}var Ale=b(()=>{"use strict"});var xle=b(()=>{"use strict";_le();Sle();OU();Ele();Ale()});function Qje(t){return q3(t)||ES(t)||vS(t)||Tx(t)}var Xje=b(()=>{"use strict";_le();Ale();Ele();Sle()});var U7t,W3,wle=b(()=>{"use strict";U7t=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var n=this._registryMap.get(e);return n[n.length-1]||null},t.prototype.set=function(e,n){this.ensure(e),this._registryMap.get(e).push(n)},t.prototype.setAll=function(e,n){this._registryMap.set(e,n)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),W3=U7t});var $7t,Zje,eqe=b(()=>{"use strict";wx();wle();$7t=(function(t){z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(W3),Zje=$7t});var F7t,K3,tqe=b(()=>{"use strict";F7t=(function(){function t(){this.scopedResolutions=new Map}return t})(),K3=F7t});function H7t(t,e){if(t===null)return"at position #"+e;var n=t.split(",")[e].trim();return'"'+n+'" at position #'+e}function G7t(t,e,n){return n===void 0&&(n="    "),Pf([t],e.message.split(`
`).map(function(r){return n+r})).join(`
`)}function Tle(t,e,n){var r=xx(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),o=r[1],i=o===void 0?null:o,s=H7t(i,e);return G7t("Cannot inject the dependency "+s+' of "'+t.name+'" constructor. Reason:',n)}var Ile=b(()=>{"use strict";wx()});function nqe(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var rqe=b(()=>{"use strict"});var V7t,z7t,j7t,oqe,iqe=b(()=>{"use strict";wx();wle();V7t=(function(t){z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(W3),z7t=(function(t){z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(W3),j7t=(function(){function t(){this.preResolution=new V7t,this.postResolution=new z7t}return t})(),oqe=j7t});var Rle,q7t,vo,w1=b(()=>{"use strict";wx();xle();Xje();OU();eqe();gle();tqe();Ile();CU();rqe();iqe();Rle=new Map,q7t=(function(){function t(e){this.parent=e,this._registry=new Zje,this.interceptors=new oqe,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,n,r){r===void 0&&(r={lifecycle:Os.Transient}),this.ensureNotDisposed();var o;if(Qje(n)?o=n:o={useClass:n},vS(o))for(var i=[e],s=o;s!=null;){var a=s.useToken;if(i.includes(a))throw new Error("Token registration cycle detected! "+Pf(i,[a]).join(" -> "));i.push(a);var c=this._registry.get(a);c&&vS(c.provider)?s=c.provider:s=null}if((r.lifecycle===Os.Singleton||r.lifecycle==Os.ContainerScoped||r.lifecycle==Os.ResolutionScoped)&&(ES(o)||Tx(o)))throw new Error('Cannot use lifecycle "'+Os[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:o,options:r}),this},t.prototype.registerType=function(e,n){return this.ensureNotDisposed(),x1(n)?this.register(e,{useToken:n}):this.register(e,{useClass:n})},t.prototype.registerInstance=function(e,n){return this.ensureNotDisposed(),this.register(e,{useValue:n})},t.prototype.registerSingleton=function(e,n){if(this.ensureNotDisposed(),x1(e)){if(x1(n))return this.register(e,{useToken:n},{lifecycle:Os.Singleton});if(n)return this.register(e,{useClass:n},{lifecycle:Os.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return n&&!x1(n)&&(r=n),this.register(e,{useClass:r},{lifecycle:Os.Singleton})},t.prototype.resolve=function(e,n,r){n===void 0&&(n=new K3),r===void 0&&(r=!1),this.ensureNotDisposed();var o=this.getRegistration(e);if(!o&&x1(e)){if(r)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),o){var i=this.resolveRegistration(o,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}if(Yje(e)){var i=this.construct(e,n);return this.executePostResolutionInterceptor(e,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,n){var r,o;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var s=j3(this.interceptors.preResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var c=a.value;c.options.frequency!="Once"&&i.push(c),c.callback(e,n)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,i)}},t.prototype.executePostResolutionInterceptor=function(e,n,r){var o,i;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var a=j3(this.interceptors.postResolution.getAll(e)),c=a.next();!c.done;c=a.next()){var l=c.value;l.options.frequency!="Once"&&s.push(l),l.callback(e,n,r)}}catch(u){o={error:u}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}this.interceptors.postResolution.setAll(e,s)}},t.prototype.resolveRegistration=function(e,n){if(this.ensureNotDisposed(),e.options.lifecycle===Os.ResolutionScoped&&n.scopedResolutions.has(e))return n.scopedResolutions.get(e);var r=e.options.lifecycle===Os.Singleton,o=e.options.lifecycle===Os.ContainerScoped,i=r||o,s;return ES(e.provider)?s=e.provider.useValue:vS(e.provider)?s=i?e.instance||(e.instance=this.resolve(e.provider.useToken,n)):this.resolve(e.provider.useToken,n):q3(e.provider)?s=i?e.instance||(e.instance=this.construct(e.provider.useClass,n)):this.construct(e.provider.useClass,n):Tx(e.provider)?s=e.provider.useFactory(this):s=this.construct(e.provider,n),e.options.lifecycle===Os.ResolutionScoped&&n.scopedResolutions.set(e,s),s},t.prototype.resolveAll=function(e,n,r){var o=this;n===void 0&&(n=new K3),r===void 0&&(r=!1),this.ensureNotDisposed();var i=this.getAllRegistrations(e);if(!i&&x1(e)){if(r)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),i){var s=i.map(function(c){return o.resolveRegistration(c,n)});return this.executePostResolutionInterceptor(e,s,"All"),s}var a=[this.construct(e,n)];return this.executePostResolutionInterceptor(e,a,"All"),a},t.prototype.isRegistered=function(e,n){return n===void 0&&(n=!1),this.ensureNotDisposed(),this._registry.has(e)||n&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,n;this.ensureNotDisposed();try{for(var r=j3(this._registry.entries()),o=r.next();!o.done;o=r.next()){var i=xx(o.value,2),s=i[0],a=i[1];this._registry.setAll(s,a.filter(function(c){return!ES(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,n;this.ensureNotDisposed();var r=new t(this);try{for(var o=j3(this._registry.entries()),i=o.next();!i.done;i=o.next()){var s=xx(i.value,2),a=s[0],c=s[1];c.some(function(l){var u=l.options;return u.lifecycle===Os.ContainerScoped})&&r._registry.setAll(a,c.map(function(l){return l.options.lifecycle===Os.ContainerScoped?{provider:l.provider,options:l.options}:l}))}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.beforeResolution=function(e,n,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:n,options:r})},t.prototype.afterResolution=function(e,n,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:n,options:r})},t.prototype.dispose=function(){return Kje(this,void 0,void 0,function(){var e;return Jje(this,function(n){switch(n.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(r){var o=r.dispose();o&&e.push(o)}),[4,Promise.all(e)];case 1:return n.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,n){var r=this;if(e instanceof RU)return e.createProxy(function(i){return r.resolve(i,n)});var o=(function(){var i=Rle.get(e);if(!i||i.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var s=i.map(r.resolveParams(n,e));return new(e.bind.apply(e,Pf([void 0],s)))})();return nqe(o)&&this.disposables.add(o),o},t.prototype.resolveParams=function(e,n){var r=this;return function(o,i){var s,a,c;try{return vle(o)?NU(o)?o.multiple?(s=r.resolve(o.transform)).transform.apply(s,Pf([r.resolveAll(o.token,new K3,o.isOptional)],o.transformArgs)):(a=r.resolve(o.transform)).transform.apply(a,Pf([r.resolve(o.token,e,o.isOptional)],o.transformArgs)):o.multiple?r.resolveAll(o.token,new K3,o.isOptional):r.resolve(o.token,e,o.isOptional):NU(o)?(c=r.resolve(o.transform,e)).transform.apply(c,Pf([r.resolve(o.token,e)],o.transformArgs)):r.resolve(o,e)}catch(l){throw new Error(Tle(n,i,l))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),vo=new q7t});var sqe=b(()=>{"use strict";SS();w1();OU();Ile()});var aqe=b(()=>{"use strict";SS()});function W7t(t){return function(e){Rle.set(e,ble(e)),t&&t.token&&(Array.isArray(t.token)?t.token.forEach(function(n){vo.register(n,e)}):vo.register(t.token,e))}}var T1,PU=b(()=>{"use strict";SS();w1();w1();T1=W7t});var cqe=b(()=>{"use strict";w1()});var lqe=b(()=>{"use strict";PU();w1()});var uqe=b(()=>{"use strict";SS()});var dqe=b(()=>{"use strict";SS()});var pqe=b(()=>{"use strict";SS()});var fqe=b(()=>{"use strict";PU();w1()});var mqe=b(()=>{"use strict";sqe();aqe();PU();cqe();lqe();uqe();dqe();pqe();fqe()});var hqe=b(()=>{"use strict"});var gqe=b(()=>{"use strict"});var yqe=b(()=>{"use strict"});var bqe=b(()=>{"use strict";hqe();gqe();yqe()});var _qe=b(()=>{"use strict";Wje();mqe();bqe();xle();CU();w1();if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`)});var Nle,AS,Sqe,Ole=b(()=>{"use strict";Fe();Me();AS=class{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}};P([F({type:Z.ObjectIdentifier})],AS.prototype,"attrId",void 0);P([F({type:Z.Any,repeated:"set"})],AS.prototype,"attrValues",void 0);Sqe=Nle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Nle.prototype)}};Sqe=Nle=P([_e({type:fe.Sequence,itemType:AS})],Sqe)});var Ple,vqe,Eqe=b(()=>{"use strict";Fe();Me();M3();vqe=Ple=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Ple.prototype)}};vqe=Ple=P([_e({type:fe.Sequence,itemType:Qu})],vqe)});var K7t,J7t,Aqe,Ix,Pzr,Dzr,kzr,Lzr,Mzr,Bzr,xS,Dle=b(()=>{"use strict";K7t="1.2.840.113549",J7t=`${K7t}.1`,Aqe=`${J7t}.12`,Ix=`${Aqe}.1`,Pzr=`${Ix}.1`,Dzr=`${Ix}.2`,kzr=`${Ix}.3`,Lzr=`${Ix}.4`,Mzr=`${Ix}.5`,Bzr=`${Ix}.6`,xS=`${Aqe}.10.1`});var Fzr,Hzr,Gzr,Vzr,zzr,jzr,DU,kU=b(()=>{"use strict";Dle();Fzr=`${xS}.1`,Hzr=`${xS}.2`,Gzr=`${xS}.3`,Vzr=`${xS}.4`,zzr=`${xS}.5`,jzr=`${xS}.6`,DU="1.2.840.113549.1.9"});var LU,xqe,Yzr,Qzr,wqe=b(()=>{"use strict";Fe();Me();kU();LU=class{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],LU.prototype,"certId",void 0);P([F({type:Z.Any,context:0})],LU.prototype,"certValue",void 0);xqe=`${DU}.22`,Yzr=`${xqe}.1`,Qzr=`${xqe}.2`});var MU,Y7t,njr,Tqe=b(()=>{"use strict";Fe();Me();kU();MU=class{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],MU.prototype,"crlId",void 0);P([F({type:Z.Any,context:0})],MU.prototype,"crltValue",void 0);Y7t=`${DU}.23`,njr=`${Y7t}.1`});var BU,I1,Iqe=b(()=>{"use strict";Fe();Me();Wn();BU=class extends Vt{},I1=class{constructor(e={}){this.encryptionAlgorithm=new et,this.encryptedData=new BU,Object.assign(this,e)}};P([F({type:et})],I1.prototype,"encryptionAlgorithm",void 0);P([F({type:BU})],I1.prototype,"encryptedData",void 0)});var kle,Lle,UU,Mle,R1,Rqe=b(()=>{"use strict";Fe();Me();Wn();(function(t){t[t.v1=0]="v1"})(Lle||(Lle={}));UU=class extends Vt{},Mle=kle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,kle.prototype)}};Mle=kle=P([_e({type:fe.Sequence,itemType:Cs})],Mle);R1=class{constructor(e={}){this.version=Lle.v1,this.privateKeyAlgorithm=new et,this.privateKey=new UU,Object.assign(this,e)}};P([F({type:Z.Integer})],R1.prototype,"version",void 0);P([F({type:et})],R1.prototype,"privateKeyAlgorithm",void 0);P([F({type:UU})],R1.prototype,"privateKey",void 0);P([F({type:Mle,implicit:!0,context:0,optional:!0})],R1.prototype,"attributes",void 0)});var $U=b(()=>{"use strict";Iqe();Rqe()});var Cqe,Nqe=b(()=>{"use strict";Fe();$U();Me();Cqe=class extends R1{};Cqe=P([_e({type:fe.Sequence})],Cqe)});var Oqe,Pqe=b(()=>{"use strict";Fe();$U();Me();Oqe=class extends I1{};Oqe=P([_e({type:fe.Sequence})],Oqe)});var FU,Dqe=b(()=>{"use strict";Fe();Me();FU=class{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],FU.prototype,"secretTypeId",void 0);P([F({type:Z.Any,context:0})],FU.prototype,"secretValue",void 0)});var kqe=b(()=>{"use strict";wqe();Tqe();Nqe();Pqe();Dqe();kU()});var C1,Ble=b(()=>{"use strict";Fe();IU();Me();C1=class{constructor(e={}){this.mac=new _S,this.macSalt=new Vt,this.iterations=1,Object.assign(this,e)}};P([F({type:_S})],C1.prototype,"mac",void 0);P([F({type:Vt})],C1.prototype,"macSalt",void 0);P([F({type:Z.Integer,defaultValue:1})],C1.prototype,"iterations",void 0)});var wS,Lqe=b(()=>{"use strict";Fe();Me();M3();Ble();wS=class{constructor(e={}){this.version=3,this.authSafe=new Qu,this.macData=new C1,Object.assign(this,e)}};P([F({type:Z.Integer})],wS.prototype,"version",void 0);P([F({type:Qu})],wS.prototype,"authSafe",void 0);P([F({type:C1,optional:!0})],wS.prototype,"macData",void 0)});var Ule,Rx,Mqe,Bqe=b(()=>{"use strict";Fe();Me();Ole();Rx=class{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Rx.prototype,"bagId",void 0);P([F({type:Z.Any,context:0})],Rx.prototype,"bagValue",void 0);P([F({type:AS,repeated:"set",optional:!0})],Rx.prototype,"bagAttributes",void 0);Mqe=Ule=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Ule.prototype)}};Mqe=Ule=P([_e({type:fe.Sequence,itemType:Rx})],Mqe)});var Uqe=b(()=>{"use strict";Ole();Eqe();kqe();Ble();Dle();Lqe();Bqe()});var $le,Fle,Hle,Wo,oqr,Xqe,Y3,Zqe,eWe,iqr,sqr,aqr,cqr,lqr,uqr,dqr,pqr,Jle,fqr,mqr,hqr,Q3,gqr,yqr,bqr,_qr,Sqr,vqr,Eqr,Aqr,X3,xqr,wqr,Tqr,Iqr,Rqr,Cqr,Nqr,Oqr,Pqr,Dqr,kqr,Lqr,Mqr,HU,$qe,Fqe,Hqe,Gle,Gqe,Vqe,Vle,zqe,zle,GU,jqe,qqe,jle,Wqe,qle,Kqe,J3,Jqe,Yqe,Wle,Kle,Qqe,Yle=b(()=>{"use strict";Fe();Me();M3();Uqe();$U();Wn();Bce();Wo="1.2.840.113549.1.9",oqr=`${Wo}.0`,Xqe=`${Wo}.24`,Y3=`${Wo}.25`,Zqe=`${Wo}.26`,eWe=`${Wo}.27`,iqr=`${Xqe}.1`,sqr=`${Xqe}.2`,aqr=`${Wo}.1`,cqr=`${Wo}.2`,lqr=`${Wo}.3`,uqr=`${Wo}.4`,dqr=`${Wo}.5`,pqr=`${Wo}.6`,Jle=`${Wo}.7`,fqr=`${Wo}.8`,mqr=`${Wo}.9`,hqr=`${Wo}.13`,Q3=`${Wo}.14`,gqr=`${Wo}.15`,yqr=`${Wo}.20`,bqr=`${Wo}.21`,_qr=`${Y3}.1`,Sqr=`${Y3}.2`,vqr=`${Y3}.3`,Eqr=`${Y3}.4`,Aqr=`${Y3}.5`,X3="1.3.6.1.5.5.7.9",xqr=`${X3}.1`,wqr=`${X3}.2`,Tqr=`${X3}.3`,Iqr=`${X3}.4`,Rqr=`${X3}.5`,Cqr=`${Zqe}.1`,Nqr=`${Zqe}.2`,Oqr=`${eWe}.1`,Pqr=`${eWe}.2`,Dqr=`${Wo}.16`,kqr=`${Wo}.22`,Lqr=`${Wo}.23`,Mqr=`${Dce}.65`,HU=class extends Li{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};P([F({type:Z.IA5String})],HU.prototype,"ia5String",void 0);HU=P([_e({type:fe.Choice})],HU);$qe=class extends Qu{};$qe=P([_e({type:fe.Sequence})],$qe);Fqe=class extends wS{};Fqe=P([_e({type:fe.Sequence})],Fqe);Hqe=class extends I1{};Hqe=P([_e({type:fe.Sequence})],Hqe);Gle=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.IA5String})],Gle.prototype,"value",void 0);Gle=P([_e({type:fe.Choice})],Gle);Gqe=class extends HU{};Gqe=P([_e({type:fe.Choice})],Gqe);Vqe=class extends Li{};Vqe=P([_e({type:fe.Choice})],Vqe);Vle=class{constructor(e=new Date){this.value=e}};P([F({type:Z.GeneralizedTime})],Vle.prototype,"value",void 0);Vle=P([_e({type:fe.Choice})],Vle);zqe=class extends Li{};zqe=P([_e({type:fe.Choice})],zqe);zle=class{constructor(e="M"){this.value=e}toString(){return this.value}};P([F({type:Z.PrintableString})],zle.prototype,"value",void 0);zle=P([_e({type:fe.Choice})],zle);GU=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.PrintableString})],GU.prototype,"value",void 0);GU=P([_e({type:fe.Choice})],GU);jqe=class extends GU{};jqe=P([_e({type:fe.Choice})],jqe);qqe=class extends Li{};qqe=P([_e({type:fe.Choice})],qqe);jle=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.ObjectIdentifier})],jle.prototype,"value",void 0);jle=P([_e({type:fe.Choice})],jle);Wqe=class extends qo{};Wqe=P([_e({type:fe.Choice})],Wqe);qle=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};P([F({type:Z.Integer})],qle.prototype,"value",void 0);qle=P([_e({type:fe.Choice})],qle);Kqe=class extends Mc{};Kqe=P([_e({type:fe.Sequence})],Kqe);J3=class extends Li{};J3=P([_e({type:fe.Choice})],J3);Jqe=$le=class extends Ku{constructor(e){super(e),Object.setPrototypeOf(this,$le.prototype)}};Jqe=$le=P([_e({type:fe.Sequence})],Jqe);Yqe=Fle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Fle.prototype)}};Yqe=Fle=P([_e({type:fe.Set,itemType:rp})],Yqe);Wle=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.BmpString})],Wle.prototype,"value",void 0);Wle=P([_e({type:fe.Choice})],Wle);Kle=class extends et{};Kle=P([_e({type:fe.Sequence})],Kle);Qqe=Hle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Hle.prototype)}};Qqe=Hle=P([_e({type:fe.Sequence,itemType:Kle})],Qqe)});var Qle,Z3,Xle=b(()=>{"use strict";Fe();Me();Wn();Z3=Qle=class extends Bt{constructor(e){super(e),Object.setPrototypeOf(this,Qle.prototype)}};Z3=Qle=P([_e({type:fe.Sequence,itemType:Cs})],Z3)});var Df,Zle=b(()=>{"use strict";Fe();Me();Wn();Xle();Df=class{constructor(e={}){this.version=0,this.subject=new eo,this.subjectPKInfo=new sa,this.attributes=new Z3,Object.assign(this,e)}};P([F({type:Z.Integer})],Df.prototype,"version",void 0);P([F({type:eo})],Df.prototype,"subject",void 0);P([F({type:sa})],Df.prototype,"subjectPKInfo",void 0);P([F({type:Z3,implicit:!0,context:0,optional:!0})],Df.prototype,"attributes",void 0)});var N1,tWe=b(()=>{"use strict";Fe();Me();Zle();Wn();N1=class{constructor(e={}){this.certificationRequestInfo=new Df,this.signatureAlgorithm=new et,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Df,raw:!0})],N1.prototype,"certificationRequestInfo",void 0);P([F({type:et})],N1.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],N1.prototype,"signature",void 0)});var nWe=b(()=>{"use strict";Xle();tWe();Zle()});function tMt(t){return new RegExp(eMt).test(t)}function nMt(t,e){return`\\${Pt.ToHex(Pt.FromUtf8String(e)).toUpperCase()}`}function rMt(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,nMt)}function pMt(t,e){return t.algorithm=new et({algorithm:Nf,parameters:null}),e=yt.serialize(t),e}function zU(t,e,n){if(n.length===1)t[e]=n[0].toTextObject();else{let r=new Xn("");n.forEach((o,i)=>{let s=o.toTextObject(),a=`${s[Xn.NAME]} ${i+1}`,c=r[a];Array.isArray(c)||(c=[],r[a]=c),c.push(s)}),t[e]=r}}function jU(t,e,n,r){let o=e[r];o&&(Array.isArray(o)?o:[o]).forEach(s=>{typeof s=="string"&&(s=new kf("url",s)),t.push(new mh({accessMethod:n,accessLocation:yt.parse(s.rawData,Qt)}))})}var TWr,iN,lue,Cx,qU,Hc,rWe,oWe,iWe,sWe,aWe,cWe,lWe,uWe,dWe,pWe,fWe,mWe,hWe,gWe,yWe,bWe,_We,SWe,vWe,EWe,AWe,xWe,wWe,TWe,IWe,RWe,CWe,NWe,ko,tN,HWe,GWe,Xn,uue,Lf,Eh,D1,Zu,VWe,nN,la,eMt,KU,$c,O1,zWe,OWe,oMt,PWe,DWe,kWe,eue,tue,nue,rue,oue,iue,sue,VU,kf,TS,eN,rN,iMt,sMt,aMt,Nx,cMt,lMt,uMt,dMt,LWe,Ua,k1,P1,JU,YU,MWe,QU,BWe,XU,ZU,e$,Fc,t$,n$,r$,Ox,o$,oN,Px,s$,due,WU,pue,fue,Ah,aue,UWe,cue,$We,mue,hue,i$,FWe,jWe=b(()=>{"use strict";TWr=ho(hVe());Me();Wn();Wn();ah();M3();lle();lle();IU();IU();Fe();_qe();Yle();Yle();nWe();iN="crypto.algorithm",lue=class{getAlgorithms(){return vo.resolveAll(iN)}toAsnAlgorithm(e){({...e});for(let n of this.getAlgorithms()){let r=n.toAsnAlgorithm(e);if(r)return r}if(/^[0-9.]+$/.test(e.name)){let n=new et({algorithm:e.name});if("parameters"in e){let r=e;n.parameters=r.parameters}return n}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let r of this.getAlgorithms()){let o=r.toWebAlgorithm(e);if(o)return o}return{name:e.algorithm,parameters:e.parameters}}},Cx="crypto.algorithmProvider";vo.registerSingleton(Cx,lue);Hc="1.3.36.3.3.2.8.1.1",rWe=`${Hc}.1`,oWe=`${Hc}.2`,iWe=`${Hc}.3`,sWe=`${Hc}.4`,aWe=`${Hc}.5`,cWe=`${Hc}.6`,lWe=`${Hc}.7`,uWe=`${Hc}.8`,dWe=`${Hc}.9`,pWe=`${Hc}.10`,fWe=`${Hc}.11`,mWe=`${Hc}.12`,hWe=`${Hc}.13`,gWe=`${Hc}.14`,yWe="brainpoolP160r1",bWe="brainpoolP160t1",_We="brainpoolP192r1",SWe="brainpoolP192t1",vWe="brainpoolP224r1",EWe="brainpoolP224t1",AWe="brainpoolP256r1",xWe="brainpoolP256t1",wWe="brainpoolP320r1",TWe="brainpoolP320t1",IWe="brainpoolP384r1",RWe="brainpoolP384t1",CWe="brainpoolP512r1",NWe="brainpoolP512t1",ko="ECDSA",tN=qU=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case ko.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return wje;case"sha-256":return Tje;case"sha-384":return Ije;case"sha-512":return Rje}else if("namedCurve"in e){let n="";switch(e.namedCurve){case"P-256":n=tle;break;case"K-256":n=qU.SECP256K1;break;case"P-384":n=nle;break;case"P-521":n=rle;break;case yWe:n=rWe;break;case bWe:n=oWe;break;case _We:n=iWe;break;case SWe:n=sWe;break;case vWe:n=aWe;break;case EWe:n=cWe;break;case AWe:n=lWe;break;case xWe:n=uWe;break;case wWe:n=dWe;break;case TWe:n=pWe;break;case IWe:n=fWe;break;case RWe:n=mWe;break;case CWe:n=hWe;break;case NWe:n=gWe;break}if(n)return new et({algorithm:fS,parameters:yt.serialize(new Cf({namedCurve:n}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case B3:return{name:ko,hash:{name:"SHA-1"}};case U3:return{name:ko,hash:{name:"SHA-256"}};case $3:return{name:ko,hash:{name:"SHA-384"}};case F3:return{name:ko,hash:{name:"SHA-512"}};case fS:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(yt.parse(e.parameters,Cf).namedCurve){case tle:return{name:ko,namedCurve:"P-256"};case qU.SECP256K1:return{name:ko,namedCurve:"K-256"};case nle:return{name:ko,namedCurve:"P-384"};case rle:return{name:ko,namedCurve:"P-521"};case rWe:return{name:ko,namedCurve:yWe};case oWe:return{name:ko,namedCurve:bWe};case iWe:return{name:ko,namedCurve:_We};case sWe:return{name:ko,namedCurve:SWe};case aWe:return{name:ko,namedCurve:vWe};case cWe:return{name:ko,namedCurve:EWe};case lWe:return{name:ko,namedCurve:AWe};case uWe:return{name:ko,namedCurve:xWe};case dWe:return{name:ko,namedCurve:wWe};case pWe:return{name:ko,namedCurve:TWe};case fWe:return{name:ko,namedCurve:IWe};case mWe:return{name:ko,namedCurve:RWe};case hWe:return{name:ko,namedCurve:CWe};case gWe:return{name:ko,namedCurve:NWe}}}}return null}};tN.SECP256K1="1.3.132.0.10";tN=qU=P([T1()],tN);vo.registerSingleton(iN,tN);HWe=Symbol("name"),GWe=Symbol("value"),Xn=class{constructor(e,n={},r=""){this[HWe]=e,this[GWe]=r;for(let o in n)this[o]=n[o]}};Xn.NAME=HWe;Xn.VALUE=GWe;uue=class{static toTextObject(e){let n=new Xn("Algorithm Identifier",{},Lf.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case fS:{let r=new tN().toWebAlgorithm(e);r&&"namedCurve"in r?n["Named Curve"]=r.namedCurve:n.Parameters=e.parameters;break}default:n.Parameters=e.parameters}return n}},Lf=class{static toString(e){let n=this.items[e];return n||e}};Lf.items={[hS]:"sha1",[AU]:"sha224",[gS]:"sha256",[yS]:"sha384",[bS]:"sha512",[Nf]:"rsaEncryption",[bx]:"sha1WithRSAEncryption",[Mje]:"sha224WithRSAEncryption",[EU]:"sha256WithRSAEncryption",[_x]:"sha384WithRSAEncryption",[Sx]:"sha512WithRSAEncryption",[fS]:"ecPublicKey",[B3]:"ecdsaWithSHA1",[vU]:"ecdsaWithSHA224",[U3]:"ecdsaWithSHA256",[$3]:"ecdsaWithSHA384",[F3]:"ecdsaWithSHA512",[Tze]:"TLS WWW server authentication",[Ize]:"TLS WWW client authentication",[Rze]:"Code Signing",[Cze]:"E-mail Protection",[Nze]:"Time Stamping",[Oze]:"OCSP Signing",[vje]:"Signed Data"};Eh=class{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,n=0){let r=[],o=this.pad(n++),i="",s=e[Xn.VALUE];s&&(i=` ${s}`),r.push(`${o}${e[Xn.NAME]}:${i}`),o=this.pad(n);for(let a in e){if(typeof a=="symbol")continue;let c=e[a],l=a?`${a}: `:"";if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")r.push(`${o}${l}${c}`);else if(c instanceof Date)r.push(`${o}${l}${c.toUTCString()}`);else if(Array.isArray(c))for(let u of c)u[Xn.NAME]=a,r.push(...this.serializeObj(u,n));else if(c instanceof Xn)c[Xn.NAME]=a,r.push(...this.serializeObj(c,n));else if(ht.isBufferSource(c))a?(r.push(`${o}${l}`),r.push(...this.serializeBufferSource(c,n+1))):r.push(...this.serializeBufferSource(c,n));else if("toTextObject"in c){let u=c.toTextObject();u[Xn.NAME]=a,r.push(...this.serializeObj(u,n))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return r}static serializeBufferSource(e,n=0){let r=this.pad(n),o=ht.toUint8Array(e),i=[];for(let s=0;s<o.length;){let a=[];for(let c=0;c<16&&s<o.length;c++){c===8&&a.push("");let l=o[s++].toString(16).padStart(2,"0");a.push(l)}i.push(`${r}${a.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}};Eh.oidSerializer=Lf;Eh.algorithmSerializer=uue;D1=class t{constructor(...e){if(e.length===1){let n=e[0];this.rawData=yt.serialize(n),this.onInit(n)}else{let n=yt.parse(e[0],e[1]);this.rawData=ht.toArrayBuffer(e[0]),this.onInit(n)}}equal(e){return e instanceof t?xB(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return yt.toString(this.rawData);case"text":return Eh.serialize(this.toTextObject());case"hex":return Pt.ToHex(this.rawData);case"base64":return Pt.ToBase64(this.rawData);case"base64url":return Pt.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){let e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Xn(this.getTextName(),{},e)}};D1.NAME="ASN";Zu=class t extends D1{constructor(...e){let n;ht.isBufferSource(e[0])?n=ht.toArrayBuffer(e[0]):n=yt.serialize(new aa({extnID:e[0],critical:e[1],extnValue:new Vt(ht.toArrayBuffer(e[2]))})),super(n,aa)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Xn.NAME]===t.NAME&&(e[Xn.NAME]=Lf.toString(this.type)),e}},nN=class t{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[VWe]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(t.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(t.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,n){return this.items.forEach(e,n)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=t.DEFAULT){let n=this.items.get(e.toLowerCase());if(!n)throw new Error(`Cannot get Crypto by name '${e}'`);return n}set(e,n){if(typeof e=="string"){if(!n)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),n)}else this.items.set(t.DEFAULT,e);return this}};VWe=Symbol.toStringTag;nN.DEFAULT="default";la=new nN,eMt=/^[0-2](?:\.[1-9][0-9]*)+$/;KU=class{constructor(e={}){this.items={};for(let n in e)this.register(n,e[n])}get(e){return this.items[e]||null}findId(e){return tMt(e)?e:this.get(e)}register(e,n){this.items[e]=n,this.items[n]=e}},$c=new KU;$c.register("CN","2.5.4.3");$c.register("L","2.5.4.7");$c.register("ST","2.5.4.8");$c.register("O","2.5.4.10");$c.register("OU","2.5.4.11");$c.register("C","2.5.4.6");$c.register("DC","0.9.2342.19200300.100.1.25");$c.register("E","1.2.840.113549.1.9.1");$c.register("G","2.5.4.42");$c.register("I","2.5.4.43");$c.register("SN","2.5.4.4");$c.register("T","2.5.4.12");O1=class t{static isASCII(e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,n={}){this.extraNames=new KU,this.asn=new eo;for(let r in n)if(Object.prototype.hasOwnProperty.call(n,r)){let o=n[r];this.extraNames.register(r,o)}typeof e=="string"?this.asn=this.fromString(e):e instanceof eo?this.asn=e:ht.isBufferSource(e)?this.asn=yt.parse(e,eo):this.asn=this.fromJSON(e)}getField(e){let n=this.extraNames.findId(e)||$c.findId(e),r=[];for(let o of this.asn)for(let i of o)i.type===n&&r.push(i.value.toString());return r}getName(e){return this.extraNames.get(e)||$c.get(e)}toString(){return this.asn.map(e=>e.map(n=>{let r=this.getName(n.type)||n.type,o=n.value.anyValue?`#${Pt.ToHex(n.value.anyValue)}`:rMt(n.value.toString());return`${r}=${o}`}).join("+")).join(", ")}toJSON(){var e;let n=[];for(let r of this.asn){let o={};for(let i of r){let s=this.getName(i.type)||i.type;(e=o[s])!==null&&e!==void 0||(o[s]=[]),o[s].push(i.value.anyValue?`#${Pt.ToHex(i.value.anyValue)}`:i.value.toString())}n.push(o)}return n}fromString(e){let n=new eo,r=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,o=null,i=",";for(;o=r.exec(`${e},`);){let[,s,a]=o,c=a[a.length-1];(c===","||c==="+")&&(a=a.slice(0,a.length-1),o[3]=c);let l=o[3];s=this.getTypeOid(s);let u=this.createAttribute(s,a);i==="+"?n[n.length-1].push(u):n.push(new u1([u])),i=l}return n}fromJSON(e){let n=new eo;for(let r of e){let o=new u1;for(let i in r){let s=this.getTypeOid(i),a=r[i];for(let c of a){let l=this.createAttribute(s,c);o.push(l)}}n.push(o)}return n}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,n){let r=new j_({type:e});if(typeof n=="object")for(let o in n)switch(o){case"ia5String":r.value.ia5String=n[o];break;case"utf8String":r.value.utf8String=n[o];break;case"universalString":r.value.universalString=n[o];break;case"bmpString":r.value.bmpString=n[o];break;case"printableString":r.value.printableString=n[o];break}else if(n[0]==="#")r.value.anyValue=Pt.FromHex(n.slice(1));else{let o=this.processStringValue(n);e===this.getName("E")||e===this.getName("DC")?r.value.ia5String=o:t.isPrintableString(o)?r.value.printableString=o:r.value.utf8String=o}return r}processStringValue(e){let n=/"(.*?[^\\])?"/.exec(e);return n&&(e=n[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return yt.serialize(this.asn)}async getThumbprint(...e){var n;let r,o="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(o=e[0]||o,r=e[1]||la.get()):r=e[0]||la.get(),await r.subtle.digest(o,this.toArrayBuffer())}},zWe="Cannot initialize GeneralName from ASN.1 data.",OWe=`${zWe} Unsupported string format in use.`,oMt=`${zWe} Value doesn't match to GUID regular expression.`,PWe=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,DWe="1.3.6.1.4.1.311.25.1",kWe="1.3.6.1.4.1.311.20.2.3",eue="dns",tue="dn",nue="email",rue="ip",oue="url",iue="guid",sue="upn",VU="id",kf=class extends D1{constructor(...e){let n;if(e.length===2)switch(e[0]){case tue:{let r=new O1(e[1]).toArrayBuffer(),o=yt.parse(r,eo);n=new Qt({directoryName:o});break}case eue:n=new Qt({dNSName:e[1]});break;case nue:n=new Qt({rfc822Name:e[1]});break;case iue:{let r=new RegExp(PWe,"i").exec(e[1]);if(!r)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");let o=r.slice(1).map((i,s)=>s<3?Pt.ToHex(new Uint8Array(Pt.FromHex(i)).reverse()):i).join("");n=new Qt({otherName:new d1({typeId:DWe,value:yt.serialize(new Vt(Pt.FromHex(o)))})});break}case rue:n=new Qt({iPAddress:e[1]});break;case VU:n=new Qt({registeredID:e[1]});break;case sue:{n=new Qt({otherName:new d1({typeId:kWe,value:yt.serialize(kae.toASN(e[1]))})});break}case oue:n=new Qt({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else ht.isBufferSource(e[0])?n=yt.parse(e[0],Qt):n=e[0];super(n)}onInit(e){if(e.dNSName!=null)this.type=eue,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=nue,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=rue,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=oue,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=VU,this.value=e.registeredID;else if(e.directoryName!=null)this.type=tue,this.value=new O1(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===DWe){this.type=iue;let n=yt.parse(e.otherName.value,Vt),r=new RegExp(PWe,"i").exec(Pt.ToHex(n));if(!r)throw new Error(oMt);this.value=r.slice(1).map((o,i)=>i<3?Pt.ToHex(new Uint8Array(Pt.FromHex(o)).reverse()):o).join("-")}else if(e.otherName.typeId===kWe)this.type=sue,this.value=yt.parse(e.otherName.value,Li).toString();else throw new Error(OWe);else throw new Error(OWe)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case tue:case eue:case iue:case rue:case VU:case sue:case oue:e=this.type.toUpperCase();break;case nue:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let n=this.value;return this.type===VU&&(n=Lf.toString(n)),new Xn(e,void 0,n)}},TS=class extends D1{constructor(e){let n;if(e instanceof So)n=e;else if(Array.isArray(e)){let r=[];for(let o of e)if(o instanceof Qt)r.push(o);else{let i=yt.parse(new kf(o.type,o.value).rawData,Qt);r.push(i)}n=new So(r)}else if(ht.isBufferSource(e))n=yt.parse(e,So);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(n)}onInit(e){let n=[];for(let r of e){let o=null;try{o=new kf(r)}catch{continue}n.push(o)}this.items=n}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){let e=super.toTextObjectEmpty();for(let n of this.items){let r=n.toTextObject(),o=e[r[Xn.NAME]];Array.isArray(o)||(o=[],e[r[Xn.NAME]]=o),o.push(r)}return e}};TS.NAME="GeneralNames";eN="-{5}",rN="\\n",iMt=`[^${rN}]+`,sMt=`${eN}BEGIN (${iMt}(?=${eN}))${eN}`,aMt=`${eN}END \\1${eN}`,Nx="\\n",cMt=`[^:${rN}]+`,lMt=`(?:[^${rN}]+${Nx}(?: +[^${rN}]+${Nx})*)`,uMt="[a-zA-Z0-9=+/]+",dMt=`(?:${uMt}${Nx})+`,LWe=`${sMt}${Nx}(?:((?:${cMt}: ${lMt})+))?${Nx}?(${dMt})${aMt}`,Ua=class{static isPem(e){return typeof e=="string"&&new RegExp(LWe,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");let n=new RegExp(LWe,"g"),r=[],o=null;for(;o=n.exec(e);){let i=o[3].replace(new RegExp(`[${rN}]+`,"g"),""),s={type:o[1],headers:[],rawData:Pt.FromBase64(i)},a=o[2];if(a){let c=a.split(new RegExp(Nx,"g")),l=null;for(let u of c){let[d,p]=u.split(/:(.*)/);if(p===void 0){if(!l)throw new Error("Cannot parse PEM string. Incorrect header value");l.value+=d.trim()}else l&&s.headers.push(l),l={key:d,value:p.trim()}}l&&s.headers.push(l)}r.push(s)}return r}static decode(e){return this.decodeWithHeaders(e).map(r=>r.rawData)}static decodeFirst(e){let n=this.decode(e);if(!n.length)throw new RangeError("PEM string doesn't contain any objects");return n[0]}static encode(e,n){if(Array.isArray(e)){let r=new Array;return n?e.forEach(o=>{if(!ht.isBufferSource(o))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");r.push(this.encodeStruct({type:n,rawData:ht.toArrayBuffer(o)}))}):e.forEach(o=>{if(!("type"in o))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");r.push(this.encodeStruct(o))}),r.join(`
`)}else{if(!n)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:n,rawData:ht.toArrayBuffer(e)})}}static encodeStruct(e){var n;let r=e.type.toLocaleUpperCase(),o=[];if(o.push(`-----BEGIN ${r}-----`),!((n=e.headers)===null||n===void 0)&&n.length){for(let l of e.headers)o.push(`${l.key}: ${l.value}`);o.push("")}let i=Pt.ToBase64(e.rawData),s,a=0,c=Array();for(;a<i.length&&(i.length-a<64?s=i.substring(a):(s=i.substring(a,a+64),a+=64),s.length!==0);)if(c.push(s),s.length<64)break;return o.push(...c),o.push(`-----END ${r}-----`),o.join(`
`)}};Ua.CertificateTag="CERTIFICATE";Ua.CrlTag="CRL";Ua.CertificateRequestTag="CERTIFICATE REQUEST";Ua.PublicKeyTag="PUBLIC KEY";Ua.PrivateKeyTag="PRIVATE KEY";k1=class t extends D1{static isAsnEncoded(e){return ht.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(Ua.isPem(e))return Ua.decode(e)[0];if(Pt.isHex(e))return Pt.FromHex(e);if(Pt.isBase64(e))return Pt.FromBase64(e);if(Pt.isBase64Url(e))return Pt.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{let n=Pt.ToBinary(e);return Ua.isPem(n)?Ua.decode(n)[0]:Pt.isHex(n)?Pt.FromHex(n):Pt.isBase64(n)?Pt.FromBase64(n):Pt.isBase64Url(n)?Pt.FromBase64Url(n):ht.toArrayBuffer(e)}}constructor(...e){t.isAsnEncoded(e[0])?super(t.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){switch(e){case"pem":return Ua.encode(this.rawData,this.tag);default:return super.toString(e)}}},P1=class t extends k1{static async create(e,n=la.get()){if(e instanceof t)return e;if(nN.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");let r=await n.subtle.exportKey("spki",e);return new t(r)}else{if(e.publicKey)return e.publicKey;if(ht.isBufferSource(e))return new t(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){k1.isAsnEncoded(e)?super(e,sa):super(e),this.tag=Ua.PublicKeyTag}async export(...e){let n,r=["verify"],o={hash:"SHA-256",...this.algorithm};e.length>1?(o=e[0]||o,r=e[1]||r,n=e[2]||la.get()):n=e[0]||la.get();let i=this.rawData,s=yt.parse(this.rawData,sa);return s.algorithm.algorithm===E1&&(i=pMt(s,i)),n.subtle.importKey("spki",i,o,!0,r)}onInit(e){let n=vo.resolve(Cx),r=this.algorithm=n.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case Nf:{let o=yt.parse(e.subjectPublicKey,Ax),i=ht.toUint8Array(o.modulus);r.publicExponent=ht.toUint8Array(o.publicExponent),r.modulusLength=(i[0]?i:i.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var n;let r,o="SHA-1";return e.length>=1&&!(!((n=e[0])===null||n===void 0)&&n.subtle)?(o=e[0]||o,r=e[1]||la.get()):r=e[0]||la.get(),await r.subtle.digest(o,this.rawData)}async getKeyIdentifier(...e){let n,r="SHA-1";e.length===1?typeof e[0]=="string"?(r=e[0],n=la.get()):n=e[0]:e.length===2?(r=e[0],n=e[1]):n=la.get();let o=yt.parse(this.rawData,sa);return await n.subtle.digest(r,o.subjectPublicKey)}toTextObject(){let e=this.toTextObjectEmpty(),n=yt.parse(this.rawData,sa);switch(e.Algorithm=Eh.serializeAlgorithm(n.algorithm),n.algorithm.algorithm){case fS:e["EC Point"]=n.subjectPublicKey;break;case Nf:default:e["Raw Data"]=n.subjectPublicKey}return e}};JU=class t extends Zu{static async create(e,n=!1,r=la.get()){if("name"in e&&"serialNumber"in e)return new t(e,n);let i=await(await P1.create(e,r)).getKeyIdentifier(r);return new t(Pt.ToHex(i),n)}constructor(...e){if(ht.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){let n=new wf({keyIdentifier:new J_(Pt.FromHex(e[0]))});super(WB,e[1],yt.serialize(n))}else{let n=e[0],r=n.name instanceof TS?yt.parse(n.name.rawData,So):n.name,o=new wf({authorityCertIssuer:r,authorityCertSerialNumber:Pt.FromHex(n.serialNumber)});super(WB,e[1],yt.serialize(o))}}onInit(e){super.onInit(e);let n=yt.parse(e.extnValue,wf);n.keyIdentifier&&(this.keyId=Pt.ToHex(n.keyIdentifier)),(n.authorityCertIssuer||n.authorityCertSerialNumber)&&(this.certId={name:n.authorityCertIssuer||[],serialNumber:n.authorityCertSerialNumber?Pt.ToHex(n.authorityCertSerialNumber):""})}toTextObject(){let e=this.toTextObjectWithoutValue(),n=yt.parse(this.value,wf);return n.authorityCertIssuer&&(e["Authority Issuer"]=new TS(n.authorityCertIssuer).toTextObject()),n.authorityCertSerialNumber&&(e["Authority Serial Number"]=n.authorityCertSerialNumber),n.keyIdentifier&&(e[""]=n.keyIdentifier),e}};JU.NAME="Authority Key Identifier";YU=class extends Zu{constructor(...e){if(ht.isBufferSource(e[0])){super(e[0]);let n=yt.parse(this.value,Y_);this.ca=n.cA,this.pathLength=n.pathLenConstraint}else{let n=new Y_({cA:e[0],pathLenConstraint:e[1]});super(KB,e[2],yt.serialize(n)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}};YU.NAME="Basic Constraints";(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(MWe||(MWe={}));QU=class extends Zu{constructor(...e){if(ht.isBufferSource(e[0])){super(e[0]);let n=yt.parse(this.value,m3);this.usages=n.map(r=>r)}else{let n=new m3(e[0]);super(ZB,e[1],yt.serialize(n)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(n=>Lf.toString(n)).join(", "),e}};QU.NAME="Extended Key Usages";(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(BWe||(BWe={}));XU=class extends Zu{constructor(...e){if(ht.isBufferSource(e[0])){super(e[0]);let n=yt.parse(this.value,tx);this.usages=n.toNumber()}else{let n=new tx(e[0]);super(eU,e[1],yt.serialize(n)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue(),n=yt.parse(this.value,tx);return e[""]=n.toJSON().join(", "),e}};XU.NAME="Key Usages";ZU=class t extends Zu{static async create(e,n=!1,r=la.get()){let i=await(await P1.create(e,r)).getKeyIdentifier(r);return new t(Pt.ToHex(i),n)}constructor(...e){if(ht.isBufferSource(e[0])){super(e[0]);let n=yt.parse(this.value,kc);this.keyId=Pt.ToHex(n)}else{let n=typeof e[0]=="string"?Pt.FromHex(e[0]):e[0],r=new kc(n);super(pce,e[1],yt.serialize(r)),this.keyId=Pt.ToHex(n)}}toTextObject(){let e=this.toTextObjectWithoutValue(),n=yt.parse(this.value,kc);return e[""]=n,e}};ZU.NAME="Subject Key Identifier";e$=class extends Zu{constructor(...e){ht.isBufferSource(e[0])?super(e[0]):super(lce,e[1],new TS(e[0]||[]).rawData)}onInit(e){super.onInit(e);let n=yt.parse(e.extnValue,oU);this.names=new TS(n)}toTextObject(){let e=this.toTextObjectWithoutValue(),n=this.names.toTextObject();for(let r in n)e[r]=n[r];return e}};e$.NAME="Subject Alternative Name";Fc=class{static register(e,n){this.items.set(e,n)}static create(e){let n=new Zu(e),r=this.items.get(n.type);return r?new r(e):n}};Fc.items=new Map;t$=class extends Zu{constructor(...e){var n;if(ht.isBufferSource(e[0])){super(e[0]);let r=yt.parse(this.value,l3);this.policies=r.map(o=>o.policyIdentifier)}else{let r=e[0],o=(n=e[1])!==null&&n!==void 0?n:!1,i=new l3(r.map(s=>new Q_({policyIdentifier:s})));super(YB,o,yt.serialize(i)),this.policies=r}}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(n=>new Xn("",{},Lf.toString(n))),e}};t$.NAME="Certificate Policies";Fc.register(YB,t$);n$=class extends Zu{constructor(...e){var n;if(ht.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){let o=e[0].map(s=>new Tf({distributionPoint:new gh({fullName:[new Qt({uniformResourceIdentifier:s})]})})),i=new m1(o);super(QB,e[1],yt.serialize(i))}else{let r=new m1(e[0]);super(QB,e[1],yt.serialize(r))}(n=this.distributionPoints)!==null&&n!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);let n=yt.parse(e.extnValue,m1);this.distributionPoints=n}toTextObject(){let e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(n=>{var r;let o={};return n.distributionPoint&&(o[""]=(r=n.distributionPoint.fullName)===null||r===void 0?void 0:r.map(i=>new kf(i).toString()).join(", ")),n.reasons&&(o.Reasons=n.reasons.toString()),n.cRLIssuer&&(o["CRL Issuer"]=n.cRLIssuer.map(i=>i.toString()).join(", ")),o}),e}};n$.NAME="CRL Distribution Points";r$=class extends Zu{constructor(...e){var n,r,o,i;if(ht.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof K_){let s=new K_(e[0]);super(qB,e[1],yt.serialize(s))}else{let s=e[0],a=new K_;jU(a,s,zae,"ocsp"),jU(a,s,jae,"caIssuers"),jU(a,s,qae,"timeStamping"),jU(a,s,Wae,"caRepository"),super(qB,e[1],yt.serialize(a))}(n=this.ocsp)!==null&&n!==void 0||(this.ocsp=[]),(r=this.caIssuers)!==null&&r!==void 0||(this.caIssuers=[]),(o=this.timeStamping)!==null&&o!==void 0||(this.timeStamping=[]),(i=this.caRepository)!==null&&i!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],yt.parse(e.extnValue,K_).forEach(r=>{switch(r.accessMethod){case zae:this.ocsp.push(new kf(r.accessLocation));break;case jae:this.caIssuers.push(new kf(r.accessLocation));break;case qae:this.timeStamping.push(new kf(r.accessLocation));break;case Wae:this.caRepository.push(new kf(r.accessLocation));break}})}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ocsp.length&&zU(e,"OCSP",this.ocsp),this.caIssuers.length&&zU(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&zU(e,"Time Stamping",this.timeStamping),this.caRepository.length&&zU(e,"CA Repository",this.caRepository),e}};r$.NAME="Authority Info Access";Ox=class t extends D1{constructor(...e){let n;if(ht.isBufferSource(e[0]))n=ht.toArrayBuffer(e[0]);else{let r=e[0],o=Array.isArray(e[1])?e[1].map(i=>ht.toArrayBuffer(i)):[];n=yt.serialize(new Cs({type:r,values:o}))}super(n,Cs)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Value=this.values.map(n=>new Xn("",{"":n})),e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty();return e[Xn.NAME]===t.NAME&&(e[Xn.NAME]=Lf.toString(this.type)),e}};Ox.NAME="Attribute";o$=class extends Ox{constructor(...e){var n;if(ht.isBufferSource(e[0]))super(e[0]);else{let r=new J3({printableString:e[0]});super(Jle,[yt.serialize(r)])}(n=this.password)!==null&&n!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let n=yt.parse(this.values[0],J3);this.password=n.toString()}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[Xn.VALUE]=this.password,e}};o$.NAME="Challenge Password";oN=class extends Ox{constructor(...e){var n;if(ht.isBufferSource(e[0]))super(e[0]);else{let r=e[0],o=new Ku;for(let i of r)o.push(yt.parse(i.rawData,aa));super(Q3,[yt.serialize(o)])}(n=this.items)!==null&&n!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let n=yt.parse(this.values[0],Ku);this.items=n.map(r=>Fc.create(yt.serialize(r)))}}toTextObject(){let e=this.toTextObjectWithoutValue(),n=this.items.map(r=>r.toTextObject());for(let r of n)e[r[Xn.NAME]]=r;return e}};oN.NAME="Extensions";Px=class{static register(e,n){this.items.set(e,n)}static create(e){let n=new Ox(e),r=this.items.get(n.type);return r?new r(e):n}};Px.items=new Map;s$="crypto.signatureFormatter",due=class{toAsnSignature(e,n){return ht.toArrayBuffer(n)}toWebSignature(e,n){return ht.toArrayBuffer(n)}},pue=WU=class{static createPssParams(e,n){let r=WU.getHashAlgorithm(e);return r?new Of({hashAlgorithm:r,maskGenAlgorithm:new et({algorithm:A1,parameters:yt.serialize(r)}),saltLength:n}):null}static getHashAlgorithm(e){let n=vo.resolve(Cx);return typeof e=="string"?n.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?n.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let n;if(typeof e.hash=="string")n=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")n=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(n.toLowerCase()){case"sha-1":return new et({algorithm:bx,parameters:null});case"sha-256":return new et({algorithm:EU,parameters:null});case"sha-384":return new et({algorithm:_x,parameters:null});case"sha-512":return new et({algorithm:Sx,parameters:null})}}else return new et({algorithm:Nf,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");let n=WU.createPssParams(e.hash,e.saltLength);if(!n)throw new Error("Cannot create PSS parameters");return new et({algorithm:E1,parameters:yt.serialize(n)})}else return new et({algorithm:E1,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case Nf:return{name:"RSASSA-PKCS1-v1_5"};case bx:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case EU:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case _x:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Sx:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case E1:if(e.parameters){let n=yt.parse(e.parameters,Of);return{name:"RSA-PSS",hash:vo.resolve(Cx).toWebAlgorithm(n.hashAlgorithm),saltLength:n.saltLength}}else return{name:"RSA-PSS"}}return null}};pue=WU=P([T1()],pue);vo.registerSingleton(iN,pue);fue=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new et({algorithm:hS});case"sha-256":return new et({algorithm:gS});case"sha-384":return new et({algorithm:yS});case"sha-512":return new et({algorithm:bS})}return null}toWebAlgorithm(e){switch(e.algorithm){case hS:return{name:"SHA-1"};case gS:return{name:"SHA-256"};case yS:return{name:"SHA-384"};case bS:return{name:"SHA-512"}}return null}};fue=P([T1()],fue);vo.registerSingleton(iN,fue);Ah=class t{addPadding(e,n){let r=ht.toUint8Array(n),o=new Uint8Array(e);return o.set(r,e-r.length),o}removePadding(e,n=!1){let r=ht.toUint8Array(e);for(let o=0;o<r.length;o++)if(r[o]){r=r.slice(o);break}if(n&&r[0]>127){let o=new Uint8Array(r.length+1);return o.set(r,1),o.buffer}return r.buffer}toAsnSignature(e,n){if(e.name==="ECDSA"){let r=e.namedCurve,o=t.namedCurveSize.get(r)||t.defaultNamedCurveSize,i=new mS,s=ht.toUint8Array(n);return i.r=this.removePadding(s.slice(0,o),!0),i.s=this.removePadding(s.slice(o,o+o),!0),yt.serialize(i)}return null}toWebSignature(e,n){if(e.name==="ECDSA"){let r=yt.parse(n,mS),o=e.namedCurve,i=t.namedCurveSize.get(o)||t.defaultNamedCurveSize,s=this.addPadding(i,this.removePadding(r.r)),a=this.addPadding(i,this.removePadding(r.s));return gVe(s,a)}return null}};Ah.namedCurveSize=new Map;Ah.defaultNamedCurveSize=32;aue="1.3.101.110",UWe="1.3.101.111",cue="1.3.101.112",$We="1.3.101.113",mue=class{toAsnAlgorithm(e){let n=null;switch(e.name.toLowerCase()){case"ed25519":n=cue;break;case"x25519":n=aue;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":n=cue;break;case"ed448":n=$We;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":n=aue;break;case"x448":n=UWe;break}}return n?new et({algorithm:n}):null}toWebAlgorithm(e){switch(e.algorithm){case cue:return{name:"Ed25519"};case $We:return{name:"EdDSA",namedCurve:"Ed448"};case aue:return{name:"X25519"};case UWe:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};mue=P([T1()],mue);vo.registerSingleton(iN,mue);hue=class extends k1{constructor(e){k1.isAsnEncoded(e)?super(e,N1):super(e),this.tag=Ua.CertificateRequestTag}onInit(e){this.tbs=yt.serialize(e.certificationRequestInfo),this.publicKey=new P1(e.certificationRequestInfo.subjectPKInfo);let n=vo.resolve(Cx);this.signatureAlgorithm=n.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map(o=>Px.create(yt.serialize(o)));let r=this.getAttribute(Q3);this.extensions=[],r instanceof oN&&(this.extensions=r.items),this.subjectName=new O1(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(let n of this.attributes)if(n.type===e)return n;return null}getAttributes(e){return this.attributes.filter(n=>n.type===e)}getExtension(e){for(let n of this.extensions)if(n.type===e)return n;return null}getExtensions(e){return this.extensions.filter(n=>n.type===e)}async verify(e=la.get()){let n={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(n,["verify"],e),o=vo.resolveAll(s$).reverse(),i=null;for(let a of o)if(i=a.toWebSignature(n,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,r,i,this.tbs)}toTextObject(){let e=this.toTextObjectEmpty(),n=yt.parse(this.rawData,N1),r=n.certificationRequestInfo,o=new Xn("",{Version:`${yh[r.version]} (${r.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){let i=new Xn("");for(let s of this.attributes){let a=s.toTextObject();i[a[Xn.NAME]]=a}o.Attributes=i}return e.Data=o,e.Signature=new Xn("",{Algorithm:Eh.serializeAlgorithm(n.signatureAlgorithm),"":n.signature}),e}};hue.NAME="PKCS#10 Certificate Request";i$=class extends k1{constructor(e){k1.isAsnEncoded(e)?super(e,tp):super(e),this.tag=Ua.CertificateTag}onInit(e){let n=e.tbsCertificate;this.tbs=yt.serialize(n),this.serialNumber=Pt.ToHex(n.serialNumber),this.subjectName=new O1(n.subject),this.subject=new O1(n.subject).toString(),this.issuerName=new O1(n.issuer),this.issuer=this.issuerName.toString();let r=vo.resolve(Cx);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;let o=n.validity.notBefore.utcTime||n.validity.notBefore.generalTime;if(!o)throw new Error("Cannot get 'notBefore' value");this.notBefore=o;let i=n.validity.notAfter.utcTime||n.validity.notAfter.generalTime;if(!i)throw new Error("Cannot get 'notAfter' value");this.notAfter=i,this.extensions=[],n.extensions&&(this.extensions=n.extensions.map(s=>Fc.create(yt.serialize(s)))),this.publicKey=new P1(n.subjectPublicKeyInfo)}getExtension(e){for(let n of this.extensions)if(typeof e=="string"){if(n.type===e)return n}else if(n instanceof e)return n;return null}getExtensions(e){return this.extensions.filter(n=>typeof e=="string"?n.type===e:n instanceof e)}async verify(e={},n=la.get()){let r,o,i=e.publicKey;try{if(!i)r={...this.publicKey.algorithm,...this.signatureAlgorithm},o=await this.publicKey.export(r,["verify"],n);else if("publicKey"in i)r={...i.publicKey.algorithm,...this.signatureAlgorithm},o=await i.publicKey.export(r,["verify"],n);else if(i instanceof P1)r={...i.algorithm,...this.signatureAlgorithm},o=await i.export(r,["verify"],n);else if(ht.isBufferSource(i)){let l=new P1(i);r={...l.algorithm,...this.signatureAlgorithm},o=await l.export(r,["verify"],n)}else r={...i.algorithm,...this.signatureAlgorithm},o=i}catch{return!1}let s=vo.resolveAll(s$).reverse(),a=null;for(let l of s)if(a=l.toWebSignature(r,this.signature),a)break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let c=await n.subtle.verify(this.signatureAlgorithm,o,a,this.tbs);if(e.signatureOnly)return c;{let u=(e.date||new Date).getTime();return c&&this.notBefore.getTime()<u&&u<this.notAfter.getTime()}}async getThumbprint(...e){let n,r="SHA-1";return e[0]&&(e[0].subtle?n=e[0]:(r=e[0]||r,n=e[1])),n??(n=la.get()),await n.subtle.digest(r,this.rawData)}async isSelfSigned(e=la.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){let e=this.toTextObjectEmpty(),n=yt.parse(this.rawData,tp),r=n.tbsCertificate,o=new Xn("",{Version:`${yh[r.version]} (${r.version})`,"Serial Number":r.serialNumber,"Signature Algorithm":Eh.serializeAlgorithm(r.signature),Issuer:this.issuer,Validity:new Xn("",{"Not Before":r.validity.notBefore.getTime(),"Not After":r.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(r.issuerUniqueID&&(o["Issuer Unique ID"]=r.issuerUniqueID),r.subjectUniqueID&&(o["Subject Unique ID"]=r.subjectUniqueID),this.extensions.length){let i=new Xn("");for(let s of this.extensions){let a=s.toTextObject();i[a[Xn.NAME]]=a}o.Extensions=i}return e.Data=o,e.Signature=new Xn("",{Algorithm:Eh.serializeAlgorithm(n.signatureAlgorithm),"":n.signatureValue}),e}};i$.NAME="Certificate";(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(FWe||(FWe={}));Fc.register(KB,YU);Fc.register(ZB,QU);Fc.register(eU,XU);Fc.register(pce,ZU);Fc.register(WB,JU);Fc.register(lce,e$);Fc.register(QB,n$);Fc.register(qB,r$);Px.register(Jle,o$);Px.register(Q3,oN);vo.registerSingleton(s$,due);vo.registerSingleton(s$,Ah);Ah.namedCurveSize.set("P-256",32);Ah.namedCurveSize.set("K-256",32);Ah.namedCurveSize.set("P-384",48);Ah.namedCurveSize.set("P-521",66)});var qWe,WWe=b(()=>{"use strict";bf();qWe=ho(fVe(),1);jWe();SB()});var gue=b(()=>{"use strict";wae();dVe();WWe()});function KWe(t){if(t.length%2!=0)throw new Error("Hex string length must be multiple of 2");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.substring(n,n+2),16);return e}function JWe(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);e+=r.length>1?r:"0"+r}return e}function sN(t,e){return btoa(hMt(t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hMt(t){let e="";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var YWe=b(()=>{"use strict";});function c$(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function QWe(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function yue(t){return BigInt("0x"+JWe(t))}function a$(t,e){let n=t.toString(16),r=e*2,o="";if(r<n.length)throw new Error(`cannot pack integer with ${n.length} hex chars into ${e} bytes`);return o="0".repeat(r-n.length),KWe(o+n)}function bue(t,e){let n=BigInt(1)<<BigInt(e);return(t&n)!==BigInt(0)}function gMt(t,e,n){if(e===BigInt(0))return BigInt(1);let r=t,o=e.toString(2);for(let i=1;i<o.length;++i)r=r*r%n,o[i]==="1"&&(r=r*t%n);return r}function yMt(t,e){if(e<=BigInt(0))throw new Error("p must be positive");let n=t%e;if(bue(e,0)&&bue(e,1)){let r=e+BigInt(1)>>BigInt(2),o=gMt(n,r,e);if(o*o%e!==n)throw new Error("could not find a modular square root");return o}throw new Error("unsupported modulus value")}function bMt(t,e){let n=c$(),r=n-BigInt(3),o=QWe(),i=((t*t+r)*t+o)%n,s=yMt(i,n);return e!==bue(s,0)&&(s=(n-s)%n),s}function _Mt(t,e){let n=c$(),r=n-BigInt(3),o=QWe(),i=((t*t+r)*t+o)%n;return e**BigInt(2)%n===i}function _ue(t){let e=SMt(),n=e+1,r=2*e+1;if(t.length!==n&&t.length!==r)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((t[0]===2||t[0]===3)&&t.length==n){let o=t[0]===3,i=yue(t.subarray(1,t.length)),s=c$();if(i<BigInt(0)||i>=s)throw new Error("x is out of range");let a=bMt(i,o);return{kty:"EC",crv:"P-256",x:sN(a$(i,32)),y:sN(a$(a,32)),ext:!0}}else if(t[0]===4&&t.length==r){let o=yue(t.subarray(1,e+1)),i=yue(t.subarray(e+1,2*e+1)),s=c$();if(o<BigInt(0)||o>=s||i<BigInt(0)||i>=s||!_Mt(o,i))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:sN(a$(o,32)),y:sN(a$(i,32)),ext:!0}}throw new Error("invalid format")}function SMt(){return 32}var Sue=b(()=>{"use strict";YWe();});function l$(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:n}=t,r;try{r=_ue(eh(n))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return r.d=dae(e,ZGe),r}var vue=b(()=>{"use strict";Sue();bf()});var ZWe={};kn(ZWe,{signWithApiKey:()=>vMt});async function EMt(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:n}=t,r=l$({uncompressedPrivateKeyHex:e,compressedPublicKeyHex:n});return await crypto.subtle.importKey("jwk",r,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function AMt(t){let{key:e,content:n}=t,r=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,new TextEncoder().encode(n)),o=xMt(new Uint8Array(r));return gf(o)}function xMt(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=XWe(t.subarray(0,t.length/2)),n=XWe(t.subarray(t.length/2,t.length)),r=0,o=2+e.length+1+1+n.length,i;return o>=128?(i=new Uint8Array(o+3),i[r++]=48,i[r++]=129,i[r++]=o):(i=new Uint8Array(o+2),i[r++]=48,i[r++]=o),i[r++]=2,i[r++]=e.length,i.set(e,r),r+=e.length,i[r++]=2,i[r++]=n.length,i.set(n,r),i}function XWe(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let n=0;(t[e]&128)==128&&(n=1);let r=new Uint8Array(t.length-e+n);return r.set(t.subarray(e),n),r}var vMt,eKe=b(()=>{"use strict";vue();bf();vMt=async t=>{let{content:e,publicKey:n,privateKey:r}=t,o=await EMt({uncompressedPrivateKeyHex:r,compressedPublicKeyHex:n});return await AMt({key:o,content:e})}});var tKe={};kn(tKe,{signWithApiKey:()=>wMt});import*as u$ from"crypto";var wMt,nKe=b(()=>{"use strict";vue();wMt=async t=>{let{content:e,publicKey:n,privateKey:r}=t,o=u$.createPrivateKey({key:l$({uncompressedPrivateKeyHex:r,compressedPublicKeyHex:n}),format:"jwk"}),i=u$.createSign("SHA256");return i.write(Buffer.from(e)),i.end(),i.sign(o,"hex")}});function xh(t,e=""){if(typeof t!="boolean"){let n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function gl(t,e,n=""){let r=rh(t),o=t?.length,i=e!==void 0;if(!r||i&&o!==e){let s=n&&`"${n}" `,a=i?` of length ${e}`:"",c=r?`length=${o}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function aN(t){let e=t.toString(16);return e.length&1?"0"+e:e}function rKe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?xue:BigInt("0x"+t)}function Dx(t){return rKe(Vu(t))}function wh(t){return ws(t),rKe(Vu(Uint8Array.from(t).reverse()))}function d$(t,e){return A_(t.toString(16).padStart(e*2,"0"))}function wue(t,e){return d$(t,e).reverse()}function Lr(t,e,n){let r;if(typeof e=="string")try{r=A_(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(rh(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function oKe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Tue(t){return Uint8Array.from(t)}function iKe(t,e,n){return Eue(t)&&Eue(e)&&Eue(n)&&e<=t&&t<n}function cN(t,e,n,r){if(!iKe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function p$(t){let e;for(e=0;t>xue;t>>=Aue,e+=1);return e}function sKe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=f=>new Uint8Array(f),o=f=>Uint8Array.of(f),i=r(t),s=r(t),a=0,c=()=>{i.fill(1),s.fill(0),a=0},l=(...f)=>n(s,i,...f),u=(f=r(0))=>{s=l(o(0),f),i=l(),f.length!==0&&(s=l(o(1),f),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,h=[];for(;f<e;){i=l();let m=i.slice();h.push(m),f+=i.length}return La(...h)};return(f,h)=>{c(),u(f);let m;for(;!(m=h(d()));)u();return c(),m}}function M1(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(o,i,s){let a=t[o];if(s&&a===void 0)return;let c=typeof a;if(c!==i||a===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([o,i])=>r(o,i,!1)),Object.entries(n).forEach(([o,i])=>r(o,i,!0))}function kx(t){let e=new WeakMap;return(n,...r)=>{let o=e.get(n);if(o!==void 0)return o;let i=t(n,...r);return e.set(n,i),i}}var xue,Aue,Eue,L1,Iue,Lx=b(()=>{"use strict";ih();ih();xue=BigInt(0),Aue=BigInt(1);Eue=t=>typeof t=="bigint"&&xue<=t;L1=t=>(Aue<<BigInt(t))-Aue;Iue=()=>{throw new Error("not implemented")}});function Ko(t,e){let n=t%e;return n>=$a?n:e+n}function Eo(t,e,n){let r=t;for(;e-- >$a;)r*=r,r%=n;return r}function aKe(t,e){if(t===$a)throw new Error("invert: expected non-zero number");if(e<=$a)throw new Error("invert: expected positive modulus, got "+e);let n=Ko(t,e),r=e,o=$a,i=is,s=is,a=$a;for(;n!==$a;){let l=r/n,u=r%n,d=o-s*l,p=i-a*l;r=n,n=u,o=s,i=a,s=d,a=p}if(r!==is)throw new Error("invert: does not exist");return Ko(o,e)}function Rue(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function mKe(t,e){let n=(t.ORDER+is)/uKe,r=t.pow(e,n);return Rue(t,r,e),r}function RMt(t,e){let n=(t.ORDER-dKe)/pKe,r=t.mul(e,IS),o=t.pow(r,n),i=t.mul(e,o),s=t.mul(t.mul(i,IS),o),a=t.mul(i,t.sub(s,t.ONE));return Rue(t,a,e),a}function CMt(t){let e=Ps(t),n=hKe(t),r=n(e,e.neg(e.ONE)),o=n(e,r),i=n(e,e.neg(r)),s=(t+TMt)/fKe;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,r),d=a.mul(l,o),p=a.mul(l,i),f=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(p,d,h);let m=a.eql(a.sqr(u),c),g=a.cmov(l,u,m);return Rue(a,g,c),g}}function hKe(t){if(t<lKe)throw new Error("sqrt is not defined for small field");let e=t-is,n=0;for(;e%IS===$a;)e/=IS,n++;let r=IS,o=Ps(t);for(;cKe(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return mKe;let i=o.pow(r,e),s=(e+is)/IS;return function(c,l){if(c.is0(l))return l;if(cKe(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,i),p=c.pow(l,e),f=c.pow(l,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,m=c.sqr(p);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=is<<BigInt(u-h-1),y=c.pow(d,g);u=h,d=c.sqr(y),p=c.mul(p,d),f=c.mul(f,y)}return f}}function NMt(t){return t%uKe===lKe?mKe:t%pKe===dKe?RMt:t%fKe===IMt?CMt(t):hKe(t)}function Cue(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=OMt.reduce((r,o)=>(r[o]="function",r),e);return M1(t,n),t}function PMt(t,e,n){if(n<$a)throw new Error("invalid exponent, negatives unsupported");if(n===$a)return t.ONE;if(n===is)return e;let r=t.ONE,o=e;for(;n>$a;)n&is&&(r=t.mul(r,o)),o=t.sqr(o),n>>=is;return r}function lN(t,e,n=!1){let r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(o);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}function cKe(t,e){let n=(t.ORDER-is)/IS,r=t.pow(e,n),o=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function f$(t,e){e!==void 0&&Z0(e);let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ps(t,e,n=!1,r={}){if(t<=$a)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");let p=e;p.BITS&&(o=p.BITS),p.sqrt&&(i=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(i=r.sqrt);let{nBitLength:c,nByteLength:l}=f$(t,o);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:L1(c),ZERO:$a,ONE:is,allowedLengths:a,create:p=>Ko(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return $a<=p&&p<t},is0:p=>p===$a,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&is)===is,neg:p=>Ko(-p,t),eql:(p,f)=>p===f,sqr:p=>Ko(p*p,t),add:(p,f)=>Ko(p+f,t),sub:(p,f)=>Ko(p-f,t),mul:(p,f)=>Ko(p*f,t),pow:(p,f)=>PMt(d,p,f),div:(p,f)=>Ko(p*aKe(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>aKe(p,t),sqrt:i||(p=>(u||(u=NMt(t)),u(d,p))),toBytes:p=>n?wue(p,l):d$(p,l),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let m=new Uint8Array(l);m.set(p,n?0:m.length-p.length),p=m}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=n?wh(p):Dx(p);if(s&&(h=Ko(h,t)),!f&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>lN(d,p),cmov:(p,f,h)=>h?f:p});return Object.freeze(d)}function gKe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Nue(t){let e=gKe(t);return e+Math.ceil(e/2)}function Oue(t,e,n=!1){let r=t.length,o=gKe(e),i=Nue(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);let s=n?wh(t):Dx(t),a=Ko(s,e-is)+is;return n?wue(a,o):d$(a,o)}var $a,is,IS,lKe,uKe,dKe,TMt,pKe,IMt,fKe,Th,OMt,RS=b(()=>{"use strict";Lx();$a=BigInt(0),is=BigInt(1),IS=BigInt(2),lKe=BigInt(3),uKe=BigInt(4),dKe=BigInt(5),TMt=BigInt(7),pKe=BigInt(8),IMt=BigInt(9),fKe=BigInt(16);Th=(t,e)=>(Ko(t,e)&is)===is,OMt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function uN(t,e){let n=e.negate();return t?n:e}function Ih(t,e){let n=lN(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function SKe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Pue(t,e){SKe(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=L1(t),s=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function yKe(t,e,n){let{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=n,a=Number(t&o),c=t>>s;a>r&&(a-=i,c+=CS);let l=e*r,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function DMt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function kMt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function kue(t){return vKe.get(t)||1}function bKe(t){if(t!==Mx)throw new Error("invalid wNAF")}function EKe(t,e,n,r){let o=e,i=t.ZERO,s=t.ZERO;for(;n>Mx||r>Mx;)n&CS&&(i=i.add(o)),r&CS&&(s=s.add(o)),o=o.double(),n>>=CS,r>>=CS;return{p1:i,p2:s}}function Ux(t,e,n,r){DMt(n,t),kMt(r,e);let o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=p$(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=L1(c),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c,p=s;for(let f=d;f>=0;f-=c){u.fill(s);for(let m=0;m<i;m++){let g=r[m],y=Number(g>>BigInt(f)&l);u[y]=u[y].add(n[m])}let h=s;for(let m=u.length-1,g=s;m>0;m--)g=g.add(u[m]),h=h.add(g);if(p=p.add(h),f!==0)for(let m=0;m<c;m++)p=p.double()}return p}function _Ke(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Cue(e),e}else return Ps(t,{isLE:n})}function m$(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>Mx))throw new Error(`CURVE.${c} must be positive bigint`)}let o=_Ke(e.p,n.Fp,r),i=_Ke(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of a)if(!o.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}var Mx,CS,Due,vKe,Bx,h$=b(()=>{"use strict";Lx();RS();Mx=BigInt(0),CS=BigInt(1);Due=new WeakMap,vKe=new WeakMap;Bx=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>Mx;)n&CS&&(r=r.add(o)),o=o.double(),n>>=CS;return r}precomputeWindow(e,n){let{windows:r,windowSize:o}=Pue(n,this.bits),i=[],s=e,a=s;for(let c=0;c<r;c++){a=s,i.push(a);for(let l=1;l<o;l++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE,s=Pue(e,this.bits);for(let a=0;a<s.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:f}=yKe(r,a,s);r=c,u?i=i.add(uN(p,n[f])):o=o.add(uN(d,n[l]))}return bKe(r),{p:o,f:i}}wNAFUnsafe(e,n,r,o=this.ZERO){let i=Pue(e,this.bits);for(let s=0;s<i.windows&&r!==Mx;s++){let{nextN:a,offset:c,isZero:l,isNeg:u}=yKe(r,s,i);if(r=a,!l){let d=n[c];o=o.add(u?d.negate():d)}}return bKe(r),o}getPrecomputes(e,n,r){let o=Due.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(o=r(o)),Due.set(n,o))),o}cached(e,n,r){let o=kue(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){let i=kue(e);return i===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,o)}createCache(e,n){SKe(n,this.bits),vKe.set(e,n),Due.delete(e)}hasCache(e){return kue(e)!==1}}});function LMt(t,e,n){let[[r,o],[i,s]]=e,a=AKe(s*t,n),c=AKe(-o*t,n),l=t-a*r-c*i,u=-a*o-c*s,d=l<Ch,p=u<Ch;d&&(l=-l),p&&(u=-u);let f=L1(Math.ceil(p$(n)/2))+Fx;if(l<Ch||l>=f||u<Ch||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}function Mue(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Lue(t,e){let n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return xh(n.lowS,"lowS"),xh(n.prehash,"prehash"),n.format!==void 0&&Mue(n.format),n}function $x(t,e){let{BYTES:n}=t,r;if(typeof e=="bigint")r=e;else{let o=Lr("private key",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function BMt(t,e={}){let n=m$("weierstrass",t,e),{Fp:r,Fn:o}=n,i=n.CURVE,{h:s,n:a}=i;M1(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=TKe(r,o);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(J,C,_){let{x:E,y:R}=C.toAffine(),M=r.toBytes(E);if(xh(_,"isCompressed"),_){u();let $=!r.isOdd(R);return La(wKe($),M)}else return La(Uint8Array.of(4),M,r.toBytes(R))}function p(J){gl(J,void 0,"Point");let{publicKey:C,publicKeyUncompressed:_}=l,E=J.length,R=J[0],M=J.subarray(1);if(E===C&&(R===2||R===3)){let $=r.fromBytes(M);if(!r.isValid($))throw new Error("bad point: is not on curve, wrong x");let j=m($),Y;try{Y=r.sqrt(j)}catch(Q){let Re=Q instanceof Error?": "+Q.message:"";throw new Error("bad point: is not on curve, sqrt error"+Re)}u();let z=r.isOdd(Y);return(R&1)===1!==z&&(Y=r.neg(Y)),{x:$,y:Y}}else if(E===_&&R===4){let $=r.BYTES,j=r.fromBytes(M.subarray(0,$)),Y=r.fromBytes(M.subarray($,$*2));if(!g(j,Y))throw new Error("bad point: is not on curve");return{x:j,y:Y}}else throw new Error(`bad point: got length ${E}, expected compressed=${C} or uncompressed=${_}`)}let f=e.toBytes||d,h=e.fromBytes||p;function m(J){let C=r.sqr(J),_=r.mul(C,J);return r.add(r.add(_,r.mul(J,i.a)),i.b)}function g(J,C){let _=r.sqr(C),E=m(J);return r.eql(_,E)}if(!g(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let y=r.mul(r.pow(i.a,g$),MMt),S=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(y,S)))throw new Error("bad curve params: a or b");function v(J,C,_=!1){if(!r.isValid(C)||_&&r.is0(C))throw new Error(`bad point coordinate ${J}`);return C}function A(J){if(!(J instanceof O))throw new Error("ProjectivePoint expected")}function w(J){if(!c||!c.basises)throw new Error("no endo");return LMt(J,c.basises,o.ORDER)}let I=kx((J,C)=>{let{X:_,Y:E,Z:R}=J;if(r.eql(R,r.ONE))return{x:_,y:E};let M=J.is0();C==null&&(C=M?r.ONE:r.inv(R));let $=r.mul(_,C),j=r.mul(E,C),Y=r.mul(R,C);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Y,r.ONE))throw new Error("invZ was invalid");return{x:$,y:j}}),D=kx(J=>{if(J.is0()){if(e.allowInfinityPoint&&!r.is0(J.Y))return;throw new Error("bad point: ZERO")}let{x:C,y:_}=J.toAffine();if(!r.isValid(C)||!r.isValid(_))throw new Error("bad point: x or y not field elements");if(!g(C,_))throw new Error("bad point: equation left != right");if(!J.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(J,C,_,E,R){return _=new O(r.mul(_.X,J),_.Y,_.Z),C=uN(E,C),_=uN(R,_),C.add(_)}class O{constructor(C,_,E){this.X=v("x",C),this.Y=v("y",_,!0),this.Z=v("z",E),Object.freeze(this)}static CURVE(){return i}static fromAffine(C){let{x:_,y:E}=C||{};if(!C||!r.isValid(_)||!r.isValid(E))throw new Error("invalid affine point");if(C instanceof O)throw new Error("projective point not allowed");return r.is0(_)&&r.is0(E)?O.ZERO:new O(_,E,r.ONE)}static fromBytes(C){let _=O.fromAffine(h(gl(C,void 0,"point")));return _.assertValidity(),_}static fromHex(C){return O.fromBytes(Lr("pointHex",C))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(C=8,_=!0){return G.createCache(this,C),_||this.multiply(g$),this}assertValidity(){D(this)}hasEvenY(){let{y:C}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(C)}equals(C){A(C);let{X:_,Y:E,Z:R}=this,{X:M,Y:$,Z:j}=C,Y=r.eql(r.mul(_,j),r.mul(M,R)),z=r.eql(r.mul(E,j),r.mul($,R));return Y&&z}negate(){return new O(this.X,r.neg(this.Y),this.Z)}double(){let{a:C,b:_}=i,E=r.mul(_,g$),{X:R,Y:M,Z:$}=this,j=r.ZERO,Y=r.ZERO,z=r.ZERO,x=r.mul(R,R),Q=r.mul(M,M),Re=r.mul($,$),Se=r.mul(R,M);return Se=r.add(Se,Se),z=r.mul(R,$),z=r.add(z,z),j=r.mul(C,z),Y=r.mul(E,Re),Y=r.add(j,Y),j=r.sub(Q,Y),Y=r.add(Q,Y),Y=r.mul(j,Y),j=r.mul(Se,j),z=r.mul(E,z),Re=r.mul(C,Re),Se=r.sub(x,Re),Se=r.mul(C,Se),Se=r.add(Se,z),z=r.add(x,x),x=r.add(z,x),x=r.add(x,Re),x=r.mul(x,Se),Y=r.add(Y,x),Re=r.mul(M,$),Re=r.add(Re,Re),x=r.mul(Re,Se),j=r.sub(j,x),z=r.mul(Re,Q),z=r.add(z,z),z=r.add(z,z),new O(j,Y,z)}add(C){A(C);let{X:_,Y:E,Z:R}=this,{X:M,Y:$,Z:j}=C,Y=r.ZERO,z=r.ZERO,x=r.ZERO,Q=i.a,Re=r.mul(i.b,g$),Se=r.mul(_,M),pe=r.mul(E,$),Ve=r.mul(R,j),xe=r.add(_,E),ut=r.add(M,$);xe=r.mul(xe,ut),ut=r.add(Se,pe),xe=r.sub(xe,ut),ut=r.add(_,R);let dt=r.add(M,j);return ut=r.mul(ut,dt),dt=r.add(Se,Ve),ut=r.sub(ut,dt),dt=r.add(E,R),Y=r.add($,j),dt=r.mul(dt,Y),Y=r.add(pe,Ve),dt=r.sub(dt,Y),x=r.mul(Q,ut),Y=r.mul(Re,Ve),x=r.add(Y,x),Y=r.sub(pe,x),x=r.add(pe,x),z=r.mul(Y,x),pe=r.add(Se,Se),pe=r.add(pe,Se),Ve=r.mul(Q,Ve),ut=r.mul(Re,ut),pe=r.add(pe,Ve),Ve=r.sub(Se,Ve),Ve=r.mul(Q,Ve),ut=r.add(ut,Ve),Se=r.mul(pe,ut),z=r.add(z,Se),Se=r.mul(dt,ut),Y=r.mul(xe,Y),Y=r.sub(Y,Se),Se=r.mul(xe,pe),x=r.mul(dt,x),x=r.add(x,Se),new O(Y,z,x)}subtract(C){return this.add(C.negate())}is0(){return this.equals(O.ZERO)}multiply(C){let{endo:_}=e;if(!o.isValidNot0(C))throw new Error("invalid scalar: out of range");let E,R,M=$=>G.cached(this,$,j=>Ih(O,j));if(_){let{k1neg:$,k1:j,k2neg:Y,k2:z}=w(C),{p:x,f:Q}=M(j),{p:Re,f:Se}=M(z);R=Q.add(Se),E=k(_.beta,x,Re,$,Y)}else{let{p:$,f:j}=M(C);E=$,R=j}return Ih(O,[E,R])[0]}multiplyUnsafe(C){let{endo:_}=e,E=this;if(!o.isValid(C))throw new Error("invalid scalar: out of range");if(C===Ch||E.is0())return O.ZERO;if(C===Fx)return E;if(G.hasCache(this))return this.multiply(C);if(_){let{k1neg:R,k1:M,k2neg:$,k2:j}=w(C),{p1:Y,p2:z}=EKe(O,E,M,j);return k(_.beta,Y,z,R,$)}else return G.unsafe(E,C)}multiplyAndAddUnsafe(C,_,E){let R=this.multiplyUnsafe(_).add(C.multiplyUnsafe(E));return R.is0()?void 0:R}toAffine(C){return I(this,C)}isTorsionFree(){let{isTorsionFree:C}=e;return s===Fx?!0:C?C(O,this):G.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:C}=e;return s===Fx?this:C?C(O,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(C=!0){return xh(C,"isCompressed"),this.assertValidity(),f(O,this,C)}toHex(C=!0){return Vu(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(C=!0){return this.toBytes(C)}_setWindowSize(C){this.precompute(C)}static normalizeZ(C){return Ih(O,C)}static msm(C,_){return Ux(O,o,C,_)}static fromPrivateKey(C){return O.BASE.multiply($x(o,C))}}O.BASE=new O(i.Gx,i.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=o;let U=o.BITS,G=new Bx(O,e.endo?Math.ceil(U/2):U);return O.BASE.precompute(8),O}function wKe(t){return Uint8Array.of(t?2:3)}function TKe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function UMt(t,e={}){let{Fn:n}=t,r=e.randomBytes||jA,o=Object.assign(TKe(t.Fp,n),{seed:Nue(n.ORDER)});function i(f){try{return!!$x(n,f)}catch{return!1}}function s(f,h){let{publicKey:m,publicKeyUncompressed:g}=o;try{let y=f.length;return h===!0&&y!==m||h===!1&&y!==g?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=r(o.seed)){return Oue(gl(f,o.seed,"seed"),n.ORDER)}function c(f,h=!0){return t.BASE.multiply($x(n,f)).toBytes(h)}function l(f){let h=a(f);return{secretKey:h,publicKey:c(h)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;let{secretKey:h,publicKey:m,publicKeyUncompressed:g}=o;if(n.allowedLengths||h===m)return;let y=Lr("key",f).length;return y===m||y===g}function d(f,h,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let g=$x(n,f);return t.fromHex(h).multiply(g).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:f=>$x(n,f),precompute(f=8,h=t.BASE){return h.precompute(f,!1)}},lengths:o})}function $Mt(t,e,n={}){uB(e),M1(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=n.randomBytes||jA,o=n.hmac||((_,...E)=>vae(e,_,La(...E))),{Fp:i,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f}=UMt(t,n),h={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function g(_){let E=a>>Fx;return _>E}function y(_,E){if(!s.isValidNot0(E))throw new Error(`invalid signature ${_}: out of range 1..Point.Fn.ORDER`);return E}function S(_,E){Mue(E);let R=f.signature,M=E==="compact"?R:E==="recovered"?R+1:void 0;return gl(_,M,`${E} signature`)}class v{constructor(E,R,M){this.r=y("r",E),this.s=y("s",R),M!=null&&(this.recovery=M),Object.freeze(this)}static fromBytes(E,R=m){S(E,R);let M;if(R==="der"){let{r:z,s:x}=Rh.toSig(gl(E));return new v(z,x)}R==="recovered"&&(M=E[0],R="compact",E=E.subarray(1));let $=s.BYTES,j=E.subarray(0,$),Y=E.subarray($,$*2);return new v(s.fromBytes(j),s.fromBytes(Y),M)}static fromHex(E,R){return this.fromBytes(A_(E),R)}addRecoveryBit(E){return new v(this.r,this.s,E)}recoverPublicKey(E){let R=i.ORDER,{r:M,s:$,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(a*xKe<R&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");let z=j===2||j===3?M+a:M;if(!i.isValid(z))throw new Error("recovery id 2 or 3 invalid");let x=i.toBytes(z),Q=t.fromBytes(La(wKe((j&1)===0),x)),Re=s.inv(z),Se=w(Lr("msgHash",E)),pe=s.create(-Se*Re),Ve=s.create($*Re),xe=t.BASE.multiplyUnsafe(pe).add(Q.multiplyUnsafe(Ve));if(xe.is0())throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return g(this.s)}toBytes(E=m){if(Mue(E),E==="der")return A_(Rh.hexFromSig(this));let R=s.toBytes(this.r),M=s.toBytes(this.s);if(E==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return La(Uint8Array.of(this.recovery),R,M)}return La(R,M)}toHex(E){return Vu(this.toBytes(E))}assertValidity(){}static fromCompact(E){return v.fromBytes(Lr("sig",E),"compact")}static fromDER(E){return v.fromBytes(Lr("sig",E),"der")}normalizeS(){return this.hasHighS()?new v(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vu(this.toBytes("compact"))}}let A=n.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");let R=Dx(E),M=E.length*8-c;return M>0?R>>BigInt(M):R},w=n.bits2int_modN||function(E){return s.create(A(E))},I=L1(c);function D(_){return cN("num < 2^"+c,_,Ch,I),s.toBytes(_)}function k(_,E){return gl(_,void 0,"message"),E?gl(e(_),void 0,"prehashed message"):_}function O(_,E,R){if(["recovered","canonical"].some(pe=>pe in R))throw new Error("sign() legacy options not supported");let{lowS:M,prehash:$,extraEntropy:j}=Lue(R,h);_=k(_,$);let Y=w(_),z=$x(s,E),x=[D(z),D(Y)];if(j!=null&&j!==!1){let pe=j===!0?r(f.secretKey):j;x.push(Lr("extraEntropy",pe))}let Q=La(...x),Re=Y;function Se(pe){let Ve=A(pe);if(!s.isValidNot0(Ve))return;let xe=s.inv(Ve),ut=t.BASE.multiply(Ve).toAffine(),dt=s.create(ut.x);if(dt===Ch)return;let Ot=s.create(xe*s.create(Re+dt*z));if(Ot===Ch)return;let se=(ut.x===dt?0:2)|Number(ut.y&Fx),tn=Ot;return M&&g(Ot)&&(tn=s.neg(Ot),se^=1),new v(dt,tn,se)}return{seed:Q,k2sig:Se}}function U(_,E,R={}){_=Lr("message",_);let{seed:M,k2sig:$}=O(_,E,R);return sKe(e.outputLen,s.BYTES,o)(M,$)}function G(_){let E,R=typeof _=="string"||rh(_),M=!R&&_!==null&&typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!R&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(M)E=new v(_.r,_.s);else if(R){try{E=v.fromBytes(Lr("sig",_),"der")}catch($){if(!($ instanceof Rh.Err))throw $}if(!E)try{E=v.fromBytes(Lr("sig",_),"compact")}catch{return!1}}return E||!1}function J(_,E,R,M={}){let{lowS:$,prehash:j,format:Y}=Lue(M,h);if(R=Lr("publicKey",R),E=k(Lr("message",E),j),"strict"in M)throw new Error("options.strict was renamed to lowS");let z=Y===void 0?G(_):v.fromBytes(Lr("sig",_),Y);if(z===!1)return!1;try{let x=t.fromBytes(R);if($&&z.hasHighS())return!1;let{r:Q,s:Re}=z,Se=w(E),pe=s.inv(Re),Ve=s.create(Se*pe),xe=s.create(Q*pe),ut=t.BASE.multiplyUnsafe(Ve).add(x.multiplyUnsafe(xe));return ut.is0()?!1:s.create(ut.x)===Q}catch{return!1}}function C(_,E,R={}){let{prehash:M}=Lue(R,h);return E=k(E,M),v.fromBytes(_,"recovered").recoverPublicKey(E).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f,Point:t,sign:U,verify:J,recoverPublicKey:C,Signature:v,hash:e})}function FMt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,o=Ps(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function HMt(t){let{CURVE:e,curveOpts:n}=FMt(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function GMt(t,e){let n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,f$(n.Fn.ORDER,n.Fn.BITS))})}function IKe(t){let{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:o}=HMt(t),i=BMt(e,n),s=$Mt(i,r,o);return GMt(t,s)}var AKe,Bue,Rh,Ch,Fx,xKe,g$,MMt,RKe=b(()=>{"use strict";eVe();ih();Lx();h$();RS();AKe=(t,e)=>(t+(t>=0?e:-e)/xKe)/e;Bue=class extends Error{constructor(e=""){super(e)}},Rh={Err:Bue,_tlv:{encode:(t,e)=>{let{Err:n}=Rh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");let r=e.length/2,o=aN(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");let i=r>127?aN(o.length/2|128):"";return aN(t)+i+o+e},decode(t,e){let{Err:n}=Rh,r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");let o=e[r++],i=!!(o&128),s=0;if(!i)s=o;else{let c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)s=s<<8|u;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}let a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){let{Err:e}=Rh;if(t<Ch)throw new e("integer: negative integers are not allowed");let n=aN(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){let{Err:e}=Rh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Dx(t)}},toSig(t){let{Err:e,_int:n,_tlv:r}=Rh,o=Lr("signature",t),{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){let{_tlv:e,_int:n}=Rh,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},Ch=BigInt(0),Fx=BigInt(1),xKe=BigInt(2),g$=BigInt(3),MMt=BigInt(4)});function Hx(t,e){let n=r=>IKe({...t,hash:r});return{...n(e),create:n}}var Uue=b(()=>{"use strict";RKe();});var CKe,NKe,OKe,VMt,zMt,jMt,PKe,qKr,WKr,DKe=b(()=>{"use strict";$6();Uue();RS();CKe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},NKe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},OKe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},VMt=Ps(CKe.p),zMt=Ps(NKe.p),jMt=Ps(OKe.p),PKe=Hx({...CKe,Fp:VMt,lowS:!1},qA),qKr=Hx({...NKe,Fp:zMt,lowS:!1},WGe),WKr=Hx({...OKe,Fp:jMt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},yB)});var $ue,kKe=b(()=>{"use strict";DKe();$ue=PKe});function MKe(t){if(t&&!LKe[t]&&!LKe[t.toLowerCase()])throw new Error("Digest method not supported");return new Fue}function tBt(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}var qMt,LKe,Fue,NS,y$,dN,B1,WMt,KMt,op,JMt,YMt,QMt,XMt,ZMt,eBt,BKe=b(()=>{"use strict";qMt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],LKe={sha256:1};Fue=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!y$||dN>=8e3)&&(y$=new ArrayBuffer(8e3),dN=0),this._byte=new Uint8Array(y$,dN,80),this._word=new Int32Array(y$,dN,20),dN+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);let n=e.byteOffset,r=e.byteLength,o=r/64|0,i=0;if(o&&!(n&3)&&!(this._size%64)){let a=new Int32Array(e.buffer,n,o*16);for(;o--;)this._int32(a,i>>2),i+=64;this._size+=i}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){let a=new Uint8Array(e.buffer,n+i,r-i);return this._uint8(a)}return i===r?this:this._uint8(e,i)}_uint8(e,n){let{_byte:r,_word:o}=this,i=e.length;for(n=n|0;n<i;){let s=this._size%64,a=s;for(;n<i&&a<64;)r[a++]=e[n++];a>=64&&this._int32(o),this._size+=a-s}return this}_utf8(e){let{_byte:n,_word:r}=this,o=e.length,i=this._sp;for(let s=0;s<o;){let a=this._size%64,c=a;for(;s<o&&c<64;){let l=e.charCodeAt(s++)|0;l<128?n[c++]=l:l<2048?(n[c++]=192|l>>>6,n[c++]=128|l&63):l<55296||l>57343?(n[c++]=224|l>>>12,n[c++]=128|l>>>6&63,n[c++]=128|l&63):i?(l=((i&1023)<<10)+(l&1023)+65536,n[c++]=240|l>>>18,n[c++]=128|l>>>12&63,n[c++]=128|l>>>6&63,n[c++]=128|l&63,i=0):i=l}c>=64&&(this._int32(r),r[0]=r[16]),this._size+=c-a}return this._sp=i,this}_int32(e,n){let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:u}=this,d=0;for(n=n|0;d<16;)NS[d++]=op(e[n++]);for(d=16;d<64;d++)NS[d]=eBt(NS[d-2])+NS[d-7]+ZMt(NS[d-15])+NS[d-16]|0;for(d=0;d<64;d++){let p=u+XMt(a)+JMt(a,c,l)+qMt[d]+NS[d]|0,f=QMt(r)+YMt(r,o,i)|0;u=l,l=c,c=a,a=s+p|0,s=i,i=o,o=r,r=p+f|0}this.A=r+this.A|0,this.B=o+this.B|0,this.C=i+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=u+this.H|0}digest(e){let{_byte:n,_word:r}=this,o=this._size%64|0;for(n[o++]=128;o&3;)n[o++]=0;if(o>>=2,o>14){for(;o<16;)r[o++]=0;o=0,this._int32(r)}for(;o<16;)r[o++]=0;let i=this._size*8,s=(i&4294967295)>>>0,a=(i-s)/4294967296;return a&&(r[14]=op(a)),s&&(r[15]=op(s)),this._int32(r),e==="hex"?this._hex():this._bin()}_hex(){let{A:e,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return B1(e)+B1(n)+B1(r)+B1(o)+B1(i)+B1(s)+B1(a)+B1(c)}_bin(){let{A:e,B:n,C:r,D:o,E:i,F:s,G:a,H:c,_byte:l,_word:u}=this;return u[0]=op(e),u[1]=op(n),u[2]=op(r),u[3]=op(o),u[4]=op(i),u[5]=op(s),u[6]=op(a),u[7]=op(c),l.slice(0,32)}},NS=new Int32Array(64),dN=0,B1=t=>(t+4294967296).toString(16).substr(-8),WMt=(t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255),KMt=(t=>t),op=tBt()?KMt:WMt,JMt=(t,e,n)=>n^t&(e^n),YMt=(t,e,n)=>t&e|n&(t|e),QMt=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),XMt=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),ZMt=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,eBt=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10});var UKe={};kn(UKe,{signWithApiKey:()=>nBt});var nBt,$Ke=b(()=>{"use strict";kKe();BKe();bf();nBt=async t=>{let e=$ue.getPublicKey(t.privateKey,!0),n=gf(e);if(n!=t.publicKey)throw new Error(`Bad API key. Expected to get public key ${t.publicKey}, got ${n}`);let r=MKe().update(t.content).digest();return $ue.sign(r,t.privateKey).toDERHex()}});var GKe=Ge((sJr,HKe)=>{"use strict";var Jo={};HKe.exports=Jo;function FKe(t){return t<0?-1:1}function aBt(t){return t%1===.5&&(t&1)===0?Math.floor(t):Math.round(t)}function U1(t,e){e.unsigned||--t;let n=e.unsigned?0:-Math.pow(2,t),r=Math.pow(2,t)-1,o=e.moduloBitLength?Math.pow(2,e.moduloBitLength):Math.pow(2,t),i=e.moduloBitLength?Math.pow(2,e.moduloBitLength-1):Math.pow(2,t-1);return function(s,a){a||(a={});let c=+s;if(a.enforceRange){if(!Number.isFinite(c))throw new TypeError("Argument is not a finite number");if(c=FKe(c)*Math.floor(Math.abs(c)),c<n||c>r)throw new TypeError("Argument is not in byte range");return c}if(!isNaN(c)&&a.clamp)return c=aBt(c),c<n&&(c=n),c>r&&(c=r),c;if(!Number.isFinite(c)||c===0)return 0;if(c=FKe(c)*Math.floor(Math.abs(c)),c=c%o,!e.unsigned&&c>=i)return c-o;if(e.unsigned){if(c<0)c+=o;else if(c===-0)return 0}return c}}Jo.void=function(){};Jo.boolean=function(t){return!!t};Jo.byte=U1(8,{unsigned:!1});Jo.octet=U1(8,{unsigned:!0});Jo.short=U1(16,{unsigned:!1});Jo["unsigned short"]=U1(16,{unsigned:!0});Jo.long=U1(32,{unsigned:!1});Jo["unsigned long"]=U1(32,{unsigned:!0});Jo["long long"]=U1(32,{unsigned:!1,moduloBitLength:64});Jo["unsigned long long"]=U1(32,{unsigned:!0,moduloBitLength:64});Jo.double=function(t){let e=+t;if(!Number.isFinite(e))throw new TypeError("Argument is not a finite floating-point value");return e};Jo["unrestricted double"]=function(t){let e=+t;if(isNaN(e))throw new TypeError("Argument is NaN");return e};Jo.float=Jo.double;Jo["unrestricted float"]=Jo["unrestricted double"];Jo.DOMString=function(t,e){return e||(e={}),e.treatNullAsEmptyString&&t===null?"":String(t)};Jo.ByteString=function(t,e){let n=String(t),r;for(let o=0;(r=n.codePointAt(o))!==void 0;++o)if(r>255)throw new TypeError("Argument is not a valid bytestring");return n};Jo.USVString=function(t){let e=String(t),n=e.length,r=[];for(let o=0;o<n;++o){let i=e.charCodeAt(o);if(i<55296||i>57343)r.push(String.fromCodePoint(i));else if(56320<=i&&i<=57343)r.push(String.fromCodePoint(65533));else if(o===n-1)r.push(String.fromCodePoint(65533));else{let s=e.charCodeAt(o+1);if(56320<=s&&s<=57343){let a=i&1023,c=s&1023;r.push(String.fromCodePoint(65536+1024*a+c)),++o}else r.push(String.fromCodePoint(65533))}}return r.join("")};Jo.Date=function(t,e){if(!(t instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(t))return t};Jo.RegExp=function(t,e){return t instanceof RegExp||(t=new RegExp(t)),t}});var VKe=Ge((aJr,$1)=>{"use strict";$1.exports.mixin=function(e,n){let r=Object.getOwnPropertyNames(n);for(let o=0;o<r.length;++o)Object.defineProperty(e,r[o],Object.getOwnPropertyDescriptor(n,r[o]))};$1.exports.wrapperSymbol=Symbol("wrapper");$1.exports.implSymbol=Symbol("impl");$1.exports.wrapperForImpl=function(t){return t[$1.exports.wrapperSymbol]};$1.exports.implForWrapper=function(t){return t[$1.exports.implSymbol]}});var zKe=Ge((cJr,cBt)=>{cBt.exports=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]});var YKe=Ge((lJr,S$)=>{"use strict";var qKe=_t("punycode"),jKe=zKe(),Gx={TRANSITIONAL:0,NONTRANSITIONAL:1};function WKe(t){return t.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function KKe(t){for(var e=0,n=jKe.length-1;e<=n;){var r=Math.floor((e+n)/2),o=jKe[r];if(o[0][0]<=t&&o[0][1]>=t)return o;o[0][0]>t?n=r-1:e=r+1}return null}var lBt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function JKe(t){return t.replace(lBt,"_").length}function uBt(t,e,n){for(var r=!1,o="",i=JKe(t),s=0;s<i;++s){var a=t.codePointAt(s),c=KKe(a);switch(c[1]){case"disallowed":r=!0,o+=String.fromCodePoint(a);break;case"ignored":break;case"mapped":o+=String.fromCodePoint.apply(String,c[2]);break;case"deviation":n===Gx.TRANSITIONAL?o+=String.fromCodePoint.apply(String,c[2]):o+=String.fromCodePoint(a);break;case"valid":o+=String.fromCodePoint(a);break;case"disallowed_STD3_mapped":e?(r=!0,o+=String.fromCodePoint(a)):o+=String.fromCodePoint.apply(String,c[2]);break;case"disallowed_STD3_valid":e&&(r=!0),o+=String.fromCodePoint(a);break}}return{string:o,error:r}}var dBt=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function pBt(t,e){t.substr(0,4)==="xn--"&&(t=qKe.toUnicode(t),e=Gx.NONTRANSITIONAL);var n=!1;(WKe(t)!==t||t[3]==="-"&&t[4]==="-"||t[0]==="-"||t[t.length-1]==="-"||t.indexOf(".")!==-1||t.search(dBt)===0)&&(n=!0);for(var r=JKe(t),o=0;o<r;++o){var i=KKe(t.codePointAt(o));if(_$===Gx.TRANSITIONAL&&i[1]!=="valid"||_$===Gx.NONTRANSITIONAL&&i[1]!=="valid"&&i[1]!=="deviation"){n=!0;break}}return{label:t,error:n}}function _$(t,e,n){var r=uBt(t,e,n);r.string=WKe(r.string);for(var o=r.string.split("."),i=0;i<o.length;++i)try{var s=pBt(o[i]);o[i]=s.label,r.error=r.error||s.error}catch{r.error=!0}return{string:o.join("."),error:r.error}}S$.exports.toASCII=function(t,e,n,r){var o=_$(t,e,n),i=o.string.split(".");if(i=i.map(function(c){try{return qKe.toASCII(c)}catch{return o.error=!0,c}}),r){var s=i.slice(0,i.length-1).join(".").length;(s.length>253||s.length===0)&&(o.error=!0);for(var a=0;a<i.length;++a)if(i.length>63||i.length===0){o.error=!0;break}}return o.error?null:i.join(".")};S$.exports.toUnicode=function(t,e){var n=_$(t,e,Gx.NONTRANSITIONAL);return{domain:n.string,error:n.error}};S$.exports.PROCESSING_OPTIONS=Gx});var Mf=Ge((uJr,yl)=>{"use strict";var Vx=_t("punycode"),QKe=YKe(),tJe={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},$n=Symbol("failure");function XKe(t){return Vx.ucs2.decode(t).length}function ZKe(t,e){let n=t[e];return isNaN(n)?void 0:String.fromCodePoint(n)}function mN(t){return t>=48&&t<=57}function hN(t){return t>=65&&t<=90||t>=97&&t<=122}function fBt(t){return hN(t)||mN(t)}function ip(t){return mN(t)||t>=65&&t<=70||t>=97&&t<=102}function eJe(t){return t==="."||t.toLowerCase()==="%2e"}function mBt(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function hBt(t,e){return hN(t)&&(e===58||e===124)}function nJe(t){return t.length===2&&hN(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function gBt(t){return t.length===2&&hN(t.codePointAt(0))&&t[1]===":"}function yBt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function bBt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function Hue(t){return tJe[t]!==void 0}function qi(t){return Hue(t.scheme)}function _Bt(t){return tJe[t]}function rJe(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e="0"+e),"%"+e}function SBt(t){let e=new Buffer(t),n="";for(let r=0;r<e.length;++r)n+=rJe(e[r]);return n}function vBt(t){let e=new Buffer(t),n=[];for(let r=0;r<e.length;++r)e[r]!==37?n.push(e[r]):e[r]===37&&ip(e[r+1])&&ip(e[r+2])?(n.push(parseInt(e.slice(r+1,r+3).toString(),16)),r+=2):n.push(e[r]);return new Buffer(n).toString()}function v$(t){return t<=31||t>126}var EBt=new Set([32,34,35,60,62,63,96,123,125]);function oJe(t){return v$(t)||EBt.has(t)}var ABt=new Set([47,58,59,61,64,91,92,93,94,124]);function Vue(t){return oJe(t)||ABt.has(t)}function OS(t,e){let n=String.fromCodePoint(t);return e(t)?SBt(n):n}function xBt(t){let e=10;return t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t===""?0:(e===10?/[^0-9]/:e===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(t)?$n:parseInt(t,e)}function wBt(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return t;let n=[];for(let i of e){if(i==="")return t;let s=xBt(i);if(s===$n)return t;n.push(s)}for(let i=0;i<n.length-1;++i)if(n[i]>255)return $n;if(n[n.length-1]>=Math.pow(256,5-n.length))return $n;let r=n.pop(),o=0;for(let i of n)r+=i*Math.pow(256,3-o),++o;return r}function TBt(t){let e="",n=t;for(let r=1;r<=4;++r)e=String(n%256)+e,r!==4&&(e="."+e),n=Math.floor(n/256);return e}function IBt(t){let e=[0,0,0,0,0,0,0,0],n=0,r=null,o=0;if(t=Vx.ucs2.decode(t),t[o]===58){if(t[o+1]!==58)return $n;o+=2,++n,r=n}for(;o<t.length;){if(n===8)return $n;if(t[o]===58){if(r!==null)return $n;++o,++n,r=n;continue}let i=0,s=0;for(;s<4&&ip(t[o]);)i=i*16+parseInt(ZKe(t,o),16),++o,++s;if(t[o]===46){if(s===0||(o-=s,n>6))return $n;let a=0;for(;t[o]!==void 0;){let c=null;if(a>0)if(t[o]===46&&a<4)++o;else return $n;if(!mN(t[o]))return $n;for(;mN(t[o]);){let l=parseInt(ZKe(t,o));if(c===null)c=l;else{if(c===0)return $n;c=c*10+l}if(c>255)return $n;++o}e[n]=e[n]*256+c,++a,(a===2||a===4)&&++n}if(a!==4)return $n;break}else if(t[o]===58){if(++o,t[o]===void 0)return $n}else if(t[o]!==void 0)return $n;e[n]=i,++n}if(r!==null){let i=n-r;for(n=7;n!==0&&i>0;){let s=e[r+i-1];e[r+i-1]=e[n],e[n]=s,--n,--i}}else if(r===null&&n!==8)return $n;return e}function RBt(t){let e="",r=NBt(t).idx,o=!1;for(let i=0;i<=7;++i)if(!(o&&t[i]===0)){if(o&&(o=!1),r===i){e+=i===0?"::":":",o=!0;continue}e+=t[i].toString(16),i!==7&&(e+=":")}return e}function Gue(t,e){if(t[0]==="[")return t[t.length-1]!=="]"?$n:IBt(t.substring(1,t.length-1));if(!e)return CBt(t);let n=vBt(t),r=QKe.toASCII(n,!1,QKe.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(r===null||yBt(r))return $n;let o=wBt(r);return typeof o=="number"||o===$n?o:r}function CBt(t){if(bBt(t))return $n;let e="",n=Vx.ucs2.decode(t);for(let r=0;r<n.length;++r)e+=OS(n[r],v$);return e}function NBt(t){let e=null,n=1,r=null,o=0;for(let i=0;i<t.length;++i)t[i]!==0?(o>n&&(e=r,n=o),r=null,o=0):(r===null&&(r=i),++o);return o>n&&(e=r,n=o),{idx:e,len:n}}function zue(t){return typeof t=="number"?TBt(t):t instanceof Array?"["+RBt(t)+"]":t}function OBt(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function PBt(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function iJe(t){let e=t.path;e.length!==0&&(t.scheme==="file"&&e.length===1&&kBt(e[0])||e.pop())}function sJe(t){return t.username!==""||t.password!==""}function DBt(t){return t.host===null||t.host===""||t.cannotBeABaseURL||t.scheme==="file"}function kBt(t){return/^[A-Za-z]:$/.test(t)}function Yo(t,e,n,r,o){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=n||"utf-8",this.stateOverride=o,this.url=r,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let s=OBt(this.input);s!==this.input&&(this.parseError=!0),this.input=s}let i=PBt(this.input);for(i!==this.input&&(this.parseError=!0),this.input=i,this.state=o||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Vx.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let s=this.input[this.pointer],a=isNaN(s)?void 0:String.fromCodePoint(s),c=this["parse "+this.state](s,a);if(c){if(c===$n){this.failure=!0;break}}else break}}Yo.prototype["parse scheme start"]=function(e,n){if(hN(e))this.buffer+=n.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,$n;return!0};Yo.prototype["parse scheme"]=function(e,n){if(fBt(e)||e===43||e===45||e===46)this.buffer+=n.toLowerCase();else if(e===58){if(this.stateOverride&&(qi(this.url)&&!Hue(this.buffer)||!qi(this.url)&&Hue(this.buffer)||(sJe(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):qi(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":qi(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,$n;return!0};Yo.prototype["parse no scheme"]=function(e){return this.base===null||this.base.cannotBeABaseURL&&e!==35?$n:(this.base.cannotBeABaseURL&&e===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};Yo.prototype["parse special relative or authority"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};Yo.prototype["parse path or authority"]=function(e){return e===47?this.state="authority":(this.state="path",--this.pointer),!0};Yo.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===47?this.state="relative slash":e===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):qi(this.url)&&e===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0};Yo.prototype["parse relative slash"]=function(e){return qi(this.url)&&(e===47||e===92)?(e===92&&(this.parseError=!0),this.state="special authority ignore slashes"):e===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};Yo.prototype["parse special authority slashes"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};Yo.prototype["parse special authority ignore slashes"]=function(e){return e!==47&&e!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0};Yo.prototype["parse authority"]=function(e,n){if(e===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let r=XKe(this.buffer);for(let o=0;o<r;++o){let i=this.buffer.codePointAt(o);if(i===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let s=OS(i,Vue);this.passwordTokenSeenFlag?this.url.password+=s:this.url.username+=s}this.buffer=""}else if(isNaN(e)||e===47||e===63||e===35||qi(this.url)&&e===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,$n;this.pointer-=XKe(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=n;return!0};Yo.prototype["parse hostname"]=Yo.prototype["parse host"]=function(e,n){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,$n;let r=Gue(this.buffer,qi(this.url));if(r===$n)return $n;if(this.url.host=r,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(e)||e===47||e===63||e===35||qi(this.url)&&e===92){if(--this.pointer,qi(this.url)&&this.buffer==="")return this.parseError=!0,$n;if(this.stateOverride&&this.buffer===""&&(sJe(this.url)||this.url.port!==null))return this.parseError=!0,!1;let r=Gue(this.buffer,qi(this.url));if(r===$n)return $n;if(this.url.host=r,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===91?this.arrFlag=!0:e===93&&(this.arrFlag=!1),this.buffer+=n;return!0};Yo.prototype["parse port"]=function(e,n){if(mN(e))this.buffer+=n;else if(isNaN(e)||e===47||e===63||e===35||qi(this.url)&&e===92||this.stateOverride){if(this.buffer!==""){let r=parseInt(this.buffer);if(r>Math.pow(2,16)-1)return this.parseError=!0,$n;this.url.port=r===_Bt(this.url.scheme)?null:r,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,$n;return!0};var LBt=new Set([47,92,63,35]);Yo.prototype["parse file"]=function(e){return this.url.scheme="file",e===47||e===92?(e===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!hBt(e,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!LBt.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),iJe(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0};Yo.prototype["parse file slash"]=function(e){return e===47||e===92?(e===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(gBt(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0};Yo.prototype["parse file host"]=function(e,n){if(isNaN(e)||e===47||e===92||e===63||e===35)if(--this.pointer,!this.stateOverride&&nJe(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let r=Gue(this.buffer,qi(this.url));if(r===$n)return $n;if(r==="localhost"&&(r=""),this.url.host=r,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=n;return!0};Yo.prototype["parse path start"]=function(e){return qi(this.url)?(e===92&&(this.parseError=!0),this.state="path",e!==47&&e!==92&&--this.pointer):!this.stateOverride&&e===63?(this.url.query="",this.state="query"):!this.stateOverride&&e===35?(this.url.fragment="",this.state="fragment"):e!==void 0&&(this.state="path",e!==47&&--this.pointer),!0};Yo.prototype["parse path"]=function(e){if(isNaN(e)||e===47||qi(this.url)&&e===92||!this.stateOverride&&(e===63||e===35)){if(qi(this.url)&&e===92&&(this.parseError=!0),mBt(this.buffer)?(iJe(this.url),e!==47&&!(qi(this.url)&&e===92)&&this.url.path.push("")):eJe(this.buffer)&&e!==47&&!(qi(this.url)&&e===92)?this.url.path.push(""):eJe(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&nJe(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(e===void 0||e===63||e===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();e===63&&(this.url.query="",this.state="query"),e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!ip(this.input[this.pointer+1])||!ip(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=OS(e,oJe);return!0};Yo.prototype["parse cannot-be-a-base-URL path"]=function(e){return e===63?(this.url.query="",this.state="query"):e===35?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==37&&(this.parseError=!0),e===37&&(!ip(this.input[this.pointer+1])||!ip(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+OS(e,v$))),!0};Yo.prototype["parse query"]=function(e,n){if(isNaN(e)||!this.stateOverride&&e===35){(!qi(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");let r=new Buffer(this.buffer);for(let o=0;o<r.length;++o)r[o]<33||r[o]>126||r[o]===34||r[o]===35||r[o]===60||r[o]===62?this.url.query+=rJe(r[o]):this.url.query+=String.fromCodePoint(r[o]);this.buffer="",e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!ip(this.input[this.pointer+1])||!ip(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=n;return!0};Yo.prototype["parse fragment"]=function(e){return isNaN(e)||(e===0?this.parseError=!0:(e===37&&(!ip(this.input[this.pointer+1])||!ip(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=OS(e,v$))),!0};function MBt(t,e){let n=t.scheme+":";if(t.host!==null?(n+="//",(t.username!==""||t.password!=="")&&(n+=t.username,t.password!==""&&(n+=":"+t.password),n+="@"),n+=zue(t.host),t.port!==null&&(n+=":"+t.port)):t.host===null&&t.scheme==="file"&&(n+="//"),t.cannotBeABaseURL)n+=t.path[0];else for(let r of t.path)n+="/"+r;return t.query!==null&&(n+="?"+t.query),!e&&t.fragment!==null&&(n+="#"+t.fragment),n}function BBt(t){let e=t.scheme+"://";return e+=zue(t.host),t.port!==null&&(e+=":"+t.port),e}yl.exports.serializeURL=MBt;yl.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return yl.exports.serializeURLOrigin(yl.exports.parseURL(t.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return BBt({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}};yl.exports.basicURLParse=function(t,e){e===void 0&&(e={});let n=new Yo(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return n.failure?"failure":n.url};yl.exports.setTheUsername=function(t,e){t.username="";let n=Vx.ucs2.decode(e);for(let r=0;r<n.length;++r)t.username+=OS(n[r],Vue)};yl.exports.setThePassword=function(t,e){t.password="";let n=Vx.ucs2.decode(e);for(let r=0;r<n.length;++r)t.password+=OS(n[r],Vue)};yl.exports.serializeHost=zue;yl.exports.cannotHaveAUsernamePasswordPort=DBt;yl.exports.serializeInteger=function(t){return String(t)};yl.exports.parseURL=function(t,e){return e===void 0&&(e={}),yl.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var cJe=Ge(aJe=>{"use strict";var Qo=Mf();aJe.implementation=class{constructor(e){let n=e[0],r=e[1],o=null;if(r!==void 0&&(o=Qo.basicURLParse(r),o==="failure"))throw new TypeError("Invalid base URL");let i=Qo.basicURLParse(n,{baseURL:o});if(i==="failure")throw new TypeError("Invalid URL");this._url=i}get href(){return Qo.serializeURL(this._url)}set href(e){let n=Qo.basicURLParse(e);if(n==="failure")throw new TypeError("Invalid URL");this._url=n}get origin(){return Qo.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){Qo.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){Qo.cannotHaveAUsernamePasswordPort(this._url)||Qo.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){Qo.cannotHaveAUsernamePasswordPort(this._url)||Qo.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?Qo.serializeHost(e.host):Qo.serializeHost(e.host)+":"+Qo.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||Qo.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Qo.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||Qo.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Qo.serializeInteger(this._url.port)}set port(e){Qo.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:Qo.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],Qo.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(e){let n=this._url;if(e===""){n.query=null;return}let r=e[0]==="?"?e.substring(1):e;n.query="",Qo.basicURLParse(r,{url:n,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(e){if(e===""){this._url.fragment=null;return}let n=e[0]==="#"?e.substring(1):e;this._url.fragment="",Qo.basicURLParse(n,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var dJe=Ge((fJr,gN)=>{"use strict";var ed=GKe(),uJe=VKe(),lJe=cJe(),qr=uJe.implSymbol;function ss(t){if(!this||this[qr]||!(this instanceof ss))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let e=[];for(let n=0;n<arguments.length&&n<2;++n)e[n]=arguments[n];e[0]=ed.USVString(e[0]),e[1]!==void 0&&(e[1]=ed.USVString(e[1])),gN.exports.setup(this,e)}ss.prototype.toJSON=function(){if(!this||!gN.exports.is(this))throw new TypeError("Illegal invocation");let e=[];for(let n=0;n<arguments.length&&n<0;++n)e[n]=arguments[n];return this[qr].toJSON.apply(this[qr],e)};Object.defineProperty(ss.prototype,"href",{get(){return this[qr].href},set(t){t=ed.USVString(t),this[qr].href=t},enumerable:!0,configurable:!0});ss.prototype.toString=function(){if(!this||!gN.exports.is(this))throw new TypeError("Illegal invocation");return this.href};Object.defineProperty(ss.prototype,"origin",{get(){return this[qr].origin},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"protocol",{get(){return this[qr].protocol},set(t){t=ed.USVString(t),this[qr].protocol=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"username",{get(){return this[qr].username},set(t){t=ed.USVString(t),this[qr].username=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"password",{get(){return this[qr].password},set(t){t=ed.USVString(t),this[qr].password=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"host",{get(){return this[qr].host},set(t){t=ed.USVString(t),this[qr].host=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"hostname",{get(){return this[qr].hostname},set(t){t=ed.USVString(t),this[qr].hostname=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"port",{get(){return this[qr].port},set(t){t=ed.USVString(t),this[qr].port=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"pathname",{get(){return this[qr].pathname},set(t){t=ed.USVString(t),this[qr].pathname=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"search",{get(){return this[qr].search},set(t){t=ed.USVString(t),this[qr].search=t},enumerable:!0,configurable:!0});Object.defineProperty(ss.prototype,"hash",{get(){return this[qr].hash},set(t){t=ed.USVString(t),this[qr].hash=t},enumerable:!0,configurable:!0});gN.exports={is(t){return!!t&&t[qr]instanceof lJe.implementation},create(t,e){let n=Object.create(ss.prototype);return this.setup(n,t,e),n},setup(t,e,n){n||(n={}),n.wrapper=t,t[qr]=new lJe.implementation(e,n),t[qr][uJe.wrapperSymbol]=t},interface:ss,expose:{Window:{URL:ss},Worker:{URL:ss}}}});var pJe=Ge(Bf=>{"use strict";Bf.URL=dJe().interface;Bf.serializeURL=Mf().serializeURL;Bf.serializeURLOrigin=Mf().serializeURLOrigin;Bf.basicURLParse=Mf().basicURLParse;Bf.setTheUsername=Mf().setTheUsername;Bf.setThePassword=Mf().setThePassword;Bf.serializeHost=Mf().serializeHost;Bf.serializeInteger=Mf().serializeInteger;Bf.parseURL=Mf().parseURL});var nde={};kn(nde,{AbortError:()=>qx,FetchError:()=>Ds,Headers:()=>nd,Request:()=>G1,Response:()=>td,default:()=>tde});import sp from"stream";import gJe from"http";import A$ from"url";import UBt from"https";import PS from"zlib";function Ds(t,e,n){Error.call(this,t),this.message=t,this.type=e,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}function as(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.size;let o=r===void 0?0:r;var i=n.timeout;let s=i===void 0?0:i;t==null?t=null:yJe(t)?t=Buffer.from(t.toString()):SN(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof sp||(t=Buffer.from(String(t)))),this[Ph]={body:t,disturbed:!1,error:null},this.size=o,this.timeout=s,t instanceof sp&&t.on("error",function(a){let c=a.name==="AbortError"?a:new Ds(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[Ph].error=c})}function zx(){var t=this;if(this[Ph].disturbed)return as.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Ph].disturbed=!0,this[Ph].error)return as.Promise.reject(this[Ph].error);let e=this.body;if(e===null)return as.Promise.resolve(Buffer.alloc(0));if(SN(e)&&(e=e.stream()),Buffer.isBuffer(e))return as.Promise.resolve(e);if(!(e instanceof sp))return as.Promise.resolve(Buffer.alloc(0));let n=[],r=0,o=!1;return new as.Promise(function(i,s){let a;t.timeout&&(a=setTimeout(function(){o=!0,s(new Ds(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(c){c.name==="AbortError"?(o=!0,s(c)):s(new Ds(`Invalid response body while trying to fetch ${t.url}: ${c.message}`,"system",c))}),e.on("data",function(c){if(!(o||c===null)){if(t.size&&r+c.length>t.size){o=!0,s(new Ds(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}r+=c.length,n.push(c)}}),e.on("end",function(){if(!o){clearTimeout(a);try{i(Buffer.concat(n,r))}catch(c){s(new Ds(`Could not create Buffer from response body for ${t.url}: ${c.message}`,"system",c))}}})})}function FBt(t,e){if(typeof Jue!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let n=e.get("content-type"),r="utf-8",o,i;return n&&(o=/charset=([^;]*)/i.exec(n)),i=t.slice(0,1024).toString(),!o&&i&&(o=/<meta.+?charset=(['"])(.+?)\1/i.exec(i)),!o&&i&&(o=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),o||(o=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),o&&o.pop()),o&&(o=/charset=(.*)/i.exec(o.pop()))),!o&&i&&(o=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i)),o&&(r=o.pop(),(r==="gb2312"||r==="gbk")&&(r="gb18030")),Jue(t,"UTF-8",r).toString()}function yJe(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function SN(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function bJe(t){let e,n,r=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof sp&&typeof r.getBoundary!="function"&&(e=new fJe,n=new fJe,r.pipe(e),r.pipe(n),t[Ph].body=e,r=n),r}function _Je(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":yJe(t)?"application/x-www-form-urlencoded;charset=UTF-8":SN(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof sp?null:"text/plain;charset=UTF-8"}function SJe(t){let e=t.body;return e===null?0:SN(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function HBt(t,e){let n=e.body;n===null?t.end():SN(n)?n.stream().pipe(t):Buffer.isBuffer(n)?(t.write(n),t.end()):n.pipe(t)}function yN(t){if(t=`${t}`,vJe.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function mJe(t){if(t=`${t}`,Yue.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function jx(t,e){e=e.toLowerCase();for(let n in t)if(n.toLowerCase()===e)return n}function Que(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[oi]).sort().map(e==="key"?function(r){return r.toLowerCase()}:e==="value"?function(r){return t[oi][r].join(", ")}:function(r){return[r.toLowerCase(),t[oi][r].join(", ")]})}function que(t,e){let n=Object.create(ede);return n[Xue]={target:t,kind:e,index:0},n}function GBt(t){let e=Object.assign({__proto__:null},t[oi]),n=jx(t[oi],"Host");return n!==void 0&&(e[n]=e[n][0]),e}function VBt(t){let e=new nd;for(let n of Object.keys(t))if(!vJe.test(n))if(Array.isArray(t[n]))for(let r of t[n])Yue.test(r)||(e[oi][n]===void 0?e[oi][n]=[r]:e[oi][n].push(r));else Yue.test(t[n])||(e[oi][n]=[t[n]]);return e}function Wue(t){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(t)&&(t=new jBt(t).toString()),qBt(t)}function E$(t){return typeof t=="object"&&typeof t[Oh]=="object"}function JBt(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}function YBt(t){let e=t[Oh].parsedURL,n=new nd(t[Oh].headers);if(n.has("Accept")||n.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof sp.Readable&&!KBt)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(r="0"),t.body!=null){let i=SJe(t);typeof i=="number"&&(r=String(i))}r&&n.set("Content-Length",r),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=t.agent;return typeof o=="function"&&(o=o(e)),Object.assign({},e,{method:t.method,headers:GBt(n),agent:o})}function qx(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}function H1(t,e){if(!H1.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return as.Promise=H1.Promise,new H1.Promise(function(n,r){let o=new G1(t,e),i=YBt(o),s=(i.protocol==="https:"?UBt:gJe).request,a=o.signal,c=null,l=function(){let m=new qx("The user aborted a request.");r(m),o.body&&o.body instanceof sp.Readable&&Kue(o.body,m),!(!c||!c.body)&&c.body.emit("error",m)};if(a&&a.aborted){l();return}let u=function(){l(),f()},d=s(i),p;a&&a.addEventListener("abort",u);function f(){d.abort(),a&&a.removeEventListener("abort",u),clearTimeout(p)}o.timeout&&d.once("socket",function(h){p=setTimeout(function(){r(new Ds(`network timeout at: ${o.url}`,"request-timeout")),f()},o.timeout)}),d.on("error",function(h){r(new Ds(`request to ${o.url} failed, reason: ${h.message}`,"system",h)),c&&c.body&&Kue(c.body,h),f()}),ZBt(d,function(h){a&&a.aborted||c&&c.body&&Kue(c.body,h)}),parseInt(process.version.substring(1))<14&&d.on("socket",function(h){h.addListener("close",function(m){let g=h.listenerCount("data")>0;if(c&&g&&!m&&!(a&&a.aborted)){let y=new Error("Premature close");y.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",y)}})}),d.on("response",function(h){clearTimeout(p);let m=VBt(h.headers);if(H1.isRedirect(h.statusCode)){let A=m.get("Location"),w=null;try{w=A===null?null:new _N(A,o.url).toString()}catch{if(o.redirect!=="manual"){r(new Ds(`uri requested responds with an invalid redirect URL: ${A}`,"invalid-redirect")),f();return}}switch(o.redirect){case"error":r(new Ds(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),f();return;case"manual":if(w!==null)try{m.set("Location",w)}catch(D){r(D)}break;case"follow":if(w===null)break;if(o.counter>=o.follow){r(new Ds(`maximum redirect reached at: ${o.url}`,"max-redirect")),f();return}let I={headers:new nd(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:o.body,signal:o.signal,timeout:o.timeout,size:o.size};if(!QBt(o.url,w)||!XBt(o.url,w))for(let D of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(D);if(h.statusCode!==303&&o.body&&SJe(o)===null){r(new Ds("Cannot follow redirect with body being a readable stream","unsupported-redirect")),f();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&o.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length")),n(H1(new G1(w,I))),f();return}}h.once("end",function(){a&&a.removeEventListener("abort",u)});let g=h.pipe(new hJe),y={url:o.url,status:h.statusCode,statusText:h.statusMessage,headers:m,size:o.size,timeout:o.timeout,counter:o.counter},S=m.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||S===null||h.statusCode===204||h.statusCode===304){c=new td(g,y),n(c);return}let v={flush:PS.Z_SYNC_FLUSH,finishFlush:PS.Z_SYNC_FLUSH};if(S=="gzip"||S=="x-gzip"){g=g.pipe(PS.createGunzip(v)),c=new td(g,y),n(c);return}if(S=="deflate"||S=="x-deflate"){let A=h.pipe(new hJe);A.once("data",function(w){(w[0]&15)===8?g=g.pipe(PS.createInflate()):g=g.pipe(PS.createInflateRaw()),c=new td(g,y),n(c)}),A.on("end",function(){c||(c=new td(g,y),n(c))});return}if(S=="br"&&typeof PS.createBrotliDecompress=="function"){g=g.pipe(PS.createBrotliDecompress()),c=new td(g,y),n(c);return}c=new td(g,y),n(c)}),HBt(d,o)})}function ZBt(t,e){let n;t.on("socket",function(r){n=r}),t.on("response",function(r){let o=r.headers;o["transfer-encoding"]==="chunked"&&!o["content-length"]&&r.once("close",function(i){if(n&&n.listenerCount("data")>0&&!i){let a=new Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",e(a)}})})}function Kue(t,e){t.destroy?t.destroy(e):(t.emit("error",e),t.end())}var Zue,$Bt,Nh,jue,bN,Jue,Ph,fJe,vJe,Yue,oi,nd,Xue,ede,F1,zBt,td,Oh,jBt,qBt,WBt,KBt,G1,_N,hJe,QBt,XBt,tde,rde=b(()=>{"use strict";Zue=ho(pJe(),1),$Bt=sp.Readable,Nh=Symbol("buffer"),jue=Symbol("type"),bN=class t{constructor(){this[jue]="";let e=arguments[0],n=arguments[1],r=[],o=0;if(e){let s=e,a=Number(s.length);for(let c=0;c<a;c++){let l=s[c],u;l instanceof Buffer?u=l:ArrayBuffer.isView(l)?u=Buffer.from(l.buffer,l.byteOffset,l.byteLength):l instanceof ArrayBuffer?u=Buffer.from(l):l instanceof t?u=l[Nh]:u=Buffer.from(typeof l=="string"?l:String(l)),o+=u.length,r.push(u)}}this[Nh]=Buffer.concat(r);let i=n&&n.type!==void 0&&String(n.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[jue]=i)}get size(){return this[Nh].length}get type(){return this[jue]}text(){return Promise.resolve(this[Nh].toString())}arrayBuffer(){let e=this[Nh],n=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(n)}stream(){let e=new $Bt;return e._read=function(){},e.push(this[Nh]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,n=arguments[0],r=arguments[1],o,i;n===void 0?o=0:n<0?o=Math.max(e+n,0):o=Math.min(n,e),r===void 0?i=e:r<0?i=Math.max(e+r,0):i=Math.min(r,e);let s=Math.max(i-o,0),c=this[Nh].slice(o,o+s),l=new t([],{type:arguments[2]});return l[Nh]=c,l}};Object.defineProperties(bN.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(bN.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});Ds.prototype=Object.create(Error.prototype);Ds.prototype.constructor=Ds;Ds.prototype.name="FetchError";try{Jue=_t("encoding").convert}catch{}Ph=Symbol("Body internals"),fJe=sp.PassThrough;as.prototype={get body(){return this[Ph].body},get bodyUsed(){return this[Ph].disturbed},arrayBuffer(){return zx.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return zx.call(this).then(function(e){return Object.assign(new bN([],{type:t.toLowerCase()}),{[Nh]:e})})},json(){var t=this;return zx.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(n){return as.Promise.reject(new Ds(`invalid json response body at ${t.url} reason: ${n.message}`,"invalid-json"))}})},text(){return zx.call(this).then(function(t){return t.toString()})},buffer(){return zx.call(this)},textConverted(){var t=this;return zx.call(this).then(function(e){return FBt(e,t.headers)})}};Object.defineProperties(as.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});as.mixIn=function(t){for(let e of Object.getOwnPropertyNames(as.prototype))if(!(e in t)){let n=Object.getOwnPropertyDescriptor(as.prototype,e);Object.defineProperty(t,e,n)}};as.Promise=global.Promise;vJe=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Yue=/[^\t\x20-\x7e\x80-\xff]/;oi=Symbol("map"),nd=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[oi]=Object.create(null),e instanceof t){let n=e.raw(),r=Object.keys(n);for(let o of r)for(let i of n[o])this.append(o,i);return}if(e!=null)if(typeof e=="object"){let n=e[Symbol.iterator];if(n!=null){if(typeof n!="function")throw new TypeError("Header pairs must be iterable");let r=[];for(let o of e){if(typeof o!="object"||typeof o[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");r.push(Array.from(o))}for(let o of r){if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(o[0],o[1])}}else for(let r of Object.keys(e)){let o=e[r];this.append(r,o)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,yN(e);let n=jx(this[oi],e);return n===void 0?null:this[oi][n].join(", ")}forEach(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=Que(this),o=0;for(;o<r.length;){var i=r[o];let s=i[0],a=i[1];e.call(n,a,s,this),r=Que(this),o++}}set(e,n){e=`${e}`,n=`${n}`,yN(e),mJe(n);let r=jx(this[oi],e);this[oi][r!==void 0?r:e]=[n]}append(e,n){e=`${e}`,n=`${n}`,yN(e),mJe(n);let r=jx(this[oi],e);r!==void 0?this[oi][r].push(n):this[oi][e]=[n]}has(e){return e=`${e}`,yN(e),jx(this[oi],e)!==void 0}delete(e){e=`${e}`,yN(e);let n=jx(this[oi],e);n!==void 0&&delete this[oi][n]}raw(){return this[oi]}keys(){return que(this,"key")}values(){return que(this,"value")}[Symbol.iterator](){return que(this,"key+value")}};nd.prototype.entries=nd.prototype[Symbol.iterator];Object.defineProperty(nd.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(nd.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});Xue=Symbol("internal");ede=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==ede)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[Xue];let e=t.target,n=t.kind,r=t.index,o=Que(e,n),i=o.length;return r>=i?{value:void 0,done:!0}:(this[Xue].index=r+1,{value:o[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(ede,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});F1=Symbol("Response internals"),zBt=gJe.STATUS_CODES,td=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};as.call(this,e,n);let r=n.status||200,o=new nd(n.headers);if(e!=null&&!o.has("Content-Type")){let i=_Je(e);i&&o.append("Content-Type",i)}this[F1]={url:n.url,status:r,statusText:n.statusText||zBt[r],headers:o,counter:n.counter}}get url(){return this[F1].url||""}get status(){return this[F1].status}get ok(){return this[F1].status>=200&&this[F1].status<300}get redirected(){return this[F1].counter>0}get statusText(){return this[F1].statusText}get headers(){return this[F1].headers}clone(){return new t(bJe(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};as.mixIn(td.prototype);Object.defineProperties(td.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(td.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});Oh=Symbol("Request internals"),jBt=A$.URL||Zue.default.URL,qBt=A$.parse,WBt=A$.format;KBt="destroy"in sp.Readable.prototype;G1=class t{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;E$(e)?r=Wue(e.url):(e&&e.href?r=Wue(e.href):r=Wue(`${e}`),e={});let o=n.method||e.method||"GET";if(o=o.toUpperCase(),(n.body!=null||E$(e)&&e.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let i=n.body!=null?n.body:E$(e)&&e.body!==null?bJe(e):null;as.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});let s=new nd(n.headers||e.headers||{});if(i!=null&&!s.has("Content-Type")){let c=_Je(i);c&&s.append("Content-Type",c)}let a=E$(e)?e.signal:null;if("signal"in n&&(a=n.signal),a!=null&&!JBt(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Oh]={method:o,redirect:n.redirect||e.redirect||"follow",headers:s,parsedURL:r,signal:a},this.follow=n.follow!==void 0?n.follow:e.follow!==void 0?e.follow:20,this.compress=n.compress!==void 0?n.compress:e.compress!==void 0?e.compress:!0,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[Oh].method}get url(){return WBt(this[Oh].parsedURL)}get headers(){return this[Oh].headers}get redirect(){return this[Oh].redirect}get signal(){return this[Oh].signal}clone(){return new t(this)}};as.mixIn(G1.prototype);Object.defineProperty(G1.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(G1.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});qx.prototype=Object.create(Error.prototype);qx.prototype.constructor=qx;qx.prototype.name="AbortError";_N=A$.URL||Zue.default.URL,hJe=sp.PassThrough,QBt=function(e,n){let r=new _N(n).hostname,o=new _N(e).hostname;return r===o||r[r.length-o.length-1]==="."&&r.endsWith(o)},XBt=function(e,n){let r=new _N(n).protocol,o=new _N(e).protocol;return r===o};H1.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};H1.Promise=global.Promise;tde=H1});var ode=Ge((DS,EJe)=>{"use strict";var vN=(rde(),Qq(nde)),eUt=vN.default||vN,x$=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),eUt.call(this,t,e)};x$.ponyfill=!0;EJe.exports=DS=x$;DS.fetch=x$;DS.Headers=vN.Headers;DS.Request=vN.Request;DS.Response=vN.Response;DS.default=x$});function YUt(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=n[c],u=n[c+1],d=lYe(l,u,1)^n[a],p=uYe(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=pYe[s],c=lYe(o,i,a),l=uYe(o,i,a),u=dYe[s];o=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=KUt[r],t[1]^=JUt[r]}Gu(n)}var VUt,AN,zUt,jUt,qUt,WUt,dYe,pYe,fYe,mYe,KUt,JUt,lYe,uYe,ade,QUt,cde,hYe=b(()=>{"use strict";yae();ih();VUt=BigInt(0),AN=BigInt(1),zUt=BigInt(2),jUt=BigInt(7),qUt=BigInt(256),WUt=BigInt(113),dYe=[],pYe=[],fYe=[];for(let t=0,e=AN,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],dYe.push(2*(5*r+n)),pYe.push((t+1)*(t+2)/2%64);let o=VUt;for(let i=0;i<7;i++)e=(e<<AN^(e>>jUt)*WUt)%qUt,e&zUt&&(o^=AN<<(AN<<BigInt(i))-AN);fYe.push(o)}mYe=mB(fYe,!0),KUt=mYe[0],JUt=mYe[1],lYe=(t,e,n)=>n>32?UGe(t,e,n):MGe(t,e,n),uYe=(t,e,n)=>n>32?$Ge(t,e,n):BGe(t,e,n);ade=class t extends e1{constructor(e,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,Z0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=NGe(this.state)}clone(){return this._cloneInto()}keccak(){fae(this.state32),YUt(this.state32,this.rounds),fae(this.state32),this.posOut=0,this.pos=0}update(e){oh(this),e=x_(e),ws(e);let{blockLen:n,state:r}=this,o=e.length;for(let i=0;i<o;){let s=Math.min(n-this.pos,o-i);for(let a=0;a<s;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){oh(this,!1),ws(e),this.finish();let n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Z0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Gu(this.state)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},QUt=(t,e,n)=>zA(()=>new ade(e,t,n)),cde=QUt(1,136,256/8)});var hde=Ge((SYe,mde)=>{"use strict";(function(t,e){"use strict";function n(C,_){if(!C)throw new Error(_||"Assertion failed")}function r(C,_){C.super_=_;var E=function(){};E.prototype=_.prototype,C.prototype=new E,C.prototype.constructor=C}function o(C,_,E){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((_==="le"||_==="be")&&(E=_,_=10),this._init(C||0,_||10,E||"be"))}typeof t=="object"?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=_t("buffer").Buffer}catch{}o.isBN=function(_){return _ instanceof o?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===o.wordSize&&Array.isArray(_.words)},o.max=function(_,E){return _.cmp(E)>0?_:E},o.min=function(_,E){return _.cmp(E)<0?_:E},o.prototype._init=function(_,E,R){if(typeof _=="number")return this._initNumber(_,E,R);if(typeof _=="object")return this._initArray(_,E,R);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),_=_.toString().replace(/\s+/g,"");var M=0;_[0]==="-"&&(M++,this.negative=1),M<_.length&&(E===16?this._parseHex(_,M,R):(this._parseBase(_,E,M),R==="le"&&this._initArray(this.toArray(),E,R)))},o.prototype._initNumber=function(_,E,R){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),E,R)},o.prototype._initArray=function(_,E,R){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var $,j,Y=0;if(R==="be")for(M=_.length-1,$=0;M>=0;M-=3)j=_[M]|_[M-1]<<8|_[M-2]<<16,this.words[$]|=j<<Y&67108863,this.words[$+1]=j>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,$++);else if(R==="le")for(M=0,$=0;M<_.length;M+=3)j=_[M]|_[M+1]<<8|_[M+2]<<16,this.words[$]|=j<<Y&67108863,this.words[$+1]=j>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,$++);return this._strip()};function s(C,_){var E=C.charCodeAt(_);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;n(!1,"Invalid character in "+C)}function a(C,_,E){var R=s(C,E);return E-1>=_&&(R|=s(C,E-1)<<4),R}o.prototype._parseHex=function(_,E,R){this.length=Math.ceil((_.length-E)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var $=0,j=0,Y;if(R==="be")for(M=_.length-1;M>=E;M-=2)Y=a(_,E,M)<<$,this.words[j]|=Y&67108863,$>=18?($-=18,j+=1,this.words[j]|=Y>>>26):$+=8;else{var z=_.length-E;for(M=z%2===0?E+1:E;M<_.length;M+=2)Y=a(_,E,M)<<$,this.words[j]|=Y&67108863,$>=18?($-=18,j+=1,this.words[j]|=Y>>>26):$+=8}this._strip()};function c(C,_,E,R){for(var M=0,$=0,j=Math.min(C.length,E),Y=_;Y<j;Y++){var z=C.charCodeAt(Y)-48;M*=R,z>=49?$=z-49+10:z>=17?$=z-17+10:$=z,n(z>=0&&$<R,"Invalid character"),M+=$}return M}o.prototype._parseBase=function(_,E,R){this.words=[0],this.length=1;for(var M=0,$=1;$<=67108863;$*=E)M++;M--,$=$/E|0;for(var j=_.length-R,Y=j%M,z=Math.min(j,j-Y)+R,x=0,Q=R;Q<z;Q+=M)x=c(_,Q,Q+M,E),this.imuln($),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(Y!==0){var Re=1;for(x=c(_,Q,_.length,E),Q=0;Q<Y;Q++)Re*=E;this.imuln(Re),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this._strip()},o.prototype.copy=function(_){_.words=new Array(this.length);for(var E=0;E<this.length;E++)_.words[E]=this.words[E];_.length=this.length,_.negative=this.negative,_.red=this.red};function l(C,_){C.words=_.words,C.length=_.length,C.negative=_.negative,C.red=_.red}if(o.prototype._move=function(_){l(_,this)},o.prototype.clone=function(){var _=new o(null);return this.copy(_),_},o.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(_,E){_=_||10,E=E|0||1;var R;if(_===16||_==="hex"){R="";for(var M=0,$=0,j=0;j<this.length;j++){var Y=this.words[j],z=((Y<<M|$)&16777215).toString(16);$=Y>>>24-M&16777215,M+=2,M>=26&&(M-=26,j--),$!==0||j!==this.length-1?R=d[6-z.length]+z+R:R=z+R}for($!==0&&(R=$.toString(16)+R);R.length%E!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(_===(_|0)&&_>=2&&_<=36){var x=p[_],Q=f[_];R="";var Re=this.clone();for(Re.negative=0;!Re.isZero();){var Se=Re.modrn(Q).toString(_);Re=Re.idivn(Q),Re.isZero()?R=Se+R:R=d[x-Se.length]+Se+R}for(this.isZero()&&(R="0"+R);R.length%E!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},o.prototype.toJSON=function(){return this.toString(16,2)},i&&(o.prototype.toBuffer=function(_,E){return this.toArrayLike(i,_,E)}),o.prototype.toArray=function(_,E){return this.toArrayLike(Array,_,E)};var h=function(_,E){return _.allocUnsafe?_.allocUnsafe(E):new _(E)};o.prototype.toArrayLike=function(_,E,R){this._strip();var M=this.byteLength(),$=R||Math.max(1,M);n(M<=$,"byte array longer than desired length"),n($>0,"Requested array length <= 0");var j=h(_,$),Y=E==="le"?"LE":"BE";return this["_toArrayLike"+Y](j,M),j},o.prototype._toArrayLikeLE=function(_,E){for(var R=0,M=0,$=0,j=0;$<this.length;$++){var Y=this.words[$]<<j|M;_[R++]=Y&255,R<_.length&&(_[R++]=Y>>8&255),R<_.length&&(_[R++]=Y>>16&255),j===6?(R<_.length&&(_[R++]=Y>>24&255),M=0,j=0):(M=Y>>>24,j+=2)}if(R<_.length)for(_[R++]=M;R<_.length;)_[R++]=0},o.prototype._toArrayLikeBE=function(_,E){for(var R=_.length-1,M=0,$=0,j=0;$<this.length;$++){var Y=this.words[$]<<j|M;_[R--]=Y&255,R>=0&&(_[R--]=Y>>8&255),R>=0&&(_[R--]=Y>>16&255),j===6?(R>=0&&(_[R--]=Y>>24&255),M=0,j=0):(M=Y>>>24,j+=2)}if(R>=0)for(_[R--]=M;R>=0;)_[R--]=0},Math.clz32?o.prototype._countBits=function(_){return 32-Math.clz32(_)}:o.prototype._countBits=function(_){var E=_,R=0;return E>=4096&&(R+=13,E>>>=13),E>=64&&(R+=7,E>>>=7),E>=8&&(R+=4,E>>>=4),E>=2&&(R+=2,E>>>=2),R+E},o.prototype._zeroBits=function(_){if(_===0)return 26;var E=_,R=0;return(E&8191)===0&&(R+=13,E>>>=13),(E&127)===0&&(R+=7,E>>>=7),(E&15)===0&&(R+=4,E>>>=4),(E&3)===0&&(R+=2,E>>>=2),(E&1)===0&&R++,R},o.prototype.bitLength=function(){var _=this.words[this.length-1],E=this._countBits(_);return(this.length-1)*26+E};function m(C){for(var _=new Array(C.bitLength()),E=0;E<_.length;E++){var R=E/26|0,M=E%26;_[E]=C.words[R]>>>M&1}return _}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,E=0;E<this.length;E++){var R=this._zeroBits(this.words[E]);if(_+=R,R!==26)break}return _},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},o.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var E=0;E<_.length;E++)this.words[E]=this.words[E]|_.words[E];return this._strip()},o.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},o.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},o.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},o.prototype.iuand=function(_){var E;this.length>_.length?E=_:E=this;for(var R=0;R<E.length;R++)this.words[R]=this.words[R]&_.words[R];return this.length=E.length,this._strip()},o.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},o.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},o.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},o.prototype.iuxor=function(_){var E,R;this.length>_.length?(E=this,R=_):(E=_,R=this);for(var M=0;M<R.length;M++)this.words[M]=E.words[M]^R.words[M];if(this!==E)for(;M<E.length;M++)this.words[M]=E.words[M];return this.length=E.length,this._strip()},o.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},o.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},o.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},o.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var E=Math.ceil(_/26)|0,R=_%26;this._expand(E),R>0&&E--;for(var M=0;M<E;M++)this.words[M]=~this.words[M]&67108863;return R>0&&(this.words[M]=~this.words[M]&67108863>>26-R),this._strip()},o.prototype.notn=function(_){return this.clone().inotn(_)},o.prototype.setn=function(_,E){n(typeof _=="number"&&_>=0);var R=_/26|0,M=_%26;return this._expand(R+1),E?this.words[R]=this.words[R]|1<<M:this.words[R]=this.words[R]&~(1<<M),this._strip()},o.prototype.iadd=function(_){var E;if(this.negative!==0&&_.negative===0)return this.negative=0,E=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,E=this.isub(_),_.negative=1,E._normSign();var R,M;this.length>_.length?(R=this,M=_):(R=_,M=this);for(var $=0,j=0;j<M.length;j++)E=(R.words[j]|0)+(M.words[j]|0)+$,this.words[j]=E&67108863,$=E>>>26;for(;$!==0&&j<R.length;j++)E=(R.words[j]|0)+$,this.words[j]=E&67108863,$=E>>>26;if(this.length=R.length,$!==0)this.words[this.length]=$,this.length++;else if(R!==this)for(;j<R.length;j++)this.words[j]=R.words[j];return this},o.prototype.add=function(_){var E;return _.negative!==0&&this.negative===0?(_.negative=0,E=this.sub(_),_.negative^=1,E):_.negative===0&&this.negative!==0?(this.negative=0,E=_.sub(this),this.negative=1,E):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},o.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var E=this.iadd(_);return _.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var R=this.cmp(_);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,$;R>0?(M=this,$=_):(M=_,$=this);for(var j=0,Y=0;Y<$.length;Y++)E=(M.words[Y]|0)-($.words[Y]|0)+j,j=E>>26,this.words[Y]=E&67108863;for(;j!==0&&Y<M.length;Y++)E=(M.words[Y]|0)+j,j=E>>26,this.words[Y]=E&67108863;if(j===0&&Y<M.length&&M!==this)for(;Y<M.length;Y++)this.words[Y]=M.words[Y];return this.length=Math.max(this.length,Y),M!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(_){return this.clone().isub(_)};function g(C,_,E){E.negative=_.negative^C.negative;var R=C.length+_.length|0;E.length=R,R=R-1|0;var M=C.words[0]|0,$=_.words[0]|0,j=M*$,Y=j&67108863,z=j/67108864|0;E.words[0]=Y;for(var x=1;x<R;x++){for(var Q=z>>>26,Re=z&67108863,Se=Math.min(x,_.length-1),pe=Math.max(0,x-C.length+1);pe<=Se;pe++){var Ve=x-pe|0;M=C.words[Ve]|0,$=_.words[pe]|0,j=M*$+Re,Q+=j/67108864|0,Re=j&67108863}E.words[x]=Re|0,z=Q|0}return z!==0?E.words[x]=z|0:E.length--,E._strip()}var y=function(_,E,R){var M=_.words,$=E.words,j=R.words,Y=0,z,x,Q,Re=M[0]|0,Se=Re&8191,pe=Re>>>13,Ve=M[1]|0,xe=Ve&8191,ut=Ve>>>13,dt=M[2]|0,Ot=dt&8191,se=dt>>>13,tn=M[3]|0,un=tn&8191,fr=tn>>>13,rc=M[4]|0,mr=rc&8191,Tr=rc>>>13,Dd=M[5]|0,Hn=Dd&8191,Qn=Dd>>>13,mi=M[6]|0,Fr=mi&8191,mo=mi>>>13,oc=M[7]|0,Ir=oc&8191,T=oc>>>13,B=M[8]|0,V=B&8191,oe=B>>>13,W=M[9]|0,X=W&8191,ie=W>>>13,Le=$[0]|0,Je=Le&8191,Rt=Le>>>13,nn=$[1]|0,ft=nn&8191,Qe=nn>>>13,At=$[2]|0,rt=At&8191,at=At>>>13,Dn=$[3]|0,dn=Dn&8191,_n=Dn>>>13,ic=$[4]|0,Co=ic&8191,Fo=ic>>>13,A9=$[5]|0,hi=A9&8191,gi=A9>>>13,lEe=$[6]|0,yi=lEe&8191,bi=lEe>>>13,uEe=$[7]|0,_i=uEe&8191,Si=uEe>>>13,dEe=$[8]|0,vi=dEe&8191,Ei=dEe>>>13,pEe=$[9]|0,Ai=pEe&8191,xi=pEe>>>13;R.negative=_.negative^E.negative,R.length=19,z=Math.imul(Se,Je),x=Math.imul(Se,Rt),x=x+Math.imul(pe,Je)|0,Q=Math.imul(pe,Rt);var Pq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,z=Math.imul(xe,Je),x=Math.imul(xe,Rt),x=x+Math.imul(ut,Je)|0,Q=Math.imul(ut,Rt),z=z+Math.imul(Se,ft)|0,x=x+Math.imul(Se,Qe)|0,x=x+Math.imul(pe,ft)|0,Q=Q+Math.imul(pe,Qe)|0;var Dq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Dq>>>26)|0,Dq&=67108863,z=Math.imul(Ot,Je),x=Math.imul(Ot,Rt),x=x+Math.imul(se,Je)|0,Q=Math.imul(se,Rt),z=z+Math.imul(xe,ft)|0,x=x+Math.imul(xe,Qe)|0,x=x+Math.imul(ut,ft)|0,Q=Q+Math.imul(ut,Qe)|0,z=z+Math.imul(Se,rt)|0,x=x+Math.imul(Se,at)|0,x=x+Math.imul(pe,rt)|0,Q=Q+Math.imul(pe,at)|0;var kq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(kq>>>26)|0,kq&=67108863,z=Math.imul(un,Je),x=Math.imul(un,Rt),x=x+Math.imul(fr,Je)|0,Q=Math.imul(fr,Rt),z=z+Math.imul(Ot,ft)|0,x=x+Math.imul(Ot,Qe)|0,x=x+Math.imul(se,ft)|0,Q=Q+Math.imul(se,Qe)|0,z=z+Math.imul(xe,rt)|0,x=x+Math.imul(xe,at)|0,x=x+Math.imul(ut,rt)|0,Q=Q+Math.imul(ut,at)|0,z=z+Math.imul(Se,dn)|0,x=x+Math.imul(Se,_n)|0,x=x+Math.imul(pe,dn)|0,Q=Q+Math.imul(pe,_n)|0;var Lq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Lq>>>26)|0,Lq&=67108863,z=Math.imul(mr,Je),x=Math.imul(mr,Rt),x=x+Math.imul(Tr,Je)|0,Q=Math.imul(Tr,Rt),z=z+Math.imul(un,ft)|0,x=x+Math.imul(un,Qe)|0,x=x+Math.imul(fr,ft)|0,Q=Q+Math.imul(fr,Qe)|0,z=z+Math.imul(Ot,rt)|0,x=x+Math.imul(Ot,at)|0,x=x+Math.imul(se,rt)|0,Q=Q+Math.imul(se,at)|0,z=z+Math.imul(xe,dn)|0,x=x+Math.imul(xe,_n)|0,x=x+Math.imul(ut,dn)|0,Q=Q+Math.imul(ut,_n)|0,z=z+Math.imul(Se,Co)|0,x=x+Math.imul(Se,Fo)|0,x=x+Math.imul(pe,Co)|0,Q=Q+Math.imul(pe,Fo)|0;var Mq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Mq>>>26)|0,Mq&=67108863,z=Math.imul(Hn,Je),x=Math.imul(Hn,Rt),x=x+Math.imul(Qn,Je)|0,Q=Math.imul(Qn,Rt),z=z+Math.imul(mr,ft)|0,x=x+Math.imul(mr,Qe)|0,x=x+Math.imul(Tr,ft)|0,Q=Q+Math.imul(Tr,Qe)|0,z=z+Math.imul(un,rt)|0,x=x+Math.imul(un,at)|0,x=x+Math.imul(fr,rt)|0,Q=Q+Math.imul(fr,at)|0,z=z+Math.imul(Ot,dn)|0,x=x+Math.imul(Ot,_n)|0,x=x+Math.imul(se,dn)|0,Q=Q+Math.imul(se,_n)|0,z=z+Math.imul(xe,Co)|0,x=x+Math.imul(xe,Fo)|0,x=x+Math.imul(ut,Co)|0,Q=Q+Math.imul(ut,Fo)|0,z=z+Math.imul(Se,hi)|0,x=x+Math.imul(Se,gi)|0,x=x+Math.imul(pe,hi)|0,Q=Q+Math.imul(pe,gi)|0;var Bq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Bq>>>26)|0,Bq&=67108863,z=Math.imul(Fr,Je),x=Math.imul(Fr,Rt),x=x+Math.imul(mo,Je)|0,Q=Math.imul(mo,Rt),z=z+Math.imul(Hn,ft)|0,x=x+Math.imul(Hn,Qe)|0,x=x+Math.imul(Qn,ft)|0,Q=Q+Math.imul(Qn,Qe)|0,z=z+Math.imul(mr,rt)|0,x=x+Math.imul(mr,at)|0,x=x+Math.imul(Tr,rt)|0,Q=Q+Math.imul(Tr,at)|0,z=z+Math.imul(un,dn)|0,x=x+Math.imul(un,_n)|0,x=x+Math.imul(fr,dn)|0,Q=Q+Math.imul(fr,_n)|0,z=z+Math.imul(Ot,Co)|0,x=x+Math.imul(Ot,Fo)|0,x=x+Math.imul(se,Co)|0,Q=Q+Math.imul(se,Fo)|0,z=z+Math.imul(xe,hi)|0,x=x+Math.imul(xe,gi)|0,x=x+Math.imul(ut,hi)|0,Q=Q+Math.imul(ut,gi)|0,z=z+Math.imul(Se,yi)|0,x=x+Math.imul(Se,bi)|0,x=x+Math.imul(pe,yi)|0,Q=Q+Math.imul(pe,bi)|0;var Uq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Uq>>>26)|0,Uq&=67108863,z=Math.imul(Ir,Je),x=Math.imul(Ir,Rt),x=x+Math.imul(T,Je)|0,Q=Math.imul(T,Rt),z=z+Math.imul(Fr,ft)|0,x=x+Math.imul(Fr,Qe)|0,x=x+Math.imul(mo,ft)|0,Q=Q+Math.imul(mo,Qe)|0,z=z+Math.imul(Hn,rt)|0,x=x+Math.imul(Hn,at)|0,x=x+Math.imul(Qn,rt)|0,Q=Q+Math.imul(Qn,at)|0,z=z+Math.imul(mr,dn)|0,x=x+Math.imul(mr,_n)|0,x=x+Math.imul(Tr,dn)|0,Q=Q+Math.imul(Tr,_n)|0,z=z+Math.imul(un,Co)|0,x=x+Math.imul(un,Fo)|0,x=x+Math.imul(fr,Co)|0,Q=Q+Math.imul(fr,Fo)|0,z=z+Math.imul(Ot,hi)|0,x=x+Math.imul(Ot,gi)|0,x=x+Math.imul(se,hi)|0,Q=Q+Math.imul(se,gi)|0,z=z+Math.imul(xe,yi)|0,x=x+Math.imul(xe,bi)|0,x=x+Math.imul(ut,yi)|0,Q=Q+Math.imul(ut,bi)|0,z=z+Math.imul(Se,_i)|0,x=x+Math.imul(Se,Si)|0,x=x+Math.imul(pe,_i)|0,Q=Q+Math.imul(pe,Si)|0;var $q=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+($q>>>26)|0,$q&=67108863,z=Math.imul(V,Je),x=Math.imul(V,Rt),x=x+Math.imul(oe,Je)|0,Q=Math.imul(oe,Rt),z=z+Math.imul(Ir,ft)|0,x=x+Math.imul(Ir,Qe)|0,x=x+Math.imul(T,ft)|0,Q=Q+Math.imul(T,Qe)|0,z=z+Math.imul(Fr,rt)|0,x=x+Math.imul(Fr,at)|0,x=x+Math.imul(mo,rt)|0,Q=Q+Math.imul(mo,at)|0,z=z+Math.imul(Hn,dn)|0,x=x+Math.imul(Hn,_n)|0,x=x+Math.imul(Qn,dn)|0,Q=Q+Math.imul(Qn,_n)|0,z=z+Math.imul(mr,Co)|0,x=x+Math.imul(mr,Fo)|0,x=x+Math.imul(Tr,Co)|0,Q=Q+Math.imul(Tr,Fo)|0,z=z+Math.imul(un,hi)|0,x=x+Math.imul(un,gi)|0,x=x+Math.imul(fr,hi)|0,Q=Q+Math.imul(fr,gi)|0,z=z+Math.imul(Ot,yi)|0,x=x+Math.imul(Ot,bi)|0,x=x+Math.imul(se,yi)|0,Q=Q+Math.imul(se,bi)|0,z=z+Math.imul(xe,_i)|0,x=x+Math.imul(xe,Si)|0,x=x+Math.imul(ut,_i)|0,Q=Q+Math.imul(ut,Si)|0,z=z+Math.imul(Se,vi)|0,x=x+Math.imul(Se,Ei)|0,x=x+Math.imul(pe,vi)|0,Q=Q+Math.imul(pe,Ei)|0;var Fq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Fq>>>26)|0,Fq&=67108863,z=Math.imul(X,Je),x=Math.imul(X,Rt),x=x+Math.imul(ie,Je)|0,Q=Math.imul(ie,Rt),z=z+Math.imul(V,ft)|0,x=x+Math.imul(V,Qe)|0,x=x+Math.imul(oe,ft)|0,Q=Q+Math.imul(oe,Qe)|0,z=z+Math.imul(Ir,rt)|0,x=x+Math.imul(Ir,at)|0,x=x+Math.imul(T,rt)|0,Q=Q+Math.imul(T,at)|0,z=z+Math.imul(Fr,dn)|0,x=x+Math.imul(Fr,_n)|0,x=x+Math.imul(mo,dn)|0,Q=Q+Math.imul(mo,_n)|0,z=z+Math.imul(Hn,Co)|0,x=x+Math.imul(Hn,Fo)|0,x=x+Math.imul(Qn,Co)|0,Q=Q+Math.imul(Qn,Fo)|0,z=z+Math.imul(mr,hi)|0,x=x+Math.imul(mr,gi)|0,x=x+Math.imul(Tr,hi)|0,Q=Q+Math.imul(Tr,gi)|0,z=z+Math.imul(un,yi)|0,x=x+Math.imul(un,bi)|0,x=x+Math.imul(fr,yi)|0,Q=Q+Math.imul(fr,bi)|0,z=z+Math.imul(Ot,_i)|0,x=x+Math.imul(Ot,Si)|0,x=x+Math.imul(se,_i)|0,Q=Q+Math.imul(se,Si)|0,z=z+Math.imul(xe,vi)|0,x=x+Math.imul(xe,Ei)|0,x=x+Math.imul(ut,vi)|0,Q=Q+Math.imul(ut,Ei)|0,z=z+Math.imul(Se,Ai)|0,x=x+Math.imul(Se,xi)|0,x=x+Math.imul(pe,Ai)|0,Q=Q+Math.imul(pe,xi)|0;var Hq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Hq>>>26)|0,Hq&=67108863,z=Math.imul(X,ft),x=Math.imul(X,Qe),x=x+Math.imul(ie,ft)|0,Q=Math.imul(ie,Qe),z=z+Math.imul(V,rt)|0,x=x+Math.imul(V,at)|0,x=x+Math.imul(oe,rt)|0,Q=Q+Math.imul(oe,at)|0,z=z+Math.imul(Ir,dn)|0,x=x+Math.imul(Ir,_n)|0,x=x+Math.imul(T,dn)|0,Q=Q+Math.imul(T,_n)|0,z=z+Math.imul(Fr,Co)|0,x=x+Math.imul(Fr,Fo)|0,x=x+Math.imul(mo,Co)|0,Q=Q+Math.imul(mo,Fo)|0,z=z+Math.imul(Hn,hi)|0,x=x+Math.imul(Hn,gi)|0,x=x+Math.imul(Qn,hi)|0,Q=Q+Math.imul(Qn,gi)|0,z=z+Math.imul(mr,yi)|0,x=x+Math.imul(mr,bi)|0,x=x+Math.imul(Tr,yi)|0,Q=Q+Math.imul(Tr,bi)|0,z=z+Math.imul(un,_i)|0,x=x+Math.imul(un,Si)|0,x=x+Math.imul(fr,_i)|0,Q=Q+Math.imul(fr,Si)|0,z=z+Math.imul(Ot,vi)|0,x=x+Math.imul(Ot,Ei)|0,x=x+Math.imul(se,vi)|0,Q=Q+Math.imul(se,Ei)|0,z=z+Math.imul(xe,Ai)|0,x=x+Math.imul(xe,xi)|0,x=x+Math.imul(ut,Ai)|0,Q=Q+Math.imul(ut,xi)|0;var Gq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Gq>>>26)|0,Gq&=67108863,z=Math.imul(X,rt),x=Math.imul(X,at),x=x+Math.imul(ie,rt)|0,Q=Math.imul(ie,at),z=z+Math.imul(V,dn)|0,x=x+Math.imul(V,_n)|0,x=x+Math.imul(oe,dn)|0,Q=Q+Math.imul(oe,_n)|0,z=z+Math.imul(Ir,Co)|0,x=x+Math.imul(Ir,Fo)|0,x=x+Math.imul(T,Co)|0,Q=Q+Math.imul(T,Fo)|0,z=z+Math.imul(Fr,hi)|0,x=x+Math.imul(Fr,gi)|0,x=x+Math.imul(mo,hi)|0,Q=Q+Math.imul(mo,gi)|0,z=z+Math.imul(Hn,yi)|0,x=x+Math.imul(Hn,bi)|0,x=x+Math.imul(Qn,yi)|0,Q=Q+Math.imul(Qn,bi)|0,z=z+Math.imul(mr,_i)|0,x=x+Math.imul(mr,Si)|0,x=x+Math.imul(Tr,_i)|0,Q=Q+Math.imul(Tr,Si)|0,z=z+Math.imul(un,vi)|0,x=x+Math.imul(un,Ei)|0,x=x+Math.imul(fr,vi)|0,Q=Q+Math.imul(fr,Ei)|0,z=z+Math.imul(Ot,Ai)|0,x=x+Math.imul(Ot,xi)|0,x=x+Math.imul(se,Ai)|0,Q=Q+Math.imul(se,xi)|0;var Vq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Vq>>>26)|0,Vq&=67108863,z=Math.imul(X,dn),x=Math.imul(X,_n),x=x+Math.imul(ie,dn)|0,Q=Math.imul(ie,_n),z=z+Math.imul(V,Co)|0,x=x+Math.imul(V,Fo)|0,x=x+Math.imul(oe,Co)|0,Q=Q+Math.imul(oe,Fo)|0,z=z+Math.imul(Ir,hi)|0,x=x+Math.imul(Ir,gi)|0,x=x+Math.imul(T,hi)|0,Q=Q+Math.imul(T,gi)|0,z=z+Math.imul(Fr,yi)|0,x=x+Math.imul(Fr,bi)|0,x=x+Math.imul(mo,yi)|0,Q=Q+Math.imul(mo,bi)|0,z=z+Math.imul(Hn,_i)|0,x=x+Math.imul(Hn,Si)|0,x=x+Math.imul(Qn,_i)|0,Q=Q+Math.imul(Qn,Si)|0,z=z+Math.imul(mr,vi)|0,x=x+Math.imul(mr,Ei)|0,x=x+Math.imul(Tr,vi)|0,Q=Q+Math.imul(Tr,Ei)|0,z=z+Math.imul(un,Ai)|0,x=x+Math.imul(un,xi)|0,x=x+Math.imul(fr,Ai)|0,Q=Q+Math.imul(fr,xi)|0;var zq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(zq>>>26)|0,zq&=67108863,z=Math.imul(X,Co),x=Math.imul(X,Fo),x=x+Math.imul(ie,Co)|0,Q=Math.imul(ie,Fo),z=z+Math.imul(V,hi)|0,x=x+Math.imul(V,gi)|0,x=x+Math.imul(oe,hi)|0,Q=Q+Math.imul(oe,gi)|0,z=z+Math.imul(Ir,yi)|0,x=x+Math.imul(Ir,bi)|0,x=x+Math.imul(T,yi)|0,Q=Q+Math.imul(T,bi)|0,z=z+Math.imul(Fr,_i)|0,x=x+Math.imul(Fr,Si)|0,x=x+Math.imul(mo,_i)|0,Q=Q+Math.imul(mo,Si)|0,z=z+Math.imul(Hn,vi)|0,x=x+Math.imul(Hn,Ei)|0,x=x+Math.imul(Qn,vi)|0,Q=Q+Math.imul(Qn,Ei)|0,z=z+Math.imul(mr,Ai)|0,x=x+Math.imul(mr,xi)|0,x=x+Math.imul(Tr,Ai)|0,Q=Q+Math.imul(Tr,xi)|0;var jq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(jq>>>26)|0,jq&=67108863,z=Math.imul(X,hi),x=Math.imul(X,gi),x=x+Math.imul(ie,hi)|0,Q=Math.imul(ie,gi),z=z+Math.imul(V,yi)|0,x=x+Math.imul(V,bi)|0,x=x+Math.imul(oe,yi)|0,Q=Q+Math.imul(oe,bi)|0,z=z+Math.imul(Ir,_i)|0,x=x+Math.imul(Ir,Si)|0,x=x+Math.imul(T,_i)|0,Q=Q+Math.imul(T,Si)|0,z=z+Math.imul(Fr,vi)|0,x=x+Math.imul(Fr,Ei)|0,x=x+Math.imul(mo,vi)|0,Q=Q+Math.imul(mo,Ei)|0,z=z+Math.imul(Hn,Ai)|0,x=x+Math.imul(Hn,xi)|0,x=x+Math.imul(Qn,Ai)|0,Q=Q+Math.imul(Qn,xi)|0;var qq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(qq>>>26)|0,qq&=67108863,z=Math.imul(X,yi),x=Math.imul(X,bi),x=x+Math.imul(ie,yi)|0,Q=Math.imul(ie,bi),z=z+Math.imul(V,_i)|0,x=x+Math.imul(V,Si)|0,x=x+Math.imul(oe,_i)|0,Q=Q+Math.imul(oe,Si)|0,z=z+Math.imul(Ir,vi)|0,x=x+Math.imul(Ir,Ei)|0,x=x+Math.imul(T,vi)|0,Q=Q+Math.imul(T,Ei)|0,z=z+Math.imul(Fr,Ai)|0,x=x+Math.imul(Fr,xi)|0,x=x+Math.imul(mo,Ai)|0,Q=Q+Math.imul(mo,xi)|0;var Wq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Wq>>>26)|0,Wq&=67108863,z=Math.imul(X,_i),x=Math.imul(X,Si),x=x+Math.imul(ie,_i)|0,Q=Math.imul(ie,Si),z=z+Math.imul(V,vi)|0,x=x+Math.imul(V,Ei)|0,x=x+Math.imul(oe,vi)|0,Q=Q+Math.imul(oe,Ei)|0,z=z+Math.imul(Ir,Ai)|0,x=x+Math.imul(Ir,xi)|0,x=x+Math.imul(T,Ai)|0,Q=Q+Math.imul(T,xi)|0;var Kq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,z=Math.imul(X,vi),x=Math.imul(X,Ei),x=x+Math.imul(ie,vi)|0,Q=Math.imul(ie,Ei),z=z+Math.imul(V,Ai)|0,x=x+Math.imul(V,xi)|0,x=x+Math.imul(oe,Ai)|0,Q=Q+Math.imul(oe,xi)|0;var Jq=(Y+z|0)+((x&8191)<<13)|0;Y=(Q+(x>>>13)|0)+(Jq>>>26)|0,Jq&=67108863,z=Math.imul(X,Ai),x=Math.imul(X,xi),x=x+Math.imul(ie,Ai)|0,Q=Math.imul(ie,xi);var Yq=(Y+z|0)+((x&8191)<<13)|0;return Y=(Q+(x>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,j[0]=Pq,j[1]=Dq,j[2]=kq,j[3]=Lq,j[4]=Mq,j[5]=Bq,j[6]=Uq,j[7]=$q,j[8]=Fq,j[9]=Hq,j[10]=Gq,j[11]=Vq,j[12]=zq,j[13]=jq,j[14]=qq,j[15]=Wq,j[16]=Kq,j[17]=Jq,j[18]=Yq,Y!==0&&(j[19]=Y,R.length++),R};Math.imul||(y=g);function S(C,_,E){E.negative=_.negative^C.negative,E.length=C.length+_.length;for(var R=0,M=0,$=0;$<E.length-1;$++){var j=M;M=0;for(var Y=R&67108863,z=Math.min($,_.length-1),x=Math.max(0,$-C.length+1);x<=z;x++){var Q=$-x,Re=C.words[Q]|0,Se=_.words[x]|0,pe=Re*Se,Ve=pe&67108863;j=j+(pe/67108864|0)|0,Ve=Ve+Y|0,Y=Ve&67108863,j=j+(Ve>>>26)|0,M+=j>>>26,j&=67108863}E.words[$]=Y,R=j,j=M}return R!==0?E.words[$]=R:E.length--,E._strip()}function v(C,_,E){return S(C,_,E)}o.prototype.mulTo=function(_,E){var R,M=this.length+_.length;return this.length===10&&_.length===10?R=y(this,_,E):M<63?R=g(this,_,E):M<1024?R=S(this,_,E):R=v(this,_,E),R};function A(C,_){this.x=C,this.y=_}A.prototype.makeRBT=function(_){for(var E=new Array(_),R=o.prototype._countBits(_)-1,M=0;M<_;M++)E[M]=this.revBin(M,R,_);return E},A.prototype.revBin=function(_,E,R){if(_===0||_===R-1)return _;for(var M=0,$=0;$<E;$++)M|=(_&1)<<E-$-1,_>>=1;return M},A.prototype.permute=function(_,E,R,M,$,j){for(var Y=0;Y<j;Y++)M[Y]=E[_[Y]],$[Y]=R[_[Y]]},A.prototype.transform=function(_,E,R,M,$,j){this.permute(j,_,E,R,M,$);for(var Y=1;Y<$;Y<<=1)for(var z=Y<<1,x=Math.cos(2*Math.PI/z),Q=Math.sin(2*Math.PI/z),Re=0;Re<$;Re+=z)for(var Se=x,pe=Q,Ve=0;Ve<Y;Ve++){var xe=R[Re+Ve],ut=M[Re+Ve],dt=R[Re+Ve+Y],Ot=M[Re+Ve+Y],se=Se*dt-pe*Ot;Ot=Se*Ot+pe*dt,dt=se,R[Re+Ve]=xe+dt,M[Re+Ve]=ut+Ot,R[Re+Ve+Y]=xe-dt,M[Re+Ve+Y]=ut-Ot,Ve!==z&&(se=x*Se-Q*pe,pe=x*pe+Q*Se,Se=se)}},A.prototype.guessLen13b=function(_,E){var R=Math.max(E,_)|1,M=R&1,$=0;for(R=R/2|0;R;R=R>>>1)$++;return 1<<$+1+M},A.prototype.conjugate=function(_,E,R){if(!(R<=1))for(var M=0;M<R/2;M++){var $=_[M];_[M]=_[R-M-1],_[R-M-1]=$,$=E[M],E[M]=-E[R-M-1],E[R-M-1]=-$}},A.prototype.normalize13b=function(_,E){for(var R=0,M=0;M<E/2;M++){var $=Math.round(_[2*M+1]/E)*8192+Math.round(_[2*M]/E)+R;_[M]=$&67108863,$<67108864?R=0:R=$/67108864|0}return _},A.prototype.convert13b=function(_,E,R,M){for(var $=0,j=0;j<E;j++)$=$+(_[j]|0),R[2*j]=$&8191,$=$>>>13,R[2*j+1]=$&8191,$=$>>>13;for(j=2*E;j<M;++j)R[j]=0;n($===0),n(($&-8192)===0)},A.prototype.stub=function(_){for(var E=new Array(_),R=0;R<_;R++)E[R]=0;return E},A.prototype.mulp=function(_,E,R){var M=2*this.guessLen13b(_.length,E.length),$=this.makeRBT(M),j=this.stub(M),Y=new Array(M),z=new Array(M),x=new Array(M),Q=new Array(M),Re=new Array(M),Se=new Array(M),pe=R.words;pe.length=M,this.convert13b(_.words,_.length,Y,M),this.convert13b(E.words,E.length,Q,M),this.transform(Y,j,z,x,M,$),this.transform(Q,j,Re,Se,M,$);for(var Ve=0;Ve<M;Ve++){var xe=z[Ve]*Re[Ve]-x[Ve]*Se[Ve];x[Ve]=z[Ve]*Se[Ve]+x[Ve]*Re[Ve],z[Ve]=xe}return this.conjugate(z,x,M),this.transform(z,x,pe,j,M,$),this.conjugate(pe,j,M),this.normalize13b(pe,M),R.negative=_.negative^E.negative,R.length=_.length+E.length,R._strip()},o.prototype.mul=function(_){var E=new o(null);return E.words=new Array(this.length+_.length),this.mulTo(_,E)},o.prototype.mulf=function(_){var E=new o(null);return E.words=new Array(this.length+_.length),v(this,_,E)},o.prototype.imul=function(_){return this.clone().mulTo(_,this)},o.prototype.imuln=function(_){var E=_<0;E&&(_=-_),n(typeof _=="number"),n(_<67108864);for(var R=0,M=0;M<this.length;M++){var $=(this.words[M]|0)*_,j=($&67108863)+(R&67108863);R>>=26,R+=$/67108864|0,R+=j>>>26,this.words[M]=j&67108863}return R!==0&&(this.words[M]=R,this.length++),this.length=_===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(_){return this.clone().imuln(_)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(_){var E=m(_);if(E.length===0)return new o(1);for(var R=this,M=0;M<E.length&&E[M]===0;M++,R=R.sqr());if(++M<E.length)for(var $=R.sqr();M<E.length;M++,$=$.sqr())E[M]!==0&&(R=R.mul($));return R},o.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var E=_%26,R=(_-E)/26,M=67108863>>>26-E<<26-E,$;if(E!==0){var j=0;for($=0;$<this.length;$++){var Y=this.words[$]&M,z=(this.words[$]|0)-Y<<E;this.words[$]=z|j,j=Y>>>26-E}j&&(this.words[$]=j,this.length++)}if(R!==0){for($=this.length-1;$>=0;$--)this.words[$+R]=this.words[$];for($=0;$<R;$++)this.words[$]=0;this.length+=R}return this._strip()},o.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},o.prototype.iushrn=function(_,E,R){n(typeof _=="number"&&_>=0);var M;E?M=(E-E%26)/26:M=0;var $=_%26,j=Math.min((_-$)/26,this.length),Y=67108863^67108863>>>$<<$,z=R;if(M-=j,M=Math.max(0,M),z){for(var x=0;x<j;x++)z.words[x]=this.words[x];z.length=j}if(j!==0)if(this.length>j)for(this.length-=j,x=0;x<this.length;x++)this.words[x]=this.words[x+j];else this.words[0]=0,this.length=1;var Q=0;for(x=this.length-1;x>=0&&(Q!==0||x>=M);x--){var Re=this.words[x]|0;this.words[x]=Q<<26-$|Re>>>$,Q=Re&Y}return z&&Q!==0&&(z.words[z.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(_,E,R){return n(this.negative===0),this.iushrn(_,E,R)},o.prototype.shln=function(_){return this.clone().ishln(_)},o.prototype.ushln=function(_){return this.clone().iushln(_)},o.prototype.shrn=function(_){return this.clone().ishrn(_)},o.prototype.ushrn=function(_){return this.clone().iushrn(_)},o.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var E=_%26,R=(_-E)/26,M=1<<E;if(this.length<=R)return!1;var $=this.words[R];return!!($&M)},o.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var E=_%26,R=(_-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(E!==0&&R++,this.length=Math.min(R,this.length),E!==0){var M=67108863^67108863>>>E<<E;this.words[this.length-1]&=M}return this._strip()},o.prototype.maskn=function(_){return this.clone().imaskn(_)},o.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},o.prototype._iaddn=function(_){this.words[0]+=_;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(_){return this.clone().iaddn(_)},o.prototype.subn=function(_){return this.clone().isubn(_)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(_,E,R){var M=_.length+R,$;this._expand(M);var j,Y=0;for($=0;$<_.length;$++){j=(this.words[$+R]|0)+Y;var z=(_.words[$]|0)*E;j-=z&67108863,Y=(j>>26)-(z/67108864|0),this.words[$+R]=j&67108863}for(;$<this.length-R;$++)j=(this.words[$+R]|0)+Y,Y=j>>26,this.words[$+R]=j&67108863;if(Y===0)return this._strip();for(n(Y===-1),Y=0,$=0;$<this.length;$++)j=-(this.words[$]|0)+Y,Y=j>>26,this.words[$]=j&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(_,E){var R=this.length-_.length,M=this.clone(),$=_,j=$.words[$.length-1]|0,Y=this._countBits(j);R=26-Y,R!==0&&($=$.ushln(R),M.iushln(R),j=$.words[$.length-1]|0);var z=M.length-$.length,x;if(E!=="mod"){x=new o(null),x.length=z+1,x.words=new Array(x.length);for(var Q=0;Q<x.length;Q++)x.words[Q]=0}var Re=M.clone()._ishlnsubmul($,1,z);Re.negative===0&&(M=Re,x&&(x.words[z]=1));for(var Se=z-1;Se>=0;Se--){var pe=(M.words[$.length+Se]|0)*67108864+(M.words[$.length+Se-1]|0);for(pe=Math.min(pe/j|0,67108863),M._ishlnsubmul($,pe,Se);M.negative!==0;)pe--,M.negative=0,M._ishlnsubmul($,1,Se),M.isZero()||(M.negative^=1);x&&(x.words[Se]=pe)}return x&&x._strip(),M._strip(),E!=="div"&&R!==0&&M.iushrn(R),{div:x||null,mod:M}},o.prototype.divmod=function(_,E,R){if(n(!_.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var M,$,j;return this.negative!==0&&_.negative===0?(j=this.neg().divmod(_,E),E!=="mod"&&(M=j.div.neg()),E!=="div"&&($=j.mod.neg(),R&&$.negative!==0&&$.iadd(_)),{div:M,mod:$}):this.negative===0&&_.negative!==0?(j=this.divmod(_.neg(),E),E!=="mod"&&(M=j.div.neg()),{div:M,mod:j.mod}):(this.negative&_.negative)!==0?(j=this.neg().divmod(_.neg(),E),E!=="div"&&($=j.mod.neg(),R&&$.negative!==0&&$.isub(_)),{div:j.div,mod:$}):_.length>this.length||this.cmp(_)<0?{div:new o(0),mod:this}:_.length===1?E==="div"?{div:this.divn(_.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new o(this.modrn(_.words[0]))}:this._wordDiv(_,E)},o.prototype.div=function(_){return this.divmod(_,"div",!1).div},o.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},o.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},o.prototype.divRound=function(_){var E=this.divmod(_);if(E.mod.isZero())return E.div;var R=E.div.negative!==0?E.mod.isub(_):E.mod,M=_.ushrn(1),$=_.andln(1),j=R.cmp(M);return j<0||$===1&&j===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(_){var E=_<0;E&&(_=-_),n(_<=67108863);for(var R=(1<<26)%_,M=0,$=this.length-1;$>=0;$--)M=(R*M+(this.words[$]|0))%_;return E?-M:M},o.prototype.modn=function(_){return this.modrn(_)},o.prototype.idivn=function(_){var E=_<0;E&&(_=-_),n(_<=67108863);for(var R=0,M=this.length-1;M>=0;M--){var $=(this.words[M]|0)+R*67108864;this.words[M]=$/_|0,R=$%_}return this._strip(),E?this.ineg():this},o.prototype.divn=function(_){return this.clone().idivn(_)},o.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var E=this,R=_.clone();E.negative!==0?E=E.umod(_):E=E.clone();for(var M=new o(1),$=new o(0),j=new o(0),Y=new o(1),z=0;E.isEven()&&R.isEven();)E.iushrn(1),R.iushrn(1),++z;for(var x=R.clone(),Q=E.clone();!E.isZero();){for(var Re=0,Se=1;(E.words[0]&Se)===0&&Re<26;++Re,Se<<=1);if(Re>0)for(E.iushrn(Re);Re-- >0;)(M.isOdd()||$.isOdd())&&(M.iadd(x),$.isub(Q)),M.iushrn(1),$.iushrn(1);for(var pe=0,Ve=1;(R.words[0]&Ve)===0&&pe<26;++pe,Ve<<=1);if(pe>0)for(R.iushrn(pe);pe-- >0;)(j.isOdd()||Y.isOdd())&&(j.iadd(x),Y.isub(Q)),j.iushrn(1),Y.iushrn(1);E.cmp(R)>=0?(E.isub(R),M.isub(j),$.isub(Y)):(R.isub(E),j.isub(M),Y.isub($))}return{a:j,b:Y,gcd:R.iushln(z)}},o.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var E=this,R=_.clone();E.negative!==0?E=E.umod(_):E=E.clone();for(var M=new o(1),$=new o(0),j=R.clone();E.cmpn(1)>0&&R.cmpn(1)>0;){for(var Y=0,z=1;(E.words[0]&z)===0&&Y<26;++Y,z<<=1);if(Y>0)for(E.iushrn(Y);Y-- >0;)M.isOdd()&&M.iadd(j),M.iushrn(1);for(var x=0,Q=1;(R.words[0]&Q)===0&&x<26;++x,Q<<=1);if(x>0)for(R.iushrn(x);x-- >0;)$.isOdd()&&$.iadd(j),$.iushrn(1);E.cmp(R)>=0?(E.isub(R),M.isub($)):(R.isub(E),$.isub(M))}var Re;return E.cmpn(1)===0?Re=M:Re=$,Re.cmpn(0)<0&&Re.iadd(_),Re},o.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var E=this.clone(),R=_.clone();E.negative=0,R.negative=0;for(var M=0;E.isEven()&&R.isEven();M++)E.iushrn(1),R.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;R.isEven();)R.iushrn(1);var $=E.cmp(R);if($<0){var j=E;E=R,R=j}else if($===0||R.cmpn(1)===0)break;E.isub(R)}while(!0);return R.iushln(M)},o.prototype.invm=function(_){return this.egcd(_).a.umod(_)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(_){return this.words[0]&_},o.prototype.bincn=function(_){n(typeof _=="number");var E=_%26,R=(_-E)/26,M=1<<E;if(this.length<=R)return this._expand(R+1),this.words[R]|=M,this;for(var $=M,j=R;$!==0&&j<this.length;j++){var Y=this.words[j]|0;Y+=$,$=Y>>>26,Y&=67108863,this.words[j]=Y}return $!==0&&(this.words[j]=$,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(_){var E=_<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var R;if(this.length>1)R=1;else{E&&(_=-_),n(_<=67108863,"Number is too big");var M=this.words[0]|0;R=M===_?0:M<_?-1:1}return this.negative!==0?-R|0:R},o.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var E=this.ucmp(_);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var E=0,R=this.length-1;R>=0;R--){var M=this.words[R]|0,$=_.words[R]|0;if(M!==$){M<$?E=-1:M>$&&(E=1);break}}return E},o.prototype.gtn=function(_){return this.cmpn(_)===1},o.prototype.gt=function(_){return this.cmp(_)===1},o.prototype.gten=function(_){return this.cmpn(_)>=0},o.prototype.gte=function(_){return this.cmp(_)>=0},o.prototype.ltn=function(_){return this.cmpn(_)===-1},o.prototype.lt=function(_){return this.cmp(_)===-1},o.prototype.lten=function(_){return this.cmpn(_)<=0},o.prototype.lte=function(_){return this.cmp(_)<=0},o.prototype.eqn=function(_){return this.cmpn(_)===0},o.prototype.eq=function(_){return this.cmp(_)===0},o.red=function(_){return new G(_)},o.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(_){return this.red=_,this},o.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},o.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},o.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},o.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},o.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},o.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},o.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},o.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var w={k256:null,p224:null,p192:null,p25519:null};function I(C,_){this.name=C,this.p=new o(_,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var _=new o(null);return _.words=new Array(Math.ceil(this.n/13)),_},I.prototype.ireduce=function(_){var E=_,R;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),R=E.bitLength();while(R>this.n);var M=R<this.n?-1:E.ucmp(this.p);return M===0?(E.words[0]=0,E.length=1):M>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},I.prototype.split=function(_,E){_.iushrn(this.n,0,E)},I.prototype.imulK=function(_){return _.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(D,I),D.prototype.split=function(_,E){for(var R=4194303,M=Math.min(_.length,9),$=0;$<M;$++)E.words[$]=_.words[$];if(E.length=M,_.length<=9){_.words[0]=0,_.length=1;return}var j=_.words[9];for(E.words[E.length++]=j&R,$=10;$<_.length;$++){var Y=_.words[$]|0;_.words[$-10]=(Y&R)<<4|j>>>22,j=Y}j>>>=22,_.words[$-10]=j,j===0&&_.length>10?_.length-=10:_.length-=9},D.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var E=0,R=0;R<_.length;R++){var M=_.words[R]|0;E+=M*977,_.words[R]=E&67108863,E=M*64+(E/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function k(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(k,I);function O(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(O,I);function U(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(U,I),U.prototype.imulK=function(_){for(var E=0,R=0;R<_.length;R++){var M=(_.words[R]|0)*19+E,$=M&67108863;M>>>=26,_.words[R]=$,E=M}return E!==0&&(_.words[_.length++]=E),_},o._prime=function(_){if(w[_])return w[_];var E;if(_==="k256")E=new D;else if(_==="p224")E=new k;else if(_==="p192")E=new O;else if(_==="p25519")E=new U;else throw new Error("Unknown prime "+_);return w[_]=E,E};function G(C){if(typeof C=="string"){var _=o._prime(C);this.m=_.p,this.prime=_}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}G.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},G.prototype._verify2=function(_,E){n((_.negative|E.negative)===0,"red works only with positives"),n(_.red&&_.red===E.red,"red works only with red numbers")},G.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(l(_,_.umod(this.m)._forceRed(this)),_)},G.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},G.prototype.add=function(_,E){this._verify2(_,E);var R=_.add(E);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},G.prototype.iadd=function(_,E){this._verify2(_,E);var R=_.iadd(E);return R.cmp(this.m)>=0&&R.isub(this.m),R},G.prototype.sub=function(_,E){this._verify2(_,E);var R=_.sub(E);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},G.prototype.isub=function(_,E){this._verify2(_,E);var R=_.isub(E);return R.cmpn(0)<0&&R.iadd(this.m),R},G.prototype.shl=function(_,E){return this._verify1(_),this.imod(_.ushln(E))},G.prototype.imul=function(_,E){return this._verify2(_,E),this.imod(_.imul(E))},G.prototype.mul=function(_,E){return this._verify2(_,E),this.imod(_.mul(E))},G.prototype.isqr=function(_){return this.imul(_,_.clone())},G.prototype.sqr=function(_){return this.mul(_,_)},G.prototype.sqrt=function(_){if(_.isZero())return _.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var R=this.m.add(new o(1)).iushrn(2);return this.pow(_,R)}for(var M=this.m.subn(1),$=0;!M.isZero()&&M.andln(1)===0;)$++,M.iushrn(1);n(!M.isZero());var j=new o(1).toRed(this),Y=j.redNeg(),z=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new o(2*x*x).toRed(this);this.pow(x,z).cmp(Y)!==0;)x.redIAdd(Y);for(var Q=this.pow(x,M),Re=this.pow(_,M.addn(1).iushrn(1)),Se=this.pow(_,M),pe=$;Se.cmp(j)!==0;){for(var Ve=Se,xe=0;Ve.cmp(j)!==0;xe++)Ve=Ve.redSqr();n(xe<pe);var ut=this.pow(Q,new o(1).iushln(pe-xe-1));Re=Re.redMul(ut),Q=ut.redSqr(),Se=Se.redMul(Q),pe=xe}return Re},G.prototype.invm=function(_){var E=_._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},G.prototype.pow=function(_,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return _.clone();var R=4,M=new Array(1<<R);M[0]=new o(1).toRed(this),M[1]=_;for(var $=2;$<M.length;$++)M[$]=this.mul(M[$-1],_);var j=M[0],Y=0,z=0,x=E.bitLength()%26;for(x===0&&(x=26),$=E.length-1;$>=0;$--){for(var Q=E.words[$],Re=x-1;Re>=0;Re--){var Se=Q>>Re&1;if(j!==M[0]&&(j=this.sqr(j)),Se===0&&Y===0){z=0;continue}Y<<=1,Y|=Se,z++,!(z!==R&&($!==0||Re!==0))&&(j=this.mul(j,M[Y]),z=0,Y=0)}x=26}return j},G.prototype.convertTo=function(_){var E=_.umod(this.m);return E===_?E.clone():E},G.prototype.convertFrom=function(_){var E=_.clone();return E.red=null,E},o.mont=function(_){return new J(_)};function J(C){G.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(J,G),J.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},J.prototype.convertFrom=function(_){var E=this.imod(_.mul(this.rinv));return E.red=null,E},J.prototype.imul=function(_,E){if(_.isZero()||E.isZero())return _.words[0]=0,_.length=1,_;var R=_.imul(E),M=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=R.isub(M).iushrn(this.shift),j=$;return $.cmp(this.m)>=0?j=$.isub(this.m):$.cmpn(0)<0&&(j=$.iadd(this.m)),j._forceRed(this)},J.prototype.mul=function(_,E){if(_.isZero()||E.isZero())return new o(0)._forceRed(this);var R=_.mul(E),M=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=R.isub(M).iushrn(this.shift),j=$;return $.cmp(this.m)>=0?j=$.isub(this.m):$.cmpn(0)<0&&(j=$.iadd(this.m)),j._forceRed(this)},J.prototype.invm=function(_){var E=this.imod(_._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(typeof mde>"u"||mde,SYe)});var yde=Ge((gde,EYe)=>{"use strict";var D$=_t("buffer"),Uf=D$.Buffer;function vYe(t,e){for(var n in t)e[n]=t[n]}Uf.from&&Uf.alloc&&Uf.allocUnsafe&&Uf.allocUnsafeSlow?EYe.exports=D$:(vYe(D$,gde),gde.Buffer=LS);function LS(t,e,n){return Uf(t,e,n)}LS.prototype=Object.create(Uf.prototype);vYe(Uf,LS);LS.from=function(t,e,n){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Uf(t,e,n)};LS.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=Uf(t);return e!==void 0?typeof n=="string"?r.fill(e,n):r.fill(e):r.fill(0),r};LS.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Uf(t)};LS.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return D$.SlowBuffer(t)}});var xYe=Ge((WQr,AYe)=>{"use strict";var k$=yde().Buffer;function y$t(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=k$.from(f)),!k$.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,y=f.length;g!==y&&f[g]===0;)g++,h++;for(var S=(y-g)*l+1>>>0,v=new Uint8Array(S);g!==y;){for(var A=f[g],w=0,I=S-1;(A!==0||w<m)&&I!==-1;I--,w++)A+=256*v[I]>>>0,v[I]=A%s>>>0,A=A/s>>>0;if(A!==0)throw new Error("Non-zero carry");m=w,g++}for(var D=S-m;D!==S&&v[D]===0;)D++;for(var k=a.repeat(h);D<S;++D)k+=t.charAt(v[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return k$.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var y=(f.length-h)*c+1>>>0,S=new Uint8Array(y);h<f.length;){var v=f.charCodeAt(h);if(v>255)return;var A=e[v];if(A===255)return;for(var w=0,I=y-1;(A!==0||w<g)&&I!==-1;I--,w++)A+=s*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");g=w,h++}for(var D=y-g;D!==y&&S[D]===0;)D++;var k=k$.allocUnsafe(m+(y-D));k.fill(0,0,m);for(var O=m;D!==y;)k[O++]=S[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}AYe.exports=y$t});var TYe=Ge((KQr,wYe)=>{"use strict";var b$t=xYe(),_$t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";wYe.exports=b$t(_$t)});var RYe=Ge((JQr,IYe)=>{"use strict";var L$=yde().Buffer;function S$t(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=L$.from(f)),!L$.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,y=f.length;g!==y&&f[g]===0;)g++,h++;for(var S=(y-g)*l+1>>>0,v=new Uint8Array(S);g!==y;){for(var A=f[g],w=0,I=S-1;(A!==0||w<m)&&I!==-1;I--,w++)A+=256*v[I]>>>0,v[I]=A%s>>>0,A=A/s>>>0;if(A!==0)throw new Error("Non-zero carry");m=w,g++}for(var D=S-m;D!==S&&v[D]===0;)D++;for(var k=a.repeat(h);D<S;++D)k+=t.charAt(v[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return L$.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var y=(f.length-h)*c+1>>>0,S=new Uint8Array(y);h<f.length;){var v=f.charCodeAt(h);if(v>255)return;var A=e[v];if(A===255)return;for(var w=0,I=y-1;(A!==0||w<g)&&I!==-1;I--,w++)A+=s*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");g=w,h++}for(var D=y-g;D!==y&&S[D]===0;)D++;var k=L$.allocUnsafe(m+(y-D));k.fill(0,0,m);for(var O=m;D!==y;)k[O++]=S[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}IYe.exports=S$t});var NYe=Ge((YQr,CYe)=>{"use strict";var v$t=RYe(),E$t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";CYe.exports=v$t(E$t)});var OYe=Ge(Sde=>{"use strict";function Mh(t,e,n){return e<=t&&t<=n}function F$(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function A$t(t){for(var e=String(t),n=e.length,r=0,o=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)o.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=i&1023,c=s&1023;o.push(65536+(a<<10)+c),r+=1}else o.push(65533)}r+=1}return o}function x$t(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var M$=-1;function _de(t){this.tokens=[].slice.call(t)}_de.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():M$},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Qx=-1;function bde(t,e){if(t)throw TypeError("Decoder error");return e||65533}var B$="utf-8";function U$(t,e){if(!(this instanceof U$))return new U$(t,e);if(t=t!==void 0?String(t).toLowerCase():B$,t!==B$)throw new Error("Encoding not supported. Only utf-8 is supported");e=F$(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}U$.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=F$(n),this._streaming||(this._decoder=new w$t({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var o=new _de(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==Qx);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===Qx)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),x$t(i)}};function $$(t,e){if(!(this instanceof $$))return new $$(t,e);if(t=t!==void 0?String(t).toLowerCase():B$,t!==B$)throw new Error("Encoding not supported. Only utf-8 is supported");e=F$(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}$$.prototype={encode:function(e,n){e=e?String(e):"",n=F$(n),this._streaming||(this._encoder=new T$t(this._options)),this._streaming=!!n.stream;for(var r=[],o=new _de(A$t(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Qx);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Qx;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function w$t(t){var e=t.fatal,n=0,r=0,o=0,i=128,s=191;this.handler=function(a,c){if(c===M$&&o!==0)return o=0,bde(e);if(c===M$)return Qx;if(o===0){if(Mh(c,0,127))return c;if(Mh(c,194,223))o=1,n=c-192;else if(Mh(c,224,239))c===224&&(i=160),c===237&&(s=159),o=2,n=c-224;else if(Mh(c,240,244))c===240&&(i=144),c===244&&(s=143),o=3,n=c-240;else return bde(e);return n=n<<6*o,null}if(!Mh(c,i,s))return n=o=r=0,i=128,s=191,a.prepend(c),bde(e);if(i=128,s=191,r+=1,n+=c-128<<6*(o-r),r!==o)return null;var l=n;return n=o=r=0,l}}function T$t(t){var e=t.fatal;this.handler=function(n,r){if(r===M$)return Qx;if(Mh(r,0,127))return r;var o,i;Mh(r,128,2047)?(o=1,i=192):Mh(r,2048,65535)?(o=2,i=224):Mh(r,65536,1114111)&&(o=3,i=240);for(var s=[(r>>6*o)+i];o>0;){var a=r>>6*(o-1);s.push(128|a&63),o-=1}return s}}Sde.TextEncoder=$$;Sde.TextDecoder=U$});var MYe=Ge(Mr=>{"use strict";var I$t=Mr&&Mr.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),R$t=Mr&&Mr.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),$f=Mr&&Mr.__decorate||function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},C$t=Mr&&Mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&I$t(e,t,n);return R$t(e,t),e},PYe=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.deserializeUnchecked=Mr.deserialize=Mr.serialize=Mr.BinaryReader=Mr.BinaryWriter=Mr.BorshError=Mr.baseDecode=Mr.baseEncode=void 0;var W1=PYe(hde()),DYe=PYe(NYe()),N$t=C$t(OYe()),O$t=typeof TextDecoder!="function"?N$t.TextDecoder:TextDecoder,P$t=new O$t("utf-8",{fatal:!0});function D$t(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),DYe.default.encode(Buffer.from(t))}Mr.baseEncode=D$t;function k$t(t){return Buffer.from(DYe.default.decode(t))}Mr.baseDecode=k$t;var vde=1024,ks=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Mr.BorshError=ks;var H$=class{constructor(){this.buf=Buffer.alloc(vde),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(vde)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new W1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new W1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new W1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new W1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(vde)]),this.length+=e.length}writeString(e){this.maybeResize();let n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(let r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}};Mr.BinaryWriter=H$;function Ff(t,e,n){let r=n.value;n.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){let s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ks("Reached the end of buffer when deserializing")}throw i}}}var Ha=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new W1.default(e,"le")}readU128(){let e=this.readBuffer(16);return new W1.default(e,"le")}readU256(){let e=this.readBuffer(32);return new W1.default(e,"le")}readU512(){let e=this.readBuffer(64);return new W1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ks(`Expected buffer length ${e} isn't within bounds`);let n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){let e=this.readU32(),n=this.readBuffer(e);try{return P$t.decode(n)}catch(r){throw new ks(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let n=this.readU32(),r=Array();for(let o=0;o<n;++o)r.push(e());return r}};$f([Ff],Ha.prototype,"readU8",null);$f([Ff],Ha.prototype,"readU16",null);$f([Ff],Ha.prototype,"readU32",null);$f([Ff],Ha.prototype,"readU64",null);$f([Ff],Ha.prototype,"readU128",null);$f([Ff],Ha.prototype,"readU256",null);$f([Ff],Ha.prototype,"readU512",null);$f([Ff],Ha.prototype,"readString",null);$f([Ff],Ha.prototype,"readFixedArray",null);$f([Ff],Ha.prototype,"readArray",null);Mr.BinaryReader=Ha;function kYe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function MS(t,e,n,r,o){try{if(typeof r=="string")o[`write${kYe(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new ks(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);o.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new ks(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)MS(t,null,n[i],r[0],o)}else o.writeArray(n,i=>{MS(t,e,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?o.writeU8(0):(o.writeU8(1),MS(t,e,n,r.type,o));break}case"map":{o.writeU32(n.size),n.forEach((i,s)=>{MS(t,e,s,r.key,o),MS(t,e,i,r.value,o)});break}default:throw new ks(`FieldType ${r} unrecognized`)}else LYe(t,n,o)}catch(i){throw i instanceof ks&&i.addToFieldPath(e),i}}function LYe(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}let r=t.get(e.constructor);if(!r)throw new ks(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{MS(t,o,e[o],i,n)});else if(r.kind==="enum"){let o=e[r.field];for(let i=0;i<r.values.length;++i){let[s,a]=r.values[i];if(s===o){n.writeU8(i),MS(t,s,e[s],a,n);break}}}else throw new ks(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function L$t(t,e,n=H$){let r=new n;return LYe(t,e,r),r.toArray()}Mr.serialize=L$t;function BS(t,e,n,r){try{if(typeof n=="string")return r[`read${kYe(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){let o=[];for(let i=0;i<n[1];i++)o.push(BS(t,null,n[0],r));return o}else return r.readArray(()=>BS(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?BS(t,e,n.type,r):void 0;if(n.kind==="map"){let o=new Map,i=r.readU32();for(let s=0;s<i;s++){let a=BS(t,e,n.key,r),c=BS(t,e,n.value,r);o.set(a,c)}return o}return Ede(t,n,r)}catch(o){throw o instanceof ks&&o.addToFieldPath(e),o}}function Ede(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);let r=t.get(e);if(!r)throw new ks(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){let o={};for(let[i,s]of t.get(e).fields)o[i]=BS(t,i,s,n);return new e(o)}if(r.kind==="enum"){let o=n.readU8();if(o>=r.values.length)throw new ks(`Enum index: ${o} is out of range`);let[i,s]=r.values[o],a=BS(t,i,s,n);return new e({[i]:a})}throw new ks(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function M$t(t,e,n,r=Ha){let o=new r(n),i=Ede(t,e,o);if(o.offset<n.length)throw new ks(`Unexpected ${n.length-o.offset} bytes after deserialized data`);return i}Mr.deserialize=M$t;function B$t(t,e,n,r=Ha){let o=new r(n);return Ede(t,e,o)}Mr.deserializeUnchecked=B$t});var Tde=Ge(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.s16=be.s8=be.nu64be=be.u48be=be.u40be=be.u32be=be.u24be=be.u16be=be.nu64=be.u48=be.u40=be.u32=be.u24=be.u16=be.u8=be.offset=be.greedy=be.Constant=be.UTF8=be.CString=be.Blob=be.Boolean=be.BitField=be.BitStructure=be.VariantLayout=be.Union=be.UnionLayoutDiscriminator=be.UnionDiscriminator=be.Structure=be.Sequence=be.DoubleBE=be.Double=be.FloatBE=be.Float=be.NearInt64BE=be.NearInt64=be.NearUInt64BE=be.NearUInt64=be.IntBE=be.Int=be.UIntBE=be.UInt=be.OffsetLayout=be.GreedyCount=be.ExternalLayout=be.bindConstructorLayout=be.nameWithProperty=be.Layout=be.uint8ArrayToBuffer=be.checkUint8Array=void 0;be.constant=be.utf8=be.cstr=be.blob=be.unionLayoutDiscriminator=be.union=be.seq=be.bits=be.struct=be.f64be=be.f64=be.f32be=be.f32=be.ns64be=be.s48be=be.s40be=be.s32be=be.s24be=be.s16be=be.ns64=be.s48=be.s40=be.s32=be.s24=void 0;var xde=_t("buffer");function ew(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}be.checkUint8Array=ew;function ar(t){return ew(t),xde.Buffer.from(t.buffer,t.byteOffset,t.length)}be.uint8ArrayToBuffer=ar;var hr=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};be.Layout=hr;function wde(t,e){return e.property?t+"["+e.property+"]":t}be.nameWithProperty=wde;function U$t(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof hr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}be.bindConstructorLayout=U$t;var ua=class extends hr{isCount(){throw new Error("ExternalLayout is abstract")}};be.ExternalLayout=ua;var G$=class extends ua{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){ew(e);let r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};be.GreedyCount=G$;var wN=class extends ua{constructor(e,n=0,r){if(!(e instanceof hr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Vc||this.layout instanceof bl}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};be.OffsetLayout=wN;var Vc=class extends hr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ar(e).readUIntLE(n,this.span)}encode(e,n,r=0){return ar(n).writeUIntLE(e,r,this.span),this.span}};be.UInt=Vc;var bl=class extends hr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ar(e).readUIntBE(n,this.span)}encode(e,n,r=0){return ar(n).writeUIntBE(e,r,this.span),this.span}};be.UIntBE=bl;var Bh=class extends hr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ar(e).readIntLE(n,this.span)}encode(e,n,r=0){return ar(n).writeIntLE(e,r,this.span),this.span}};be.Int=Bh;var K1=class extends hr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ar(e).readIntBE(n,this.span)}encode(e,n,r=0){return ar(n).writeIntBE(e,r,this.span),this.span}};be.IntBE=K1;var Ade=Math.pow(2,32);function iF(t){let e=Math.floor(t/Ade),n=t-e*Ade;return{hi32:e,lo32:n}}function sF(t,e){return t*Ade+e}var V$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){let r=ar(e),o=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return sF(i,o)}encode(e,n,r=0){let o=iF(e),i=ar(n);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}};be.NearUInt64=V$;var z$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){let r=ar(e),o=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return sF(o,i)}encode(e,n,r=0){let o=iF(e),i=ar(n);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};be.NearUInt64BE=z$;var j$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){let r=ar(e),o=r.readUInt32LE(n),i=r.readInt32LE(n+4);return sF(i,o)}encode(e,n,r=0){let o=iF(e),i=ar(n);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}};be.NearInt64=j$;var q$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){let r=ar(e),o=r.readInt32BE(n),i=r.readUInt32BE(n+4);return sF(o,i)}encode(e,n,r=0){let o=iF(e),i=ar(n);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};be.NearInt64BE=q$;var W$=class extends hr{constructor(e){super(4,e)}decode(e,n=0){return ar(e).readFloatLE(n)}encode(e,n,r=0){return ar(n).writeFloatLE(e,r),4}};be.Float=W$;var K$=class extends hr{constructor(e){super(4,e)}decode(e,n=0){return ar(e).readFloatBE(n)}encode(e,n,r=0){return ar(n).writeFloatBE(e,r),4}};be.FloatBE=K$;var J$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){return ar(e).readDoubleLE(n)}encode(e,n,r=0){return ar(n).writeDoubleLE(e,r),8}};be.Double=J$;var Y$=class extends hr{constructor(e){super(8,e)}decode(e,n=0){return ar(e).readDoubleBE(n)}encode(e,n,r=0){return ar(n).writeDoubleBE(e,r),8}};be.DoubleBE=Y$;var Q$=class extends hr{constructor(e,n,r){if(!(e instanceof hr))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ua&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof ua)&&0<e.span&&(o=n*e.span),super(o,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof ua&&(o=o.decode(e,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){let r=[],o=0,i=this.count;for(i instanceof ua&&(i=i.decode(e,n));o<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),o+=1;return r}encode(e,n,r=0){let o=this.elementLayout,i=e.reduce((s,a)=>s+o.encode(a,n,r+s),0);return this.count instanceof ua&&this.count.encode(e.length,n,r),i}};be.Sequence=Q$;var X$=class extends hr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,s)=>i&&s instanceof hr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{let s=i.getSpan(e,n);return n+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){ew(e);let r=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){let o=r,i=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let l=e[a.property];l!==void 0&&(s=a.encode(l,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+s-o}fromArray(e){let n=this.makeDestinationObject();for(let r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(let r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};be.Structure=X$;var TN=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};be.UnionDiscriminator=TN;var Zx=class extends TN{constructor(e,n){if(!(e instanceof ua&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};be.UnionLayoutDiscriminator=Zx;var IN=class extends hr{constructor(e,n,r){let o;if(e instanceof Vc||e instanceof bl)o=new Zx(new wN(e));else if(e instanceof ua&&e.isCount())o=new Zx(e);else if(e instanceof TN)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof hr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Vc||e instanceof bl)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Vc||e instanceof bl,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;let r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(let n in this.registry){let r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r,o=this.discriminator,i=o.decode(e,n),s=this.registry[i];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=a.decode(e,n+c)}else r=s.decode(e,n);return r}encode(e,n,r=0){let o=this.getSourceVariant(e);if(o===void 0){let i=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+s.encode(e[s.property],n,r+a)}return o.encode(e,n,r)}addVariant(e,n,r){let o=new Z$(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};be.Union=IN;var Z$=class extends hr{constructor(e,n,r,o){if(!(e instanceof IN))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof hr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,n+r)),r+o}decode(e,n=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),i+=this.layout.getSpan(n,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};be.VariantLayout=Z$;function Xx(t){return 0>t&&(t+=4294967296),t}var RN=class extends hr{constructor(e,n,r){if(!(e instanceof Vc||e instanceof bl))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Xx(i),this},this._packedGetValue=function(){return o}}decode(e,n=0){let r=this.makeDestinationObject(),o=this.word.decode(e,n);this._packedSetValue(o);for(let i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){let o=this.word.decode(n,r);this._packedSetValue(o);for(let i of this.fields)if(i.property!==void 0){let s=e[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){let r=new CN(this,e,n);return this.fields.push(r),r}addBoolean(e){let n=new eF(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let n of this.fields)if(n.property===e)return n}};be.BitStructure=RN;var CN=class{constructor(e,n,r){if(!(e instanceof RN))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");let o=8*e.span,i=e.fields.reduce((s,a)=>s+a.bits,0);if(n+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-n),this.wordMask=Xx(this.valueMask<<this.start),this.property=r}decode(e,n){let r=this.container._packedGetValue();return Xx(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Xx(e&this.valueMask))throw new TypeError(wde("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let n=this.container._packedGetValue(),r=Xx(e<<this.start);this.container._packedSetValue(Xx(n&~this.wordMask)|r)}};be.BitField=CN;var eF=class extends CN{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};be.Boolean=eF;var tF=class extends hr{constructor(e,n){if(!(e instanceof ua&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ua||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),ar(e).slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof ua&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(wde("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>n.length)throw new RangeError("encoding overruns Uint8Array");let i=ar(e);return ar(n).write(i.toString("hex"),r,o,"hex"),this.length instanceof ua&&this.length.encode(o,n,r),o}};be.Blob=tF;var nF=class extends hr{constructor(e){super(-1,e)}getSpan(e,n=0){ew(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){let r=this.getSpan(e,n);return ar(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));let o=xde.Buffer.from(e,"utf8"),i=o.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");let s=ar(n);return o.copy(s,r),s[r+i]=0,i+1}};be.CString=nF;var rF=class extends hr{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return ew(e),e.length-n}decode(e,n=0){let r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return ar(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));let o=xde.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(ar(n),r),i}};be.UTF8=rF;var oF=class extends hr{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};be.Constant=oF;be.greedy=((t,e)=>new G$(t,e));be.offset=((t,e,n)=>new wN(t,e,n));be.u8=(t=>new Vc(1,t));be.u16=(t=>new Vc(2,t));be.u24=(t=>new Vc(3,t));be.u32=(t=>new Vc(4,t));be.u40=(t=>new Vc(5,t));be.u48=(t=>new Vc(6,t));be.nu64=(t=>new V$(t));be.u16be=(t=>new bl(2,t));be.u24be=(t=>new bl(3,t));be.u32be=(t=>new bl(4,t));be.u40be=(t=>new bl(5,t));be.u48be=(t=>new bl(6,t));be.nu64be=(t=>new z$(t));be.s8=(t=>new Bh(1,t));be.s16=(t=>new Bh(2,t));be.s24=(t=>new Bh(3,t));be.s32=(t=>new Bh(4,t));be.s40=(t=>new Bh(5,t));be.s48=(t=>new Bh(6,t));be.ns64=(t=>new j$(t));be.s16be=(t=>new K1(2,t));be.s24be=(t=>new K1(3,t));be.s32be=(t=>new K1(4,t));be.s40be=(t=>new K1(5,t));be.s48be=(t=>new K1(6,t));be.ns64be=(t=>new q$(t));be.f32=(t=>new W$(t));be.f32be=(t=>new K$(t));be.f64=(t=>new J$(t));be.f64be=(t=>new Y$(t));be.struct=((t,e,n)=>new X$(t,e,n));be.bits=((t,e,n)=>new RN(t,e,n));be.seq=((t,e,n)=>new Q$(t,e,n));be.union=((t,e,n)=>new IN(t,e,n));be.unionLayoutDiscriminator=((t,e)=>new Zx(t,e));be.blob=((t,e)=>new tF(t,e));be.cstr=(t=>new nF(t));be.utf8=((t,e)=>new rF(t,e));be.constant=((t,e)=>new oF(t,e))});import ezt from"crypto";function PN(){return uF>dF.length-16&&(ezt.randomFillSync(dF),uF=0),dF.slice(uF,uF+=16)}var dF,uF,Bde=b(()=>{"use strict";dF=new Uint8Array(256),uF=dF.length});var tQe,nQe=b(()=>{"use strict";tQe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function tzt(t){return typeof t=="string"&&tQe.test(t)}var Y1,DN=b(()=>{"use strict";nQe();Y1=tzt});function nzt(t,e=0){let n=(Ls[t[e+0]]+Ls[t[e+1]]+Ls[t[e+2]]+Ls[t[e+3]]+"-"+Ls[t[e+4]]+Ls[t[e+5]]+"-"+Ls[t[e+6]]+Ls[t[e+7]]+"-"+Ls[t[e+8]]+Ls[t[e+9]]+"-"+Ls[t[e+10]]+Ls[t[e+11]]+Ls[t[e+12]]+Ls[t[e+13]]+Ls[t[e+14]]+Ls[t[e+15]]).toLowerCase();if(!Y1(n))throw TypeError("Stringified UUID is invalid");return n}var Ls,Q1,kN=b(()=>{"use strict";DN();Ls=[];for(let t=0;t<256;++t)Ls.push((t+256).toString(16).substr(1));Q1=nzt});function rzt(t,e,n){let r=e&&n||0,o=e||new Array(16);t=t||{};let i=t.node||rQe,s=t.clockseq!==void 0?t.clockseq:Ude;if(i==null||s==null){let p=t.random||(t.rng||PN)();i==null&&(i=rQe=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Ude=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Fde+1,l=a-$de+(c-Fde)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>$de)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$de=a,Fde=c,Ude=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=u&255;let d=a/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=d&255,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(let p=0;p<6;++p)o[r+p]=i[p];return e||Q1(o)}var rQe,Ude,$de,Fde,oQe,iQe=b(()=>{"use strict";Bde();kN();$de=0,Fde=0;oQe=rzt});function ozt(t){if(!Y1(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var pF,Hde=b(()=>{"use strict";DN();pF=ozt});function izt(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}function fF(t,e,n){function r(o,i,s,a){if(typeof o=="string"&&(o=izt(o)),typeof i=="string"&&(i=pF(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(i),c.set(o,i.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return Q1(c)}try{r.name=t}catch{}return r.DNS=szt,r.URL=azt,r}var szt,azt,Gde=b(()=>{"use strict";kN();Hde();szt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",azt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import czt from"crypto";function lzt(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),czt.createHash("md5").update(t).digest()}var sQe,aQe=b(()=>{"use strict";sQe=lzt});var uzt,cQe,lQe=b(()=>{"use strict";Gde();aQe();uzt=fF("v3",48,sQe),cQe=uzt});function dzt(t,e,n){t=t||{};let r=t.random||(t.rng||PN)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=r[o];return e}return Q1(r)}var uQe,dQe=b(()=>{"use strict";Bde();kN();uQe=dzt});import pzt from"crypto";function fzt(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),pzt.createHash("sha1").update(t).digest()}var pQe,fQe=b(()=>{"use strict";pQe=fzt});var mzt,mQe,hQe=b(()=>{"use strict";Gde();fQe();mzt=fF("v5",80,pQe),mQe=mzt});var gQe,yQe=b(()=>{"use strict";gQe="00000000-0000-0000-0000-000000000000"});function hzt(t){if(!Y1(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var bQe,_Qe=b(()=>{"use strict";DN();bQe=hzt});var Vde={};kn(Vde,{NIL:()=>gQe,parse:()=>pF,stringify:()=>Q1,v1:()=>oQe,v3:()=>cQe,v4:()=>uQe,v5:()=>mQe,validate:()=>Y1,version:()=>bQe});var zde=b(()=>{"use strict";iQe();lQe();dQe();hQe();yQe();_Qe();DN();kN();Hde()});var vQe=Ge((KXr,SQe)=>{"use strict";var gzt=(zde(),Qq(Vde)).v4,yzt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};let o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let i={method:t};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){let s=typeof r.generator=="function"?r.generator:function(){return gzt()};i.id=s(i,r)}else o===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};SQe.exports=yzt});var AQe=Ge((JXr,EQe)=>{"use strict";var bzt=(zde(),Qq(Vde)).v4,_zt=vQe(),LN=function(t,e){if(!(this instanceof LN))return new LN(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return bzt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};EQe.exports=LN;LN.prototype.request=function(t,e,n,r){let o=this,i=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);let l=typeof r=="function";try{i=_zt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){r(u);return}throw u}if(!l)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(l){r(l);return}return this.callServer(c,function(l,u){o._parseResponse(l,u,r)}),i};LN.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e){n();return}let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){n(o);return}if(n.length===3)if(Array.isArray(r)){let o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};n(null,r.filter(o),r.filter(i));return}else{n(null,r.error,r.result);return}n(null,r)}});var $h=Ge((YXr,TQe)=>{"use strict";var xQe=["nodebuffer","arraybuffer","fragments"],wQe=typeof Blob<"u";wQe&&xQe.push("blob");TQe.exports={BINARY_TYPES:xQe,CLOSE_TIMEOUT:3e4,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:wQe,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var GQe=Ge((QXr,HQe)=>{"use strict";var NQe=_t("fs"),Fh=_t("path"),OQe=_t("os"),PQe=typeof __webpack_require__=="function"?__non_webpack_require__:_t,Szt=process.config&&process.config.variables||{},vzt=!!process.env.PREBUILDS_ONLY,IQe=process.versions.modules,jde=xzt()?"electron":Azt()?"node-webkit":"node",qde=process.env.npm_config_arch||OQe.arch(),Wde=process.env.npm_config_platform||OQe.platform(),DQe=process.env.LIBC||(wzt(Wde)?"musl":"glibc"),Kde=process.env.ARM_VERSION||(qde==="arm64"?"8":Szt.arm_version)||"",kQe=(process.versions.uv||"").split(".")[0];HQe.exports=Gf;function Gf(t){return PQe(Gf.resolve(t))}Gf.resolve=Gf.path=function(t){t=Fh.resolve(t||".");try{var e=PQe(Fh.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch{}if(!vzt){var n=RQe(Fh.join(t,"build/Release"),CQe);if(n)return n;var r=RQe(Fh.join(t,"build/Debug"),CQe);if(r)return r}var o=a(t);if(o)return o;var i=a(Fh.dirname(process.execPath));if(i)return i;var s=["platform="+Wde,"arch="+qde,"runtime="+jde,"abi="+IQe,"uv="+kQe,Kde?"armv="+Kde:"","libc="+DQe,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+s+`
    loaded from: `+t+`
`);function a(c){var l=Jde(Fh.join(c,"prebuilds")).map(LQe),u=l.filter(MQe(Wde,qde)).sort(BQe)[0];if(u){var d=Fh.join(c,"prebuilds",u.name),p=Jde(d).map(UQe),f=p.filter($Qe(jde,IQe)),h=f.sort(FQe(jde))[0];if(h)return Fh.join(d,h.file)}}};function Jde(t){try{return NQe.readdirSync(t)}catch{return[]}}function RQe(t,e){var n=Jde(t).filter(e);return n[0]&&Fh.join(t,n[0])}function CQe(t){return/\.node$/.test(t)}function LQe(t){var e=t.split("-");if(e.length===2){var n=e[0],r=e[1].split("+");if(n&&r.length&&r.every(Boolean))return{name:t,platform:n,architectures:r}}}function MQe(t,e){return function(n){return n==null||n.platform!==t?!1:n.architectures.includes(e)}}function BQe(t,e){return t.architectures.length-e.architectures.length}function UQe(t){var e=t.split("."),n=e.pop(),r={file:t,specificity:0};if(n==="node"){for(var o=0;o<e.length;o++){var i=e[o];if(i==="node"||i==="electron"||i==="node-webkit")r.runtime=i;else if(i==="napi")r.napi=!0;else if(i.slice(0,3)==="abi")r.abi=i.slice(3);else if(i.slice(0,2)==="uv")r.uv=i.slice(2);else if(i.slice(0,4)==="armv")r.armv=i.slice(4);else if(i==="glibc"||i==="musl")r.libc=i;else continue;r.specificity++}return r}}function $Qe(t,e){return function(n){return!(n==null||n.runtime&&n.runtime!==t&&!Ezt(n)||n.abi&&n.abi!==e&&!n.napi||n.uv&&n.uv!==kQe||n.armv&&n.armv!==Kde||n.libc&&n.libc!==DQe)}}function Ezt(t){return t.runtime==="node"&&t.napi}function FQe(t){return function(e,n){return e.runtime!==n.runtime?e.runtime===t?-1:1:e.abi!==n.abi?e.abi?-1:1:e.specificity!==n.specificity?e.specificity>n.specificity?-1:1:0}}function Azt(){return!!(process.versions&&process.versions.nw)}function xzt(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function wzt(t){return t==="linux"&&NQe.existsSync("/etc/alpine-release")}Gf.parseTags=UQe;Gf.matchTags=$Qe;Gf.compareTags=FQe;Gf.parseTuple=LQe;Gf.matchTuple=MQe;Gf.compareTuples=BQe});var Xde=Ge((ZXr,Qde)=>{"use strict";var Yde=typeof __webpack_require__=="function"?__non_webpack_require__:_t;typeof Yde.addon=="function"?Qde.exports=Yde.addon.bind(Yde):Qde.exports=GQe()});var zQe=Ge((tZr,VQe)=>{"use strict";var Tzt=(t,e,n,r,o)=>{for(var i=0;i<o;i++)n[r+i]=t[i]^e[i&3]},Izt=(t,e)=>{let n=t.length;for(var r=0;r<n;r++)t[r]^=e[r&3]};VQe.exports={mask:Tzt,unmask:Izt}});var epe=Ge((nZr,Zde)=>{"use strict";try{Zde.exports=Xde()(__dirname)}catch{Zde.exports=zQe()}});var MN=Ge((rZr,mF)=>{"use strict";var{EMPTY_BUFFER:Rzt}=$h(),tpe=Buffer[Symbol.species];function Czt(t,e){if(t.length===0)return Rzt;if(t.length===1)return t[0];let n=Buffer.allocUnsafe(e),r=0;for(let o=0;o<t.length;o++){let i=t[o];n.set(i,r),r+=i.length}return r<e?new tpe(n.buffer,n.byteOffset,r):n}function jQe(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[i]^e[i&3]}function qQe(t,e){for(let n=0;n<t.length;n++)t[n]^=e[n&3]}function Nzt(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function npe(t){if(npe.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new tpe(t):ArrayBuffer.isView(t)?e=new tpe(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),npe.readOnly=!1),e}mF.exports={concat:Czt,mask:jQe,toArrayBuffer:Nzt,toBuffer:npe,unmask:qQe};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=epe();mF.exports.mask=function(e,n,r,o,i){i<48?jQe(e,n,r,o,i):t.mask(e,n,r,o,i)},mF.exports.unmask=function(e,n){e.length<32?qQe(e,n):t.unmask(e,n)}}catch{}});var JQe=Ge((oZr,KQe)=>{"use strict";var WQe=Symbol("kDone"),rpe=Symbol("kRun"),ope=class{constructor(e){this[WQe]=()=>{this.pending--,this[rpe]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[rpe]()}[rpe](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[WQe])}}};KQe.exports=ope});var UN=Ge((iZr,ZQe)=>{"use strict";var BN=_t("zlib"),YQe=MN(),Ozt=JQe(),{kStatusCode:QQe}=$h(),Pzt=Buffer[Symbol.species],Dzt=Buffer.from([0,0,255,255]),gF=Symbol("permessage-deflate"),Hh=Symbol("total-length"),ow=Symbol("callback"),X1=Symbol("buffers"),iw=Symbol("error"),hF,ipe=class{constructor(e,n,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!hF){let o=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;hF=new Ozt(o)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[ow];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let n=this._options,r=e.find(o=>!(n.serverNoContextTakeover===!1&&o.server_no_context_takeover||o.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>o.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!o.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let n=e[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(r=>{let o=n[r];if(o.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(o=o[0],r==="client_max_window_bits"){if(o!==!0){let i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${o}`);o=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${o}`)}else if(r==="server_max_window_bits"){let i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${o}`);o=i}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(o!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${o}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=o})}),e}decompress(e,n,r){hF.add(o=>{this._decompress(e,n,(i,s)=>{o(),r(i,s)})})}compress(e,n,r){hF.add(o=>{this._compress(e,n,(i,s)=>{o(),r(i,s)})})}_decompress(e,n,r){let o=this._isServer?"client":"server";if(!this._inflate){let i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?BN.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=BN.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[gF]=this,this._inflate[Hh]=0,this._inflate[X1]=[],this._inflate.on("error",Lzt),this._inflate.on("data",XQe)}this._inflate[ow]=r,this._inflate.write(e),n&&this._inflate.write(Dzt),this._inflate.flush(()=>{let i=this._inflate[iw];if(i){this._inflate.close(),this._inflate=null,r(i);return}let s=YQe.concat(this._inflate[X1],this._inflate[Hh]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Hh]=0,this._inflate[X1]=[],n&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,n,r){let o=this._isServer?"server":"client";if(!this._deflate){let i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?BN.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=BN.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Hh]=0,this._deflate[X1]=[],this._deflate.on("data",kzt)}this._deflate[ow]=r,this._deflate.write(e),this._deflate.flush(BN.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=YQe.concat(this._deflate[X1],this._deflate[Hh]);n&&(i=new Pzt(i.buffer,i.byteOffset,i.length-4)),this._deflate[ow]=null,this._deflate[Hh]=0,this._deflate[X1]=[],n&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),r(null,i)})}};ZQe.exports=ipe;function kzt(t){this[X1].push(t),this[Hh]+=t.length}function XQe(t){if(this[Hh]+=t.length,this[gF]._maxPayload<1||this[Hh]<=this[gF]._maxPayload){this[X1].push(t);return}this[iw]=new RangeError("Max payload size exceeded"),this[iw].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[iw][QQe]=1009,this.removeListener("data",XQe),this.reset()}function Lzt(t){if(this[gF]._inflate=null,this[iw]){this[ow](this[iw]);return}t[QQe]=1007,this[ow](t)}});var tXe=Ge((sZr,eXe)=>{"use strict";function Mzt(t){let e=t.length,n=0;for(;n<e;)if((t[n]&128)===0)n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}eXe.exports=Mzt});var ape=Ge((aZr,spe)=>{"use strict";try{spe.exports=Xde()(__dirname)}catch{spe.exports=tXe()}});var sw=Ge((cZr,yF)=>{"use strict";var{isUtf8:nXe}=_t("buffer"),{hasBlob:Bzt}=$h(),Uzt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function $zt(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function cpe(t){let e=t.length,n=0;for(;n<e;)if((t[n]&128)===0)n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}function Fzt(t){return Bzt&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}yF.exports={isBlob:Fzt,isValidStatusCode:$zt,isValidUTF8:cpe,tokenChars:Uzt};if(nXe)yF.exports.isValidUTF8=function(t){return t.length<24?cpe(t):nXe(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=ape();yF.exports.isValidUTF8=function(e){return e.length<32?cpe(e):t(e)}}catch{}});var fpe=Ge((lZr,lXe)=>{"use strict";var{Writable:Hzt}=_t("stream"),rXe=UN(),{BINARY_TYPES:Gzt,EMPTY_BUFFER:oXe,kStatusCode:Vzt,kWebSocket:zzt}=$h(),{concat:lpe,toArrayBuffer:jzt,unmask:qzt}=MN(),{isValidStatusCode:Wzt,isValidUTF8:iXe}=sw(),bF=Buffer[Symbol.species],od=0,sXe=1,aXe=2,cXe=3,upe=4,dpe=5,_F=6,ppe=class extends Hzt{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Gzt[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[zzt]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=od}_write(e,n,r){if(this._opcode===8&&this._state==od)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new bF(r.buffer,r.byteOffset+e,r.length-e),new bF(r.buffer,r.byteOffset,e)}let n=Buffer.allocUnsafe(e);do{let r=this._buffers[0],o=n.length-e;e>=r.length?n.set(this._buffers.shift(),o):(n.set(new Uint8Array(r.buffer,r.byteOffset,e),o),this._buffers[0]=new bF(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return n}startLoop(e){this._loop=!0;do switch(this._state){case od:this.getInfo(e);break;case sXe:this.getPayloadLength16(e);break;case aXe:this.getPayloadLength64(e);break;case cXe:this.getMask();break;case upe:this.getData(e);break;case dpe:case _F:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let n=this.consume(2);if((n[0]&48)!==0){let o=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(o);return}let r=(n[0]&64)===64;if(r&&!this._extensions[rXe.extensionName]){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._fin=(n[0]&128)===128,this._opcode=n[0]&15,this._payloadLength=n[1]&127,this._opcode===0){if(r){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(!this._fragmented){let o=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let o=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(o);return}if(r){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let o=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(o);return}}else{let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(n[1]&128)===128,this._isServer){if(!this._masked){let o=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(o);return}}else if(this._masked){let o=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(o);return}this._payloadLength===126?this._state=sXe:this._payloadLength===127?this._state=aXe:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let n=this.consume(8),r=n.readUInt32BE(0);if(r>Math.pow(2,21)-1){let o=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(o);return}this._payloadLength=r*Math.pow(2,32)+n.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(n);return}this._masked?this._state=cXe:this._state=upe}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=upe}getData(e){let n=oXe;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&qzt(n,this._mask)}if(this._opcode>7){this.controlMessage(n,e);return}if(this._compressed){this._state=dpe,this.decompress(n,e);return}n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage(e)}decompress(e,n){this._extensions[rXe.extensionName].decompress(e,this._fin,(o,i)=>{if(o)return n(o);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");n(s);return}this._fragments.push(i)}this.dataMessage(n),this._state===od&&this.startLoop(n)})}dataMessage(e){if(!this._fin){this._state=od;return}let n=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let o;this._binaryType==="nodebuffer"?o=lpe(r,n):this._binaryType==="arraybuffer"?o=jzt(lpe(r,n)):this._binaryType==="blob"?o=new Blob(r):o=r,this._allowSynchronousEvents?(this.emit("message",o,!0),this._state=od):(this._state=_F,setImmediate(()=>{this.emit("message",o,!0),this._state=od,this.startLoop(e)}))}else{let o=lpe(r,n);if(!this._skipUTF8Validation&&!iXe(o)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===dpe||this._allowSynchronousEvents?(this.emit("message",o,!1),this._state=od):(this._state=_F,setImmediate(()=>{this.emit("message",o,!1),this._state=od,this.startLoop(e)}))}}controlMessage(e,n){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,oXe),this.end();else{let r=e.readUInt16BE(0);if(!Wzt(r)){let i=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");n(i);return}let o=new bF(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!iXe(o)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");n(i);return}this._loop=!1,this.emit("conclude",r,o),this.end()}this._state=od;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=od):(this._state=_F,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=od,this.startLoop(n)}))}createError(e,n,r,o,i){this._loop=!1,this._errored=!0;let s=new e(r?`Invalid WebSocket frame: ${n}`:n);return Error.captureStackTrace(s,this.createError),s.code=i,s[Vzt]=o,s}};lXe.exports=ppe});var gpe=Ge((dZr,pXe)=>{"use strict";var{Duplex:uZr}=_t("stream"),{randomFillSync:Kzt}=_t("crypto"),uXe=UN(),{EMPTY_BUFFER:Jzt,kWebSocket:Yzt,NOOP:Qzt}=$h(),{isBlob:aw,isValidStatusCode:Xzt}=sw(),{mask:dXe,toBuffer:FS}=MN(),id=Symbol("kByteLength"),Zzt=Buffer.alloc(4),SF=8*1024,HS,cw=SF,up=0,ejt=1,tjt=2,mpe=class t{constructor(e,n,r){this._extensions=n||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=up,this.onerror=Qzt,this[Yzt]=void 0}static frame(e,n){let r,o=!1,i=2,s=!1;n.mask&&(r=n.maskBuffer||Zzt,n.generateMask?n.generateMask(r):(cw===SF&&(HS===void 0&&(HS=Buffer.alloc(SF)),Kzt(HS,0,SF),cw=0),r[0]=HS[cw++],r[1]=HS[cw++],r[2]=HS[cw++],r[3]=HS[cw++]),s=(r[0]|r[1]|r[2]|r[3])===0,i=6);let a;typeof e=="string"?(!n.mask||s)&&n[id]!==void 0?a=n[id]:(e=Buffer.from(e),a=e.length):(a=e.length,o=n.mask&&n.readOnly&&!s);let c=a;a>=65536?(i+=8,c=127):a>125&&(i+=2,c=126);let l=Buffer.allocUnsafe(o?a+i:i);return l[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),n.mask?(l[1]|=128,l[i-4]=r[0],l[i-3]=r[1],l[i-2]=r[2],l[i-1]=r[3],s?[l,e]:o?(dXe(e,r,l,i,a),[l]):(dXe(e,r,e,0,a),[l,e])):[l,e]}close(e,n,r,o){let i;if(e===void 0)i=Jzt;else{if(typeof e!="number"||!Xzt(e))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let a=Buffer.byteLength(n);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+a),i.writeUInt16BE(e,0),typeof n=="string"?i.write(n,2):i.set(n,2)}}let s={[id]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==up?this.enqueue([this.dispatch,i,!1,s,o]):this.sendFrame(t.frame(i,s),o)}ping(e,n,r){let o,i;if(typeof e=="string"?(o=Buffer.byteLength(e),i=!1):aw(e)?(o=e.size,i=!1):(e=FS(e),o=e.length,i=FS.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[id]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};aw(e)?this._state!==up?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):this._state!==up?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}pong(e,n,r){let o,i;if(typeof e=="string"?(o=Buffer.byteLength(e),i=!1):aw(e)?(o=e.size,i=!1):(e=FS(e),o=e.length,i=FS.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[id]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};aw(e)?this._state!==up?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):this._state!==up?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}send(e,n,r){let o=this._extensions[uXe.extensionName],i=n.binary?2:1,s=n.compress,a,c;typeof e=="string"?(a=Buffer.byteLength(e),c=!1):aw(e)?(a=e.size,c=!1):(e=FS(e),a=e.length,c=FS.readOnly),this._firstFragment?(this._firstFragment=!1,s&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=o._threshold),this._compress=s):(s=!1,i=0),n.fin&&(this._firstFragment=!0);let l={[id]:a,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:c,rsv1:s};aw(e)?this._state!==up?this.enqueue([this.getBlobData,e,this._compress,l,r]):this.getBlobData(e,this._compress,l,r):this._state!==up?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}getBlobData(e,n,r,o){this._bufferedBytes+=r[id],this._state=tjt,e.arrayBuffer().then(i=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(hpe,this,a,o);return}this._bufferedBytes-=r[id];let s=FS(i);n?this.dispatch(s,n,r,o):(this._state=up,this.sendFrame(t.frame(s,r),o),this.dequeue())}).catch(i=>{process.nextTick(njt,this,i,o)})}dispatch(e,n,r,o){if(!n){this.sendFrame(t.frame(e,r),o);return}let i=this._extensions[uXe.extensionName];this._bufferedBytes+=r[id],this._state=ejt,i.compress(e,r.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");hpe(this,c,o);return}this._bufferedBytes-=r[id],this._state=up,r.readOnly=!1,this.sendFrame(t.frame(a,r),o),this.dequeue()})}dequeue(){for(;this._state===up&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][id],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][id],this._queue.push(e)}sendFrame(e,n){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],n),this._socket.uncork()):this._socket.write(e[0],n)}};pXe.exports=mpe;function hpe(t,e,n){typeof n=="function"&&n(e);for(let r=0;r<t._queue.length;r++){let o=t._queue[r],i=o[o.length-1];typeof i=="function"&&i(e)}}function njt(t,e,n){hpe(t,e,n),t.onerror(e)}});var vXe=Ge((pZr,SXe)=>{"use strict";var{kForOnEventAttribute:$N,kListener:ype}=$h(),fXe=Symbol("kCode"),mXe=Symbol("kData"),hXe=Symbol("kError"),gXe=Symbol("kMessage"),yXe=Symbol("kReason"),lw=Symbol("kTarget"),bXe=Symbol("kType"),_Xe=Symbol("kWasClean"),Gh=class{constructor(e){this[lw]=null,this[bXe]=e}get target(){return this[lw]}get type(){return this[bXe]}};Object.defineProperty(Gh.prototype,"target",{enumerable:!0});Object.defineProperty(Gh.prototype,"type",{enumerable:!0});var GS=class extends Gh{constructor(e,n={}){super(e),this[fXe]=n.code===void 0?0:n.code,this[yXe]=n.reason===void 0?"":n.reason,this[_Xe]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[fXe]}get reason(){return this[yXe]}get wasClean(){return this[_Xe]}};Object.defineProperty(GS.prototype,"code",{enumerable:!0});Object.defineProperty(GS.prototype,"reason",{enumerable:!0});Object.defineProperty(GS.prototype,"wasClean",{enumerable:!0});var uw=class extends Gh{constructor(e,n={}){super(e),this[hXe]=n.error===void 0?null:n.error,this[gXe]=n.message===void 0?"":n.message}get error(){return this[hXe]}get message(){return this[gXe]}};Object.defineProperty(uw.prototype,"error",{enumerable:!0});Object.defineProperty(uw.prototype,"message",{enumerable:!0});var FN=class extends Gh{constructor(e,n={}){super(e),this[mXe]=n.data===void 0?null:n.data}get data(){return this[mXe]}};Object.defineProperty(FN.prototype,"data",{enumerable:!0});var rjt={addEventListener(t,e,n={}){for(let o of this.listeners(t))if(!n[$N]&&o[ype]===e&&!o[$N])return;let r;if(t==="message")r=function(i,s){let a=new FN("message",{data:s?i:i.toString()});a[lw]=this,vF(e,this,a)};else if(t==="close")r=function(i,s){let a=new GS("close",{code:i,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[lw]=this,vF(e,this,a)};else if(t==="error")r=function(i){let s=new uw("error",{error:i,message:i.message});s[lw]=this,vF(e,this,s)};else if(t==="open")r=function(){let i=new Gh("open");i[lw]=this,vF(e,this,i)};else return;r[$N]=!!n[$N],r[ype]=e,n.once?this.once(t,r):this.on(t,r)},removeEventListener(t,e){for(let n of this.listeners(t))if(n[ype]===e&&!n[$N]){this.removeListener(t,n);break}}};SXe.exports={CloseEvent:GS,ErrorEvent:uw,Event:Gh,EventTarget:rjt,MessageEvent:FN};function vF(t,e,n){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,n):t.call(e,n)}});var bpe=Ge((fZr,EXe)=>{"use strict";var{tokenChars:HN}=sw();function Vf(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}function ojt(t){let e=Object.create(null),n=Object.create(null),r=!1,o=!1,i=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&HN[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(Vf(e,f,n),n=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&HN[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Vf(n,t.slice(c,u),!0),l===44&&(Vf(e,s,n),n=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o){if(HN[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:r||(r=!0),o=!1}else if(i)if(HN[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)i=!1,u=d;else if(l===92)o=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)i=!0;else if(u===-1&&HN[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);r&&(f=f.replace(/\\/g,""),r=!1),Vf(n,a,f),l===44&&(Vf(e,s,n),n=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||i||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?Vf(e,p,n):(a===void 0?Vf(n,p,!0):r?Vf(n,a,p.replace(/\\/g,"")):Vf(n,a,p),Vf(e,s,n)),e}function ijt(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(r=>[e].concat(Object.keys(r).map(o=>{let i=r[o];return Array.isArray(i)||(i=[i]),i.map(s=>s===!0?o:`${o}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}EXe.exports={format:ijt,parse:ojt}});var wF=Ge((gZr,kXe)=>{"use strict";var sjt=_t("events"),ajt=_t("https"),cjt=_t("http"),wXe=_t("net"),ljt=_t("tls"),{randomBytes:ujt,createHash:djt}=_t("crypto"),{Duplex:mZr,Readable:hZr}=_t("stream"),{URL:_pe}=_t("url"),Z1=UN(),pjt=fpe(),fjt=gpe(),{isBlob:mjt}=sw(),{BINARY_TYPES:AXe,CLOSE_TIMEOUT:hjt,EMPTY_BUFFER:EF,GUID:gjt,kForOnEventAttribute:Spe,kListener:yjt,kStatusCode:bjt,kWebSocket:ls,NOOP:TXe}=$h(),{EventTarget:{addEventListener:_jt,removeEventListener:Sjt}}=vXe(),{format:vjt,parse:Ejt}=bpe(),{toBuffer:Ajt}=MN(),IXe=Symbol("kAborted"),vpe=[8,13],Vh=["CONNECTING","OPEN","CLOSING","CLOSED"],xjt=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,xo=class t extends sjt{constructor(e,n,r){super(),this._binaryType=AXe[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=EF,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),RXe(this,e,n,r)):(this._autoPong=r.autoPong,this._closeTimeout=r.closeTimeout,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){AXe.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,n,r){let o=new pjt({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new fjt(e,this._extensions,r.generateMask);this._receiver=o,this._sender=i,this._socket=e,o[ls]=this,i[ls]=this,e[ls]=this,o.on("conclude",Ijt),o.on("drain",Rjt),o.on("error",Cjt),o.on("message",Njt),o.on("ping",Ojt),o.on("pong",Pjt),i.onerror=Djt,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),n.length>0&&e.unshift(n),e.on("close",OXe),e.on("data",xF),e.on("end",PXe),e.on("error",DXe),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Z1.extensionName]&&this._extensions[Z1.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,n){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){_l(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),NXe(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Epe(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(e||EF,n,r)}pong(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Epe(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(e||EF,n,r)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Epe(this,e,r);return}let o={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[Z1.extensionName]||(o.compress=!1),this._sender.send(e||EF,o,r)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){_l(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(xo,"CONNECTING",{enumerable:!0,value:Vh.indexOf("CONNECTING")});Object.defineProperty(xo.prototype,"CONNECTING",{enumerable:!0,value:Vh.indexOf("CONNECTING")});Object.defineProperty(xo,"OPEN",{enumerable:!0,value:Vh.indexOf("OPEN")});Object.defineProperty(xo.prototype,"OPEN",{enumerable:!0,value:Vh.indexOf("OPEN")});Object.defineProperty(xo,"CLOSING",{enumerable:!0,value:Vh.indexOf("CLOSING")});Object.defineProperty(xo.prototype,"CLOSING",{enumerable:!0,value:Vh.indexOf("CLOSING")});Object.defineProperty(xo,"CLOSED",{enumerable:!0,value:Vh.indexOf("CLOSED")});Object.defineProperty(xo.prototype,"CLOSED",{enumerable:!0,value:Vh.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(xo.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(xo.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Spe])return e[yjt];return null},set(e){for(let n of this.listeners(t))if(n[Spe]){this.removeListener(t,n);break}typeof e=="function"&&this.addEventListener(t,e,{[Spe]:!0})}})});xo.prototype.addEventListener=_jt;xo.prototype.removeEventListener=Sjt;kXe.exports=xo;function RXe(t,e,n,r){let o={allowSynchronousEvents:!0,autoPong:!0,closeTimeout:hjt,protocolVersion:vpe[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=o.autoPong,t._closeTimeout=o.closeTimeout,!vpe.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${vpe.join(", ")})`);let i;if(e instanceof _pe)i=e;else try{i=new _pe(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let s=i.protocol==="wss:",a=i.protocol==="ws+unix:",c;if(i.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!i.pathname?c="The URL's pathname is empty":i.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;AF(t,m);return}let l=s?443:80,u=ujt(16).toString("base64"),d=s?ajt.request:cjt.request,p=new Set,f;if(o.createConnection=o.createConnection||(s?Tjt:wjt),o.defaultPort=o.defaultPort||l,o.port=i.port||l,o.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,o.headers={...o.headers,"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},o.path=i.pathname+i.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(f=new Z1(o.perMessageDeflate!==!0?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=vjt({[Z1.extensionName]:f.offer()})),n.length){for(let m of n){if(typeof m!="string"||!xjt.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}o.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(i.username||i.password)&&(o.auth=`${i.username}:${i.password}`),a){let m=o.path.split(":");o.socketPath=m[0],o.path=m[1]}let h;if(o.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?o.socketPath:i.host;let m=r&&r.headers;if(r={...r,headers:{}},m)for(let[g,y]of Object.entries(m))r.headers[g.toLowerCase()]=y}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?o.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete o.headers.authorization,delete o.headers.cookie,m||delete o.headers.host,o.auth=void 0)}o.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64")),h=t._req=d(o),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(o);o.timeout&&h.on("timeout",()=>{_l(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[IXe]||(h=t._req=null,AF(t,m))}),h.on("response",m=>{let g=m.headers.location,y=m.statusCode;if(g&&o.followRedirects&&y>=300&&y<400){if(++t._redirects>o.maxRedirects){_l(t,h,"Maximum redirects exceeded");return}h.abort();let S;try{S=new _pe(g,e)}catch{let A=new SyntaxError(`Invalid URL: ${g}`);AF(t,A);return}RXe(t,S,n,r)}else t.emit("unexpected-response",h,m)||_l(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,y)=>{if(t.emit("upgrade",m),t.readyState!==xo.CONNECTING)return;h=t._req=null;let S=m.headers.upgrade;if(S===void 0||S.toLowerCase()!=="websocket"){_l(t,g,"Invalid Upgrade header");return}let v=djt("sha1").update(u+gjt).digest("base64");if(m.headers["sec-websocket-accept"]!==v){_l(t,g,"Invalid Sec-WebSocket-Accept header");return}let A=m.headers["sec-websocket-protocol"],w;if(A!==void 0?p.size?p.has(A)||(w="Server sent an invalid subprotocol"):w="Server sent a subprotocol but none was requested":p.size&&(w="Server sent no subprotocol"),w){_l(t,g,w);return}A&&(t._protocol=A);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){_l(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=Ejt(I)}catch{_l(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==Z1.extensionName){_l(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[Z1.extensionName])}catch{_l(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Z1.extensionName]=f}t.setSocket(g,y,{allowSynchronousEvents:o.allowSynchronousEvents,generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})}),o.finishRequest?o.finishRequest(h,t):h.end()}function AF(t,e){t._readyState=xo.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function wjt(t){return t.path=t.socketPath,wXe.connect(t)}function Tjt(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=wXe.isIP(t.host)?"":t.host),ljt.connect(t)}function _l(t,e,n){t._readyState=xo.CLOSING;let r=new Error(n);Error.captureStackTrace(r,_l),e.setHeader?(e[IXe]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(AF,t,r)):(e.destroy(r),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function Epe(t,e,n){if(e){let r=mjt(e)?e.size:Ajt(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(n){let r=new Error(`WebSocket is not open: readyState ${t.readyState} (${Vh[t.readyState]})`);process.nextTick(n,r)}}function Ijt(t,e){let n=this[ls];n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,n._socket[ls]!==void 0&&(n._socket.removeListener("data",xF),process.nextTick(CXe,n._socket),t===1005?n.close():n.close(t,e))}function Rjt(){let t=this[ls];t.isPaused||t._socket.resume()}function Cjt(t){let e=this[ls];e._socket[ls]!==void 0&&(e._socket.removeListener("data",xF),process.nextTick(CXe,e._socket),e.close(t[bjt])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function xXe(){this[ls].emitClose()}function Njt(t,e){this[ls].emit("message",t,e)}function Ojt(t){let e=this[ls];e._autoPong&&e.pong(t,!this._isServer,TXe),e.emit("ping",t)}function Pjt(t){this[ls].emit("pong",t)}function CXe(t){t.resume()}function Djt(t){let e=this[ls];e.readyState!==xo.CLOSED&&(e.readyState===xo.OPEN&&(e._readyState=xo.CLOSING,NXe(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function NXe(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),t._closeTimeout)}function OXe(){let t=this[ls];if(this.removeListener("close",OXe),this.removeListener("data",xF),this.removeListener("end",PXe),t._readyState=xo.CLOSING,!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&this._readableState.length!==0){let e=this.read(this._readableState.length);t._receiver.write(e)}t._receiver.end(),this[ls]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",xXe),t._receiver.on("finish",xXe))}function xF(t){this[ls]._receiver.write(t)||this.pause()}function PXe(){let t=this[ls];t._readyState=xo.CLOSING,t._receiver.end(),this.end()}function DXe(){let t=this[ls];this.removeListener("error",DXe),this.on("error",TXe),t&&(t._readyState=xo.CLOSING,this.destroy())}});var UXe=Ge((bZr,BXe)=>{"use strict";var yZr=wF(),{Duplex:kjt}=_t("stream");function LXe(t){t.emit("close")}function Ljt(){!this.destroyed&&this._writableState.finished&&this.destroy()}function MXe(t){this.removeListener("error",MXe),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Mjt(t,e){let n=!0,r=new kjt({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,s){let a=!s&&r._readableState.objectMode?i.toString():i;r.push(a)||t.pause()}),t.once("error",function(i){r.destroyed||(n=!1,r.destroy(i))}),t.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(o,i){if(t.readyState===t.CLOSED){i(o),process.nextTick(LXe,r);return}let s=!1;t.once("error",function(c){s=!0,i(c)}),t.once("close",function(){s||i(o),process.nextTick(LXe,r)}),n&&t.terminate()},r._final=function(o){if(t.readyState===t.CONNECTING){t.once("open",function(){r._final(o)});return}t._socket!==null&&(t._socket._writableState.finished?(o(),r._readableState.endEmitted&&r.destroy()):(t._socket.once("finish",function(){o()}),t.close()))},r._read=function(){t.isPaused&&t.resume()},r._write=function(o,i,s){if(t.readyState===t.CONNECTING){t.once("open",function(){r._write(o,i,s)});return}t.send(o,s)},r.on("end",Ljt),r.on("error",MXe),r}BXe.exports=Mjt});var FXe=Ge((_Zr,$Xe)=>{"use strict";var{tokenChars:Bjt}=sw();function Ujt(t){let e=new Set,n=-1,r=-1,o=0;for(o;o<t.length;o++){let s=t.charCodeAt(o);if(r===-1&&Bjt[s]===1)n===-1&&(n=o);else if(o!==0&&(s===32||s===9))r===-1&&n!==-1&&(r=o);else if(s===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${o}`);r===-1&&(r=o);let a=t.slice(n,r);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),n=r=-1}else throw new SyntaxError(`Unexpected character at index ${o}`)}if(n===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(n,o);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}$Xe.exports={parse:Ujt}});var WXe=Ge((vZr,qXe)=>{"use strict";var $jt=_t("events"),TF=_t("http"),{Duplex:SZr}=_t("stream"),{createHash:Fjt}=_t("crypto"),HXe=bpe(),VS=UN(),Hjt=FXe(),Gjt=wF(),{CLOSE_TIMEOUT:Vjt,GUID:zjt,kWebSocket:jjt}=$h(),qjt=/^[+/0-9A-Za-z]{22}==$/,GXe=0,VXe=1,jXe=2,Ape=class extends $jt{constructor(e,n){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,closeTimeout:Vjt,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Gjt,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=TF.createServer((r,o)=>{let i=TF.STATUS_CODES[426];o.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),o.end(i)}),this._server.listen(e.port,e.host,e.backlog,n)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=Wjt(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(o,i,s)=>{this.handleUpgrade(o,i,s,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=GXe}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===jXe){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(GN,this);return}if(e&&this.once("close",e),this._state!==VXe)if(this._state=VXe,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(GN,this):process.nextTick(GN,this);else{let n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{GN(this)})}}shouldHandle(e){if(this.options.path){let n=e.url.indexOf("?");if((n!==-1?e.url.slice(0,n):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,n,r,o){n.on("error",zXe);let i=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){zS(this,e,n,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){zS(this,e,n,400,"Invalid Upgrade header");return}if(i===void 0||!qjt.test(i)){zS(this,e,n,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){zS(this,e,n,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){VN(n,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=Hjt.parse(c)}catch{zS(this,e,n,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new VS(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=HXe.parse(u);f[VS.extensionName]&&(p.accept(f[VS.extensionName]),d[VS.extensionName]=p)}catch{zS(this,e,n,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return VN(n,h||401,m,g);this.completeUpgrade(d,i,l,e,n,r,o)});return}if(!this.options.verifyClient(p))return VN(n,401)}this.completeUpgrade(d,i,l,e,n,r,o)}completeUpgrade(e,n,r,o,i,s,a){if(!i.readable||!i.writable)return i.destroy();if(i[jjt])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>GXe)return VN(i,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Fjt("sha1").update(n+zjt).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(r.size){let d=this.options.handleProtocols?this.options.handleProtocols(r,o):r.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[VS.extensionName]){let d=e[VS.extensionName].params,p=HXe.format({[VS.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,o),i.write(l.concat(`\r
`).join(`\r
`)),i.removeListener("error",zXe),u.setSocket(i,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(GN,this)})),a(u,o)}};qXe.exports=Ape;function Wjt(t,e){for(let n of Object.keys(e))t.on(n,e[n]);return function(){for(let r of Object.keys(e))t.removeListener(r,e[r])}}function GN(t){t._state=jXe,t.emit("close")}function zXe(){this.destroy()}function VN(t,e,n,r){n=n||TF.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${TF.STATUS_CODES[e]}\r
`+Object.keys(r).map(o=>`${o}: ${r[o]}`).join(`\r
`)+`\r
\r
`+n)}function zS(t,e,n,r,o,i){if(t.listenerCount("wsClientError")){let s=new Error(o);Error.captureStackTrace(s,zS),t.emit("wsClientError",s,n,e)}else VN(n,r,o,i)}});var Kjt,Jjt,Yjt,Qjt,KXe,JXe=b(()=>{"use strict";Kjt=ho(UXe(),1),Jjt=ho(fpe(),1),Yjt=ho(gpe(),1),Qjt=ho(wF(),1),KXe=ho(WXe(),1)});var QXe=Ge((AZr,xpe)=>{"use strict";var Xjt=Object.prototype.hasOwnProperty,Ga="~";function zN(){}Object.create&&(zN.prototype=Object.create(null),new zN().__proto__||(Ga=!1));function Zjt(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function YXe(t,e,n,r,o){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new Zjt(n,r||t,o),s=Ga?Ga+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],i]:t._events[s].push(i):(t._events[s]=i,t._eventsCount++),t}function IF(t,e){--t._eventsCount===0?t._events=new zN:delete t._events[e]}function pa(){this._events=new zN,this._eventsCount=0}pa.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)Xjt.call(n,r)&&e.push(Ga?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};pa.prototype.listeners=function(e){var n=Ga?Ga+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s};pa.prototype.listenerCount=function(e){var n=Ga?Ga+e:e,r=this._events[n];return r?r.fn?1:r.length:0};pa.prototype.emit=function(e,n,r,o,i,s){var a=Ga?Ga+e:e;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,o),!0;case 5:return c.fn.call(c.context,n,r,o,i),!0;case 6:return c.fn.call(c.context,n,r,o,i,s),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,f;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,n);break;case 3:c[d].fn.call(c[d].context,n,r);break;case 4:c[d].fn.call(c[d].context,n,r,o);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[d].fn.apply(c[d].context,u)}}return!0};pa.prototype.on=function(e,n,r){return YXe(this,e,n,r,!1)};pa.prototype.once=function(e,n,r){return YXe(this,e,n,r,!0)};pa.prototype.removeListener=function(e,n,r,o){var i=Ga?Ga+e:e;if(!this._events[i])return this;if(!n)return IF(this,i),this;var s=this._events[i];if(s.fn)s.fn===n&&(!o||s.once)&&(!r||s.context===r)&&IF(this,i);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==n||o&&!s[a].once||r&&s[a].context!==r)&&c.push(s[a]);c.length?this._events[i]=c.length===1?c[0]:c:IF(this,i)}return this};pa.prototype.removeAllListeners=function(e){var n;return e?(n=Ga?Ga+e:e,this._events[n]&&IF(this,n)):(this._events=new zN,this._eventsCount=0),this};pa.prototype.off=pa.prototype.removeListener;pa.prototype.addListener=pa.prototype.on;pa.prefixed=Ga;pa.EventEmitter=pa;typeof xpe<"u"&&(xpe.exports=pa)});function KO(t){return Hen.includes(t)}var oG,Hen,iG=b(()=>{"use strict";oG="preferred",Hen=["disabled","preferred","required"]});var Ert,Art=b(()=>{"use strict";Ws();iG();Ert=t=>{let{accountIdEndpointMode:e}=t,n=vr(e??oG);return Object.assign(t,{accountIdEndpointMode:async()=>{let r=await n();if(!KO(r))throw new Error(`Invalid value for accountIdEndpointMode: ${r}. Valid values are: "required", "preferred", "disabled".`);return r}})}});var xrt,wrt,Gen,Ven,Trt,Irt=b(()=>{"use strict";iG();xrt="Invalid AccountIdEndpointMode value",wrt=t=>{throw new Error(t)},Gen="AWS_ACCOUNT_ID_ENDPOINT_MODE",Ven="account_id_endpoint_mode",Trt={environmentVariableSelector:t=>{let e=t[Gen];return e&&!KO(e)&&wrt(xrt),e},configFileSelector:t=>{let e=t[Ven];return e&&!KO(e)&&wrt(xrt),e},default:oG}});var ohe=b(()=>{"use strict";Art();iG();Irt()});var Rrt,ihe,Crt,Nrt,Ort=b(()=>{"use strict";Rrt=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],ihe="endpoint_discovery_enabled",Crt=t=>["false","0"].indexOf(t)>=0,Nrt={environmentVariableSelector:t=>{for(let e=0;e<Rrt.length;e++){let n=Rrt[e];if(n in t){let r=t[n];if(r==="")throw Error(`Environment variable ${n} can't be empty of undefined, got "${r}"`);return!Crt(r)}}},configFileSelector:t=>{if(ihe in t){let e=t[ihe];if(e===void 0)throw Error(`Shared config entry ${ihe} can't be undefined, got "${e}"`);return!Crt(e)}},default:void 0}});var Prt=b(()=>{"use strict"});var Drt=b(()=>{"use strict"});var Lrt=Ge((Bmo,krt)=>{"use strict";function lg(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}lg.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(lg.prototype[Symbol.iterator]=function(){return this});lg.of=function(){var t=arguments,e=t.length,n=0;return new lg(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};lg.empty=function(){var t=new lg(null);return t.done=!0,t};lg.is=function(t){return t instanceof lg?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};krt.exports=lg});var she=Ge((Umo,$rt)=>{"use strict";var Mrt=typeof ArrayBuffer<"u",Brt=typeof Symbol<"u";function Urt(t,e){var n,r,o,i,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||Mrt&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],o);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(Brt&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,o=0;s=n.next(),s.done!==!0;)e(s.value,o),o++;return}for(r in t)t.hasOwnProperty(r)&&e(t[r],r)}Urt.forEachWithNullKeys=function(t,e){var n,r,o,i,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||Mrt&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(Brt&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,o=0;s=n.next(),s.done!==!0;)e(s.value,null),o++;return}for(r in t)t.hasOwnProperty(r)&&e(t[r],r)};$rt.exports=Urt});var ahe=Ge(tm=>{"use strict";var zen=Math.pow(2,8)-1,jen=Math.pow(2,16)-1,qen=Math.pow(2,32)-1,Wen=Math.pow(2,7)-1,Ken=Math.pow(2,15)-1,Jen=Math.pow(2,31)-1;tm.getPointerArray=function(t){var e=t-1;return e<=zen?Uint8Array:e<=jen?Uint16Array:e<=qen?Uint32Array:Float64Array};tm.getSignedPointerArray=function(t){var e=t-1;return e<=Wen?Int8Array:e<=Ken?Int16Array:e<=Jen?Int32Array:Float64Array};tm.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var Yen={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};tm.getMinimalRepresentation=function(t,e){var n=null,r=0,o,i,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],i=tm.getNumberType(s),o=Yen[i.name],o>r&&(r=o,n=i);return n};tm.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};tm.concat=function(){var t=0,e,n,r;for(e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=new arguments[0].constructor(t);for(e=0,n=0;e<r;e++)o.set(arguments[e],n),n+=arguments[e].length;return o};tm.indices=function(t){for(var e=tm.getPointerArray(t),n=new e(t),r=0;r<t;r++)n[r]=r;return n}});var Grt=Ge(JO=>{"use strict";var Frt=she(),Hrt=ahe();function Qen(t){return Array.isArray(t)||Hrt.isTypedArray(t)}function che(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function Xen(t){var e=che(t),n=typeof e=="number"?new Array(e):[],r=0;return Frt(t,function(o){n[r++]=o}),n}function Zen(t){var e=che(t),n=typeof e=="number"?Hrt.getPointerArray(e):Array,r=typeof e=="number"?new Array(e):[],o=typeof e=="number"?new n(e):[],i=0;return Frt(t,function(s){r[i]=s,o[i]=i++}),[r,o]}JO.isArrayLike=Qen;JO.guessLength=che;JO.toArray=Xen;JO.toArrayWithIndices=Zen});var zrt=Ge((Hmo,Vrt)=>{"use strict";var lhe=Lrt(),etn=she(),ttn=ahe(),ntn=Grt();function Bi(t,e,n){if(arguments.length<2&&(n=t,t=null,e=null),this.capacity=n,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var r=ttn.getPointerArray(n);this.forward=new r(n),this.backward=new r(n),this.K=typeof t=="function"?new t(n):new Array(n),this.V=typeof e=="function"?new e(n):new Array(n),this.size=0,this.head=0,this.tail=0,this.items={}}Bi.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Bi.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var n=this.backward[t],r=this.forward[t];return this.tail===t?this.tail=n:this.backward[r]=n,this.forward[n]=r,this.backward[e]=t,this.head=t,this.forward[t]=e,this};Bi.prototype.set=function(t,e){var n=this.items[t];if(typeof n<"u"){this.splayOnTop(n),this.V[n]=e;return}this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],delete this.items[this.K[n]]),this.items[t]=n,this.K[n]=t,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n};Bi.prototype.setpop=function(t,e){var n=null,r=null,o=this.items[t];return typeof o<"u"?(this.splayOnTop(o),n=this.V[o],this.V[o]=e,{evicted:!1,key:t,value:n}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],n=this.V[o],r=this.K[o],delete this.items[this.K[o]]),this.items[t]=o,this.K[o]=t,this.V[o]=e,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,r?{evicted:!0,key:r,value:n}:null)};Bi.prototype.has=function(t){return t in this.items};Bi.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Bi.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};Bi.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var n=0,r=this.size,o=this.head,i=this.K,s=this.V,a=this.forward;n<r;)t.call(e,s[o],i[o],this),o=a[o],n++};Bi.prototype.keys=function(){var t=0,e=this.size,n=this.head,r=this.K,o=this.forward;return new lhe(function(){if(t>=e)return{done:!0};var i=r[n];return t++,t<e&&(n=o[n]),{done:!1,value:i}})};Bi.prototype.values=function(){var t=0,e=this.size,n=this.head,r=this.V,o=this.forward;return new lhe(function(){if(t>=e)return{done:!0};var i=r[n];return t++,t<e&&(n=o[n]),{done:!1,value:i}})};Bi.prototype.entries=function(){var t=0,e=this.size,n=this.head,r=this.K,o=this.V,i=this.forward;return new lhe(function(){if(t>=e)return{done:!0};var s=r[n],a=o[n];return t++,t<e&&(n=i[n]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(Bi.prototype[Symbol.iterator]=Bi.prototype.entries);Bi.prototype.inspect=function(){for(var t=new Map,e=this.entries(),n;n=e.next(),!n.done;)t.set(n.value[0],n.value[1]);return Object.defineProperty(t,"constructor",{value:Bi,enumerable:!1}),t};typeof Symbol<"u"&&(Bi.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bi.prototype.inspect);Bi.from=function(t,e,n,r){if(arguments.length<2){if(r=ntn.guessLength(t),typeof r!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(r=e,e=null,n=null);var o=new Bi(e,n,r);return etn(t,function(i,s){o.set(s,i)}),o};Vrt.exports=Bi});var jrt,sG,qrt=b(()=>{"use strict";jrt=ho(zrt()),sG=class{cache;constructor(e){this.cache=new jrt.default(e)}getEndpoint(e){let n=this.get(e);if(!n||n.length===0)return;let r=n.map(o=>o.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let n=this.cache.get(e);if(!n)return;let r=Date.now(),o=n.filter(i=>r<i.Expires);if(o.length===0){this.delete(e);return}return o}set(e,n){let r=Date.now();this.cache.set(e,n.map(({Address:o,CachePeriodInMinutes:i})=>({Address:o,Expires:r+i*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let n=this.cache.peek(e);return n?n.length>0:!1}clear(){this.cache.clear()}}});var Wrt=b(()=>{"use strict";Drt();qrt()});var Krt,Jrt=b(()=>{"use strict";Wrt();Krt=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:n,endpointDiscoveryEnabled:r,endpointDiscoveryEnabledProvider:o}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new sG(n??1e3),endpointDiscoveryEnabled:r!==void 0?()=>Promise.resolve(r):o,isClientEndpointDiscoveryEnabled:r!==void 0})}});var uhe=b(()=>{"use strict";Ort();Prt();Jrt()});function rtn(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var Yrt,Qrt,Xrt,dhe=b(()=>{"use strict";wi();Ws();Yrt=async(t,e,n)=>({operation:Go(e).operation,region:await vr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Qrt=t=>{let e=[];switch(t.operation){default:e.push(rtn(t))}return e},Xrt=t=>{let e=cu(t);return Object.assign(e,{authSchemePreference:vr(t.authSchemePreference??[])})}});var Zrt,ke,$t=b(()=>{"use strict";Zrt=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),ke={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}}});var En,aG=b(()=>{"use strict";Ie();En=class t extends hc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var YO,QO,XO,ZO,e5,t5,n5,r5,o5,i5,s5,a5,c5,l5,u5,d5,p5,f5,m5,h5,g5,y5,b5,_5,S5,v5,E5,A5,x5,w5,T5,I5,R5,C5,N5,phe=b(()=>{"use strict";aG();YO=class t extends En{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},QO=class t extends En{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},XO=class t extends En{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},ZO=class t extends En{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},e5=class t extends En{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},t5=class t extends En{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},n5=class t extends En{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},r5=class t extends En{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},o5=class t extends En{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},i5=class t extends En{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},s5=class t extends En{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},a5=class t extends En{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},c5=class t extends En{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},l5=class t extends En{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},u5=class t extends En{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},d5=class t extends En{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},p5=class t extends En{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},f5=class t extends En{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},m5=class t extends En{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},h5=class t extends En{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},g5=class t extends En{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},y5=class t extends En{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},b5=class t extends En{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},_5=class t extends En{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},S5=class t extends En{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},v5=class t extends En{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},E5=class t extends En{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},A5=class t extends En{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},x5=class t extends En{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},w5=class t extends En{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},T5=class t extends En{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},I5=class t extends En{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},R5=class t extends En{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},C5=class t extends En{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},N5=class t extends En{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}});var otn,itn,fhe,stn,atn,O5,ctn,ltn,utn,cG,dtn,tot,not,ptn,ftn,mtn,rot,htn,gtn,ytn,btn,_tn,lG,oot,Stn,mhe,vtn,Etn,hhe,Atn,P5,iot,ghe,yhe,sot,xtn,wtn,Ttn,Itn,Rtn,Ctn,Ntn,Otn,Ptn,D5,aot,cot,bhe,Dtn,ktn,lot,uot,Ltn,Mtn,Btn,Utn,$tn,Ftn,dot,_he,Htn,Gtn,Vtn,ztn,jtn,pot,qtn,She,Wtn,Ktn,Jtn,Ytn,zc,Qtn,Xtn,fot,mot,Iv,Ztn,enn,tnn,nnn,rnn,onn,uG,inn,snn,vhe,hot,got,k5,ann,cnn,kT,lnn,unn,dnn,pnn,yot,fnn,mnn,dG,hnn,gnn,ynn,bot,_ot,bnn,_nn,Sot,pG,Snn,vnn,Enn,Ann,xnn,wnn,Tnn,Inn,Rnn,Cnn,Nnn,Onn,Pnn,Dnn,knn,Lnn,Mnn,Bnn,Unn,$nn,Fnn,Hnn,Gnn,Vnn,znn,jnn,qnn,Wnn,Knn,Jnn,Ynn,Qnn,Xnn,Znn,ern,trn,nrn,rrn,orn,irn,srn,arn,Ehe,vot,crn,lrn,urn,drn,prn,Ahe,frn,Eot,mrn,hrn,grn,yrn,brn,_rn,Srn,vrn,Ern,Arn,xrn,wrn,LT,Trn,xhe,Irn,pd,dg,Rrn,Crn,Nrn,Orn,whe,Prn,Aot,Drn,The,krn,Lrn,Mrn,Brn,Urn,xot,wot,$rn,Frn,Hrn,Tot,Grn,Vrn,zrn,jrn,Iot,Ihe,qrn,Wrn,Krn,Jrn,Yrn,Qrn,Rot,Xrn,Rhe,Zrn,Cot,Not,eon,Che,ton,Oot,non,Pot,Dot,kot,Lot,ron,oon,ion,son,aon,con,nm,lon,uon,don,pon,fon,mon,Mot,hon,gon,Bot,yon,bon,_on,Son,von,Eon,fG,Uot,Aon,xon,pg,won,Ton,Ion,Ron,Con,Non,Oon,Pon,Don,kon,Lon,Mon,Bon,fg,Nhe,$ot,L5,Uon,$on,Fon,MT,Hon,Gon,Von,Fot,zon,jon,Ohe,qon,Phe,Dhe,Won,Kon,Io,Jon,Yon,Qon,Xon,Zon,ein,khe,Hot,tin,Got,nin,Vot,rin,Lhe,oin,iin,Mhe,rm,sin,zot,ain,jot,cin,lin,uin,mG,fd,din,pin,fin,min,hin,BT,gin,yin,bin,_in,Sin,vin,Ein,Ain,xin,win,Tin,Iin,Rin,Bhe,Cin,Nin,Oin,Pin,Din,kin,Lin,Min,Bin,Uin,$in,M5,Fin,Hin,Gin,Vin,qot,zin,jin,qin,Win,Kin,Jin,Yin,Qin,Wot,Xin,Zin,UT,esn,Kot,Jot,Yot,Qot,Xot,tsn,nsn,rsn,osn,isn,ssn,om,asn,gp,Ty,Uhe,B5,csn,lsn,usn,dsn,psn,Zot,fsn,msn,eit,hsn,tit,gsn,ysn,bsn,nit,rit,_sn,Ssn,oit,vsn,Esn,Asn,xsn,wsn,Tsn,Isn,Rsn,yp,Csn,Nsn,Iy,Osn,iit,Psn,sit,ait,cit,Ry,lit,Dsn,ksn,Lsn,Msn,hG,$T,Bsn,Usn,$sn,Fsn,Hsn,Gsn,Nl,U5,Vsn,zsn,uit,$he,jsn,qsn,Wsn,Ksn,Jsn,Ysn,Qsn,Xsn,Zsn,ean,tan,dit,nan,ran,oan,ian,pit,$5,san,aan,can,Fhe,lan,uan,qa,dan,pan,fan,fit,mit,man,han,hit,git,gan,yit,yan,ban,_an,San,bit,van,Hhe,_it,Ean,Sit,Aan,xan,wan,Tan,Ian,Ran,Can,Nan,Ghe,Vhe,zhe,im,Oan,Pan,vit,Dan,F5,jhe,kan,qhe,gG,Eit,Lan,Man,Ban,Uan,$an,Ait,Fan,Han,Gan,Van,xit,zan,jan,wit,yG,Tit,Whe,bG,Iit,Rit,Cit,qan,Khe,Nit,Oit,Pit,Wan,Kan,Jan,Yan,Dit,Qan,Jhe,Yhe,kit,mg,Xan,Qhe,Xhe,Zan,ecn,tcn,Lit,Zhe,Mit,FT,ncn,rcn,ocn,icn,scn,acn,H5,ccn,lcn,Bit,ucn,dcn,pcn,fcn,An,mcn,hcn,Uit,gcn,ycn,bcn,_cn,Scn,vcn,Ecn,$it,Fit,Acn,ege,xcn,tge,Hit,Git,Vit,wcn,Tcn,Icn,Rcn,Ccn,Ncn,nge,Ocn,_G,Pcn,Dcn,kcn,Lcn,Mcn,Bcn,zit,Ucn,$cn,Fcn,Hcn,Gcn,Vcn,zcn,jcn,qcn,Wcn,Kcn,Jcn,rge,Ycn,Qcn,Xcn,Zcn,eln,tln,nln,rln,oln,iln,sln,aln,cln,lln,uln,dln,oge,SG,pln,fln,mln,sm,ige,hln,er,Kn,jit,gln,gr,yln,bln,_ln,qit,Sln,vln,H,Wit,Kit,Jit,Yit,Qit,ug,hg,Xit,Zit,sge,age,est,tst,nst,rst,ost,ist,sst,ast,cst,lst,ust,dst,cge,pst,lge,uge,fst,mst,gg,dge,hst,gst,yst,bst,_st,Sst,vst,Est,Ast,xst,wst,Tst,Ist,Rst,Cst,Nst,Ost,Pst,Dst,kst,Lst,Mst,Bst,Ust,$st,Fst,Hst,Gst,Vst,zst,jst,qst,Wst,Kst,Jst,Yst,Qst,Xst,Zst,eat,tat,nat,rat,oat,iat,sat,aat,cat,lat,uat,dat,pat,fat,mat,pge,hat,gat,yat,bat,_at,Sat,vat,fge,Eat,Aat,xat,wat,Tat,Iat,Rat,Cat,Nat,Oat,Pat,Dat,kat,Lat,Mat,mge,Bat,Uat,vG,$at,Fat,Hat,Gat,Vat,zat,jat,qat,hge,Wat,Kat,gge,Jat,yge,Yat,Qat,Xat,Zat,G5,ect,tct,nct,rct,oct,bge,_ge,ict,sct,act,cct,lct,uct,dct,pct,fct,mct,hct,gct,yct,bct,_ct,Sct,vct,Ect,Ol,HT,Act,xct,wct,Tct,Ict,Cy,bp,Sge,Rct,GT,Cct,Nct,Oct,Pct,Dct,kct,Lct,Mct,Bct,Uct,$ct,Fct,Hct,Gct,Vct,zct,jct,qct,Wct,Kct,Jct,Yct,Qct,Xct,Zct,elt,tlt,nlt,rlt,olt,ilt,slt,alt,EG,clt,llt,ult,dlt,vge,VT,V5,plt,Ege,AG,Age,Rv,flt,mlt,xge,hlt,glt,ylt,blt,wge,Tge,_lt,Slt,vlt,Elt,Alt,xlt,wlt,Tlt,Ilt,Rlt,Clt,Nlt,Olt,Plt,Dlt,klt,Llt,Mlt,Blt,Ult,$lt,Flt,Ige,Hlt,Glt,Vlt,zlt,jlt,qlt,Wlt,Klt,Jlt,zT,Ylt,Qlt,Xlt,xG,Zlt,Eln,Aln,xln,jT,wln,Tln,Iln,Rln,Cln,Nln,wG,Oln,Pln,Dln,kln,Lln,Mln,Bln,TG,eut,Uln,_p,$ln,Fln,Hln,Gln,Rge,Vln,zln,jln,Cge,qln,Wln,tut,Kln,Jln,Yln,nut,Qln,Xln,rut,out,Zln,eun,tun,Nge,Oge,nun,run,oun,am,iun,iut,sun,sut,Pge,yg,aut,aun,cut,jc,cun,lun,Dge,eot,md,kge,Lge,Mge,Bge,Uge,$ge,Fge,Hge,Gge,Vge,zge,jge,qge,Wge,Kge,Jge,Yge,Qge,Xge,Zge,e0e,t0e,n0e,r0e,o0e,i0e,s0e,a0e,c0e,l0e,u0e,d0e,p0e,f0e,m0e,h0e,g0e,y0e,b0e,_0e,S0e,v0e,E0e,A0e,x0e,w0e,T0e,I0e,R0e,C0e,N0e,O0e,P0e,D0e,k0e,L0e,M0e,Ft=b(()=>{"use strict";Er();aG();phe();otn="Action",itn="ArchivalBackupArn",fhe="ApproximateCreationDateTimePrecision",stn="AttributeDefinition",atn="ArchivalDateTime",O5="AttributeDefinitions",ctn="AttributeMap",ltn="AccountMaxReadCapacityUnits",utn="AccountMaxWriteCapacityUnits",cG="AttributeName",dtn="ArchivalReason",tot="ArchivalSummary",not="AutoScalingDisabled",ptn="AutoScalingPolicyDescription",ftn="AutoScalingPolicyDescriptionList",mtn="AutoScalingPolicyUpdate",rot="AutoScalingRoleArn",htn="AutoScalingSettingsDescription",gtn="AutoScalingSettingsUpdate",ytn="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",btn="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",_tn="AttributeType",lG="AttributesToGet",oot="AttributeUpdates",Stn="AttributeValue",mhe="AttributeValueList",vtn="AttributeValueUpdate",Etn="Address",hhe="Attributes",Atn="Backfilling",P5="BackupArn",iot="BackupCreationDateTime",ghe="BackupDescription",yhe="BackupDetails",sot="BackupExpiryDateTime",xtn="BatchExecuteStatement",wtn="BatchExecuteStatementInput",Ttn="BatchExecuteStatementOutput",Itn="BatchGetItem",Rtn="BatchGetItemInput",Ctn="BatchGetItemOutput",Ntn="BatchGetResponseMap",Otn="BatchGetRequestMap",Ptn="BackupInUseException",D5="BillingMode",aot="BillingModeOverride",cot="BillingModeSummary",bhe="BackupName",Dtn="BackupNotFoundException",ktn="BOOL",lot="BackupStatus",uot="BackupSizeBytes",Ltn="BilledSizeBytes",Mtn="BatchStatementError",Btn="BatchStatementRequest",Utn="BatchStatementResponse",$tn="BS",Ftn="BackupSummary",dot="BackupSummaries",_he="BackupType",Htn="BatchWriteItem",Gtn="BatchWriteItemInput",Vtn="BatchWriteItemOutput",ztn="BatchWriteItemRequestMap",jtn="B",pot="Code",qtn="CreateBackup",She="ContinuousBackupsDescription",Wtn="CreateBackupInput",Ktn="CreateBackupOutput",Jtn="ContinuousBackupsStatus",Ytn="ContinuousBackupsUnavailableException",zc="ConsumedCapacity",Qtn="ConditionalCheckFailedException",Xtn="ConsumedCapacityMultiple",fot="ConditionCheck",mot="CreationDateTime",Iv="ConditionExpression",Ztn="CreateGlobalSecondaryIndexAction",enn="CreateGlobalTable",tnn="CreateGlobalTableInput",nnn="CreateGlobalTableOutput",rnn="CreateGlobalTableWitnessGroupMemberAction",onn="ContributorInsightsAction",uG="ContributorInsightsMode",inn="ContributorInsightsRuleList",snn="ContributorInsightsSummary",vhe="ContributorInsightsStatus",hot="ContributorInsightsSummaries",got="ComparisonOperator",k5="ConditionalOperator",ann="CsvOptions",cnn="CachePeriodInMinutes",kT="ConsistentRead",lnn="CreateReplicaAction",unn="CreateReplicationGroupMemberAction",dnn="CancellationReasonList",pnn="ConfirmRemoveSelfResourceAccess",yot="ClientRequestToken",fnn="CancellationReason",mnn="CancellationReasons",dG="ClientToken",hnn="CreateTableInput",gnn="CreateTableOutput",ynn="CreateTable",bot="CapacityUnits",_ot="CloudWatchLogGroupArn",bnn="Capacity",_nn="Condition",Sot="Count",pG="Create",Snn="Csv",vnn="Delimiter",Enn="DeleteBackup",Ann="DeleteBackupInput",xnn="DescribeBackupInput",wnn="DeleteBackupOutput",Tnn="DescribeBackupOutput",Inn="DescribeBackup",Rnn="DescribeContinuousBackups",Cnn="DescribeContinuousBackupsInput",Nnn="DescribeContinuousBackupsOutput",Onn="DescribeContributorInsights",Pnn="DescribeContributorInsightsInput",Dnn="DescribeContributorInsightsOutput",knn="DescribeEndpoints",Lnn="DescribeExportInput",Mnn="DescribeExportOutput",Bnn="DescribeEndpointsRequest",Unn="DescribeEndpointsResponse",$nn="DescribeExport",Fnn="DeleteGlobalSecondaryIndexAction",Hnn="DescribeGlobalTable",Gnn="DescribeGlobalTableInput",Vnn="DescribeGlobalTableOutput",znn="DescribeGlobalTableSettings",jnn="DescribeGlobalTableSettingsInput",qnn="DescribeGlobalTableSettingsOutput",Wnn="DeleteGlobalTableWitnessGroupMemberAction",Knn="DeleteItem",Jnn="DuplicateItemException",Ynn="DeleteItemInput",Qnn="DescribeImportInput",Xnn="DeleteItemOutput",Znn="DescribeImportOutput",ern="DescribeImport",trn="DescribeKinesisStreamingDestination",nrn="DescribeKinesisStreamingDestinationInput",rrn="DescribeKinesisStreamingDestinationOutput",orn="DisableKinesisStreamingDestination",irn="DescribeLimits",srn="DescribeLimitsInput",arn="DescribeLimitsOutput",Ehe="DeletionProtectionEnabled",vot="DeleteRequest",crn="DeleteReplicaAction",lrn="DeleteReplicationGroupMemberAction",urn="DeleteResourcePolicy",drn="DeleteResourcePolicyInput",prn="DeleteResourcePolicyOutput",Ahe="DestinationStatus",frn="DestinationStatusDescription",Eot="DisableScaleIn",mrn="DeleteTable",hrn="DeleteTableInput",grn="DescribeTableInput",yrn="DeleteTableOutput",brn="DescribeTableOutput",_rn="DescribeTableReplicaAutoScaling",Srn="DescribeTableReplicaAutoScalingInput",vrn="DescribeTableReplicaAutoScalingOutput",Ern="DescribeTimeToLive",Arn="DescribeTimeToLiveInput",xrn="DescribeTimeToLiveOutput",wrn="DescribeTable",LT="Delete",Trn="Error",xhe="ExportArn",Irn="ExpectedAttributeMap",pd="ExpressionAttributeNames",dg="ExpressionAttributeValues",Rrn="ExpressionAttributeValueMap",Crn="ExpectedAttributeValue",Nrn="ErrorCount",Orn="ExportConflictException",whe="ExportDescription",Prn="ExceptionDescription",Aot="ExportFormat",Drn="ExportFromTime",The="EnableKinesisStreamingConfiguration",krn="EnableKinesisStreamingDestination",Lrn="ExportManifest",Mrn="ExceptionName",Brn="ExportNotFoundException",Urn="EarliestRestorableDateTime",xot="ExpectedRevisionId",wot="ExportStatus",$rn="ExclusiveStartBackupArn",Frn="ExclusiveStartGlobalTableName",Hrn="ExecuteStatementInput",Tot="ExclusiveStartKey",Grn="ExecuteStatementOutput",Vrn="ExclusiveStartTableName",zrn="ExportSummary",jrn="ExecuteStatement",Iot="ExportSummaries",Ihe="EndTime",qrn="ExecuteTransactionInput",Wrn="ExecuteTransactionOutput",Krn="ExportToTime",Jrn="ExportTableToPointInTime",Yrn="ExportTableToPointInTimeInput",Qrn="ExportTableToPointInTimeOutput",Rot="ExportTime",Xrn="ExecuteTransaction",Rhe="ExportType",Zrn="ExportViewType",Cot="Endpoints",Not="Enabled",eon="Endpoint",Che="Expected",ton="Exists",Oot="FailureCode",non="FilterConditionMap",Pot="FailureException",Dot="FilterExpression",kot="FailureMessage",Lot="Get",ron="GetItem",oon="GetItemInput",ion="GetItemOutput",son="GetResourcePolicy",aon="GetResourcePolicyInput",con="GetResourcePolicyOutput",nm="GlobalSecondaryIndexes",lon="GlobalSecondaryIndexAutoScalingUpdate",uon="GlobalSecondaryIndexAutoScalingUpdateList",don="GlobalSecondaryIndexDescription",pon="GlobalSecondaryIndexDescriptionList",fon="GlobalSecondaryIndexInfo",mon="GlobalSecondaryIndexList",Mot="GlobalSecondaryIndexOverride",hon="GlobalSecondaryIndexUpdate",gon="GlobalSecondaryIndexUpdateList",Bot="GlobalSecondaryIndexUpdates",yon="GlobalSecondaryIndexWarmThroughputDescription",bon="GlobalSecondaryIndex",_on="GlobalTable",Son="GlobalTableArn",von="GlobalTableAlreadyExistsException",Eon="GlobalTableBillingMode",fG="GlobalTableDescription",Uot="GlobalTableGlobalSecondaryIndexSettingsUpdate",Aon="GlobalTableGlobalSecondaryIndexSettingsUpdateList",xon="GlobalTableList",pg="GlobalTableName",won="GlobalTableNotFoundException",Ton="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",Ion="GlobalTableProvisionedWriteCapacityUnits",Ron="GlobalTableStatus",Con="GlobalTableVersion",Non="GlobalTableWitnesses",Oon="GlobalTableWitnessDescription",Pon="GlobalTableWitnessDescriptionList",Don="GlobalTableWitnessGroupUpdate",kon="GlobalTableWitnessGroupUpdateList",Lon="GlobalTableWitnessUpdates",Mon="GlobalTables",Bon="HeaderList",fg="Item",Nhe="ImportArn",$ot="IndexArn",L5="ItemCount",Uon="ImportConflictException",$on="ItemCollectionKey",Fon="ItemCollectionKeyAttributeMap",MT="ItemCollectionMetrics",Hon="ItemCollectionMetricsMultiple",Gon="ItemCollectionMetricsPerTable",Von="ItemCollectionSizeLimitExceededException",Fot="InputCompressionType",zon="InaccessibleEncryptionDateTime",jon="InvalidEndpointException",Ohe="IncrementalExportSpecification",qon="InvalidExportTimeException",Phe="InputFormat",Dhe="InputFormatOptions",Won="ImportedItemCount",Kon="ItemList",Io="IndexName",Jon="ImportNotFoundException",Yon="IndexNotFoundException",Qon="IdempotentParameterMismatchException",Xon="ItemResponse",Zon="ItemResponseList",ein="InvalidRestoreTimeException",khe="IndexStatus",Hot="IndexSizeBytes",tin="InternalServerError",Got="ImportSummaryList",nin="ImportSummary",Vot="ImportStatus",rin="ImportTable",Lhe="ImportTableDescription",oin="ImportTableInput",iin="ImportTableOutput",Mhe="Items",rm="Key",sin="KeysAndAttributes",zot="KeyConditions",ain="KeyConditionExpression",jot="KinesisDataStreamDestinations",cin="KinesisDataStreamDestination",lin="KeyList",uin="KMSMasterKeyArn",mG="KMSMasterKeyId",fd="KeySchema",din="KinesisStreamingDestinationInput",pin="KinesisStreamingDestinationOutput",fin="KeySchemaElement",min="KeyType",hin="Keys",BT="Limit",gin="ListAttributeValue",yin="ListBackups",bin="ListBackupsInput",_in="ListBackupsOutput",Sin="ListContributorInsights",vin="ListContributorInsightsInput",Ein="ListContributorInsightsOutput",Ain="LastDecreaseDateTime",xin="ListExports",win="LastEvaluatedBackupArn",Tin="LimitExceededException",Iin="LastEvaluatedGlobalTableName",Rin="ListExportsInput",Bhe="LastEvaluatedKey",Cin="ListExportsOutput",Nin="LastEvaluatedTableName",Oin="ListGlobalTables",Pin="ListGlobalTablesInput",Din="ListGlobalTablesOutput",kin="ListImports",Lin="LastIncreaseDateTime",Min="ListImportsInput",Bin="ListImportsOutput",Uin="LatestRestorableDateTime",$in="LatestStreamArn",M5="LocalSecondaryIndexes",Fin="LocalSecondaryIndexDescription",Hin="LocalSecondaryIndexDescriptionList",Gin="LocalSecondaryIndexInfo",Vin="LocalSecondaryIndexList",qot="LocalSecondaryIndexOverride",zin="LocalSecondaryIndex",jin="LatestStreamLabel",qin="ListTables",Win="ListTablesInput",Kin="ListTablesOutput",Jin="ListTagsOfResource",Yin="ListTagsOfResourceInput",Qin="ListTagsOfResourceOutput",Wot="LastUpdateDateTime",Xin="LastUpdateToPayPerRequestDateTime",Zin="L",UT="Message",esn="MapAttributeValue",Kot="MaxResults",Jot="MultiRegionConsistency",Yot="MaxReadRequestUnits",Qot="MinimumUnits",Xot="MaximumUnits",tsn="MaxWriteRequestUnits",nsn="M",rsn="N",osn="NonKeyAttributes",isn="NumberOfDecreasesToday",ssn="NS",om="NextToken",asn="NULL",gp="OnDemandThroughput",Ty="OnDemandThroughputOverride",Uhe="Parameters",B5="ProjectionExpression",csn="PutItem",lsn="ProcessedItemCount",usn="PutItemInput",dsn="PutItemInputAttributeMap",psn="PutItemOutput",Zot="PointInTimeRecoveryDescription",fsn="PointInTimeRecoveryEnabled",msn="PointInTimeRecoveryStatus",eit="PointInTimeRecoverySpecification",hsn="PointInTimeRecoveryUnavailableException",tit="PolicyName",gsn="PolicyNotFoundException",ysn="PartiQLBatchRequest",bsn="PartiQLBatchResponse",nit="PutRequest",rit="ProvisionedReadCapacityAutoScalingSettings",_sn="ProvisionedReadCapacityAutoScalingSettingsUpdate",Ssn="ProvisionedReadCapacityAutoScalingUpdate",oit="ProvisionedReadCapacityUnits",vsn="PutResourcePolicy",Esn="PutResourcePolicyInput",Asn="PutResourcePolicyOutput",xsn="PageSize",wsn="ProcessedSizeBytes",Tsn="PreparedStatementParameters",Isn="ParameterizedStatement",Rsn="ParameterizedStatements",yp="ProvisionedThroughput",Csn="ProvisionedThroughputDescription",Nsn="ProvisionedThroughputExceededException",Iy="ProvisionedThroughputOverride",Osn="ProjectionType",iit="ProvisionedWriteCapacityAutoScalingSettings",Psn="ProvisionedWriteCapacityAutoScalingSettingsUpdate",sit="ProvisionedWriteCapacityAutoScalingUpdate",ait="ProvisionedWriteCapacityUnits",cit="Policy",Ry="Projection",lit="Put",Dsn="Query",ksn="QueryFilter",Lsn="QueryInput",Msn="QueryOutput",hG="Responses",$T="ResourceArn",Bsn="ReplicaAlreadyExistsException",Usn="ReplicaAutoScalingDescription",$sn="ReplicaAutoScalingDescriptionList",Fsn="ReplicaAutoScalingUpdate",Hsn="ReplicaAutoScalingUpdateList",Gsn="ReplicaBillingModeSummary",Nl="ReturnConsumedCapacity",U5="ReadCapacityUnits",Vsn="ReplicaDescription",zsn="ReplicaDescriptionList",uit="RestoreDateTime",$he="ReplicationGroup",jsn="ReplicaGlobalSecondaryIndex",qsn="ReplicaGlobalSecondaryIndexAutoScalingDescription",Wsn="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",Ksn="ReplicaGlobalSecondaryIndexAutoScalingUpdate",Jsn="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",Ysn="ReplicaGlobalSecondaryIndexDescription",Qsn="ReplicaGlobalSecondaryIndexDescriptionList",Xsn="ReplicaGlobalSecondaryIndexList",Zsn="ReplicaGlobalSecondaryIndexSettings",ean="ReplicaGlobalSecondaryIndexSettingsDescription",tan="ReplicaGlobalSecondaryIndexSettingsDescriptionList",dit="ReplicaGlobalSecondaryIndexSettingsUpdate",nan="ReplicaGlobalSecondaryIndexSettingsUpdateList",ran="ReplicaGlobalSecondaryIndexUpdates",oan="ReplicationGroupUpdate",ian="ReplicationGroupUpdateList",pit="RequestItems",$5="ReturnItemCollectionMetrics",san="ReplicaInaccessibleDateTime",aan="RestoreInProgress",can="ResourceInUseException",Fhe="RevisionId",lan="ReplicaList",uan="RequestLimitExceeded",qa="RegionName",dan="ReplicaNotFoundException",pan="ResourceNotFoundException",fan="ResourcePolicy",fit="RecoveryPeriodInDays",mit="ReplicaProvisionedReadCapacityAutoScalingSettings",man="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",han="ReplicaProvisionedReadCapacityAutoScalingUpdate",hit="ReplicaProvisionedReadCapacityUnits",git="ReplicaProvisionedWriteCapacityAutoScalingSettings",gan="ReplicaProvisionedWriteCapacityUnits",yit="ReplicaSettings",yan="ReplicaStatusDescription",ban="ReplicaSettingsDescriptionList",_an="ReplicaSettingsDescription",San="ReplicaStatusPercentProgress",bit="ReplicaSettingsUpdate",van="ReplicaSettingsUpdateList",Hhe="ReplicaStatus",_it="RestoreSummary",Ean="ReplicaTableClass",Sit="ReplicaTableClassSummary",Aan="RestoreTableFromBackup",xan="RestoreTableFromBackupInput",wan="RestoreTableFromBackupOutput",Tan="RestoreTableToPointInTime",Ian="RestoreTableToPointInTimeInput",Ran="RestoreTableToPointInTimeOutput",Can="ReplicaUpdate",Nan="ReplicaUpdateList",Ghe="ReadUnitsPerSecond",Vhe="ReplicaUpdates",zhe="ReturnValues",im="ReturnValuesOnConditionCheckFailure",Oan="ReplicatedWriteConflictException",Pan="Replica",vit="Replicas",Dan="Statements",F5="StreamArn",jhe="S3Bucket",kan="SourceBackupArn",qhe="S3BucketOwner",gG="S3BucketSource",Eit="ScannedCount",Lan="StreamDescription",Man="StreamEnabled",Ban="SizeEstimateRangeGB",Uan="ScanFilter",$an="ScanInput",Ait="ScaleInCooldown",Fan="SecondaryIndexesCapacityMap",Han="ScanIndexForward",Gan="S3KeyPrefix",Van="ScanOutput",xit="ScaleOutCooldown",zan="ScalingPolicies",jan="ScalingPolicyUpdate",wit="S3Prefix",yG="StreamSpecification",Tit="S3SseAlgorithm",Whe="SSEDescription",bG="SSESpecification",Iit="SSESpecificationOverride",Rit="SSEType",Cit="S3SseKmsKeyId",qan="SS",Khe="StartTime",Nit="SourceTableArn",Oit="SourceTableDetails",Pit="SourceTableFeatureDetails",Wan="SourceTableName",Kan="StreamViewType",Jan="S",Yan="Scan",Dit="Select",Qan="Segment",Jhe="Statement",Yhe="Status",kit="Table",mg="TableArn",Xan="TableAlreadyExistsException",Qhe="TableAutoScalingDescription",Xhe="TableClass",Zan="TableCreationDateTime",ecn="TransactionCanceledException",tcn="TransactionConflictException",Lit="TableClassOverride",Zhe="TableCreationParameters",Mit="TableClassSummary",FT="TableDescription",ncn="ThrottlingException",rcn="TransactGetItem",ocn="TransactGetItemsInput",icn="TransactGetItemList",scn="TransactGetItemsOutput",acn="TransactGetItems",H5="TableId",ccn="TransactionInProgressException",lcn="TableInUseException",Bit="TransactItems",ucn="TagKeys",dcn="TagList",pcn="TableMaxReadCapacityUnits",fcn="TableMaxWriteCapacityUnits",An="TableName",mcn="TableNotFoundException",hcn="TableNames",Uit="ThrottlingReasons",gcn="TagResourceInput",ycn="ThrottlingReasonList",bcn="TimeRangeLowerBound",_cn="TimeRangeUpperBound",Scn="TagResource",vcn="ThrottlingReason",Ecn="TransactStatements",$it="TableSizeBytes",Fit="TableStatus",Acn="TotalSegments",ege="TimeToLiveDescription",xcn="TimeToLiveStatus",tge="TimeToLiveSpecification",Hit="TargetTableName",Git="TargetTrackingScalingPolicyConfiguration",Vit="TargetValue",wcn="TransactWriteItem",Tcn="TransactWriteItemsInput",Icn="TransactWriteItemList",Rcn="TransactWriteItemsOutput",Ccn="TransactWriteItems",Ncn="TableWarmThroughputDescription",nge="Tags",Ocn="Tag",_G="Update",Pcn="UpdateContinuousBackups",Dcn="UpdateContinuousBackupsInput",kcn="UpdateContinuousBackupsOutput",Lcn="UpdateContributorInsights",Mcn="UpdateContributorInsightsInput",Bcn="UpdateContributorInsightsOutput",zit="UpdateExpression",Ucn="UpdateGlobalSecondaryIndexAction",$cn="UpdateGlobalTable",Fcn="UpdateGlobalTableInput",Hcn="UpdateGlobalTableOutput",Gcn="UpdateGlobalTableSettings",Vcn="UpdateGlobalTableSettingsInput",zcn="UpdateGlobalTableSettingsOutput",jcn="UnprocessedItems",qcn="UpdateItemInput",Wcn="UpdateItemOutput",Kcn="UpdateItem",Jcn="UnprocessedKeys",rge="UpdateKinesisStreamingConfiguration",Ycn="UpdateKinesisStreamingDestination",Qcn="UpdateKinesisStreamingDestinationInput",Xcn="UpdateKinesisStreamingDestinationOutput",Zcn="UseLatestRestorableTime",eln="UntagResource",tln="UpdateReplicationGroupMemberAction",nln="UntagResourceInput",rln="UpdateTable",oln="UpdateTableInput",iln="UpdateTableOutput",sln="UpdateTableReplicaAutoScaling",aln="UpdateTableReplicaAutoScalingInput",cln="UpdateTableReplicaAutoScalingOutput",lln="UpdateTimeToLive",uln="UpdateTimeToLiveInput",dln="UpdateTimeToLiveOutput",oge="Value",SG="WriteCapacityUnits",pln="WriteRequest",fln="WriteRequests",mln="WitnessStatus",sm="WarmThroughput",ige="WriteUnitsPerSecond",hln="awsQueryError",er="client",Kn="error",jit="httpError",gln="httpHeader",gr="message",yln="reason",bln="resource",_ln="server",qit="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",Sln="throttlingReasons",vln="x-amz-confirm-remove-self-resource-access",H="com.amazonaws.dynamodb",Wit=[3,H,tot,0,[atn,dtn,itn],[4,0,0]],Kit=[3,H,stn,0,[cG,_tn],[0,0],2],Jit=[3,H,vtn,0,[oge,otn],[()=>md,0]],Yit=[3,H,ptn,0,[tit,Git],[0,()=>Xit]],Qit=[3,H,mtn,0,[Git,tit],[()=>Zit,0],1],ug=[3,H,htn,0,[Qot,Xot,not,rot,zan],[1,1,2,0,()=>Eln]],hg=[3,H,gtn,0,[Qot,Xot,not,rot,jan],[1,1,2,0,()=>Qit]],Xit=[3,H,ytn,0,[Vit,Eot,Ait,xit],[1,2,1,1],1],Zit=[3,H,btn,0,[Vit,Eot,Ait,xit],[1,2,1,1],1],sge=[3,H,ghe,0,[yhe,Oit,Pit],[()=>age,()=>ult,()=>dlt]],age=[3,H,yhe,0,[P5,bhe,lot,_he,iot,uot,sot],[0,0,0,0,4,1,4],5],est=[-3,H,Ptn,{[Kn]:er},[gr],[0]];je.for(H).registerError(est,YO);tst=[-3,H,Dtn,{[Kn]:er},[gr],[0]];je.for(H).registerError(tst,QO);nst=[3,H,Ftn,0,[An,H5,mg,P5,bhe,iot,sot,lot,_he,uot],[0,0,0,0,0,4,4,0,0,1]],rst=[3,H,wtn,0,[Dan,Nl],[()=>zln,0],1],ost=[3,H,Ttn,0,[hG,zc],[()=>jln,()=>jT]],ist=[3,H,Rtn,0,[pit,Nl],[()=>iut,0],1],sst=[3,H,Ctn,0,[hG,Jcn,zc],[()=>sun,()=>iut,()=>jT]],ast=[3,H,Mtn,0,[pot,UT,fg],[0,0,()=>am]],cst=[3,H,Btn,0,[Jhe,Uhe,kT,im],[0,()=>Cge,2,0],1],lst=[3,H,Utn,0,[Trn,An,fg],[()=>ast,0,()=>am]],ust=[3,H,Gtn,0,[pit,Nl,$5],[()=>sut,0,0],1],dst=[3,H,Vtn,0,[jcn,MT,zc],[()=>sut,()=>cut,()=>jT]],cge=[3,H,cot,0,[D5,Xin],[0,4]],pst=[3,H,fnn,0,[fg,pot,UT],[()=>am,0,0]],lge=[3,H,bnn,0,[U5,SG,bot],[1,1,1]],uge=[3,H,_nn,0,[got,mhe],[0,()=>Zlt],1],fst=[-3,H,Qtn,{[Kn]:er},[gr,fg],[0,()=>am]];je.for(H).registerError(fst,C5);mst=[3,H,fot,0,[rm,An,Iv,pd,dg,im],[()=>jc,0,0,128,()=>yg,0],3],gg=[3,H,zc,0,[An,bot,U5,SG,kit,M5,nm],[0,1,1,1,()=>lge,()=>eot,()=>eot]],dge=[3,H,She,0,[Jtn,Zot],[0,()=>xct],1],hst=[-3,H,Ytn,{[Kn]:er},[gr],[0]];je.for(H).registerError(hst,s5);gst=[3,H,snn,0,[An,Io,vhe,uG],[0,0,0,0]],yst=[3,H,Wtn,0,[An,bhe],[0,0],2],bst=[3,H,Ktn,0,[yhe],[()=>age]],_st=[3,H,Ztn,0,[Io,fd,Ry,yp,gp,sm],[0,()=>_p,()=>Cy,()=>bp,()=>Ol,()=>zT],3],Sst=[3,H,tnn,0,[pg,$he],[0,()=>rut],2],vst=[3,H,nnn,0,[fG],[()=>vG]],Est=[3,H,rnn,0,[qa],[0],1],Ast=[3,H,lnn,0,[qa],[0],1],xst=[3,H,unn,0,[qa,mG,Iy,Ty,nm,Lit],[0,0,()=>GT,()=>HT,()=>nut,0],1],wst=[3,H,hnn,0,[O5,An,fd,M5,nm,D5,yp,yG,bG,nge,Xhe,Ehe,sm,fan,gp],[()=>xG,0,()=>_p,()=>Rge,()=>wG,0,()=>bp,()=>V5,()=>VT,()=>Nge,0,2,()=>zT,0,()=>Ol],3],Tst=[3,H,gnn,0,[FT],[()=>Rv]],Ist=[3,H,ann,0,[vnn,Bon],[0,64]],Rst=[3,H,LT,0,[rm,An,Iv,pd,dg,im],[()=>jc,0,0,128,()=>yg,0],2],Cst=[3,H,Ann,0,[P5],[0],1],Nst=[3,H,wnn,0,[ghe],[()=>sge]],Ost=[3,H,Fnn,0,[Io],[0],1],Pst=[3,H,Wnn,0,[qa],[0],1],Dst=[3,H,Ynn,0,[An,rm,Che,k5,zhe,Nl,$5,Iv,pd,dg,im],[0,()=>jc,()=>Pge,0,0,0,0,0,128,()=>yg,0],2],kst=[3,H,Xnn,0,[hhe,zc,MT],[()=>am,()=>gg,()=>G5]],Lst=[3,H,crn,0,[qa],[0],1],Mst=[3,H,lrn,0,[qa],[0],1],Bst=[3,H,vot,0,[rm],[()=>jc],1],Ust=[3,H,drn,0,[$T,xot],[0,0],1],$st=[3,H,prn,0,[Fhe],[0]],Fst=[3,H,hrn,0,[An],[0],1],Hst=[3,H,yrn,0,[FT],[()=>Rv]],Gst=[3,H,xnn,0,[P5],[0],1],Vst=[3,H,Tnn,0,[ghe],[()=>sge]],zst=[3,H,Cnn,0,[An],[0],1],jst=[3,H,Nnn,0,[She],[()=>dge]],qst=[3,H,Pnn,0,[An,Io],[0,0],1],Wst=[3,H,Dnn,0,[An,Io,inn,vhe,Wot,Pot,uG],[0,0,64,0,4,()=>Tat,0]],Kst=[3,H,Bnn,0,[],[]],Jst=[3,H,Unn,0,[Cot],[()=>Tln],1],Yst=[3,H,Lnn,0,[xhe],[0],1],Qst=[3,H,Mnn,0,[whe],[()=>fge]],Xst=[3,H,Gnn,0,[pg],[0],1],Zst=[3,H,Vnn,0,[fG],[()=>vG]],eat=[3,H,jnn,0,[pg],[0],1],tat=[3,H,qnn,0,[pg,yit],[0,()=>out]],nat=[3,H,Qnn,0,[Nhe],[0],1],rat=[3,H,Znn,0,[Lhe],[()=>hge],1],oat=[3,H,nrn,0,[An],[0],1],iat=[3,H,rrn,0,[An,jot],[0,()=>$ln]],sat=[3,H,srn,0,[],[]],aat=[3,H,arn,0,[ltn,utn,pcn,fcn],[1,1,1,1]],cat=[3,H,grn,0,[An],[0],1],lat=[3,H,brn,0,[kit],[()=>Rv]],uat=[3,H,Srn,0,[An],[0],1],dat=[3,H,vrn,0,[Qhe],[()=>Ege]],pat=[3,H,Arn,0,[An],[0],1],fat=[3,H,xrn,0,[ege],[()=>wge]],mat=[-3,H,Jnn,{[Kn]:er},[gr],[0]];je.for(H).registerError(mat,y5);pge=[3,H,The,0,[fhe],[0]],hat=[3,H,eon,0,[Etn,cnn],[0,1],2],gat=[3,H,Hrn,0,[Jhe,Uhe,kT,om,Nl,BT,im],[0,()=>Cge,2,0,0,1,0],1],yat=[3,H,Grn,0,[Mhe,om,zc,Bhe],[()=>TG,0,()=>gg,()=>jc]],bat=[3,H,qrn,0,[Ecn,yot,Nl],[()=>Vln,[0,4],0],1],_at=[3,H,Wrn,0,[hG,zc],[()=>eut,()=>jT]],Sat=[3,H,Crn,0,[oge,ton,got,mhe],[()=>md,2,0,()=>Zlt]],vat=[-3,H,Orn,{[Kn]:er},[gr],[0]];je.for(H).registerError(vat,S5);fge=[3,H,whe,0,[xhe,wot,Khe,Ihe,Lrn,mg,H5,Rot,dG,jhe,qhe,wit,Tit,Cit,Oot,kot,Aot,Ltn,L5,Rhe,Ohe],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>gge]],Eat=[-3,H,Brn,{[Kn]:er},[gr],[0]];je.for(H).registerError(Eat,m5);Aat=[3,H,zrn,0,[xhe,wot,Rhe],[0,0,0]],xat=[3,H,Yrn,0,[mg,jhe,Rot,dG,qhe,wit,Tit,Cit,Aot,Rhe,Ohe],[0,0,4,[0,4],0,0,0,0,0,0,()=>gge],2],wat=[3,H,Qrn,0,[whe],[()=>fge]],Tat=[3,H,Pot,0,[Mrn,Prn],[0,0]],Iat=[3,H,Lot,0,[rm,An,B5,pd],[()=>jc,0,0,128],2],Rat=[3,H,oon,0,[An,rm,lG,kT,Nl,B5,pd],[0,()=>jc,64,2,0,0,128],2],Cat=[3,H,ion,0,[fg,zc],[()=>am,()=>gg]],Nat=[3,H,aon,0,[$T],[0],1],Oat=[3,H,con,0,[cit,Fhe],[0,0]],Pat=[3,H,bon,0,[Io,fd,Ry,yp,gp,sm],[0,()=>_p,()=>Cy,()=>bp,()=>Ol,()=>zT],3],Dat=[3,H,lon,0,[Io,sit],[0,()=>hg]],kat=[3,H,don,0,[Io,fd,Ry,khe,Atn,yp,Hot,L5,$ot,gp,sm],[0,()=>_p,()=>Cy,0,2,()=>Sge,1,1,0,()=>Ol,()=>mge]],Lat=[3,H,fon,0,[Io,fd,Ry,yp,gp],[0,()=>_p,()=>Cy,()=>bp,()=>Ol]],Mat=[3,H,hon,0,[_G,pG,LT],[()=>klt,()=>_st,()=>Ost]],mge=[3,H,yon,0,[Ghe,ige,Yhe],[1,1,0]],Bat=[3,H,_on,0,[pg,$he],[0,()=>rut]],Uat=[-3,H,von,{[Kn]:er},[gr],[0]];je.for(H).registerError(Uat,u5);vG=[3,H,fG,0,[$he,Son,mot,Ron,pg],[()=>tut,0,4,0,0]],$at=[3,H,Uot,0,[Io,ait,Psn],[0,1,()=>hg],1],Fat=[-3,H,won,{[Kn]:er},[gr],[0]];je.for(H).registerError(Fat,h5);Hat=[3,H,Oon,0,[qa,mln],[0,0]],Gat=[3,H,Don,0,[pG,LT],[()=>Est,()=>Pst]],Vat=[-3,H,Qon,{[Kn]:er},[UT],[0]];je.for(H).registerError(Vat,b5);zat=[-3,H,Uon,{[Kn]:er},[gr],[0]];je.for(H).registerError(zat,A5);jat=[-3,H,Jon,{[Kn]:er},[gr],[0]];je.for(H).registerError(jat,g5);qat=[3,H,nin,0,[Nhe,Vot,mg,gG,_ot,Phe,Khe,Ihe],[0,0,0,()=>EG,0,0,4,4]],hge=[3,H,Lhe,0,[Nhe,Vot,mg,H5,dG,gG,Nrn,_ot,Phe,Dhe,Fot,Zhe,Khe,Ihe,wsn,lsn,Won,Oot,kot],[0,0,0,0,0,()=>EG,1,0,0,()=>yge,0,()=>Age,4,4,1,1,1,0,0]],Wat=[3,H,oin,0,[gG,Phe,Zhe,dG,Dhe,Fot],[()=>EG,0,()=>Age,[0,4],()=>yge,0],3],Kat=[3,H,iin,0,[Lhe],[()=>hge],1],gge=[3,H,Ohe,0,[Drn,Krn,Zrn],[4,4,0]],Jat=[-3,H,Yon,{[Kn]:er},[gr],[0]];je.for(H).registerError(Jat,R5);yge=[3,H,Dhe,0,[Snn],[()=>Ist]],Yat=[-3,H,tin,{[Kn]:_ln},[gr],[0]];je.for(H).registerError(Yat,XO);Qat=[-3,H,jon,{[Kn]:er,[jit]:421},[UT],[0]];je.for(H).registerError(Qat,t5);Xat=[-3,H,qon,{[Kn]:er},[gr],[0]];je.for(H).registerError(Xat,v5);Zat=[-3,H,ein,{[Kn]:er},[gr],[0]];je.for(H).registerError(Zat,w5);G5=[3,H,MT,0,[$on,Ban],[()=>aun,65]],ect=[-3,H,Von,{[Kn]:er},[gr],[0]];je.for(H).registerError(ect,o5);tct=[3,H,Xon,0,[fg],[()=>am]],nct=[3,H,sin,0,[hin,lG,kT,B5,pd],[()=>Uln,64,2,0,128],1],rct=[3,H,fin,0,[cG,min],[0,0],2],oct=[3,H,cin,0,[F5,Ahe,frn,fhe],[0,0,0,0]],bge=[3,H,din,0,[An,F5,The],[0,0,()=>pge],2],_ge=[3,H,pin,0,[An,F5,Ahe,The],[0,0,0,()=>pge]],ict=[-3,H,Tin,{[Kn]:er},[gr],[0]];je.for(H).registerError(ict,a5);sct=[3,H,bin,0,[An,BT,bcn,_cn,$rn,_he],[0,1,4,4,0,0]],act=[3,H,_in,0,[dot,win],[()=>Aln,0]],cct=[3,H,vin,0,[An,om,Kot],[0,0,1]],lct=[3,H,Ein,0,[hot,om],[()=>wln,0]],uct=[3,H,Rin,0,[mg,Kot,om],[0,1,0]],dct=[3,H,Cin,0,[Iot,om],[()=>Iln,0]],pct=[3,H,Pin,0,[Frn,BT,qa],[0,1,0]],fct=[3,H,Din,0,[Mon,Iin],[()=>Dln,0]],mct=[3,H,Min,0,[mg,xsn,om],[0,1,0]],hct=[3,H,Bin,0,[Got,om],[()=>Mln,0]],gct=[3,H,Win,0,[Vrn,BT],[0,1]],yct=[3,H,Kin,0,[hcn,Nin],[64,0]],bct=[3,H,Yin,0,[$T,om],[0,0],1],_ct=[3,H,Qin,0,[nge,om],[()=>Nge,0]],Sct=[3,H,zin,0,[Io,fd,Ry],[0,()=>_p,()=>Cy],3],vct=[3,H,Fin,0,[Io,fd,Ry,Hot,L5,$ot],[0,()=>_p,()=>Cy,1,1,0]],Ect=[3,H,Gin,0,[Io,fd,Ry],[0,()=>_p,()=>Cy]],Ol=[3,H,gp,0,[Yot,tsn],[1,1]],HT=[3,H,Ty,0,[Yot],[1]],Act=[3,H,Isn,0,[Jhe,Uhe,im],[0,()=>Cge,0],1],xct=[3,H,Zot,0,[msn,fit,Urn,Uin],[0,1,4,4]],wct=[3,H,eit,0,[fsn,fit],[2,1],1],Tct=[-3,H,hsn,{[Kn]:er},[gr],[0]];je.for(H).registerError(Tct,E5);Ict=[-3,H,gsn,{[Kn]:er},[gr],[0]];je.for(H).registerError(Ict,f5);Cy=[3,H,Ry,0,[Osn,osn],[0,64]],bp=[3,H,yp,0,[U5,SG],[1,1],2],Sge=[3,H,Csn,0,[Lin,Ain,isn,U5,SG],[4,4,1,1,1]],Rct=[-3,H,Nsn,{[Kn]:er},[gr,Uit],[0,()=>Oge]];je.for(H).registerError(Rct,n5);GT=[3,H,Iy,0,[U5],[1]],Cct=[3,H,lit,0,[fg,An,Iv,pd,dg,im],[()=>Dge,0,0,128,()=>yg,0],2],Nct=[3,H,usn,0,[An,fg,Che,zhe,Nl,$5,k5,Iv,pd,dg,im],[0,()=>Dge,()=>Pge,0,0,0,0,0,128,()=>yg,0],2],Oct=[3,H,psn,0,[hhe,zc,MT],[()=>am,()=>gg,()=>G5]],Pct=[3,H,nit,0,[fg],[()=>Dge],1],Dct=[3,H,Esn,0,[$T,cit,xot,pnn],[0,0,0,[2,{[gln]:vln}]],2],kct=[3,H,Asn,0,[Fhe],[0]],Lct=[3,H,Lsn,0,[An,Io,Dit,lG,BT,kT,zot,ksn,k5,Han,Tot,Nl,B5,Dot,ain,pd,dg],[0,0,0,64,1,2,()=>cun,()=>aut,0,2,()=>jc,0,0,0,0,128,()=>yg],1],Mct=[3,H,Msn,0,[Mhe,Sot,Eit,Bhe,zc],[()=>TG,1,1,()=>jc,()=>gg]],Bct=[3,H,Pan,0,[qa],[0]],Uct=[-3,H,Bsn,{[Kn]:er},[gr],[0]];je.for(H).registerError(Uct,T5);$ct=[3,H,Usn,0,[qa,nm,mit,git,Hhe],[0,()=>Kln,()=>ug,()=>ug,0]],Fct=[3,H,Fsn,0,[qa,ran,han],[0,()=>Jln,()=>hg],1],Hct=[3,H,Vsn,0,[qa,Hhe,yan,San,mG,Iy,Ty,sm,nm,san,Sit],[0,0,0,0,0,()=>GT,()=>HT,()=>xge,()=>Yln,4,()=>AG]],Gct=[3,H,jsn,0,[Io,Iy,Ty],[0,()=>GT,()=>HT],1],Vct=[3,H,qsn,0,[Io,khe,rit,iit],[0,0,()=>ug,()=>ug]],zct=[3,H,Ksn,0,[Io,Ssn],[0,()=>hg]],jct=[3,H,Ysn,0,[Io,Iy,Ty,sm],[0,()=>GT,()=>HT,()=>mge]],qct=[3,H,ean,0,[Io,khe,oit,rit,ait,iit],[0,0,1,()=>ug,1,()=>ug],1],Wct=[3,H,dit,0,[Io,oit,_sn],[0,1,()=>hg],1],Kct=[-3,H,dan,{[Kn]:er},[gr],[0]];je.for(H).registerError(Kct,I5);Jct=[3,H,_an,0,[qa,Hhe,Gsn,hit,mit,gan,git,Zsn,Sit],[0,0,()=>cge,1,()=>ug,1,()=>ug,()=>Qln,()=>AG],1],Yct=[3,H,bit,0,[qa,hit,man,dit,Ean],[0,1,()=>hg,()=>Xln,0],1],Qct=[-3,H,Oan,{[Kn]:er},[gr],[0]];je.for(H).registerError(Qct,i5);Xct=[3,H,oan,0,[pG,_G,LT],[()=>xst,()=>Vlt,()=>Mst]],Zct=[3,H,Can,0,[pG,LT],[()=>Ast,()=>Lst]],elt=[-3,H,uan,{[Kn]:er},[gr,Uit],[0,()=>Oge]];je.for(H).registerError(elt,ZO);tlt=[-3,H,can,{[Kn]:er},[gr],[0]];je.for(H).registerError(tlt,d5);nlt=[-3,H,pan,{[Kn]:er},[gr],[0]];je.for(H).registerError(nlt,r5);rlt=[3,H,_it,0,[uit,aan,kan,Nit],[4,2,0,0],2],olt=[3,H,xan,0,[Hit,P5,aot,Mot,qot,Iy,Ty,Iit],[0,0,0,()=>wG,()=>Rge,()=>bp,()=>Ol,()=>VT],2],ilt=[3,H,wan,0,[FT],[()=>Rv]],slt=[3,H,Ian,0,[Hit,Nit,Wan,Zcn,uit,aot,Mot,qot,Iy,Ty,Iit],[0,0,0,2,4,0,()=>wG,()=>Rge,()=>bp,()=>Ol,()=>VT],1],alt=[3,H,Ran,0,[FT],[()=>Rv]],EG=[3,H,gG,0,[jhe,qhe,Gan],[0,0,0],1],clt=[3,H,$an,0,[An,Io,lG,BT,Dit,Uan,k5,Tot,Nl,Acn,Qan,B5,Dot,pd,dg,kT],[0,0,64,1,0,()=>aut,0,()=>jc,0,1,1,0,0,128,()=>yg,2],1],llt=[3,H,Van,0,[Mhe,Sot,Eit,Bhe,zc],[()=>TG,1,1,()=>jc,()=>gg]],ult=[3,H,Oit,0,[An,H5,fd,Zan,yp,mg,$it,gp,L5,D5],[0,0,()=>_p,4,()=>bp,0,1,()=>Ol,1,0],5],dlt=[3,H,Pit,0,[M5,nm,Lan,ege,Whe],[()=>Gln,()=>Nln,()=>V5,()=>wge,()=>vge]],vge=[3,H,Whe,0,[Yhe,Rit,uin,zon],[0,0,0,4]],VT=[3,H,bG,0,[Not,Rit,mG],[2,0,0]],V5=[3,H,yG,0,[Man,Kan],[2,0],1],plt=[-3,H,Xan,{[Kn]:er},[gr],[0]];je.for(H).registerError(plt,x5);Ege=[3,H,Qhe,0,[An,Fit,vit],[0,0,()=>qln]],AG=[3,H,Mit,0,[Xhe,Wot],[0,4]],Age=[3,H,Zhe,0,[An,O5,fd,D5,yp,gp,bG,nm],[0,()=>xG,()=>_p,0,()=>bp,()=>Ol,()=>VT,()=>wG],3],Rv=[3,H,FT,0,[O5,An,fd,Fit,mot,yp,$it,L5,mg,H5,cot,M5,nm,yG,jin,$in,Con,vit,Non,_it,Whe,tot,Mit,Ehe,gp,sm,Jot],[()=>xG,0,()=>_p,0,4,()=>Sge,1,1,0,0,()=>cge,()=>Hln,()=>Cln,()=>V5,0,0,0,()=>tut,()=>kln,()=>rlt,()=>vge,()=>Wit,()=>AG,2,()=>Ol,()=>xge,0]],flt=[-3,H,lcn,{[Kn]:er},[gr],[0]];je.for(H).registerError(flt,c5);mlt=[-3,H,mcn,{[Kn]:er},[gr],[0]];je.for(H).registerError(mlt,l5);xge=[3,H,Ncn,0,[Ghe,ige,Yhe],[1,1,0]],hlt=[3,H,Ocn,0,[rm,oge],[0,0],2],glt=[3,H,gcn,0,[$T,nge],[0,()=>Nge],2],ylt=[-3,H,ncn,{[hln]:["Throttling",400],[Kn]:er,[jit]:400},[gr,Sln],[0,()=>Oge]];je.for(H).registerError(ylt,e5);blt=[3,H,vcn,0,[yln,bln],[0,0]],wge=[3,H,ege,0,[xcn,cG],[0,0]],Tge=[3,H,tge,0,[Not,cG],[2,0],2],_lt=[3,H,rcn,0,[Lot],[()=>Iat],1],Slt=[3,H,ocn,0,[Bit,Nl],[()=>nun,0],1],vlt=[3,H,scn,0,[zc,hG],[()=>jT,()=>eut]],Elt=[-3,H,ecn,{[Kn]:er},[UT,mnn],[0,()=>xln]];je.for(H).registerError(Elt,N5);Alt=[-3,H,tcn,{[Kn]:er},[gr],[0]];je.for(H).registerError(Alt,p5);xlt=[-3,H,ccn,{[Kn]:er},[UT],[0]];je.for(H).registerError(xlt,_5);wlt=[3,H,wcn,0,[fot,lit,LT,_G],[()=>mst,()=>Cct,()=>Rst,()=>Clt]],Tlt=[3,H,Tcn,0,[Bit,Nl,$5,yot],[()=>run,0,0,[0,4]],1],Ilt=[3,H,Rcn,0,[zc,MT],[()=>jT,()=>cut]],Rlt=[3,H,nln,0,[$T,ucn],[0,64],2],Clt=[3,H,_G,0,[rm,zit,An,Iv,pd,dg,im],[()=>jc,0,0,0,128,()=>yg,0],3],Nlt=[3,H,Dcn,0,[An,eit],[0,()=>wct],2],Olt=[3,H,kcn,0,[She],[()=>dge]],Plt=[3,H,Mcn,0,[An,onn,Io,uG],[0,0,0,0],2],Dlt=[3,H,Bcn,0,[An,Io,vhe,uG],[0,0,0,0]],klt=[3,H,Ucn,0,[Io,yp,gp,sm],[0,()=>bp,()=>Ol,()=>zT],1],Llt=[3,H,Fcn,0,[pg,Vhe],[0,()=>tun],2],Mlt=[3,H,Hcn,0,[fG],[()=>vG]],Blt=[3,H,Vcn,0,[pg,Eon,Ion,Ton,Uot,bit],[0,0,1,()=>hg,()=>Pln,()=>Zln],1],Ult=[3,H,zcn,0,[pg,yit],[0,()=>out]],$lt=[3,H,qcn,0,[An,rm,oot,Che,k5,zhe,Nl,$5,zit,Iv,pd,dg,im],[0,()=>jc,()=>iun,()=>Pge,0,0,0,0,0,0,128,()=>yg,0],2],Flt=[3,H,Wcn,0,[hhe,zc,MT],[()=>am,()=>gg,()=>G5]],Ige=[3,H,rge,0,[fhe],[0]],Hlt=[3,H,Qcn,0,[An,F5,rge],[0,0,()=>Ige],2],Glt=[3,H,Xcn,0,[An,F5,Ahe,rge],[0,0,0,()=>Ige]],Vlt=[3,H,tln,0,[qa,mG,Iy,Ty,nm,Lit],[0,0,()=>GT,()=>HT,()=>nut,0],1],zlt=[3,H,oln,0,[An,O5,D5,yp,Bot,yG,bG,Vhe,Xhe,Ehe,Jot,Lon,gp,sm],[0,()=>xG,0,()=>bp,()=>Oln,()=>V5,()=>VT,()=>eun,0,2,0,()=>Lln,()=>Ol,()=>zT],1],jlt=[3,H,iln,0,[FT],[()=>Rv]],qlt=[3,H,aln,0,[An,Bot,sit,Vhe],[0,()=>Rln,()=>hg,()=>Wln],1],Wlt=[3,H,cln,0,[Qhe],[()=>Ege]],Klt=[3,H,uln,0,[An,tge],[0,()=>Tge],2],Jlt=[3,H,dln,0,[tge],[()=>Tge]],zT=[3,H,sm,0,[Ghe,ige],[1,1]],Ylt=[3,H,pln,0,[nit,vot],[()=>Pct,()=>Bst]],Qlt="unit",Xlt=[-3,qit,"DynamoDBServiceException",0,[],[]];je.for(qit).registerError(Xlt,En);xG=[1,H,O5,0,()=>Kit],Zlt=[1,H,mhe,0,()=>md],Eln=[1,H,ftn,0,()=>Yit],Aln=[1,H,dot,0,()=>nst],xln=[1,H,dnn,0,()=>pst],jT=[1,H,Xtn,0,()=>gg],wln=[1,H,hot,0,()=>gst],Tln=[1,H,Cot,0,()=>hat],Iln=[1,H,Iot,0,()=>Aat],Rln=[1,H,uon,0,()=>Dat],Cln=[1,H,pon,0,()=>kat],Nln=[1,H,nm,0,()=>Lat],wG=[1,H,mon,0,()=>Pat],Oln=[1,H,gon,0,()=>Mat],Pln=[1,H,Aon,0,()=>$at],Dln=[1,H,xon,0,()=>Bat],kln=[1,H,Pon,0,()=>Hat],Lln=[1,H,kon,0,()=>Gat],Mln=[1,H,Got,0,()=>qat],Bln=[1,H,Hon,0,()=>G5],TG=[1,H,Kon,0,()=>am],eut=[1,H,Zon,0,()=>tct],Uln=[1,H,lin,0,()=>jc],_p=[1,H,fd,0,()=>rct],$ln=[1,H,jot,0,()=>oct],Fln=[1,H,gin,0,()=>md],Hln=[1,H,Hin,0,()=>vct],Gln=[1,H,M5,0,()=>Ect],Rge=[1,H,Vin,0,()=>Sct],Vln=[1,H,Rsn,0,()=>Act],zln=[1,H,ysn,0,()=>cst],jln=[1,H,bsn,0,()=>lst],Cge=[1,H,Tsn,0,()=>md],qln=[1,H,$sn,0,()=>$ct],Wln=[1,H,Hsn,0,()=>Fct],tut=[1,H,zsn,0,()=>Hct],Kln=[1,H,Wsn,0,()=>Vct],Jln=[1,H,Jsn,0,()=>zct],Yln=[1,H,Qsn,0,()=>jct],nut=[1,H,Xsn,0,()=>Gct],Qln=[1,H,tan,0,()=>qct],Xln=[1,H,nan,0,()=>Wct],rut=[1,H,lan,0,()=>Bct],out=[1,H,ban,0,()=>Jct],Zln=[1,H,van,0,()=>Yct],eun=[1,H,ian,0,()=>Xct],tun=[1,H,Nan,0,()=>Zct],Nge=[1,H,dcn,0,()=>hlt],Oge=[1,H,ycn,0,()=>blt],nun=[1,H,icn,0,()=>_lt],run=[1,H,Icn,0,()=>wlt],oun=[1,H,fln,0,()=>Ylt],am=[2,H,ctn,0,0,()=>md],iun=[2,H,oot,0,0,()=>Jit],iut=[2,H,Otn,0,0,()=>nct],sun=[2,H,Ntn,0,0,()=>TG],sut=[2,H,ztn,0,0,()=>oun],Pge=[2,H,Irn,0,0,()=>Sat],yg=[2,H,Rrn,0,0,()=>md],aut=[2,H,non,0,0,()=>uge],aun=[2,H,Fon,0,0,()=>md],cut=[2,H,Gon,0,0,()=>Bln],jc=[2,H,rm,0,0,()=>md],cun=[2,H,zot,0,0,()=>uge],lun=[2,H,esn,0,0,()=>md],Dge=[2,H,dsn,0,0,()=>md],eot=[2,H,Fan,0,0,()=>lge],md=[4,H,Stn,0,[Jan,rsn,jtn,qan,ssn,$tn,nsn,Zin,asn,ktn],[0,0,21,64,64,85,()=>lun,()=>Fln,2,2]],kge=[9,H,xtn,0,()=>rst,()=>ost],Lge=[9,H,Itn,0,()=>ist,()=>sst],Mge=[9,H,Htn,0,()=>ust,()=>dst],Bge=[9,H,qtn,0,()=>yst,()=>bst],Uge=[9,H,enn,0,()=>Sst,()=>vst],$ge=[9,H,ynn,0,()=>wst,()=>Tst],Fge=[9,H,Enn,0,()=>Cst,()=>Nst],Hge=[9,H,Knn,0,()=>Dst,()=>kst],Gge=[9,H,urn,0,()=>Ust,()=>$st],Vge=[9,H,mrn,0,()=>Fst,()=>Hst],zge=[9,H,Inn,0,()=>Gst,()=>Vst],jge=[9,H,Rnn,0,()=>zst,()=>jst],qge=[9,H,Onn,0,()=>qst,()=>Wst],Wge=[9,H,knn,0,()=>Kst,()=>Jst],Kge=[9,H,$nn,0,()=>Yst,()=>Qst],Jge=[9,H,Hnn,0,()=>Xst,()=>Zst],Yge=[9,H,znn,0,()=>eat,()=>tat],Qge=[9,H,ern,0,()=>nat,()=>rat],Xge=[9,H,trn,0,()=>oat,()=>iat],Zge=[9,H,irn,0,()=>sat,()=>aat],e0e=[9,H,wrn,0,()=>cat,()=>lat],t0e=[9,H,_rn,0,()=>uat,()=>dat],n0e=[9,H,Ern,0,()=>pat,()=>fat],r0e=[9,H,orn,0,()=>bge,()=>_ge],o0e=[9,H,krn,0,()=>bge,()=>_ge],i0e=[9,H,jrn,0,()=>gat,()=>yat],s0e=[9,H,Xrn,0,()=>bat,()=>_at],a0e=[9,H,Jrn,0,()=>xat,()=>wat],c0e=[9,H,ron,0,()=>Rat,()=>Cat],l0e=[9,H,son,0,()=>Nat,()=>Oat],u0e=[9,H,rin,0,()=>Wat,()=>Kat],d0e=[9,H,yin,0,()=>sct,()=>act],p0e=[9,H,Sin,0,()=>cct,()=>lct],f0e=[9,H,xin,0,()=>uct,()=>dct],m0e=[9,H,Oin,0,()=>pct,()=>fct],h0e=[9,H,kin,0,()=>mct,()=>hct],g0e=[9,H,qin,0,()=>gct,()=>yct],y0e=[9,H,Jin,0,()=>bct,()=>_ct],b0e=[9,H,csn,0,()=>Nct,()=>Oct],_0e=[9,H,vsn,0,()=>Dct,()=>kct],S0e=[9,H,Dsn,0,()=>Lct,()=>Mct],v0e=[9,H,Aan,0,()=>olt,()=>ilt],E0e=[9,H,Tan,0,()=>slt,()=>alt],A0e=[9,H,Yan,0,()=>clt,()=>llt],x0e=[9,H,Scn,0,()=>glt,()=>Qlt],w0e=[9,H,acn,0,()=>Slt,()=>vlt],T0e=[9,H,Ccn,0,()=>Tlt,()=>Ilt],I0e=[9,H,eln,0,()=>Rlt,()=>Qlt],R0e=[9,H,Pcn,0,()=>Nlt,()=>Olt],C0e=[9,H,Lcn,0,()=>Plt,()=>Dlt],N0e=[9,H,$cn,0,()=>Llt,()=>Mlt],O0e=[9,H,Gcn,0,()=>Blt,()=>Ult],P0e=[9,H,Kcn,0,()=>$lt,()=>Flt],D0e=[9,H,Ycn,0,()=>Hlt,()=>Glt],k0e=[9,H,rln,0,()=>zlt,()=>jlt],L0e=[9,H,sln,0,()=>qlt,()=>Wlt],M0e=[9,H,lln,0,()=>Klt,()=>Jlt]});var Cv,IG=b(()=>{"use strict";We();Ie();$t();Ft();Cv=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(Wge).build(){}});var uut,lut=b(()=>{uut={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/dynamodb-codec":"^3.972.5","@aws-sdk/middleware-endpoint-discovery":"^3.972.3","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var RG,dut,B0e,U0e,put=b(()=>{"use strict";km();Er();Ie();Ks();RG=class extends E0{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new B0e(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new U0e(this.settings);return e.setSerdeContext(this.serdeContext),e}},dut="com.amazonaws.dynamodb#AttributeValue",B0e=class extends q2{_write(e,n,r){let o=on.of(e);if(o.isStructSchema()&&o.getName(!0)===dut&&n&&typeof n=="object"){let i=n,s=sC(i),a=this.serdeContext?.base64Encoder??Qr;if(i.B instanceof Uint8Array&&(s.B=a(i.B)),Array.isArray(i.BS)&&(s.BS=i.BS.map(a)),Array.isArray(i.L)&&(s.L=i.L.filter(c=>c!=null).map(c=>this._write(o,c,r))),i.M&&typeof i.M=="object"){s.M={};for(let[c,l]of Object.entries(i.M))l!=null&&(s.M[c]=this._write(o,l,r))}return s}return super._write(o,n,r)}},U0e=class extends j2{_read(e,n){let r=on.of(e);if(r.isStructSchema()&&r.getName(!0)===dut&&n&&typeof n=="object"){let o=n,i=sC(o),s=this.serdeContext?.base64Decoder??Oo;if(typeof o.B=="string"&&(i.B=s(o.B)),Array.isArray(o.BS)&&(i.BS=o.BS.map(s)),Array.isArray(o.L)&&(i.L=o.L.map(a=>this._read(r,a))),o.M&&typeof o.M=="object"){i.M={};for(let[a,c]of Object.entries(o.M))i.M[a]=this._read(r,c)}return i}return super._read(r,n)}}});var fut=b(()=>{"use strict";put()});var H0e,rn,si,Or,Ht,CG,cm,lm,Lut,ai,ga,mut,qc,Ui,G0e,z5,hut,gut,dun,yut,Mut,but,_ut,qT,Sut,But,vut,bg,Eut,Aut,$0e,j5,xut,wut,F0e,Tut,Iut,Rut,Cut,Nut,Out,Put,Dut,kut,pun,Uut,$ut=b(()=>{"use strict";H0e="required",rn="type",si="rules",Or="conditions",Ht="argv",CG="assign",cm="properties",lm="headers",Lut="metricValues",ai="error",ga="stringEquals",mut="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",qc="endpoint",Ui="tree",G0e="dynamodb",z5={[H0e]:!1,[rn]:"string"},hut={[H0e]:!0,default:!1,[rn]:"boolean"},gut={fn:"isSet",[Ht]:[{ref:"Endpoint"}]},dun={ref:"Endpoint"},yut={fn:"isSet",[Ht]:[{ref:"Region"}]},Mut={ref:"Region"},but={fn:"aws.partition",[Ht]:[Mut],[CG]:"PartitionResult"},_ut={[Or]:[{fn:"booleanEquals",[Ht]:[{ref:"UseFIPS"},!0]}],[ai]:"Invalid Configuration: FIPS and custom endpoint are not supported",[rn]:ai},qT={fn:"booleanEquals",[Ht]:[{ref:"UseFIPS"},!0]},Sut={[Or]:[{fn:"booleanEquals",[Ht]:[{ref:"UseDualStack"},!0]}],[ai]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[rn]:ai},But={fn:"booleanEquals",[Ht]:[{ref:"UseDualStack"},!0]},vut={[qc]:{url:"{Endpoint}",[cm]:{},[lm]:{}},[rn]:qc},bg={},Eut={fn:"booleanEquals",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"PartitionResult"},"supportsFIPS"]},!0]},Aut={fn:"booleanEquals",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"PartitionResult"},"supportsDualStack"]},!0]},$0e={[Or]:[{fn:"isSet",[Ht]:[{ref:"AccountIdEndpointMode"}]},{fn:ga,[Ht]:[{ref:"AccountIdEndpointMode"},"required"]}],[si]:[{[ai]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[rn]:ai}],[rn]:Ui},j5={fn:"getAttr",[Ht]:[{ref:"PartitionResult"},"name"]},xut={[qc]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[cm]:{},[lm]:{}},[rn]:qc},wut={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[cm]:{[Lut]:["O"]},[lm]:{}},F0e={[Lut]:["O"]},Tut={[ai]:"Credentials-sourced account ID parameter is invalid",[rn]:ai},Iut={[Or]:[{fn:"isSet",[Ht]:[{ref:"AccountIdEndpointMode"}]},{fn:ga,[Ht]:[{ref:"AccountIdEndpointMode"},"required"]}],[si]:[{[Or]:[{fn:"not",[Ht]:[qT]}],[si]:[{[Or]:[{fn:ga,[Ht]:[j5,"aws"]}],[si]:[{[ai]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[rn]:ai}],[rn]:Ui},{[ai]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[rn]:ai}],[rn]:Ui},{[ai]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[rn]:ai}],[rn]:Ui},Rut={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[cm]:F0e,[lm]:{}},Cut=[qT],Nut=[But],Out=[{fn:"isSet",[Ht]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Ht]:[{fn:ga,[Ht]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:ga,[Ht]:[j5,"aws"]},{fn:"not",[Ht]:[qT]},{fn:"isSet",[Ht]:[{ref:"ResourceArn"}]},{fn:"aws.parseArn",[Ht]:[{ref:"ResourceArn"}],[CG]:"ParsedArn"},{fn:ga,[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"service"]},G0e]},{fn:"isValidHostLabel",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"region"]},!1]},{fn:ga,[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"accountId"]},!1]}],Put=[{fn:"isSet",[Ht]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Ht]:[{fn:ga,[Ht]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:ga,[Ht]:[j5,"aws"]},{fn:"not",[Ht]:[qT]},{fn:"isSet",[Ht]:[{ref:"ResourceArnList"}]},{fn:"getAttr",[Ht]:[{ref:"ResourceArnList"},"[0]"],[CG]:"FirstArn"},{fn:"aws.parseArn",[Ht]:[{ref:"FirstArn"}],[CG]:"ParsedArn"},{fn:ga,[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"service"]},G0e]},{fn:"isValidHostLabel",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"region"]},!1]},{fn:ga,[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[Ht]:[{fn:"getAttr",[Ht]:[{ref:"ParsedArn"},"accountId"]},!1]}],Dut=[{fn:"isSet",[Ht]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Ht]:[{fn:ga,[Ht]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:ga,[Ht]:[j5,"aws"]},{fn:"not",[Ht]:[qT]},{fn:"isSet",[Ht]:[{ref:"AccountId"}]}],kut=[{fn:"isValidHostLabel",[Ht]:[{ref:"AccountId"},!1]}],pun={version:"1.0",parameters:{Region:z5,UseDualStack:hut,UseFIPS:hut,Endpoint:z5,AccountId:z5,AccountIdEndpointMode:z5,ResourceArn:z5,ResourceArnList:{[H0e]:!1,[rn]:"stringArray"}},[si]:[{[Or]:[gut,yut,but],[si]:[_ut,Sut,{[Or]:[{fn:ga,[Ht]:[dun,mut]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[rn]:ai},vut],[rn]:Ui},{[Or]:[gut],[si]:[_ut,Sut,vut],[rn]:Ui},{[Or]:[yut],[si]:[{[Or]:[but],[si]:[{[Or]:[{fn:ga,[Ht]:[Mut,"local"]}],[si]:[{[Or]:Cut,error:"Invalid Configuration: FIPS and local endpoint are not supported",[rn]:ai},{[Or]:Nut,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[rn]:ai},{endpoint:{url:"http://localhost:8000",[cm]:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:G0e}]},[lm]:bg},[rn]:qc}],[rn]:Ui},{[Or]:[qT,But],[si]:[{[Or]:[Eut,Aut],[si]:[$0e,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[cm]:bg,[lm]:bg},[rn]:qc}],[rn]:Ui},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[rn]:ai}],[rn]:Ui},{[Or]:Cut,[si]:[{[Or]:[Eut],[si]:[{[Or]:[{fn:ga,[Ht]:[j5,"aws-us-gov"]}],[si]:[$0e,xut],[rn]:Ui},$0e,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[cm]:bg,[lm]:bg},[rn]:qc}],[rn]:Ui},{error:"FIPS is enabled but this partition does not support FIPS",[rn]:ai}],[rn]:Ui},{[Or]:Nut,[si]:[{[Or]:[Aut],[si]:[{[Or]:Out,endpoint:wut,[rn]:qc},{[Or]:Put,endpoint:wut,[rn]:qc},{[Or]:Dut,[si]:[{[Or]:kut,[si]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[cm]:F0e,[lm]:bg},[rn]:qc}],[rn]:Ui},Tut],[rn]:Ui},Iut,{endpoint:{url:mut,[cm]:bg,[lm]:bg},[rn]:qc}],[rn]:Ui},{error:"DualStack is enabled but this partition does not support DualStack",[rn]:ai}],[rn]:Ui},{[Or]:Out,endpoint:Rut,[rn]:qc},{[Or]:Put,endpoint:Rut,[rn]:qc},{[Or]:Dut,[si]:[{[Or]:kut,[si]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[cm]:F0e,[lm]:bg},[rn]:qc}],[rn]:Ui},Tut],[rn]:Ui},Iut,xut],[rn]:Ui}],[rn]:Ui},{error:"Invalid Configuration: Missing Region",[rn]:ai}]},Uut=pun});var fun,Fut,Hut=b(()=>{"use strict";b0();Bd();$ut();fun=new mc({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),Fut=(t,e={})=>fun.get(t,()=>ru(Uut,{endpointParams:t,logger:e.logger}));bs.aws=il});var Gut,Vut=b(()=>{"use strict";wi();km();fut();Ie();Dm();Ks();ti();dhe();Hut();Gut=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??Oo,base64Encoder:t?.base64Encoder??Qr,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Fut,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Qrt,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ss}],logger:t?.logger??new Qs,protocol:t?.protocol??Yk,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new RG},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??ts,utf8Decoder:t?.utf8Decoder??io,utf8Encoder:t?.utf8Encoder??Yr})});var zut,jut=b(()=>{"use strict";lut();wi();ohe();gte();uhe();qb();Ca();Wb();al();Su();Im();Ie();Kb();Jb();Mm();Vut();zut=t=>{du(process.version);let e=Cu(t),n=()=>e().then(uu),r=Gut(t);ou(process.version);let o={profile:t?.profile,logger:r.logger};return{...r,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??Dt(Trt,o),authSchemePreference:t?.authSchemePreference??Dt(iu,o),bodyLengthChecker:t?.bodyLengthChecker??Ru,credentialDefaultProvider:t?.credentialDefaultProvider??g7,defaultUserAgentProvider:t?.defaultUserAgentProvider??Tu({serviceId:r.serviceId,clientVersion:uut.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??Dt(Nrt,o),maxAttempts:t?.maxAttempts??Dt(Eu,t),region:t?.region??Dt(Xs,{...gc,...o}),requestHandler:Js.create(t?.requestHandler??n),retryMode:t?.retryMode??Dt({...xu,default:async()=>(await n()).retryMode||_c},t),sha256:t?.sha256??Sc.bind(null,"sha256"),streamCollector:t?.streamCollector??lc,useDualstackEndpoint:t?.useDualstackEndpoint??Dt(gu,o),useFipsEndpoint:t?.useFipsEndpoint??Dt(yu,o),userAgentAppId:t?.userAgentAppId??Dt(Iu,o)}}});var qut,Wut,Kut=b(()=>{"use strict";qut=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},Wut=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Jut,Yut=b(()=>{"use strict";O0();go();Ie();Kut();Jut=(t,e)=>{let n=Object.assign(Pu(t),pu(t),Vl(t),qut(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Du(n),fu(n),zl(n),Wut(n))}});var Qi,_g=b(()=>{"use strict";ohe();uhe();Nb();Ob();Pb();w0();Ca();Xr();Er();Vb();We();al();Ie();dhe();IG();$t();jut();Yut();Qi=class extends Fi{config;constructor(...[e]){let n=zut(e||{});super(n),this.initConfig=n;let r=Zrt(n),o=Ert(r),i=eu(o),s=Au(i),a=bu(s),c=a,l=vu(c),u=Xrt(l),d=Krt(u,{endpointDiscoveryCommandCtor:Cv}),p=Jut(d,e?.extensions||[]);this.config=p,this.middlewareStack.use(Ql(this.config)),this.middlewareStack.use(hu(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(_u(this.config)),this.middlewareStack.use(ql(this.config)),this.middlewareStack.use(Wl(this.config)),this.middlewareStack.use(Kl(this.config)),this.middlewareStack.use(Jl(this.config,{httpAuthSchemeParametersProvider:Yrt,identityProviderConfigProvider:async f=>new fc({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Yl(this.config))}destroy(){super.destroy()}}});var q5,V0e=b(()=>{"use strict";We();Ie();$t();Ft();q5=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(kge).build(){}});var W5,z0e=b(()=>{"use strict";We();Ie();$t();Ft();W5=class extends ae.classBuilder().ep({...ke,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(Lge).build(){}});var K5,j0e=b(()=>{"use strict";We();Ie();$t();Ft();K5=class extends ae.classBuilder().ep({...ke,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(Mge).build(){}});var J5,q0e=b(()=>{"use strict";We();Ie();$t();Ft();J5=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(Bge).build(){}});var Y5,W0e=b(()=>{"use strict";We();Ie();$t();Ft();Y5=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(Uge).build(){}});var Q5,K0e=b(()=>{"use strict";We();Ie();$t();Ft();Q5=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc($ge).build(){}});var X5,J0e=b(()=>{"use strict";We();Ie();$t();Ft();X5=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(Fge).build(){}});var Z5,Y0e=b(()=>{"use strict";We();Ie();$t();Ft();Z5=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(Hge).build(){}});var e8,Q0e=b(()=>{"use strict";We();Ie();$t();Ft();e8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(Gge).build(){}});var t8,X0e=b(()=>{"use strict";We();Ie();$t();Ft();t8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(Vge).build(){}});var n8,Z0e=b(()=>{"use strict";We();Ie();$t();Ft();n8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(zge).build(){}});var r8,e1e=b(()=>{"use strict";We();Ie();$t();Ft();r8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(jge).build(){}});var Nv,NG=b(()=>{"use strict";We();Ie();$t();Ft();Nv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(qge).build(){}});var Ov,OG=b(()=>{"use strict";We();Ie();$t();Ft();Ov=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(Kge).build(){}});var o8,t1e=b(()=>{"use strict";We();Ie();$t();Ft();o8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(Jge).build(){}});var i8,n1e=b(()=>{"use strict";We();Ie();$t();Ft();i8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(Yge).build(){}});var Pv,PG=b(()=>{"use strict";We();Ie();$t();Ft();Pv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(Qge).build(){}});var Dv,DG=b(()=>{"use strict";We();Ie();$t();Ft();Dv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(Xge).build(){}});var s8,r1e=b(()=>{"use strict";We();Ie();$t();Ft();s8=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(Zge).build(){}});var Sg,a8=b(()=>{"use strict";We();Ie();$t();Ft();Sg=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(e0e).build(){}});var c8,o1e=b(()=>{"use strict";We();Ie();$t();Ft();c8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(t0e).build(){}});var l8,i1e=b(()=>{"use strict";We();Ie();$t();Ft();l8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(n0e).build(){}});var u8,s1e=b(()=>{"use strict";We();Ie();$t();Ft();u8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(r0e).build(){}});var d8,a1e=b(()=>{"use strict";We();Ie();$t();Ft();d8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(o0e).build(){}});var p8,c1e=b(()=>{"use strict";We();Ie();$t();Ft();p8=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(i0e).build(){}});var f8,l1e=b(()=>{"use strict";We();Ie();$t();Ft();f8=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(s0e).build(){}});var m8,u1e=b(()=>{"use strict";We();Ie();$t();Ft();m8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(a0e).build(){}});var kv,d1e=b(()=>{"use strict";We();Ie();$t();Ft();kv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(c0e).build(){}});var h8,p1e=b(()=>{"use strict";We();Ie();$t();Ft();h8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(l0e).build(){}});var g8,f1e=b(()=>{"use strict";We();Ie();$t();Ft();g8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"operationContextParams",get:e=>e?.TableCreationParameters?.TableName}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(u0e).build(){}});var y8,m1e=b(()=>{"use strict";We();Ie();$t();Ft();y8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(d0e).build(){}});var Lv,kG=b(()=>{"use strict";We();Ie();$t();Ft();Lv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(p0e).build(){}});var Mv,LG=b(()=>{"use strict";We();Ie();$t();Ft();Mv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(f0e).build(){}});var b8,h1e=b(()=>{"use strict";We();Ie();$t();Ft();b8=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(m0e).build(){}});var Bv,MG=b(()=>{"use strict";We();Ie();$t();Ft();Bv=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(h0e).build(){}});var Uv,BG=b(()=>{"use strict";We();Ie();$t();Ft();Uv=class extends ae.classBuilder().ep(ke).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(g0e).build(){}});var _8,g1e=b(()=>{"use strict";We();Ie();$t();Ft();_8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(y0e).build(){}});var Ny,y1e=b(()=>{"use strict";We();Ie();$t();Ft();Ny=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(b0e).build(){}});var S8,b1e=b(()=>{"use strict";We();Ie();$t();Ft();S8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(_0e).build(){}});var Oy,UG=b(()=>{"use strict";We();Ie();$t();Ft();Oy=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(S0e).build(){}});var v8,_1e=b(()=>{"use strict";We();Ie();$t();Ft();v8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(v0e).build(){}});var E8,S1e=b(()=>{"use strict";We();Ie();$t();Ft();E8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(E0e).build(){}});var Py,$G=b(()=>{"use strict";We();Ie();$t();Ft();Py=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(A0e).build(){}});var A8,v1e=b(()=>{"use strict";We();Ie();$t();Ft();A8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(x0e).build(){}});var x8,E1e=b(()=>{"use strict";We();Ie();$t();Ft();x8=class extends ae.classBuilder().ep({...ke,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(n=>n?.Get?.TableName)}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(w0e).build(){}});var w8,A1e=b(()=>{"use strict";We();Ie();$t();Ft();w8=class extends ae.classBuilder().ep({...ke,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(n=>[n?.ConditionCheck?.TableName,n?.Put?.TableName,n?.Delete?.TableName,n?.Update?.TableName].filter(r=>r)).flat()}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(T0e).build(){}});var T8,x1e=b(()=>{"use strict";We();Ie();$t();Ft();T8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(I0e).build(){}});var I8,w1e=b(()=>{"use strict";We();Ie();$t();Ft();I8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(R0e).build(){}});var R8,T1e=b(()=>{"use strict";We();Ie();$t();Ft();R8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(C0e).build(){}});var C8,I1e=b(()=>{"use strict";We();Ie();$t();Ft();C8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(N0e).build(){}});var N8,R1e=b(()=>{"use strict";We();Ie();$t();Ft();N8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(O0e).build(){}});var O8,C1e=b(()=>{"use strict";We();Ie();$t();Ft();O8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(P0e).build(){}});var P8,N1e=b(()=>{"use strict";We();Ie();$t();Ft();P8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(D0e).build(){}});var D8,O1e=b(()=>{"use strict";We();Ie();$t();Ft();D8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(k0e).build(){}});var k8,P1e=b(()=>{"use strict";We();Ie();$t();Ft();k8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(L0e).build(){}});var L8,D1e=b(()=>{"use strict";We();Ie();$t();Ft();L8=class extends ae.classBuilder().ep({...ke,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,n,r,o){return[le(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(M0e).build(){}});var k1e,L1e=b(()=>{"use strict";Xr();kG();_g();k1e=No(Qi,Lv,"NextToken","NextToken","MaxResults")});var M1e,B1e=b(()=>{"use strict";Xr();LG();_g();M1e=No(Qi,Mv,"NextToken","NextToken","MaxResults")});var U1e,$1e=b(()=>{"use strict";Xr();MG();_g();U1e=No(Qi,Bv,"NextToken","NextToken","PageSize")});var F1e,H1e=b(()=>{"use strict";Xr();BG();_g();F1e=No(Qi,Uv,"ExclusiveStartTableName","LastEvaluatedTableName","Limit")});var G1e,V1e=b(()=>{"use strict";Xr();UG();_g();G1e=No(Qi,Oy,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var z1e,j1e=b(()=>{"use strict";Xr();$G();_g();z1e=No(Qi,Py,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var WT,q1e=b(()=>{"use strict";WT=()=>{let t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular]";t.add(n)}return n}}});var Qut,W1e=b(()=>{"use strict";Qut=t=>new Promise(e=>setTimeout(e,t*1e3))});var Xut,zn,hd,FG=b(()=>{"use strict";q1e();Xut={minDelay:2,maxDelay:120};(function(t){t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT"})(zn||(zn={}));hd=t=>{if(t.state===zn.ABORTED){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"},WT())}`);throw e.name="AbortError",e}else if(t.state===zn.TIMEOUT){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"},WT())}`);throw e.name="TimeoutError",e}else if(t.state!==zn.SUCCESS)throw new Error(`${JSON.stringify(t,WT())}`);return t}});var mun,hun,edt,Zut,tdt=b(()=>{"use strict";q1e();W1e();FG();mun=(t,e,n,r)=>{if(r>n)return e;let o=t*2**(r-1);return hun(t,o)},hun=(t,e)=>t+Math.random()*(e-t),edt=async({minDelay:t,maxDelay:e,maxWaitTime:n,abortController:r,client:o,abortSignal:i},s,a)=>{let c={},{state:l,reason:u}=await a(o,s);if(u){let h=Zut(u);c[h]|=0,c[h]+=1}if(l!==zn.RETRY)return{state:l,reason:u,observedResponses:c};let d=1,p=Date.now()+n*1e3,f=Math.log(e/t)/Math.log(2)+1;for(;;){if(r?.signal?.aborted||i?.aborted){let y="AbortController signal aborted.";return c[y]|=0,c[y]+=1,{state:zn.ABORTED,observedResponses:c}}let h=mun(t,e,f,d);if(Date.now()+h*1e3>p)return{state:zn.TIMEOUT,observedResponses:c};await Qut(h);let{state:m,reason:g}=await a(o,s);if(g){let y=Zut(g);c[y]|=0,c[y]+=1}if(m!==zn.RETRY)return{state:m,reason:g,observedResponses:c};d+=1}},Zut=t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t,WT())??"Unknown")});var ndt,rdt=b(()=>{"use strict";ndt=t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)}});var odt=b(()=>{"use strict";W1e();rdt()});var idt,fs,sdt=b(()=>{"use strict";tdt();odt();FG();idt=t=>{let e,n=new Promise(r=>{e=()=>r({state:zn.ABORTED}),typeof t.addEventListener=="function"?t.addEventListener("abort",e):t.onabort=e});return{clearListener(){typeof t.removeEventListener=="function"&&t.removeEventListener("abort",e)},aborted:n}},fs=async(t,e,n)=>{let r={...Xut,...t};ndt(r);let o=[edt(r,e,n)],i=[];if(t.abortSignal){let{aborted:s,clearListener:a}=idt(t.abortSignal);i.push(a),o.push(s)}if(t.abortController?.signal){let{aborted:s,clearListener:a}=idt(t.abortController.signal);i.push(a),o.push(s)}return Promise.race(o).then(s=>{for(let a of i)a();return s})}});var $v=b(()=>{"use strict";sdt();FG()});var adt,gun,K1e,J1e=b(()=>{"use strict";$v();NG();adt=async(t,e)=>{let n;try{let r=await t.send(new Nv(e));n=r;try{if(r.ContributorInsightsStatus==="ENABLED")return{state:zn.SUCCESS,reason:n}}catch{}try{if(r.ContributorInsightsStatus==="FAILED")return{state:zn.FAILURE,reason:n}}catch{}}catch(r){n=r}return{state:zn.RETRY,reason:n}},gun=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,adt),K1e=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,adt);return hd(r)}});var cdt,yun,Y1e,Q1e=b(()=>{"use strict";$v();OG();cdt=async(t,e)=>{let n;try{let r=await t.send(new Ov(e));n=r;try{if(r.ExportDescription.ExportStatus==="COMPLETED")return{state:zn.SUCCESS,reason:n}}catch{}try{if(r.ExportDescription.ExportStatus==="FAILED")return{state:zn.FAILURE,reason:n}}catch{}}catch(r){n=r}return{state:zn.RETRY,reason:n}},yun=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,cdt),Y1e=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,cdt);return hd(r)}});var ldt,bun,X1e,Z1e=b(()=>{"use strict";$v();PG();ldt=async(t,e)=>{let n;try{let r=await t.send(new Pv(e));n=r;try{if(r.ImportTableDescription.ImportStatus==="COMPLETED")return{state:zn.SUCCESS,reason:n}}catch{}try{if(r.ImportTableDescription.ImportStatus==="FAILED")return{state:zn.FAILURE,reason:n}}catch{}try{if(r.ImportTableDescription.ImportStatus==="CANCELLED")return{state:zn.FAILURE,reason:n}}catch{}}catch(r){n=r}return{state:zn.RETRY,reason:n}},bun=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,ldt),X1e=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,ldt);return hd(r)}});var udt,_un,eye,tye=b(()=>{"use strict";$v();DG();udt=async(t,e)=>{let n;try{let r=await t.send(new Dv(e));n=r;try{let o=()=>[].concat(...r.KinesisDataStreamDestinations).map(a=>a.DestinationStatus);for(let i of o())if(i=="ACTIVE")return{state:zn.SUCCESS,reason:n}}catch{}try{if((()=>{let i=r.KinesisDataStreamDestinations.filter(s=>(s.DestinationStatus=="DISABLED"||s.DestinationStatus=="ENABLE_FAILED")&&(s.DestinationStatus=="ENABLE_FAILED"||s.DestinationStatus=="DISABLED"));return r.KinesisDataStreamDestinations.length>0&&i.length==r.KinesisDataStreamDestinations.length})()==!0)return{state:zn.FAILURE,reason:n}}catch{}}catch(r){n=r}return{state:zn.RETRY,reason:n}},_un=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,udt),eye=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,udt);return hd(r)}});var ddt,Sun,nye,rye=b(()=>{"use strict";$v();a8();ddt=async(t,e)=>{let n;try{let r=await t.send(new Sg(e));n=r;try{if(r.Table.TableStatus==="ACTIVE")return{state:zn.SUCCESS,reason:n}}catch{}}catch(r){if(n=r,r.name&&r.name=="ResourceNotFoundException")return{state:zn.RETRY,reason:n}}return{state:zn.RETRY,reason:n}},Sun=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,ddt),nye=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,ddt);return hd(r)}});var pdt,vun,oye,iye=b(()=>{"use strict";$v();a8();pdt=async(t,e)=>{let n;try{n=await t.send(new Sg(e))}catch(r){if(n=r,r.name&&r.name=="ResourceNotFoundException")return{state:zn.SUCCESS,reason:n}}return{state:zn.RETRY,reason:n}},vun=async(t,e)=>fs({...{minDelay:20,maxDelay:120},...t},e,pdt),oye=async(t,e)=>{let r=await fs({...{minDelay:20,maxDelay:120},...t},e,pdt);return hd(r)}});var Eun,Aun,xun,HG,fdt=b(()=>{"use strict";Ie();V0e();z0e();j0e();q0e();W0e();K0e();J0e();Y0e();Q0e();X0e();Z0e();e1e();NG();IG();OG();t1e();n1e();PG();DG();r1e();a8();o1e();i1e();s1e();a1e();c1e();l1e();u1e();d1e();p1e();f1e();m1e();kG();LG();h1e();MG();BG();g1e();y1e();b1e();UG();_1e();S1e();$G();v1e();E1e();A1e();x1e();w1e();T1e();I1e();R1e();C1e();N1e();O1e();P1e();D1e();_g();L1e();B1e();$1e();H1e();V1e();j1e();J1e();Q1e();Z1e();tye();rye();iye();Eun={BatchExecuteStatementCommand:q5,BatchGetItemCommand:W5,BatchWriteItemCommand:K5,CreateBackupCommand:J5,CreateGlobalTableCommand:Y5,CreateTableCommand:Q5,DeleteBackupCommand:X5,DeleteItemCommand:Z5,DeleteResourcePolicyCommand:e8,DeleteTableCommand:t8,DescribeBackupCommand:n8,DescribeContinuousBackupsCommand:r8,DescribeContributorInsightsCommand:Nv,DescribeEndpointsCommand:Cv,DescribeExportCommand:Ov,DescribeGlobalTableCommand:o8,DescribeGlobalTableSettingsCommand:i8,DescribeImportCommand:Pv,DescribeKinesisStreamingDestinationCommand:Dv,DescribeLimitsCommand:s8,DescribeTableCommand:Sg,DescribeTableReplicaAutoScalingCommand:c8,DescribeTimeToLiveCommand:l8,DisableKinesisStreamingDestinationCommand:u8,EnableKinesisStreamingDestinationCommand:d8,ExecuteStatementCommand:p8,ExecuteTransactionCommand:f8,ExportTableToPointInTimeCommand:m8,GetItemCommand:kv,GetResourcePolicyCommand:h8,ImportTableCommand:g8,ListBackupsCommand:y8,ListContributorInsightsCommand:Lv,ListExportsCommand:Mv,ListGlobalTablesCommand:b8,ListImportsCommand:Bv,ListTablesCommand:Uv,ListTagsOfResourceCommand:_8,PutItemCommand:Ny,PutResourcePolicyCommand:S8,QueryCommand:Oy,RestoreTableFromBackupCommand:v8,RestoreTableToPointInTimeCommand:E8,ScanCommand:Py,TagResourceCommand:A8,TransactGetItemsCommand:x8,TransactWriteItemsCommand:w8,UntagResourceCommand:T8,UpdateContinuousBackupsCommand:I8,UpdateContributorInsightsCommand:R8,UpdateGlobalTableCommand:C8,UpdateGlobalTableSettingsCommand:N8,UpdateItemCommand:O8,UpdateKinesisStreamingDestinationCommand:P8,UpdateTableCommand:D8,UpdateTableReplicaAutoScalingCommand:k8,UpdateTimeToLiveCommand:L8},Aun={paginateListContributorInsights:k1e,paginateListExports:M1e,paginateListImports:U1e,paginateListTables:F1e,paginateQuery:G1e,paginateScan:z1e},xun={waitUntilContributorInsightsEnabled:K1e,waitUntilExportCompleted:Y1e,waitUntilImportCompleted:X1e,waitUntilKinesisStreamingDestinationActive:eye,waitUntilTableExists:nye,waitUntilTableNotExists:oye},HG=class extends Qi{};lu(Eun,HG,{paginators:Aun,waiters:xun})});var mdt=b(()=>{"use strict";V0e();z0e();j0e();q0e();W0e();K0e();J0e();Y0e();Q0e();X0e();Z0e();e1e();NG();IG();OG();t1e();n1e();PG();DG();r1e();a8();o1e();i1e();s1e();a1e();c1e();l1e();u1e();d1e();p1e();f1e();m1e();kG();LG();h1e();MG();BG();g1e();y1e();b1e();UG();_1e();S1e();$G();v1e();E1e();A1e();x1e();w1e();T1e();I1e();R1e();C1e();N1e();O1e();P1e();D1e()});var hdt=b(()=>{"use strict"});var gdt=b(()=>{"use strict";hdt();L1e();B1e();$1e();H1e();V1e();j1e()});var ydt=b(()=>{"use strict";J1e();Q1e();Z1e();tye();rye();iye()});var wun,Tun,Iun,Run,Cun,Nun,Oun,Pun,Dun,kun,Lun,Mun,Uun,$un,Fun,Hun,Gun,Vun,zun,jun,qun,Wun,Kun,Jun,Yun,Qun,Xun,Zun,edn,tdn,ndn,rdn,odn,idn,sdn,adn,cdn,ldn,udn,ddn,pdn,fdn,bdt=b(()=>{"use strict";wun={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Tun={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Iun={B:"B",N:"N",S:"S"},Run={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Cun={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Nun={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},Oun={HASH:"HASH",RANGE:"RANGE"},Pun={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},Dun={AES256:"AES256",KMS:"KMS"},kun={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Lun={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},Mun={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Uun={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},$un={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Fun={ALL_OLD:"ALL_OLD",NONE:"NONE"},Hun={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Gun={NONE:"NONE",SIZE:"SIZE"},Vun={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},zun={AND:"AND",OR:"OR"},jun={DISABLED:"DISABLED",ENABLED:"ENABLED"},qun={DISABLED:"DISABLED",ENABLED:"ENABLED"},Wun={DISABLE:"DISABLE",ENABLE:"ENABLE"},Kun={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Jun={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Yun={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Qun={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Xun={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Zun={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},edn={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},tdn={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},ndn={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},rdn={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},odn={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},idn={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},sdn={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},adn={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},cdn={AES256:"AES256",KMS:"KMS"},ldn={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},udn={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},ddn={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},pdn={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},fdn={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"}});var _dt=b(()=>{"use strict"});var sye={};kn(sye,{$Command:()=>ae,ApproximateCreationDateTimePrecision:()=>wun,ArchivalSummary$:()=>Wit,AttributeAction:()=>Tun,AttributeDefinition$:()=>Kit,AttributeValue$:()=>md,AttributeValueUpdate$:()=>Jit,AutoScalingPolicyDescription$:()=>Yit,AutoScalingPolicyUpdate$:()=>Qit,AutoScalingSettingsDescription$:()=>ug,AutoScalingSettingsUpdate$:()=>hg,AutoScalingTargetTrackingScalingPolicyConfigurationDescription$:()=>Xit,AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$:()=>Zit,BackupDescription$:()=>sge,BackupDetails$:()=>age,BackupInUseException:()=>YO,BackupInUseException$:()=>est,BackupNotFoundException:()=>QO,BackupNotFoundException$:()=>tst,BackupStatus:()=>Run,BackupSummary$:()=>nst,BackupType:()=>Cun,BackupTypeFilter:()=>Uun,BatchExecuteStatement$:()=>kge,BatchExecuteStatementCommand:()=>q5,BatchExecuteStatementInput$:()=>rst,BatchExecuteStatementOutput$:()=>ost,BatchGetItem$:()=>Lge,BatchGetItemCommand:()=>W5,BatchGetItemInput$:()=>ist,BatchGetItemOutput$:()=>sst,BatchStatementError$:()=>ast,BatchStatementErrorCodeEnum:()=>Hun,BatchStatementRequest$:()=>cst,BatchStatementResponse$:()=>lst,BatchWriteItem$:()=>Mge,BatchWriteItemCommand:()=>K5,BatchWriteItemInput$:()=>ust,BatchWriteItemOutput$:()=>dst,BillingMode:()=>Nun,BillingModeSummary$:()=>cge,CancellationReason$:()=>pst,Capacity$:()=>lge,ComparisonOperator:()=>Vun,Condition$:()=>uge,ConditionCheck$:()=>mst,ConditionalCheckFailedException:()=>C5,ConditionalCheckFailedException$:()=>fst,ConditionalOperator:()=>zun,ConsumedCapacity$:()=>gg,ContinuousBackupsDescription$:()=>dge,ContinuousBackupsStatus:()=>jun,ContinuousBackupsUnavailableException:()=>s5,ContinuousBackupsUnavailableException$:()=>hst,ContributorInsightsAction:()=>Wun,ContributorInsightsMode:()=>Kun,ContributorInsightsStatus:()=>Jun,ContributorInsightsSummary$:()=>gst,CreateBackup$:()=>Bge,CreateBackupCommand:()=>J5,CreateBackupInput$:()=>yst,CreateBackupOutput$:()=>bst,CreateGlobalSecondaryIndexAction$:()=>_st,CreateGlobalTable$:()=>Uge,CreateGlobalTableCommand:()=>Y5,CreateGlobalTableInput$:()=>Sst,CreateGlobalTableOutput$:()=>vst,CreateGlobalTableWitnessGroupMemberAction$:()=>Est,CreateReplicaAction$:()=>Ast,CreateReplicationGroupMemberAction$:()=>xst,CreateTable$:()=>$ge,CreateTableCommand:()=>Q5,CreateTableInput$:()=>wst,CreateTableOutput$:()=>Tst,CsvOptions$:()=>Ist,Delete$:()=>Rst,DeleteBackup$:()=>Fge,DeleteBackupCommand:()=>X5,DeleteBackupInput$:()=>Cst,DeleteBackupOutput$:()=>Nst,DeleteGlobalSecondaryIndexAction$:()=>Ost,DeleteGlobalTableWitnessGroupMemberAction$:()=>Pst,DeleteItem$:()=>Hge,DeleteItemCommand:()=>Z5,DeleteItemInput$:()=>Dst,DeleteItemOutput$:()=>kst,DeleteReplicaAction$:()=>Lst,DeleteReplicationGroupMemberAction$:()=>Mst,DeleteRequest$:()=>Bst,DeleteResourcePolicy$:()=>Gge,DeleteResourcePolicyCommand:()=>e8,DeleteResourcePolicyInput$:()=>Ust,DeleteResourcePolicyOutput$:()=>$st,DeleteTable$:()=>Vge,DeleteTableCommand:()=>t8,DeleteTableInput$:()=>Fst,DeleteTableOutput$:()=>Hst,DescribeBackup$:()=>zge,DescribeBackupCommand:()=>n8,DescribeBackupInput$:()=>Gst,DescribeBackupOutput$:()=>Vst,DescribeContinuousBackups$:()=>jge,DescribeContinuousBackupsCommand:()=>r8,DescribeContinuousBackupsInput$:()=>zst,DescribeContinuousBackupsOutput$:()=>jst,DescribeContributorInsights$:()=>qge,DescribeContributorInsightsCommand:()=>Nv,DescribeContributorInsightsInput$:()=>qst,DescribeContributorInsightsOutput$:()=>Wst,DescribeEndpoints$:()=>Wge,DescribeEndpointsCommand:()=>Cv,DescribeEndpointsRequest$:()=>Kst,DescribeEndpointsResponse$:()=>Jst,DescribeExport$:()=>Kge,DescribeExportCommand:()=>Ov,DescribeExportInput$:()=>Yst,DescribeExportOutput$:()=>Qst,DescribeGlobalTable$:()=>Jge,DescribeGlobalTableCommand:()=>o8,DescribeGlobalTableInput$:()=>Xst,DescribeGlobalTableOutput$:()=>Zst,DescribeGlobalTableSettings$:()=>Yge,DescribeGlobalTableSettingsCommand:()=>i8,DescribeGlobalTableSettingsInput$:()=>eat,DescribeGlobalTableSettingsOutput$:()=>tat,DescribeImport$:()=>Qge,DescribeImportCommand:()=>Pv,DescribeImportInput$:()=>nat,DescribeImportOutput$:()=>rat,DescribeKinesisStreamingDestination$:()=>Xge,DescribeKinesisStreamingDestinationCommand:()=>Dv,DescribeKinesisStreamingDestinationInput$:()=>oat,DescribeKinesisStreamingDestinationOutput$:()=>iat,DescribeLimits$:()=>Zge,DescribeLimitsCommand:()=>s8,DescribeLimitsInput$:()=>sat,DescribeLimitsOutput$:()=>aat,DescribeTable$:()=>e0e,DescribeTableCommand:()=>Sg,DescribeTableInput$:()=>cat,DescribeTableOutput$:()=>lat,DescribeTableReplicaAutoScaling$:()=>t0e,DescribeTableReplicaAutoScalingCommand:()=>c8,DescribeTableReplicaAutoScalingInput$:()=>uat,DescribeTableReplicaAutoScalingOutput$:()=>dat,DescribeTimeToLive$:()=>n0e,DescribeTimeToLiveCommand:()=>l8,DescribeTimeToLiveInput$:()=>pat,DescribeTimeToLiveOutput$:()=>fat,DestinationStatus:()=>pdn,DisableKinesisStreamingDestination$:()=>r0e,DisableKinesisStreamingDestinationCommand:()=>u8,DuplicateItemException:()=>y5,DuplicateItemException$:()=>mat,DynamoDB:()=>HG,DynamoDBClient:()=>Qi,DynamoDBServiceException:()=>En,DynamoDBServiceException$:()=>Xlt,EnableKinesisStreamingConfiguration$:()=>pge,EnableKinesisStreamingDestination$:()=>o0e,EnableKinesisStreamingDestinationCommand:()=>d8,Endpoint$:()=>hat,ExecuteStatement$:()=>i0e,ExecuteStatementCommand:()=>p8,ExecuteStatementInput$:()=>gat,ExecuteStatementOutput$:()=>yat,ExecuteTransaction$:()=>s0e,ExecuteTransactionCommand:()=>f8,ExecuteTransactionInput$:()=>bat,ExecuteTransactionOutput$:()=>_at,ExpectedAttributeValue$:()=>Sat,ExportConflictException:()=>S5,ExportConflictException$:()=>vat,ExportDescription$:()=>fge,ExportFormat:()=>odn,ExportNotFoundException:()=>m5,ExportNotFoundException$:()=>Eat,ExportStatus:()=>idn,ExportSummary$:()=>Aat,ExportTableToPointInTime$:()=>a0e,ExportTableToPointInTimeCommand:()=>m8,ExportTableToPointInTimeInput$:()=>xat,ExportTableToPointInTimeOutput$:()=>wat,ExportType:()=>sdn,ExportViewType:()=>adn,FailureException$:()=>Tat,Get$:()=>Iat,GetItem$:()=>c0e,GetItemCommand:()=>kv,GetItemInput$:()=>Rat,GetItemOutput$:()=>Cat,GetResourcePolicy$:()=>l0e,GetResourcePolicyCommand:()=>h8,GetResourcePolicyInput$:()=>Nat,GetResourcePolicyOutput$:()=>Oat,GlobalSecondaryIndex$:()=>Pat,GlobalSecondaryIndexAutoScalingUpdate$:()=>Dat,GlobalSecondaryIndexDescription$:()=>kat,GlobalSecondaryIndexInfo$:()=>Lat,GlobalSecondaryIndexUpdate$:()=>Mat,GlobalSecondaryIndexWarmThroughputDescription$:()=>mge,GlobalTable$:()=>Bat,GlobalTableAlreadyExistsException:()=>u5,GlobalTableAlreadyExistsException$:()=>Uat,GlobalTableDescription$:()=>vG,GlobalTableGlobalSecondaryIndexSettingsUpdate$:()=>$at,GlobalTableNotFoundException:()=>h5,GlobalTableNotFoundException$:()=>Fat,GlobalTableStatus:()=>Yun,GlobalTableWitnessDescription$:()=>Hat,GlobalTableWitnessGroupUpdate$:()=>Gat,IdempotentParameterMismatchException:()=>b5,IdempotentParameterMismatchException$:()=>Vat,ImportConflictException:()=>A5,ImportConflictException$:()=>zat,ImportNotFoundException:()=>g5,ImportNotFoundException$:()=>jat,ImportStatus:()=>ldn,ImportSummary$:()=>qat,ImportTable$:()=>u0e,ImportTableCommand:()=>g8,ImportTableDescription$:()=>hge,ImportTableInput$:()=>Wat,ImportTableOutput$:()=>Kat,IncrementalExportSpecification$:()=>gge,IndexNotFoundException:()=>R5,IndexNotFoundException$:()=>Jat,IndexStatus:()=>Qun,InputCompressionType:()=>udn,InputFormat:()=>ddn,InputFormatOptions$:()=>yge,InternalServerError:()=>XO,InternalServerError$:()=>Yat,InvalidEndpointException:()=>t5,InvalidEndpointException$:()=>Qat,InvalidExportTimeException:()=>v5,InvalidExportTimeException$:()=>Xat,InvalidRestoreTimeException:()=>w5,InvalidRestoreTimeException$:()=>Zat,ItemCollectionMetrics$:()=>G5,ItemCollectionSizeLimitExceededException:()=>o5,ItemCollectionSizeLimitExceededException$:()=>ect,ItemResponse$:()=>tct,KeySchemaElement$:()=>rct,KeyType:()=>Oun,KeysAndAttributes$:()=>nct,KinesisDataStreamDestination$:()=>oct,KinesisStreamingDestinationInput$:()=>bge,KinesisStreamingDestinationOutput$:()=>_ge,LimitExceededException:()=>a5,LimitExceededException$:()=>ict,ListBackups$:()=>d0e,ListBackupsCommand:()=>y8,ListBackupsInput$:()=>sct,ListBackupsOutput$:()=>act,ListContributorInsights$:()=>p0e,ListContributorInsightsCommand:()=>Lv,ListContributorInsightsInput$:()=>cct,ListContributorInsightsOutput$:()=>lct,ListExports$:()=>f0e,ListExportsCommand:()=>Mv,ListExportsInput$:()=>uct,ListExportsOutput$:()=>dct,ListGlobalTables$:()=>m0e,ListGlobalTablesCommand:()=>b8,ListGlobalTablesInput$:()=>pct,ListGlobalTablesOutput$:()=>fct,ListImports$:()=>h0e,ListImportsCommand:()=>Bv,ListImportsInput$:()=>mct,ListImportsOutput$:()=>hct,ListTables$:()=>g0e,ListTablesCommand:()=>Uv,ListTablesInput$:()=>gct,ListTablesOutput$:()=>yct,ListTagsOfResource$:()=>y0e,ListTagsOfResourceCommand:()=>_8,ListTagsOfResourceInput$:()=>bct,ListTagsOfResourceOutput$:()=>_ct,LocalSecondaryIndex$:()=>Sct,LocalSecondaryIndexDescription$:()=>vct,LocalSecondaryIndexInfo$:()=>Ect,MultiRegionConsistency:()=>ndn,OnDemandThroughput$:()=>Ol,OnDemandThroughputOverride$:()=>HT,ParameterizedStatement$:()=>Act,PointInTimeRecoveryDescription$:()=>xct,PointInTimeRecoverySpecification$:()=>wct,PointInTimeRecoveryStatus:()=>qun,PointInTimeRecoveryUnavailableException:()=>E5,PointInTimeRecoveryUnavailableException$:()=>Tct,PolicyNotFoundException:()=>f5,PolicyNotFoundException$:()=>Ict,Projection$:()=>Cy,ProjectionType:()=>Pun,ProvisionedThroughput$:()=>bp,ProvisionedThroughputDescription$:()=>Sge,ProvisionedThroughputExceededException:()=>n5,ProvisionedThroughputExceededException$:()=>Rct,ProvisionedThroughputOverride$:()=>GT,Put$:()=>Cct,PutItem$:()=>b0e,PutItemCommand:()=>Ny,PutItemInput$:()=>Nct,PutItemOutput$:()=>Oct,PutRequest$:()=>Pct,PutResourcePolicy$:()=>_0e,PutResourcePolicyCommand:()=>S8,PutResourcePolicyInput$:()=>Dct,PutResourcePolicyOutput$:()=>kct,Query$:()=>S0e,QueryCommand:()=>Oy,QueryInput$:()=>Lct,QueryOutput$:()=>Mct,Replica$:()=>Bct,ReplicaAlreadyExistsException:()=>T5,ReplicaAlreadyExistsException$:()=>Uct,ReplicaAutoScalingDescription$:()=>$ct,ReplicaAutoScalingUpdate$:()=>Fct,ReplicaDescription$:()=>Hct,ReplicaGlobalSecondaryIndex$:()=>Gct,ReplicaGlobalSecondaryIndexAutoScalingDescription$:()=>Vct,ReplicaGlobalSecondaryIndexAutoScalingUpdate$:()=>zct,ReplicaGlobalSecondaryIndexDescription$:()=>jct,ReplicaGlobalSecondaryIndexSettingsDescription$:()=>qct,ReplicaGlobalSecondaryIndexSettingsUpdate$:()=>Wct,ReplicaNotFoundException:()=>I5,ReplicaNotFoundException$:()=>Kct,ReplicaSettingsDescription$:()=>Jct,ReplicaSettingsUpdate$:()=>Yct,ReplicaStatus:()=>Xun,ReplicaUpdate$:()=>Zct,ReplicatedWriteConflictException:()=>i5,ReplicatedWriteConflictException$:()=>Qct,ReplicationGroupUpdate$:()=>Xct,RequestLimitExceeded:()=>ZO,RequestLimitExceeded$:()=>elt,ResourceInUseException:()=>d5,ResourceInUseException$:()=>tlt,ResourceNotFoundException:()=>r5,ResourceNotFoundException$:()=>nlt,RestoreSummary$:()=>rlt,RestoreTableFromBackup$:()=>v0e,RestoreTableFromBackupCommand:()=>v8,RestoreTableFromBackupInput$:()=>olt,RestoreTableFromBackupOutput$:()=>ilt,RestoreTableToPointInTime$:()=>E0e,RestoreTableToPointInTimeCommand:()=>E8,RestoreTableToPointInTimeInput$:()=>slt,RestoreTableToPointInTimeOutput$:()=>alt,ReturnConsumedCapacity:()=>$un,ReturnItemCollectionMetrics:()=>Gun,ReturnValue:()=>rdn,ReturnValuesOnConditionCheckFailure:()=>Fun,S3BucketSource$:()=>EG,S3SseAlgorithm:()=>cdn,SSEDescription$:()=>vge,SSESpecification$:()=>VT,SSEStatus:()=>kun,SSEType:()=>Dun,ScalarAttributeType:()=>Iun,Scan$:()=>A0e,ScanCommand:()=>Py,ScanInput$:()=>clt,ScanOutput$:()=>llt,Select:()=>fdn,SourceTableDetails$:()=>ult,SourceTableFeatureDetails$:()=>dlt,StreamSpecification$:()=>V5,StreamViewType:()=>Lun,TableAlreadyExistsException:()=>x5,TableAlreadyExistsException$:()=>plt,TableAutoScalingDescription$:()=>Ege,TableClass:()=>Zun,TableClassSummary$:()=>AG,TableCreationParameters$:()=>Age,TableDescription$:()=>Rv,TableInUseException:()=>c5,TableInUseException$:()=>flt,TableNotFoundException:()=>l5,TableNotFoundException$:()=>mlt,TableStatus:()=>edn,TableWarmThroughputDescription$:()=>xge,Tag$:()=>hlt,TagResource$:()=>x0e,TagResourceCommand:()=>A8,TagResourceInput$:()=>glt,ThrottlingException:()=>e5,ThrottlingException$:()=>ylt,ThrottlingReason$:()=>blt,TimeToLiveDescription$:()=>wge,TimeToLiveSpecification$:()=>Tge,TimeToLiveStatus:()=>Mun,TransactGetItem$:()=>_lt,TransactGetItems$:()=>w0e,TransactGetItemsCommand:()=>x8,TransactGetItemsInput$:()=>Slt,TransactGetItemsOutput$:()=>vlt,TransactWriteItem$:()=>wlt,TransactWriteItems$:()=>T0e,TransactWriteItemsCommand:()=>w8,TransactWriteItemsInput$:()=>Tlt,TransactWriteItemsOutput$:()=>Ilt,TransactionCanceledException:()=>N5,TransactionCanceledException$:()=>Elt,TransactionConflictException:()=>p5,TransactionConflictException$:()=>Alt,TransactionInProgressException:()=>_5,TransactionInProgressException$:()=>xlt,UntagResource$:()=>I0e,UntagResourceCommand:()=>T8,UntagResourceInput$:()=>Rlt,Update$:()=>Clt,UpdateContinuousBackups$:()=>R0e,UpdateContinuousBackupsCommand:()=>I8,UpdateContinuousBackupsInput$:()=>Nlt,UpdateContinuousBackupsOutput$:()=>Olt,UpdateContributorInsights$:()=>C0e,UpdateContributorInsightsCommand:()=>R8,UpdateContributorInsightsInput$:()=>Plt,UpdateContributorInsightsOutput$:()=>Dlt,UpdateGlobalSecondaryIndexAction$:()=>klt,UpdateGlobalTable$:()=>N0e,UpdateGlobalTableCommand:()=>C8,UpdateGlobalTableInput$:()=>Llt,UpdateGlobalTableOutput$:()=>Mlt,UpdateGlobalTableSettings$:()=>O0e,UpdateGlobalTableSettingsCommand:()=>N8,UpdateGlobalTableSettingsInput$:()=>Blt,UpdateGlobalTableSettingsOutput$:()=>Ult,UpdateItem$:()=>P0e,UpdateItemCommand:()=>O8,UpdateItemInput$:()=>$lt,UpdateItemOutput$:()=>Flt,UpdateKinesisStreamingConfiguration$:()=>Ige,UpdateKinesisStreamingDestination$:()=>D0e,UpdateKinesisStreamingDestinationCommand:()=>P8,UpdateKinesisStreamingDestinationInput$:()=>Hlt,UpdateKinesisStreamingDestinationOutput$:()=>Glt,UpdateReplicationGroupMemberAction$:()=>Vlt,UpdateTable$:()=>k0e,UpdateTableCommand:()=>D8,UpdateTableInput$:()=>zlt,UpdateTableOutput$:()=>jlt,UpdateTableReplicaAutoScaling$:()=>L0e,UpdateTableReplicaAutoScalingCommand:()=>k8,UpdateTableReplicaAutoScalingInput$:()=>qlt,UpdateTableReplicaAutoScalingOutput$:()=>Wlt,UpdateTimeToLive$:()=>M0e,UpdateTimeToLiveCommand:()=>L8,UpdateTimeToLiveInput$:()=>Klt,UpdateTimeToLiveOutput$:()=>Jlt,WarmThroughput$:()=>zT,WitnessStatus:()=>tdn,WriteRequest$:()=>Ylt,__Client:()=>Fi,paginateListContributorInsights:()=>k1e,paginateListExports:()=>M1e,paginateListImports:()=>U1e,paginateListTables:()=>F1e,paginateQuery:()=>G1e,paginateScan:()=>z1e,waitForContributorInsightsEnabled:()=>gun,waitForExportCompleted:()=>yun,waitForImportCompleted:()=>bun,waitForKinesisStreamingDestinationActive:()=>_un,waitForTableExists:()=>Sun,waitForTableNotExists:()=>vun,waitUntilContributorInsightsEnabled:()=>K1e,waitUntilExportCompleted:()=>Y1e,waitUntilImportCompleted:()=>X1e,waitUntilKinesisStreamingDestinationActive:()=>eye,waitUntilTableExists:()=>nye,waitUntilTableNotExists:()=>oye});var GG=b(()=>{"use strict";_g();fdt();mdt();Ft();gdt();ydt();bdt();phe();_dt();aG()});function Gdn(){return Jdt++,`evt_${Date.now()}_${Jdt.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function Ydt(t){let e={eventId:Gdn(),timestamp:new Date().toISOString(),...t};return qG.push(e),qG.length>Kdt&&qG.splice(0,qG.length-Kdt),e.severity==="critical"?console.error(`[AUDIT:CRITICAL] ${e.action} \u2014 ${e.description}`,e.metadata?JSON.stringify(e.metadata):""):e.severity==="error"&&console.error(`[AUDIT:ERROR] ${e.action} \u2014 ${e.description}`),e}function $8(t,e,n,r,o){return Ydt({category:"TRADE",severity:"info",action:t,description:e,agentId:n,roundId:r,metadata:o,source:"trading-service"})}function F8(t,e,n,r,o){return Ydt({category:"TRADE",severity:"error",action:"trade_failed",description:t,agentId:e,roundId:r,metadata:{...o,error:n instanceof Error?n.message:n,stack:n instanceof Error?n.stack:void 0},source:"trading-service"})}var Kdt,lAo,qG,Jdt,WG=b(()=>{"use strict";_o();Kdt=5e3,lAo=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",qG=[],Jdt=0});function jdn(){return Qdt++,`rcv_${Date.now()}_${Qdt.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function Xdt(t){let e=jdn(),n=new Date().toISOString(),r=qdn(t.errorCode),o=r?H8.maxAttempts:0,i={recoveryId:e,agentId:t.agentId,side:t.side,symbol:t.symbol,quantity:t.quantity,error:t.error,errorCode:t.errorCode,attempts:1,maxAttempts:o,firstAttemptAt:n,lastAttemptAt:n,nextRetryAt:r?Wdn(1):null,status:r?"pending":"dead_letter",txSignature:t.txSignature,roundId:t.roundId,metadata:t.metadata};if(KG.set(e,i),KG.size>zdn){let s=KG.keys().next().value;s&&KG.delete(s)}return Kdn(e,"registered",r?"queued_for_retry":"dead_lettered",`${t.side} ${t.quantity} ${t.symbol}: ${t.error}`),F8(`Trade failed: ${t.side} ${t.quantity} ${t.symbol}`,t.agentId,t.error,t.roundId,{recoveryId:e,errorCode:t.errorCode,retryable:r,maxAttempts:o}),i}function qdn(t){let e=new Set(["jupiter_order_failed","jupiter_execute_failed","rpc_timeout","rpc_error","network_error","rate_limited","transaction_timeout","slot_skipped"]),n=new Set(["insufficient_usdc_balance","insufficient_sol_for_fees","insufficient_stock_balance","stock_not_found","wallet_not_found","invalid_amount","position_limit_exceeded","daily_loss_limit"]);return e.has(t)?!0:!n.has(t)}function Wdn(t){let e=Math.min(H8.initialDelayMs*Math.pow(H8.backoffMultiplier,t-1),H8.maxDelayMs),n=H8.jitter?Math.random()*e*.3:0,r=e+n;return new Date(Date.now()+r).toISOString()}function Kdn(t,e,n,r){JG.push({recoveryId:t,action:e,timestamp:new Date().toISOString(),result:n,details:r}),JG.length>1e3&&JG.splice(0,JG.length-1e3)}var Vdn,zdn,mAo,KG,JG,H8,Qdt,Zdt=b(()=>{"use strict";WG();mt();Vdn={maxAttempts:3,initialDelayMs:2e3,backoffMultiplier:2,maxDelayMs:3e4,jitter:!0},zdn=500,mAo=300*1e3,KG=new Map,JG=[],H8={...Vdn},Qdt=0});var E0t=Ge((u5o,v0t)=>{"use strict";var{Duplex:gbn}=_t("stream");function _0t(t){t.emit("close")}function ybn(){!this.destroyed&&this._writableState.finished&&this.destroy()}function S0t(t){this.removeListener("error",S0t),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function bbn(t,e){let n=!0,r=new gbn({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,s){let a=!s&&r._readableState.objectMode?i.toString():i;r.push(a)||t.pause()}),t.once("error",function(i){r.destroyed||(n=!1,r.destroy(i))}),t.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(o,i){if(t.readyState===t.CLOSED){i(o),process.nextTick(_0t,r);return}let s=!1;t.once("error",function(c){s=!0,i(c)}),t.once("close",function(){s||i(o),process.nextTick(_0t,r)}),n&&t.terminate()},r._final=function(o){if(t.readyState===t.CONNECTING){t.once("open",function(){r._final(o)});return}t._socket!==null&&(t._socket._writableState.finished?(o(),r._readableState.endEmitted&&r.destroy()):(t._socket.once("finish",function(){o()}),t.close()))},r._read=function(){t.isPaused&&t.resume()},r._write=function(o,i,s){if(t.readyState===t.CONNECTING){t.once("open",function(){r._write(o,i,s)});return}t.send(o,s)},r.on("end",ybn),r.on("error",S0t),r}v0t.exports=bbn});var rb=Ge((d5o,A0t)=>{"use strict";A0t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var NP=Ge((p5o,Pz)=>{"use strict";var{EMPTY_BUFFER:_bn}=rb(),R_e=Buffer[Symbol.species];function Sbn(t,e){if(t.length===0)return _bn;if(t.length===1)return t[0];let n=Buffer.allocUnsafe(e),r=0;for(let o=0;o<t.length;o++){let i=t[o];n.set(i,r),r+=i.length}return r<e?new R_e(n.buffer,n.byteOffset,r):n}function x0t(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[i]^e[i&3]}function w0t(t,e){for(let n=0;n<t.length;n++)t[n]^=e[n&3]}function vbn(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function C_e(t){if(C_e.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new R_e(t):ArrayBuffer.isView(t)?e=new R_e(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),C_e.readOnly=!1),e}Pz.exports={concat:Sbn,mask:x0t,toArrayBuffer:vbn,toBuffer:C_e,unmask:w0t};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=epe();Pz.exports.mask=function(e,n,r,o,i){i<48?x0t(e,n,r,o,i):t.mask(e,n,r,o,i)},Pz.exports.unmask=function(e,n){e.length<32?w0t(e,n):t.unmask(e,n)}}catch{}});var R0t=Ge((f5o,I0t)=>{"use strict";var T0t=Symbol("kDone"),N_e=Symbol("kRun"),O_e=class{constructor(e){this[T0t]=()=>{this.pending--,this[N_e]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[N_e]()}[N_e](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[T0t])}}};I0t.exports=O_e});var DP=Ge((m5o,P0t)=>{"use strict";var OP=_t("zlib"),C0t=NP(),Ebn=R0t(),{kStatusCode:N0t}=rb(),Abn=Buffer[Symbol.species],xbn=Buffer.from([0,0,255,255]),Lz=Symbol("permessage-deflate"),Fg=Symbol("total-length"),PP=Symbol("callback"),ob=Symbol("buffers"),kz=Symbol("error"),Dz,P_e=class{constructor(e,n,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!Dz){let o=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Dz=new Ebn(o)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[PP];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let n=this._options,r=e.find(o=>!(n.serverNoContextTakeover===!1&&o.server_no_context_takeover||o.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>o.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!o.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let n=e[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(r=>{let o=n[r];if(o.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(o=o[0],r==="client_max_window_bits"){if(o!==!0){let i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${o}`);o=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${o}`)}else if(r==="server_max_window_bits"){let i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${o}`);o=i}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(o!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${o}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=o})}),e}decompress(e,n,r){Dz.add(o=>{this._decompress(e,n,(i,s)=>{o(),r(i,s)})})}compress(e,n,r){Dz.add(o=>{this._compress(e,n,(i,s)=>{o(),r(i,s)})})}_decompress(e,n,r){let o=this._isServer?"client":"server";if(!this._inflate){let i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?OP.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=OP.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Lz]=this,this._inflate[Fg]=0,this._inflate[ob]=[],this._inflate.on("error",Tbn),this._inflate.on("data",O0t)}this._inflate[PP]=r,this._inflate.write(e),n&&this._inflate.write(xbn),this._inflate.flush(()=>{let i=this._inflate[kz];if(i){this._inflate.close(),this._inflate=null,r(i);return}let s=C0t.concat(this._inflate[ob],this._inflate[Fg]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Fg]=0,this._inflate[ob]=[],n&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,n,r){let o=this._isServer?"server":"client";if(!this._deflate){let i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?OP.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=OP.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Fg]=0,this._deflate[ob]=[],this._deflate.on("data",wbn)}this._deflate[PP]=r,this._deflate.write(e),this._deflate.flush(OP.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=C0t.concat(this._deflate[ob],this._deflate[Fg]);n&&(i=new Abn(i.buffer,i.byteOffset,i.length-4)),this._deflate[PP]=null,this._deflate[Fg]=0,this._deflate[ob]=[],n&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),r(null,i)})}};P0t.exports=P_e;function wbn(t){this[ob].push(t),this[Fg]+=t.length}function O0t(t){if(this[Fg]+=t.length,this[Lz]._maxPayload<1||this[Fg]<=this[Lz]._maxPayload){this[ob].push(t);return}this[kz]=new RangeError("Max payload size exceeded"),this[kz].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[kz][N0t]=1009,this.removeListener("data",O0t),this.reset()}function Tbn(t){this[Lz]._inflate=null,t[N0t]=1007,this[PP](t)}});var kP=Ge((h5o,Mz)=>{"use strict";var{isUtf8:D0t}=_t("buffer"),Ibn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Rbn(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function D_e(t){let e=t.length,n=0;for(;n<e;)if((t[n]&128)===0)n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}Mz.exports={isValidStatusCode:Rbn,isValidUTF8:D_e,tokenChars:Ibn};if(D0t)Mz.exports.isValidUTF8=function(t){return t.length<24?D_e(t):D0t(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=ape();Mz.exports.isValidUTF8=function(e){return e.length<32?D_e(e):t(e)}}catch{}});var U_e=Ge((g5o,F0t)=>{"use strict";var{Writable:Cbn}=_t("stream"),k0t=DP(),{BINARY_TYPES:Nbn,EMPTY_BUFFER:L0t,kStatusCode:Obn,kWebSocket:Pbn}=rb(),{concat:k_e,toArrayBuffer:Dbn,unmask:kbn}=NP(),{isValidStatusCode:Lbn,isValidUTF8:M0t}=kP(),Bz=Buffer[Symbol.species],wd=0,B0t=1,U0t=2,$0t=3,L_e=4,M_e=5,Uz=6,B_e=class extends Cbn{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Nbn[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Pbn]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=wd}_write(e,n,r){if(this._opcode===8&&this._state==wd)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new Bz(r.buffer,r.byteOffset+e,r.length-e),new Bz(r.buffer,r.byteOffset,e)}let n=Buffer.allocUnsafe(e);do{let r=this._buffers[0],o=n.length-e;e>=r.length?n.set(this._buffers.shift(),o):(n.set(new Uint8Array(r.buffer,r.byteOffset,e),o),this._buffers[0]=new Bz(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return n}startLoop(e){this._loop=!0;do switch(this._state){case wd:this.getInfo(e);break;case B0t:this.getPayloadLength16(e);break;case U0t:this.getPayloadLength64(e);break;case $0t:this.getMask();break;case L_e:this.getData(e);break;case M_e:case Uz:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let n=this.consume(2);if((n[0]&48)!==0){let o=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(o);return}let r=(n[0]&64)===64;if(r&&!this._extensions[k0t.extensionName]){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._fin=(n[0]&128)===128,this._opcode=n[0]&15,this._payloadLength=n[1]&127,this._opcode===0){if(r){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(!this._fragmented){let o=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let o=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(o);return}if(r){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let o=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(o);return}}else{let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(n[1]&128)===128,this._isServer){if(!this._masked){let o=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(o);return}}else if(this._masked){let o=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(o);return}this._payloadLength===126?this._state=B0t:this._payloadLength===127?this._state=U0t:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let n=this.consume(8),r=n.readUInt32BE(0);if(r>Math.pow(2,21)-1){let o=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(o);return}this._payloadLength=r*Math.pow(2,32)+n.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(n);return}this._masked?this._state=$0t:this._state=L_e}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=L_e}getData(e){let n=L0t;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&kbn(n,this._mask)}if(this._opcode>7){this.controlMessage(n,e);return}if(this._compressed){this._state=M_e,this.decompress(n,e);return}n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage(e)}decompress(e,n){this._extensions[k0t.extensionName].decompress(e,this._fin,(o,i)=>{if(o)return n(o);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");n(s);return}this._fragments.push(i)}this.dataMessage(n),this._state===wd&&this.startLoop(n)})}dataMessage(e){if(!this._fin){this._state=wd;return}let n=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let o;this._binaryType==="nodebuffer"?o=k_e(r,n):this._binaryType==="arraybuffer"?o=Dbn(k_e(r,n)):o=r,this._allowSynchronousEvents?(this.emit("message",o,!0),this._state=wd):(this._state=Uz,setImmediate(()=>{this.emit("message",o,!0),this._state=wd,this.startLoop(e)}))}else{let o=k_e(r,n);if(!this._skipUTF8Validation&&!M0t(o)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===M_e||this._allowSynchronousEvents?(this.emit("message",o,!1),this._state=wd):(this._state=Uz,setImmediate(()=>{this.emit("message",o,!1),this._state=wd,this.startLoop(e)}))}}controlMessage(e,n){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,L0t),this.end();else{let r=e.readUInt16BE(0);if(!Lbn(r)){let i=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");n(i);return}let o=new Bz(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!M0t(o)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");n(i);return}this._loop=!1,this.emit("conclude",r,o),this.end()}this._state=wd;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=wd):(this._state=Uz,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=wd,this.startLoop(n)}))}createError(e,n,r,o,i){this._loop=!1,this._errored=!0;let s=new e(r?`Invalid WebSocket frame: ${n}`:n);return Error.captureStackTrace(s,this.createError),s.code=i,s[Obn]=o,s}};F0t.exports=B_e});var F_e=Ge((b5o,V0t)=>{"use strict";var{Duplex:y5o}=_t("stream"),{randomFillSync:Mbn}=_t("crypto"),H0t=DP(),{EMPTY_BUFFER:Bbn}=rb(),{isValidStatusCode:Ubn}=kP(),{mask:G0t,toBuffer:PI}=NP(),Hp=Symbol("kByteLength"),$bn=Buffer.alloc(4),$z=8*1024,CE,DI=$z,$_e=class t{constructor(e,n,r){this._extensions=n||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,n){let r,o=!1,i=2,s=!1;n.mask&&(r=n.maskBuffer||$bn,n.generateMask?n.generateMask(r):(DI===$z&&(CE===void 0&&(CE=Buffer.alloc($z)),Mbn(CE,0,$z),DI=0),r[0]=CE[DI++],r[1]=CE[DI++],r[2]=CE[DI++],r[3]=CE[DI++]),s=(r[0]|r[1]|r[2]|r[3])===0,i=6);let a;typeof e=="string"?(!n.mask||s)&&n[Hp]!==void 0?a=n[Hp]:(e=Buffer.from(e),a=e.length):(a=e.length,o=n.mask&&n.readOnly&&!s);let c=a;a>=65536?(i+=8,c=127):a>125&&(i+=2,c=126);let l=Buffer.allocUnsafe(o?a+i:i);return l[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),n.mask?(l[1]|=128,l[i-4]=r[0],l[i-3]=r[1],l[i-2]=r[2],l[i-1]=r[3],s?[l,e]:o?(G0t(e,r,l,i,a),[l]):(G0t(e,r,e,0,a),[l,e])):[l,e]}close(e,n,r,o){let i;if(e===void 0)i=Bbn;else{if(typeof e!="number"||!Ubn(e))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let a=Buffer.byteLength(n);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+a),i.writeUInt16BE(e,0),typeof n=="string"?i.write(n,2):i.set(n,2)}}let s={[Hp]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,s,o]):this.sendFrame(t.frame(i,s),o)}ping(e,n,r){let o,i;if(typeof e=="string"?(o=Buffer.byteLength(e),i=!1):(e=PI(e),o=e.length,i=PI.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Hp]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}pong(e,n,r){let o,i;if(typeof e=="string"?(o=Buffer.byteLength(e),i=!1):(e=PI(e),o=e.length,i=PI.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Hp]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}send(e,n,r){let o=this._extensions[H0t.extensionName],i=n.binary?2:1,s=n.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=PI(e),a=e.length,c=PI.readOnly),this._firstFragment?(this._firstFragment=!1,s&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=o._threshold),this._compress=s):(s=!1,i=0),n.fin&&(this._firstFragment=!0),o){let l={[Hp]:a,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}else this.sendFrame(t.frame(e,{[Hp]:a,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:c,rsv1:!1}),r)}dispatch(e,n,r,o){if(!n){this.sendFrame(t.frame(e,r),o);return}let i=this._extensions[H0t.extensionName];this._bufferedBytes+=r[Hp],this._deflating=!0,i.compress(e,r.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof o=="function"&&o(c);for(let l=0;l<this._queue.length;l++){let u=this._queue[l],d=u[u.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=r[Hp],this._deflating=!1,r.readOnly=!1,this.sendFrame(t.frame(a,r),o),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Hp],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Hp],this._queue.push(e)}sendFrame(e,n){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],n),this._socket.uncork()):this._socket.write(e[0],n)}};V0t.exports=$_e});var X0t=Ge((_5o,Q0t)=>{"use strict";var{kForOnEventAttribute:LP,kListener:H_e}=rb(),z0t=Symbol("kCode"),j0t=Symbol("kData"),q0t=Symbol("kError"),W0t=Symbol("kMessage"),K0t=Symbol("kReason"),kI=Symbol("kTarget"),J0t=Symbol("kType"),Y0t=Symbol("kWasClean"),Hg=class{constructor(e){this[kI]=null,this[J0t]=e}get target(){return this[kI]}get type(){return this[J0t]}};Object.defineProperty(Hg.prototype,"target",{enumerable:!0});Object.defineProperty(Hg.prototype,"type",{enumerable:!0});var NE=class extends Hg{constructor(e,n={}){super(e),this[z0t]=n.code===void 0?0:n.code,this[K0t]=n.reason===void 0?"":n.reason,this[Y0t]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[z0t]}get reason(){return this[K0t]}get wasClean(){return this[Y0t]}};Object.defineProperty(NE.prototype,"code",{enumerable:!0});Object.defineProperty(NE.prototype,"reason",{enumerable:!0});Object.defineProperty(NE.prototype,"wasClean",{enumerable:!0});var LI=class extends Hg{constructor(e,n={}){super(e),this[q0t]=n.error===void 0?null:n.error,this[W0t]=n.message===void 0?"":n.message}get error(){return this[q0t]}get message(){return this[W0t]}};Object.defineProperty(LI.prototype,"error",{enumerable:!0});Object.defineProperty(LI.prototype,"message",{enumerable:!0});var MP=class extends Hg{constructor(e,n={}){super(e),this[j0t]=n.data===void 0?null:n.data}get data(){return this[j0t]}};Object.defineProperty(MP.prototype,"data",{enumerable:!0});var Fbn={addEventListener(t,e,n={}){for(let o of this.listeners(t))if(!n[LP]&&o[H_e]===e&&!o[LP])return;let r;if(t==="message")r=function(i,s){let a=new MP("message",{data:s?i:i.toString()});a[kI]=this,Fz(e,this,a)};else if(t==="close")r=function(i,s){let a=new NE("close",{code:i,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[kI]=this,Fz(e,this,a)};else if(t==="error")r=function(i){let s=new LI("error",{error:i,message:i.message});s[kI]=this,Fz(e,this,s)};else if(t==="open")r=function(){let i=new Hg("open");i[kI]=this,Fz(e,this,i)};else return;r[LP]=!!n[LP],r[H_e]=e,n.once?this.once(t,r):this.on(t,r)},removeEventListener(t,e){for(let n of this.listeners(t))if(n[H_e]===e&&!n[LP]){this.removeListener(t,n);break}}};Q0t.exports={CloseEvent:NE,ErrorEvent:LI,Event:Hg,EventTarget:Fbn,MessageEvent:MP};function Fz(t,e,n){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,n):t.call(e,n)}});var G_e=Ge((S5o,Z0t)=>{"use strict";var{tokenChars:BP}=kP();function hm(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}function Hbn(t){let e=Object.create(null),n=Object.create(null),r=!1,o=!1,i=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&BP[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(hm(e,f,n),n=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&BP[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),hm(n,t.slice(c,u),!0),l===44&&(hm(e,s,n),n=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o){if(BP[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:r||(r=!0),o=!1}else if(i)if(BP[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)i=!1,u=d;else if(l===92)o=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)i=!0;else if(u===-1&&BP[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);r&&(f=f.replace(/\\/g,""),r=!1),hm(n,a,f),l===44&&(hm(e,s,n),n=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||i||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?hm(e,p,n):(a===void 0?hm(n,p,!0):r?hm(n,a,p.replace(/\\/g,"")):hm(n,a,p),hm(e,s,n)),e}function Gbn(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(r=>[e].concat(Object.keys(r).map(o=>{let i=r[o];return Array.isArray(i)||(i=[i]),i.map(s=>s===!0?o:`${o}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Z0t.exports={format:Gbn,parse:Hbn}});var W_e=Ge((A5o,u1t)=>{"use strict";var Vbn=_t("events"),zbn=_t("https"),jbn=_t("http"),n1t=_t("net"),qbn=_t("tls"),{randomBytes:Wbn,createHash:Kbn}=_t("crypto"),{Duplex:v5o,Readable:E5o}=_t("stream"),{URL:V_e}=_t("url"),ib=DP(),Jbn=U_e(),Ybn=F_e(),{BINARY_TYPES:e1t,EMPTY_BUFFER:Hz,GUID:Qbn,kForOnEventAttribute:z_e,kListener:Xbn,kStatusCode:Zbn,kWebSocket:va,NOOP:r1t}=rb(),{EventTarget:{addEventListener:e_n,removeEventListener:t_n}}=X0t(),{format:n_n,parse:r_n}=G_e(),{toBuffer:o_n}=NP(),i_n=30*1e3,o1t=Symbol("kAborted"),j_e=[8,13],Gg=["CONNECTING","OPEN","CLOSING","CLOSED"],s_n=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,fi=class t extends Vbn{constructor(e,n,r){super(),this._binaryType=e1t[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Hz,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),i1t(this,e,n,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){e1t.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,n,r){let o=new Jbn({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new Ybn(e,this._extensions,r.generateMask),this._receiver=o,this._socket=e,o[va]=this,e[va]=this,o.on("conclude",l_n),o.on("drain",u_n),o.on("error",d_n),o.on("message",p_n),o.on("ping",f_n),o.on("pong",m_n),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),n.length>0&&e.unshift(n),e.on("close",a1t),e.on("data",Vz),e.on("end",c1t),e.on("error",l1t),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[ib.extensionName]&&this._extensions[ib.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,n){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){$l(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),i_n)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){q_e(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(e||Hz,n,r)}pong(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){q_e(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(e||Hz,n,r)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){q_e(this,e,r);return}let o={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[ib.extensionName]||(o.compress=!1),this._sender.send(e||Hz,o,r)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){$l(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(fi,"CONNECTING",{enumerable:!0,value:Gg.indexOf("CONNECTING")});Object.defineProperty(fi.prototype,"CONNECTING",{enumerable:!0,value:Gg.indexOf("CONNECTING")});Object.defineProperty(fi,"OPEN",{enumerable:!0,value:Gg.indexOf("OPEN")});Object.defineProperty(fi.prototype,"OPEN",{enumerable:!0,value:Gg.indexOf("OPEN")});Object.defineProperty(fi,"CLOSING",{enumerable:!0,value:Gg.indexOf("CLOSING")});Object.defineProperty(fi.prototype,"CLOSING",{enumerable:!0,value:Gg.indexOf("CLOSING")});Object.defineProperty(fi,"CLOSED",{enumerable:!0,value:Gg.indexOf("CLOSED")});Object.defineProperty(fi.prototype,"CLOSED",{enumerable:!0,value:Gg.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(fi.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(fi.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[z_e])return e[Xbn];return null},set(e){for(let n of this.listeners(t))if(n[z_e]){this.removeListener(t,n);break}typeof e=="function"&&this.addEventListener(t,e,{[z_e]:!0})}})});fi.prototype.addEventListener=e_n;fi.prototype.removeEventListener=t_n;u1t.exports=fi;function i1t(t,e,n,r){let o={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:j_e[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=o.autoPong,!j_e.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${j_e.join(", ")})`);let i;if(e instanceof V_e)i=e;else try{i=new V_e(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let s=i.protocol==="wss:",a=i.protocol==="ws+unix:",c;if(i.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!i.pathname?c="The URL's pathname is empty":i.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;Gz(t,m);return}let l=s?443:80,u=Wbn(16).toString("base64"),d=s?zbn.request:jbn.request,p=new Set,f;if(o.createConnection=o.createConnection||(s?c_n:a_n),o.defaultPort=o.defaultPort||l,o.port=i.port||l,o.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,o.headers={...o.headers,"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},o.path=i.pathname+i.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(f=new ib(o.perMessageDeflate!==!0?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=n_n({[ib.extensionName]:f.offer()})),n.length){for(let m of n){if(typeof m!="string"||!s_n.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}o.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(i.username||i.password)&&(o.auth=`${i.username}:${i.password}`),a){let m=o.path.split(":");o.socketPath=m[0],o.path=m[1]}let h;if(o.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?o.socketPath:i.host;let m=r&&r.headers;if(r={...r,headers:{}},m)for(let[g,y]of Object.entries(m))r.headers[g.toLowerCase()]=y}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?o.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete o.headers.authorization,delete o.headers.cookie,m||delete o.headers.host,o.auth=void 0)}o.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64")),h=t._req=d(o),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(o);o.timeout&&h.on("timeout",()=>{$l(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[o1t]||(h=t._req=null,Gz(t,m))}),h.on("response",m=>{let g=m.headers.location,y=m.statusCode;if(g&&o.followRedirects&&y>=300&&y<400){if(++t._redirects>o.maxRedirects){$l(t,h,"Maximum redirects exceeded");return}h.abort();let S;try{S=new V_e(g,e)}catch{let A=new SyntaxError(`Invalid URL: ${g}`);Gz(t,A);return}i1t(t,S,n,r)}else t.emit("unexpected-response",h,m)||$l(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,y)=>{if(t.emit("upgrade",m),t.readyState!==fi.CONNECTING)return;h=t._req=null;let S=m.headers.upgrade;if(S===void 0||S.toLowerCase()!=="websocket"){$l(t,g,"Invalid Upgrade header");return}let v=Kbn("sha1").update(u+Qbn).digest("base64");if(m.headers["sec-websocket-accept"]!==v){$l(t,g,"Invalid Sec-WebSocket-Accept header");return}let A=m.headers["sec-websocket-protocol"],w;if(A!==void 0?p.size?p.has(A)||(w="Server sent an invalid subprotocol"):w="Server sent a subprotocol but none was requested":p.size&&(w="Server sent no subprotocol"),w){$l(t,g,w);return}A&&(t._protocol=A);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){$l(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=r_n(I)}catch{$l(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==ib.extensionName){$l(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[ib.extensionName])}catch{$l(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[ib.extensionName]=f}t.setSocket(g,y,{allowSynchronousEvents:o.allowSynchronousEvents,generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})}),o.finishRequest?o.finishRequest(h,t):h.end()}function Gz(t,e){t._readyState=fi.CLOSING,t.emit("error",e),t.emitClose()}function a_n(t){return t.path=t.socketPath,n1t.connect(t)}function c_n(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=n1t.isIP(t.host)?"":t.host),qbn.connect(t)}function $l(t,e,n){t._readyState=fi.CLOSING;let r=new Error(n);Error.captureStackTrace(r,$l),e.setHeader?(e[o1t]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Gz,t,r)):(e.destroy(r),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function q_e(t,e,n){if(e){let r=o_n(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(n){let r=new Error(`WebSocket is not open: readyState ${t.readyState} (${Gg[t.readyState]})`);process.nextTick(n,r)}}function l_n(t,e){let n=this[va];n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,n._socket[va]!==void 0&&(n._socket.removeListener("data",Vz),process.nextTick(s1t,n._socket),t===1005?n.close():n.close(t,e))}function u_n(){let t=this[va];t.isPaused||t._socket.resume()}function d_n(t){let e=this[va];e._socket[va]!==void 0&&(e._socket.removeListener("data",Vz),process.nextTick(s1t,e._socket),e.close(t[Zbn])),e.emit("error",t)}function t1t(){this[va].emitClose()}function p_n(t,e){this[va].emit("message",t,e)}function f_n(t){let e=this[va];e._autoPong&&e.pong(t,!this._isServer,r1t),e.emit("ping",t)}function m_n(t){this[va].emit("pong",t)}function s1t(t){t.resume()}function a1t(){let t=this[va];this.removeListener("close",a1t),this.removeListener("data",Vz),this.removeListener("end",c1t),t._readyState=fi.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[va]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",t1t),t._receiver.on("finish",t1t))}function Vz(t){this[va]._receiver.write(t)||this.pause()}function c1t(){let t=this[va];t._readyState=fi.CLOSING,t._receiver.end(),this.end()}function l1t(){let t=this[va];this.removeListener("error",l1t),this.on("error",r1t),t&&(t._readyState=fi.CLOSING,this.destroy())}});var p1t=Ge((x5o,d1t)=>{"use strict";var{tokenChars:h_n}=kP();function g_n(t){let e=new Set,n=-1,r=-1,o=0;for(o;o<t.length;o++){let s=t.charCodeAt(o);if(r===-1&&h_n[s]===1)n===-1&&(n=o);else if(o!==0&&(s===32||s===9))r===-1&&n!==-1&&(r=o);else if(s===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${o}`);r===-1&&(r=o);let a=t.slice(n,r);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),n=r=-1}else throw new SyntaxError(`Unexpected character at index ${o}`)}if(n===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(n,o);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}d1t.exports={parse:g_n}});var _1t=Ge((T5o,b1t)=>{"use strict";var y_n=_t("events"),zz=_t("http"),{Duplex:w5o}=_t("stream"),{createHash:b_n}=_t("crypto"),f1t=G_e(),OE=DP(),__n=p1t(),S_n=W_e(),{GUID:v_n,kWebSocket:E_n}=rb(),A_n=/^[+/0-9A-Za-z]{22}==$/,m1t=0,h1t=1,y1t=2,K_e=class extends y_n{constructor(e,n){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:S_n,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=zz.createServer((r,o)=>{let i=zz.STATUS_CODES[426];o.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),o.end(i)}),this._server.listen(e.port,e.host,e.backlog,n)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=x_n(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(o,i,s)=>{this.handleUpgrade(o,i,s,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=m1t}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===y1t){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(UP,this);return}if(e&&this.once("close",e),this._state!==h1t)if(this._state=h1t,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(UP,this):process.nextTick(UP,this);else{let n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{UP(this)})}}shouldHandle(e){if(this.options.path){let n=e.url.indexOf("?");if((n!==-1?e.url.slice(0,n):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,n,r,o){n.on("error",g1t);let i=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){PE(this,e,n,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){PE(this,e,n,400,"Invalid Upgrade header");return}if(i===void 0||!A_n.test(i)){PE(this,e,n,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){PE(this,e,n,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){$P(n,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=__n.parse(c)}catch{PE(this,e,n,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new OE(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=f1t.parse(u);f[OE.extensionName]&&(p.accept(f[OE.extensionName]),d[OE.extensionName]=p)}catch{PE(this,e,n,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return $P(n,h||401,m,g);this.completeUpgrade(d,i,l,e,n,r,o)});return}if(!this.options.verifyClient(p))return $P(n,401)}this.completeUpgrade(d,i,l,e,n,r,o)}completeUpgrade(e,n,r,o,i,s,a){if(!i.readable||!i.writable)return i.destroy();if(i[E_n])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>m1t)return $P(i,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${b_n("sha1").update(n+v_n).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(r.size){let d=this.options.handleProtocols?this.options.handleProtocols(r,o):r.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[OE.extensionName]){let d=e[OE.extensionName].params,p=f1t.format({[OE.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,o),i.write(l.concat(`\r
`).join(`\r
`)),i.removeListener("error",g1t),u.setSocket(i,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(UP,this)})),a(u,o)}};b1t.exports=K_e;function x_n(t,e){for(let n of Object.keys(e))t.on(n,e[n]);return function(){for(let r of Object.keys(e))t.removeListener(r,e[r])}}function UP(t){t._state=y1t,t.emit("close")}function g1t(){this.destroy()}function $P(t,e,n,r){n=n||zz.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${zz.STATUS_CODES[e]}\r
`+Object.keys(r).map(o=>`${o}: ${r[o]}`).join(`\r
`)+`\r
\r
`+n)}function PE(t,e,n,r,o){if(t.listenerCount("wsClientError")){let i=new Error(o);Error.captureStackTrace(i,PE),t.emit("wsClientError",i,n,e)}else $P(n,r,o)}});var ct={};kn(ct,{$brand:()=>w9,$input:()=>yJ,$output:()=>gJ,NEVER:()=>Xq,TimePrecision:()=>vJ,ZodAny:()=>uQ,ZodArray:()=>mQ,ZodBase64:()=>XD,ZodBase64URL:()=>ZD,ZodBigInt:()=>I2,ZodBigIntFormat:()=>nk,ZodBoolean:()=>T2,ZodCIDRv4:()=>YD,ZodCIDRv6:()=>QD,ZodCUID:()=>VD,ZodCUID2:()=>zD,ZodCatch:()=>MQ,ZodCodec:()=>uk,ZodCustom:()=>KR,ZodCustomStringFormat:()=>x2,ZodDate:()=>VR,ZodDefault:()=>NQ,ZodDiscriminatedUnion:()=>gQ,ZodE164:()=>ek,ZodEmail:()=>FD,ZodEmoji:()=>HD,ZodEnum:()=>E2,ZodError:()=>jAt,ZodExactOptional:()=>IQ,ZodFile:()=>wQ,ZodFirstPartyTypeKind:()=>KQ,ZodFunction:()=>jQ,ZodGUID:()=>UR,ZodIPv4:()=>KD,ZodIPv6:()=>JD,ZodISODate:()=>kD,ZodISODateTime:()=>DD,ZodISODuration:()=>MD,ZodISOTime:()=>LD,ZodIntersection:()=>yQ,ZodIssueCode:()=>WAt,ZodJWT:()=>tk,ZodKSUID:()=>WD,ZodLazy:()=>GQ,ZodLiteral:()=>xQ,ZodMAC:()=>rQ,ZodMap:()=>EQ,ZodNaN:()=>UQ,ZodNanoID:()=>GD,ZodNever:()=>pQ,ZodNonOptional:()=>ck,ZodNull:()=>cQ,ZodNullable:()=>CQ,ZodNumber:()=>w2,ZodNumberFormat:()=>Cb,ZodObject:()=>jR,ZodOptional:()=>ak,ZodPipe:()=>lk,ZodPrefault:()=>PQ,ZodPromise:()=>zQ,ZodReadonly:()=>$Q,ZodRealError:()=>cc,ZodRecord:()=>WR,ZodSet:()=>AQ,ZodString:()=>A2,ZodStringFormat:()=>Dr,ZodSuccess:()=>LQ,ZodSymbol:()=>sQ,ZodTemplateLiteral:()=>HQ,ZodTransform:()=>TQ,ZodTuple:()=>_Q,ZodType:()=>Sn,ZodULID:()=>jD,ZodURL:()=>GR,ZodUUID:()=>Kp,ZodUndefined:()=>aQ,ZodUnion:()=>qR,ZodUnknown:()=>dQ,ZodVoid:()=>fQ,ZodXID:()=>qD,ZodXor:()=>hQ,_ZodString:()=>$D,_default:()=>OQ,_function:()=>qAe,any:()=>xAe,array:()=>zR,base64:()=>aAe,base64url:()=>cAe,bigint:()=>_Ae,boolean:()=>iQ,catch:()=>BQ,check:()=>WAe,cidrv4:()=>iAe,cidrv6:()=>sAe,clone:()=>wa,codec:()=>VAe,coerce:()=>JQ,config:()=>Ho,core:()=>xm,cuid:()=>Q2e,cuid2:()=>X2e,custom:()=>KAe,date:()=>TAe,decode:()=>YY,decodeAsync:()=>XY,describe:()=>JAe,discriminatedUnion:()=>PAe,e164:()=>lAe,email:()=>H2e,emoji:()=>J2e,encode:()=>JY,encodeAsync:()=>QY,endsWith:()=>p2,enum:()=>ik,exactOptional:()=>RQ,file:()=>$Ae,flattenError:()=>wR,float32:()=>hAe,float64:()=>gAe,formatError:()=>TR,fromJSONSchema:()=>nxe,function:()=>qAe,getErrorMap:()=>JAt,globalRegistry:()=>ys,gt:()=>qp,gte:()=>Ta,guid:()=>G2e,hash:()=>mAe,hex:()=>fAe,hostname:()=>pAe,httpUrl:()=>K2e,includes:()=>u2,instanceof:()=>QAe,int:()=>UD,int32:()=>yAe,int64:()=>SAe,intersection:()=>bQ,ipv4:()=>nAe,ipv6:()=>oAe,iso:()=>v2,json:()=>ZAe,jwt:()=>uAe,keyof:()=>IAe,ksuid:()=>tAe,lazy:()=>VQ,length:()=>Ib,literal:()=>UAe,locales:()=>kR,looseObject:()=>NAe,looseRecord:()=>kAe,lowercase:()=>c2,lt:()=>jp,lte:()=>ol,mac:()=>rAe,map:()=>LAe,maxLength:()=>Tb,maxSize:()=>p0,meta:()=>YAe,mime:()=>f2,minLength:()=>Am,minSize:()=>Wp,multipleOf:()=>d0,nan:()=>GAe,nanoid:()=>Y2e,nativeEnum:()=>BAe,negative:()=>AD,never:()=>rk,nonnegative:()=>wD,nonoptional:()=>kQ,nonpositive:()=>xD,normalize:()=>m2,null:()=>lQ,nullable:()=>FR,nullish:()=>FAe,number:()=>oQ,object:()=>RAe,optional:()=>$R,overwrite:()=>Ld,parse:()=>jY,parseAsync:()=>qY,partialRecord:()=>DAe,pipe:()=>HR,positive:()=>ED,prefault:()=>DQ,preprocess:()=>exe,prettifyError:()=>uW,promise:()=>jAe,property:()=>TD,readonly:()=>FQ,record:()=>vQ,refine:()=>qQ,regex:()=>a2,regexes:()=>Gl,registry:()=>tD,safeDecode:()=>eQ,safeDecodeAsync:()=>nQ,safeEncode:()=>ZY,safeEncodeAsync:()=>tQ,safeParse:()=>WY,safeParseAsync:()=>KY,set:()=>MAe,setErrorMap:()=>KAt,size:()=>wb,slugify:()=>b2,startsWith:()=>d2,strictObject:()=>CAe,string:()=>BD,stringFormat:()=>dAe,stringbool:()=>XAe,success:()=>HAe,superRefine:()=>WQ,symbol:()=>EAe,templateLiteral:()=>zAe,toJSONSchema:()=>ND,toLowerCase:()=>g2,toUpperCase:()=>y2,transform:()=>sk,treeifyError:()=>lW,trim:()=>h2,tuple:()=>SQ,uint32:()=>bAe,uint64:()=>vAe,ulid:()=>Z2e,undefined:()=>AAe,union:()=>ok,unknown:()=>Rb,uppercase:()=>l2,url:()=>W2e,util:()=>Ye,uuid:()=>V2e,uuidv4:()=>z2e,uuidv6:()=>j2e,uuidv7:()=>q2e,void:()=>wAe,xid:()=>eAe,xor:()=>OAe});var xm={};kn(xm,{$ZodAny:()=>UK,$ZodArray:()=>VK,$ZodAsyncError:()=>kd,$ZodBase64:()=>RK,$ZodBase64URL:()=>CK,$ZodBigInt:()=>K9,$ZodBigIntFormat:()=>kK,$ZodBoolean:()=>NR,$ZodCIDRv4:()=>wK,$ZodCIDRv6:()=>TK,$ZodCUID:()=>fK,$ZodCUID2:()=>mK,$ZodCatch:()=>aJ,$ZodCheck:()=>Hr,$ZodCheckBigIntFormat:()=>VW,$ZodCheckEndsWith:()=>tK,$ZodCheckGreaterThan:()=>H9,$ZodCheckIncludes:()=>ZW,$ZodCheckLengthEquals:()=>JW,$ZodCheckLessThan:()=>F9,$ZodCheckLowerCase:()=>QW,$ZodCheckMaxLength:()=>WW,$ZodCheckMaxSize:()=>zW,$ZodCheckMimeType:()=>rK,$ZodCheckMinLength:()=>KW,$ZodCheckMinSize:()=>jW,$ZodCheckMultipleOf:()=>HW,$ZodCheckNumberFormat:()=>GW,$ZodCheckOverwrite:()=>oK,$ZodCheckProperty:()=>nK,$ZodCheckRegex:()=>YW,$ZodCheckSizeEquals:()=>qW,$ZodCheckStartsWith:()=>eK,$ZodCheckStringFormat:()=>i2,$ZodCheckUpperCase:()=>XW,$ZodCodec:()=>PR,$ZodCustom:()=>hJ,$ZodCustomStringFormat:()=>PK,$ZodDate:()=>GK,$ZodDefault:()=>rJ,$ZodDiscriminatedUnion:()=>qK,$ZodE164:()=>NK,$ZodEmail:()=>lK,$ZodEmoji:()=>dK,$ZodEncodeError:()=>s0,$ZodEnum:()=>QK,$ZodError:()=>xR,$ZodExactOptional:()=>tJ,$ZodFile:()=>ZK,$ZodFunction:()=>pJ,$ZodGUID:()=>aK,$ZodIPv4:()=>EK,$ZodIPv6:()=>AK,$ZodISODate:()=>_K,$ZodISODateTime:()=>bK,$ZodISODuration:()=>vK,$ZodISOTime:()=>SK,$ZodIntersection:()=>WK,$ZodJWT:()=>OK,$ZodKSUID:()=>yK,$ZodLazy:()=>mJ,$ZodLiteral:()=>XK,$ZodMAC:()=>xK,$ZodMap:()=>JK,$ZodNaN:()=>cJ,$ZodNanoID:()=>pK,$ZodNever:()=>FK,$ZodNonOptional:()=>iJ,$ZodNull:()=>BK,$ZodNullable:()=>nJ,$ZodNumber:()=>W9,$ZodNumberFormat:()=>DK,$ZodObject:()=>FEe,$ZodObjectJIT:()=>zK,$ZodOptional:()=>Y9,$ZodPipe:()=>lJ,$ZodPrefault:()=>oJ,$ZodPromise:()=>fJ,$ZodReadonly:()=>uJ,$ZodRealError:()=>ac,$ZodRecord:()=>KK,$ZodRegistry:()=>eD,$ZodSet:()=>YK,$ZodString:()=>xb,$ZodStringFormat:()=>Pr,$ZodSuccess:()=>sJ,$ZodSymbol:()=>LK,$ZodTemplateLiteral:()=>dJ,$ZodTransform:()=>eJ,$ZodTuple:()=>J9,$ZodType:()=>pn,$ZodULID:()=>hK,$ZodURL:()=>uK,$ZodUUID:()=>cK,$ZodUndefined:()=>MK,$ZodUnion:()=>OR,$ZodUnknown:()=>$K,$ZodVoid:()=>HK,$ZodXID:()=>gK,$ZodXor:()=>jK,$brand:()=>w9,$constructor:()=>ce,$input:()=>yJ,$output:()=>gJ,Doc:()=>CR,JSONSchema:()=>$2e,JSONSchemaGenerator:()=>OD,NEVER:()=>Xq,TimePrecision:()=>vJ,_any:()=>GJ,_array:()=>JJ,_base64:()=>bD,_base64url:()=>_D,_bigint:()=>LJ,_boolean:()=>DJ,_catch:()=>BAt,_check:()=>U2e,_cidrv4:()=>gD,_cidrv6:()=>yD,_coercedBigint:()=>MJ,_coercedBoolean:()=>kJ,_coercedDate:()=>WJ,_coercedNumber:()=>IJ,_coercedString:()=>_J,_cuid:()=>lD,_cuid2:()=>uD,_custom:()=>QJ,_date:()=>qJ,_decode:()=>O9,_decodeAsync:()=>D9,_default:()=>kAt,_discriminatedUnion:()=>EAt,_e164:()=>SD,_email:()=>nD,_emoji:()=>aD,_encode:()=>N9,_encodeAsync:()=>P9,_endsWith:()=>p2,_enum:()=>RAt,_file:()=>YJ,_float32:()=>CJ,_float64:()=>NJ,_gt:()=>qp,_gte:()=>Ta,_guid:()=>LR,_includes:()=>u2,_int:()=>RJ,_int32:()=>OJ,_int64:()=>BJ,_intersection:()=>AAt,_ipv4:()=>mD,_ipv6:()=>hD,_isoDate:()=>AJ,_isoDateTime:()=>EJ,_isoDuration:()=>wJ,_isoTime:()=>xJ,_jwt:()=>vD,_ksuid:()=>fD,_lazy:()=>HAt,_length:()=>Ib,_literal:()=>NAt,_lowercase:()=>c2,_lt:()=>jp,_lte:()=>ol,_mac:()=>SJ,_map:()=>TAt,_max:()=>ol,_maxLength:()=>Tb,_maxSize:()=>p0,_mime:()=>f2,_min:()=>Ta,_minLength:()=>Am,_minSize:()=>Wp,_multipleOf:()=>d0,_nan:()=>KJ,_nanoid:()=>cD,_nativeEnum:()=>CAt,_negative:()=>AD,_never:()=>zJ,_nonnegative:()=>wD,_nonoptional:()=>LAt,_nonpositive:()=>xD,_normalize:()=>m2,_null:()=>HJ,_nullable:()=>DAt,_number:()=>TJ,_optional:()=>PAt,_overwrite:()=>Ld,_parse:()=>t2,_parseAsync:()=>n2,_pipe:()=>UAt,_positive:()=>ED,_promise:()=>GAt,_property:()=>TD,_readonly:()=>$At,_record:()=>wAt,_refine:()=>XJ,_regex:()=>a2,_safeDecode:()=>L9,_safeDecodeAsync:()=>B9,_safeEncode:()=>k9,_safeEncodeAsync:()=>M9,_safeParse:()=>r2,_safeParseAsync:()=>o2,_set:()=>IAt,_size:()=>wb,_slugify:()=>b2,_startsWith:()=>d2,_string:()=>bJ,_stringFormat:()=>_2,_stringbool:()=>nY,_success:()=>MAt,_superRefine:()=>ZJ,_symbol:()=>$J,_templateLiteral:()=>FAt,_toLowerCase:()=>g2,_toUpperCase:()=>y2,_transform:()=>OAt,_trim:()=>h2,_tuple:()=>xAt,_uint32:()=>PJ,_uint64:()=>UJ,_ulid:()=>dD,_undefined:()=>FJ,_union:()=>SAt,_unknown:()=>VJ,_uppercase:()=>l2,_url:()=>MR,_uuid:()=>rD,_uuidv4:()=>oD,_uuidv6:()=>iD,_uuidv7:()=>sD,_void:()=>jJ,_xid:()=>pD,_xor:()=>vAt,clone:()=>wa,config:()=>Ho,createStandardJSONSchemaMethod:()=>S2,createToJSONSchemaMethod:()=>rY,decode:()=>jEt,decodeAsync:()=>WEt,describe:()=>eY,encode:()=>zEt,encodeAsync:()=>qEt,extractDefs:()=>m0,finalize:()=>h0,flattenError:()=>wR,formatError:()=>TR,globalConfig:()=>yR,globalRegistry:()=>ys,initializeContext:()=>f0,isValidBase64:()=>IK,isValidBase64URL:()=>MEe,isValidJWT:()=>BEe,locales:()=>kR,meta:()=>tY,parse:()=>R9,parseAsync:()=>C9,prettifyError:()=>uW,process:()=>_r,regexes:()=>Gl,registry:()=>tD,safeDecode:()=>JEt,safeDecodeAsync:()=>QEt,safeEncode:()=>KEt,safeEncodeAsync:()=>YEt,safeParse:()=>dW,safeParseAsync:()=>pW,toDotPath:()=>bEe,toJSONSchema:()=>ND,treeifyError:()=>lW,util:()=>Ye,version:()=>iK});var Xq=Object.freeze({status:"aborted"});function ce(t,e,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);let l=s.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){let p=u[d];p in a||(a[p]=l[p].bind(a))}}let o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:t});function s(a){var c;let l=n?.Parent?new i:this;r(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var w9=Symbol("zod_brand"),kd=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},s0=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},yR={};function Ho(t){return t&&Object.assign(yR,t),yR}var Ye={};kn(Ye,{BIGINT_FORMAT_RANGES:()=>cW,Class:()=>eW,NUMBER_FORMAT_RANGES:()=>aW,aborted:()=>u0,allowsEval:()=>rW,assert:()=>EEt,assertEqual:()=>bEt,assertIs:()=>SEt,assertNever:()=>vEt,assertNotEqual:()=>_Et,assignProp:()=>c0,base64ToUint8Array:()=>hEe,base64urlToUint8Array:()=>$Et,cached:()=>ZE,captureStackTrace:()=>I9,cleanEnum:()=>UEt,cleanRegex:()=>SR,clone:()=>wa,cloneDef:()=>xEt,createTransparentProxy:()=>NEt,defineLazy:()=>Cn,esc:()=>T9,escapeRegex:()=>Hl,extend:()=>DEt,finalizeIssue:()=>sc,floatSafeRemainder:()=>tW,getElementAtPath:()=>wEt,getEnumValues:()=>_R,getLengthableOrigin:()=>AR,getParsedType:()=>CEt,getSizableOrigin:()=>ER,hexToUint8Array:()=>HEt,isObject:()=>Eb,isPlainObject:()=>l0,issue:()=>e2,joinValues:()=>ve,jsonStringifyReplacer:()=>XE,merge:()=>LEt,mergeDefs:()=>Em,normalizeParams:()=>Xe,nullish:()=>a0,numKeys:()=>REt,objectClone:()=>AEt,omit:()=>PEt,optionalKeys:()=>sW,parsedType:()=>qe,partial:()=>MEt,pick:()=>OEt,prefixIssues:()=>rl,primitiveTypes:()=>iW,promiseAllObject:()=>TEt,propertyKeyTypes:()=>vR,randomString:()=>IEt,required:()=>BEt,safeExtend:()=>kEt,shallowClone:()=>oW,slugify:()=>nW,stringifyPrimitive:()=>ze,uint8ArrayToBase64:()=>gEe,uint8ArrayToBase64url:()=>FEt,uint8ArrayToHex:()=>GEt,unwrapMessage:()=>bR});function bEt(t){return t}function _Et(t){return t}function SEt(t){}function vEt(t){throw new Error("Unexpected value in exhaustive check")}function EEt(t){}function _R(t){let e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function ve(t,e="|"){return t.map(n=>ze(n)).join(e)}function XE(t,e){return typeof e=="bigint"?e.toString():e}function ZE(t){return{get value(){{let n=t();return Object.defineProperty(this,"value",{value:n}),n}throw new Error("cached value already set")}}}function a0(t){return t==null}function SR(t){let e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function tW(t,e){let n=(t.toString().split(".")[1]||"").length,r=e.toString(),o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){let c=r.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}let i=n>o?n:o,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}var mEe=Symbol("evaluating");function Cn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==mEe)return r===void 0&&(r=mEe,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function AEt(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function c0(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Em(...t){let e={};for(let n of t){let r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function xEt(t){return Em(t._zod.def)}function wEt(t,e){return e?e.reduce((n,r)=>n?.[r],t):t}function TEt(t){let e=Object.keys(t),n=e.map(r=>t[r]);return Promise.all(n).then(r=>{let o={};for(let i=0;i<e.length;i++)o[e[i]]=r[i];return o})}function IEt(t=10){let e="abcdefghijklmnopqrstuvwxyz",n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function T9(t){return JSON.stringify(t)}function nW(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var I9="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Eb(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var rW=ZE(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function l0(t){if(Eb(t)===!1)return!1;let e=t.constructor;if(e===void 0||typeof e!="function")return!0;let n=e.prototype;return!(Eb(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function oW(t){return l0(t)?{...t}:Array.isArray(t)?[...t]:t}function REt(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}var CEt=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},vR=new Set(["string","number","symbol"]),iW=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Hl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wa(t,e,n){let r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Xe(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function NEt(t){let e;return new Proxy({},{get(n,r,o){return e??(e=t()),Reflect.get(e,r,o)},set(n,r,o,i){return e??(e=t()),Reflect.set(e,r,o,i)},has(n,r){return e??(e=t()),Reflect.has(e,r)},deleteProperty(n,r){return e??(e=t()),Reflect.deleteProperty(e,r)},ownKeys(n){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(n,r){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,r)},defineProperty(n,r,o){return e??(e=t()),Reflect.defineProperty(e,r,o)}})}function ze(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function sW(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var aW={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},cW={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function OEt(t,e){let n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let i=Em(t._zod.def,{get shape(){let s={};for(let a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=n.shape[a])}return c0(this,"shape",s),s},checks:[]});return wa(t,i)}function PEt(t,e){let n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let i=Em(t._zod.def,{get shape(){let s={...t._zod.def.shape};for(let a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return c0(this,"shape",s),s},checks:[]});return wa(t,i)}function DEt(t,e){if(!l0(e))throw new Error("Invalid input to extend: expected a plain object");let n=t._zod.def.checks;if(n&&n.length>0){let i=t._zod.def.shape;for(let s in e)if(Object.getOwnPropertyDescriptor(i,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let o=Em(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e};return c0(this,"shape",i),i}});return wa(t,o)}function kEt(t,e){if(!l0(e))throw new Error("Invalid input to safeExtend: expected a plain object");let n=Em(t._zod.def,{get shape(){let r={...t._zod.def.shape,...e};return c0(this,"shape",r),r}});return wa(t,n)}function LEt(t,e){let n=Em(t._zod.def,{get shape(){let r={...t._zod.def.shape,...e._zod.def.shape};return c0(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return wa(t,n)}function MEt(t,e,n){let o=e._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let s=Em(e._zod.def,{get shape(){let a=e._zod.def.shape,c={...a};if(n)for(let l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(c[l]=t?new t({type:"optional",innerType:a[l]}):a[l])}else for(let l in a)c[l]=t?new t({type:"optional",innerType:a[l]}):a[l];return c0(this,"shape",c),c},checks:[]});return wa(e,s)}function BEt(t,e,n){let r=Em(e._zod.def,{get shape(){let o=e._zod.def.shape,i={...o};if(n)for(let s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new t({type:"nonoptional",innerType:o[s]}))}else for(let s in o)i[s]=new t({type:"nonoptional",innerType:o[s]});return c0(this,"shape",i),i}});return wa(e,r)}function u0(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function rl(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function bR(t){return typeof t=="string"?t:t?.message}function sc(t,e,n){let r={...t,path:t.path??[]};if(!t.message){let o=bR(t.inst?._zod.def?.error?.(t))??bR(e?.error?.(t))??bR(n.customError?.(t))??bR(n.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function ER(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function AR(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function qe(t){let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"nan":"number";case"object":{if(t===null)return"null";if(Array.isArray(t))return"array";let n=t;if(n&&Object.getPrototypeOf(n)!==Object.prototype&&"constructor"in n&&n.constructor)return n.constructor.name}}return e}function e2(...t){let[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}function UEt(t){return Object.entries(t).filter(([e,n])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function hEe(t){let e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function gEe(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function $Et(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-e.length%4)%4);return hEe(e+n)}function FEt(t){return gEe(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function HEt(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r/2]=Number.parseInt(e.slice(r,r+2),16);return n}function GEt(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var eW=class{constructor(...e){}};var yEe=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,XE,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},xR=ce("$ZodError",yEe),ac=ce("$ZodError",yEe,{Parent:Error});function wR(t,e=n=>n.message){let n={},r=[];for(let o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function TR(t,e=n=>n.message){let n={_errors:[]},r=o=>{for(let i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>r({issues:s}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let s=n,a=0;for(;a<i.path.length;){let c=i.path[a];a===i.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(e(i))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return r(t),n}function lW(t,e=n=>n.message){let n={errors:[]},r=(o,i=[])=>{var s,a;for(let c of o.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>r({issues:l},c.path));else if(c.code==="invalid_key")r({issues:c.issues},c.path);else if(c.code==="invalid_element")r({issues:c.issues},c.path);else{let l=[...i,...c.path];if(l.length===0){n.errors.push(e(c));continue}let u=n,d=0;for(;d<l.length;){let p=l[d],f=d===l.length-1;typeof p=="string"?(u.properties??(u.properties={}),(s=u.properties)[p]??(s[p]={errors:[]}),u=u.properties[p]):(u.items??(u.items=[]),(a=u.items)[p]??(a[p]={errors:[]}),u=u.items[p]),f&&u.errors.push(e(c)),d++}}};return r(t),n}function bEe(t){let e=[],n=t.map(r=>typeof r=="object"?r.key:r);for(let r of n)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function uW(t){let e=[],n=[...t.issues].sort((r,o)=>(r.path??[]).length-(o.path??[]).length);for(let r of n)e.push(`\u2716 ${r.message}`),r.path?.length&&e.push(`  \u2192 at ${bEe(r.path)}`);return e.join(`
`)}var t2=t=>(e,n,r,o)=>{let i=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new kd;if(s.issues.length){let a=new(o?.Err??t)(s.issues.map(c=>sc(c,i,Ho())));throw I9(a,o?.callee),a}return s.value},R9=t2(ac),n2=t=>async(e,n,r,o)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(o?.Err??t)(s.issues.map(c=>sc(c,i,Ho())));throw I9(a,o?.callee),a}return s.value},C9=n2(ac),r2=t=>(e,n,r)=>{let o=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new kd;return i.issues.length?{success:!1,error:new(t??xR)(i.issues.map(s=>sc(s,o,Ho())))}:{success:!0,data:i.value}},dW=r2(ac),o2=t=>async(e,n,r)=>{let o=r?Object.assign(r,{async:!0}):{async:!0},i=e._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(s=>sc(s,o,Ho())))}:{success:!0,data:i.value}},pW=o2(ac),N9=t=>(e,n,r)=>{let o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return t2(t)(e,n,o)},zEt=N9(ac),O9=t=>(e,n,r)=>t2(t)(e,n,r),jEt=O9(ac),P9=t=>async(e,n,r)=>{let o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return n2(t)(e,n,o)},qEt=P9(ac),D9=t=>async(e,n,r)=>n2(t)(e,n,r),WEt=D9(ac),k9=t=>(e,n,r)=>{let o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return r2(t)(e,n,o)},KEt=k9(ac),L9=t=>(e,n,r)=>r2(t)(e,n,r),JEt=L9(ac),M9=t=>async(e,n,r)=>{let o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return o2(t)(e,n,o)},YEt=M9(ac),B9=t=>async(e,n,r)=>o2(t)(e,n,r),QEt=B9(ac);var Gl={};kn(Gl,{base64:()=>RW,base64url:()=>U9,bigint:()=>kW,boolean:()=>MW,browserEmail:()=>i2t,cidrv4:()=>TW,cidrv6:()=>IW,cuid:()=>fW,cuid2:()=>mW,date:()=>NW,datetime:()=>PW,domain:()=>c2t,duration:()=>_W,e164:()=>CW,email:()=>vW,emoji:()=>EW,extendedDuration:()=>XEt,guid:()=>SW,hex:()=>l2t,hostname:()=>a2t,html5Email:()=>n2t,idnEmail:()=>o2t,integer:()=>LW,ipv4:()=>AW,ipv6:()=>xW,ksuid:()=>yW,lowercase:()=>$W,mac:()=>wW,md5_base64:()=>d2t,md5_base64url:()=>p2t,md5_hex:()=>u2t,nanoid:()=>bW,null:()=>BW,number:()=>$9,rfc5322Email:()=>r2t,sha1_base64:()=>m2t,sha1_base64url:()=>h2t,sha1_hex:()=>f2t,sha256_base64:()=>y2t,sha256_base64url:()=>b2t,sha256_hex:()=>g2t,sha384_base64:()=>S2t,sha384_base64url:()=>v2t,sha384_hex:()=>_2t,sha512_base64:()=>A2t,sha512_base64url:()=>x2t,sha512_hex:()=>E2t,string:()=>DW,time:()=>OW,ulid:()=>hW,undefined:()=>UW,unicodeEmail:()=>_Ee,uppercase:()=>FW,uuid:()=>Ab,uuid4:()=>ZEt,uuid6:()=>e2t,uuid7:()=>t2t,xid:()=>gW});var fW=/^[cC][^\s-]{8,}$/,mW=/^[0-9a-z]+$/,hW=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gW=/^[0-9a-vA-V]{20}$/,yW=/^[A-Za-z0-9]{27}$/,bW=/^[a-zA-Z0-9_-]{21}$/,_W=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,XEt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SW=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ab=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ZEt=Ab(4),e2t=Ab(6),t2t=Ab(7),vW=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,n2t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r2t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_Ee=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,o2t=_Ee,i2t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,s2t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function EW(){return new RegExp(s2t,"u")}var AW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,wW=t=>{let e=Hl(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},TW=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,IW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,U9=/^[A-Za-z0-9_-]*$/,a2t=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,c2t=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,CW=/^\+[1-9]\d{6,14}$/,SEe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",NW=new RegExp(`^${SEe}$`);function vEe(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function OW(t){return new RegExp(`^${vEe(t)}$`)}function PW(t){let e=vEe({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let r=`${e}(?:${n.join("|")})`;return new RegExp(`^${SEe}T(?:${r})$`)}var DW=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},kW=/^-?\d+n?$/,LW=/^-?\d+$/,$9=/^-?\d+(?:\.\d+)?$/,MW=/^(?:true|false)$/i,BW=/^null$/i;var UW=/^undefined$/i;var $W=/^[^A-Z]*$/,FW=/^[^a-z]*$/,l2t=/^[0-9a-fA-F]*$/;function IR(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function RR(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var u2t=/^[0-9a-fA-F]{32}$/,d2t=IR(22,"=="),p2t=RR(22),f2t=/^[0-9a-fA-F]{40}$/,m2t=IR(27,"="),h2t=RR(27),g2t=/^[0-9a-fA-F]{64}$/,y2t=IR(43,"="),b2t=RR(43),_2t=/^[0-9a-fA-F]{96}$/,S2t=IR(64,""),v2t=RR(64),E2t=/^[0-9a-fA-F]{128}$/,A2t=IR(86,"=="),x2t=RR(86);var Hr=ce("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),AEe={number:"number",bigint:"bigint",object:"date"},F9=ce("$ZodCheckLessThan",(t,e)=>{Hr.init(t,e);let n=AEe[typeof e.value];t._zod.onattach.push(r=>{let o=r._zod.bag,i=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),H9=ce("$ZodCheckGreaterThan",(t,e)=>{Hr.init(t,e);let n=AEe[typeof e.value];t._zod.onattach.push(r=>{let o=r._zod.bag,i=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),HW=ce("$ZodCheckMultipleOf",(t,e)=>{Hr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):tW(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),GW=ce("$ZodCheckNumberFormat",(t,e)=>{Hr.init(t,e),e.format=e.format||"float64";let n=e.format?.includes("int"),r=n?"int":"number",[o,i]=aW[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=o,a.maximum=i,n&&(a.pattern=LW)}),t._zod.check=s=>{let a=s.value;if(n){if(!Number.isInteger(a)){s.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}a<o&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),a>i&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inclusive:!0,inst:t,continue:!e.abort})}}),VW=ce("$ZodCheckBigIntFormat",(t,e)=>{Hr.init(t,e);let[n,r]=cW[e.format];t._zod.onattach.push(o=>{let i=o._zod.bag;i.format=e.format,i.minimum=n,i.maximum=r}),t._zod.check=o=>{let i=o.value;i<n&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),i>r&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:r,inclusive:!0,inst:t,continue:!e.abort})}}),zW=ce("$ZodCheckMaxSize",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.size!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{let o=r.value;o.size<=e.maximum||r.issues.push({origin:ER(o),code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),jW=ce("$ZodCheckMinSize",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.size!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{let o=r.value;o.size>=e.minimum||r.issues.push({origin:ER(o),code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),qW=ce("$ZodCheckSizeEquals",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.size!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag;o.minimum=e.size,o.maximum=e.size,o.size=e.size}),t._zod.check=r=>{let o=r.value,i=o.size;if(i===e.size)return;let s=i>e.size;r.issues.push({origin:ER(o),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),WW=ce("$ZodCheckMaxLength",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{let o=r.value;if(o.length<=e.maximum)return;let s=AR(o);r.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),KW=ce("$ZodCheckMinLength",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{let o=r.value;if(o.length>=e.minimum)return;let s=AR(o);r.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),JW=ce("$ZodCheckLengthEquals",(t,e)=>{var n;Hr.init(t,e),(n=t._zod.def).when??(n.when=r=>{let o=r.value;return!a0(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{let o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{let o=r.value,i=o.length;if(i===e.length)return;let s=AR(o),a=i>e.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),i2=ce("$ZodCheckStringFormat",(t,e)=>{var n,r;Hr.init(t,e),t._zod.onattach.push(o=>{let i=o._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),YW=ce("$ZodCheckRegex",(t,e)=>{i2.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),QW=ce("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=$W),i2.init(t,e)}),XW=ce("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=FW),i2.init(t,e)}),ZW=ce("$ZodCheckIncludes",(t,e)=>{Hr.init(t,e);let n=Hl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{let i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),eK=ce("$ZodCheckStartsWith",(t,e)=>{Hr.init(t,e);let n=new RegExp(`^${Hl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{let o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),tK=ce("$ZodCheckEndsWith",(t,e)=>{Hr.init(t,e);let n=new RegExp(`.*${Hl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{let o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}});function EEe(t,e,n){t.issues.length&&e.issues.push(...rl(n,t.issues))}var nK=ce("$ZodCheckProperty",(t,e)=>{Hr.init(t,e),t._zod.check=n=>{let r=e.schema._zod.run({value:n.value[e.property],issues:[]},{});if(r instanceof Promise)return r.then(o=>EEe(o,n,e.property));EEe(r,n,e.property)}}),rK=ce("$ZodCheckMimeType",(t,e)=>{Hr.init(t,e);let n=new Set(e.mime);t._zod.onattach.push(r=>{r._zod.bag.mime=e.mime}),t._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:e.mime,input:r.value.type,inst:t,continue:!e.abort})}}),oK=ce("$ZodCheckOverwrite",(t,e)=>{Hr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});var CR=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let r=e.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let e=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,o.join(`
`))}};var iK={major:4,minor:3,patch:6};var pn=ce("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=iK;let r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(let o of r)for(let i of o._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let o=(s,a,c)=>{let l=u0(s),u;for(let d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(l)continue;let p=s.issues.length,f=d._zod.check(s);if(f instanceof Promise&&c?.async===!1)throw new kd;if(u||f instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await f,s.issues.length!==p&&(l||(l=u0(s,p)))});else{if(s.issues.length===p)continue;l||(l=u0(s,p))}}return u?u.then(()=>s):s},i=(s,a,c)=>{if(u0(s))return s.aborted=!0,s;let l=o(a,r,c);if(l instanceof Promise){if(c.async===!1)throw new kd;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(s,a)=>{if(a.skipChecks)return t._zod.parse(s,a);if(a.direction==="backward"){let l=t._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>i(u,s,a)):i(l,s,a)}let c=t._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new kd;return c.then(l=>o(l,r,a))}return o(c,r,a)}}Cn(t,"~standard",()=>({validate:o=>{try{let i=dW(t,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return pW(t,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),xb=ce("$ZodString",(t,e)=>{pn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??DW(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Pr=ce("$ZodStringFormat",(t,e)=>{i2.init(t,e),xb.init(t,e)}),aK=ce("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=SW),Pr.init(t,e)}),cK=ce("$ZodUUID",(t,e)=>{if(e.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Ab(r))}else e.pattern??(e.pattern=Ab());Pr.init(t,e)}),lK=ce("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=vW),Pr.init(t,e)}),uK=ce("$ZodURL",(t,e)=>{Pr.init(t,e),t._zod.check=n=>{try{let r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),dK=ce("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=EW()),Pr.init(t,e)}),pK=ce("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=bW),Pr.init(t,e)}),fK=ce("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=fW),Pr.init(t,e)}),mK=ce("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=mW),Pr.init(t,e)}),hK=ce("$ZodULID",(t,e)=>{e.pattern??(e.pattern=hW),Pr.init(t,e)}),gK=ce("$ZodXID",(t,e)=>{e.pattern??(e.pattern=gW),Pr.init(t,e)}),yK=ce("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=yW),Pr.init(t,e)}),bK=ce("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=PW(e)),Pr.init(t,e)}),_K=ce("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=NW),Pr.init(t,e)}),SK=ce("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=OW(e)),Pr.init(t,e)}),vK=ce("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=_W),Pr.init(t,e)}),EK=ce("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=AW),Pr.init(t,e),t._zod.bag.format="ipv4"}),AK=ce("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=xW),Pr.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),xK=ce("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=wW(e.delimiter)),Pr.init(t,e),t._zod.bag.format="mac"}),wK=ce("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=TW),Pr.init(t,e)}),TK=ce("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=IW),Pr.init(t,e),t._zod.check=n=>{let r=n.value.split("/");try{if(r.length!==2)throw new Error;let[o,i]=r;if(!i)throw new Error;let s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function IK(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var RK=ce("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=RW),Pr.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{IK(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function MEe(t){if(!U9.test(t))return!1;let e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return IK(n)}var CK=ce("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=U9),Pr.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{MEe(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),NK=ce("$ZodE164",(t,e)=>{e.pattern??(e.pattern=CW),Pr.init(t,e)});function BEe(t,e=null){try{let n=t.split(".");if(n.length!==3)return!1;let[r]=n;if(!r)return!1;let o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}var OK=ce("$ZodJWT",(t,e)=>{Pr.init(t,e),t._zod.check=n=>{BEe(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),PK=ce("$ZodCustomStringFormat",(t,e)=>{Pr.init(t,e),t._zod.check=n=>{e.fn(n.value)||n.issues.push({code:"invalid_format",format:e.format,input:n.value,inst:t,continue:!e.abort})}}),W9=ce("$ZodNumber",(t,e)=>{pn.init(t,e),t._zod.pattern=t._zod.bag.pattern??$9,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}let o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;let i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...i?{received:i}:{}}),n}}),DK=ce("$ZodNumberFormat",(t,e)=>{GW.init(t,e),W9.init(t,e)}),NR=ce("$ZodBoolean",(t,e)=>{pn.init(t,e),t._zod.pattern=MW,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}let o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),n}}),K9=ce("$ZodBigInt",(t,e)=>{pn.init(t,e),t._zod.pattern=kW,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:t}),n}}),kK=ce("$ZodBigIntFormat",(t,e)=>{VW.init(t,e),K9.init(t,e)}),LK=ce("$ZodSymbol",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;return typeof o=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:o,inst:t}),n}}),MK=ce("$ZodUndefined",(t,e)=>{pn.init(t,e),t._zod.pattern=UW,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,r)=>{let o=n.value;return typeof o>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:t}),n}}),BK=ce("$ZodNull",(t,e)=>{pn.init(t,e),t._zod.pattern=BW,t._zod.values=new Set([null]),t._zod.parse=(n,r)=>{let o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:t}),n}}),UK=ce("$ZodAny",(t,e)=>{pn.init(t,e),t._zod.parse=n=>n}),$K=ce("$ZodUnknown",(t,e)=>{pn.init(t,e),t._zod.parse=n=>n}),FK=ce("$ZodNever",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),HK=ce("$ZodVoid",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;return typeof o>"u"||n.issues.push({expected:"void",code:"invalid_type",input:o,inst:t}),n}}),GK=ce("$ZodDate",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}let o=n.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:t}),n}});function wEe(t,e,n){t.issues.length&&e.issues.push(...rl(n,t.issues)),e.value[n]=t.value}var VK=ce("$ZodArray",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);let i=[];for(let s=0;s<o.length;s++){let a=o[s],c=e.element._zod.run({value:a,issues:[]},r);c instanceof Promise?i.push(c.then(l=>wEe(l,n,s))):wEe(c,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function q9(t,e,n,r,o){if(t.issues.length){if(o&&!(n in r))return;e.issues.push(...rl(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function UEe(t){let e=Object.keys(t.shape);for(let r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);let n=sW(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function $Ee(t,e,n,r,o,i){let s=[],a=o.keySet,c=o.catchall._zod,l=c.def.type,u=c.optout==="optional";for(let d in e){if(a.has(d))continue;if(l==="never"){s.push(d);continue}let p=c.run({value:e[d],issues:[]},r);p instanceof Promise?t.push(p.then(f=>q9(f,n,d,e,u))):q9(p,n,d,e,u)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}var FEe=ce("$ZodObject",(t,e)=>{if(pn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let a=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}let r=ZE(()=>UEe(e));Cn(t._zod,"propValues",()=>{let a=e.shape,c={};for(let l in a){let u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(let d of u.values)c[l].add(d)}}return c});let o=Eb,i=e.catchall,s;t._zod.parse=(a,c)=>{s??(s=r.value);let l=a.value;if(!o(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),a;a.value={};let u=[],d=s.shape;for(let p of s.keys){let f=d[p],h=f._zod.optout==="optional",m=f._zod.run({value:l[p],issues:[]},c);m instanceof Promise?u.push(m.then(g=>q9(g,a,p,l,h))):q9(m,a,p,l,h)}return i?$Ee(u,l,a,c,r.value,t):u.length?Promise.all(u).then(()=>a):a}}),zK=ce("$ZodObjectJIT",(t,e)=>{FEe.init(t,e);let n=t._zod.parse,r=ZE(()=>UEe(e)),o=p=>{let f=new CR(["shape","payload","ctx"]),h=r.value,m=v=>{let A=T9(v);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};f.write("const input = payload.value;");let g=Object.create(null),y=0;for(let v of h.keys)g[v]=`key_${y++}`;f.write("const newResult = {};");for(let v of h.keys){let A=g[v],w=T9(v),D=p[v]?._zod?.optout==="optional";f.write(`const ${A} = ${m(v)};`),D?f.write(`
        if (${A}.issues.length) {
          if (${w} in input) {
            payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${w}, ...iss.path] : [${w}]
            })));
          }
        }
        
        if (${A}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${A}.value;
        }
        
      `):f.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${w}, ...iss.path] : [${w}]
          })));
        }
        
        if (${A}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${A}.value;
        }
        
      `)}f.write("payload.value = newResult;"),f.write("return payload;");let S=f.compile();return(v,A)=>S(p,v,A)},i,s=Eb,a=!yR.jitless,l=a&&rW.value,u=e.catchall,d;t._zod.parse=(p,f)=>{d??(d=r.value);let h=p.value;return s(h)?a&&l&&f?.async===!1&&f.jitless!==!0?(i||(i=o(e.shape)),p=i(p,f),u?$Ee([],h,p,f,d,t):p):n(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),p)}});function TEe(t,e,n,r){for(let i of t)if(i.issues.length===0)return e.value=i.value,e;let o=t.filter(i=>!u0(i));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(s=>sc(s,r,Ho())))}),e)}var OR=ce("$ZodUnion",(t,e)=>{pn.init(t,e),Cn(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Cn(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Cn(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),Cn(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){let o=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>SR(i.source)).join("|")})$`)}});let n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:o.value,issues:[]},i);if(l instanceof Promise)a.push(l),s=!0;else{if(l.issues.length===0)return l;a.push(l)}}return s?Promise.all(a).then(c=>TEe(c,o,t,i)):TEe(a,o,t,i)}});function IEe(t,e,n,r){let o=t.filter(i=>i.issues.length===0);return o.length===1?(e.value=o[0].value,e):(o.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(s=>sc(s,r,Ho())))}):e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:[],inclusive:!1}),e)}var jK=ce("$ZodXor",(t,e)=>{OR.init(t,e),e.inclusive=!1;let n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:o.value,issues:[]},i);l instanceof Promise?(a.push(l),s=!0):a.push(l)}return s?Promise.all(a).then(c=>IEe(c,o,t,i)):IEe(a,o,t,i)}}),qK=ce("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,OR.init(t,e);let n=t._zod.parse;Cn(t._zod,"propValues",()=>{let o={};for(let i of e.options){let s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(let[a,c]of Object.entries(s)){o[a]||(o[a]=new Set);for(let l of c)o[a].add(l)}}return o});let r=ZE(()=>{let o=e.options,i=new Map;for(let s of o){let a=s._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(i.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);i.set(c,s)}}return i});t._zod.parse=(o,i)=>{let s=o.value;if(!Eb(s))return o.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),o;let a=r.value.get(s?.[e.discriminator]);return a?a._zod.run(o,i):e.unionFallback?n(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:t}),o)}}),WK=ce("$ZodIntersection",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value,i=e.left._zod.run({value:o,issues:[]},r),s=e.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,l])=>REe(n,c,l)):REe(n,i,s)}});function sK(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(l0(t)&&l0(e)){let n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(let i of r){let s=sK(t[i],e[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e[r],s=sK(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function REe(t,e,n){let r=new Map,o;for(let a of e.issues)if(a.code==="unrecognized_keys"){o??(o=a);for(let c of a.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else t.issues.push(a);for(let a of n.issues)if(a.code==="unrecognized_keys")for(let c of a.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else t.issues.push(a);let i=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(i.length&&o&&t.issues.push({...o,keys:i}),u0(t))return t;let s=sK(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}var J9=ce("$ZodTuple",(t,e)=>{pn.init(t,e);let n=e.items;t._zod.parse=(r,o)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];let s=[],a=[...n].reverse().findIndex(u=>u._zod.optin!=="optional"),c=a===-1?0:n.length-a;if(!e.rest){let u=i.length>n.length,d=i.length<c-1;if(u||d)return r.issues.push({...u?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:t,origin:"array"}),r}let l=-1;for(let u of n){if(l++,l>=i.length&&l>=c)continue;let d=u._zod.run({value:i[l],issues:[]},o);d instanceof Promise?s.push(d.then(p=>G9(p,r,l))):G9(d,r,l)}if(e.rest){let u=i.slice(n.length);for(let d of u){l++;let p=e.rest._zod.run({value:d,issues:[]},o);p instanceof Promise?s.push(p.then(f=>G9(f,r,l))):G9(p,r,l)}}return s.length?Promise.all(s).then(()=>r):r}});function G9(t,e,n){t.issues.length&&e.issues.push(...rl(n,t.issues)),e.value[n]=t.value}var KK=ce("$ZodRecord",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;if(!l0(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),n;let i=[],s=e.keyType._zod.values;if(s){n.value={};let a=new Set;for(let l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);let u=e.valueType._zod.run({value:o[l],issues:[]},r);u instanceof Promise?i.push(u.then(d=>{d.issues.length&&n.issues.push(...rl(l,d.issues)),n.value[l]=d.value})):(u.issues.length&&n.issues.push(...rl(l,u.issues)),n.value[l]=u.value)}let c;for(let l in o)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:c})}else{n.value={};for(let a of Reflect.ownKeys(o)){if(a==="__proto__")continue;let c=e.keyType._zod.run({value:a,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&$9.test(a)&&c.issues.length){let d=e.keyType._zod.run({value:Number(a),issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){e.mode==="loose"?n.value[a]=o[a]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>sc(d,r,Ho())),input:a,path:[a],inst:t});continue}let u=e.valueType._zod.run({value:o[a],issues:[]},r);u instanceof Promise?i.push(u.then(d=>{d.issues.length&&n.issues.push(...rl(a,d.issues)),n.value[c.value]=d.value})):(u.issues.length&&n.issues.push(...rl(a,u.issues)),n.value[c.value]=u.value)}}return i.length?Promise.all(i).then(()=>n):n}}),JK=ce("$ZodMap",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;if(!(o instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:o,inst:t}),n;let i=[];n.value=new Map;for(let[s,a]of o){let c=e.keyType._zod.run({value:s,issues:[]},r),l=e.valueType._zod.run({value:a,issues:[]},r);c instanceof Promise||l instanceof Promise?i.push(Promise.all([c,l]).then(([u,d])=>{CEe(u,d,n,s,o,t,r)})):CEe(c,l,n,s,o,t,r)}return i.length?Promise.all(i).then(()=>n):n}});function CEe(t,e,n,r,o,i,s){t.issues.length&&(vR.has(typeof r)?n.issues.push(...rl(r,t.issues)):n.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:t.issues.map(a=>sc(a,s,Ho()))})),e.issues.length&&(vR.has(typeof r)?n.issues.push(...rl(r,e.issues)):n.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:r,issues:e.issues.map(a=>sc(a,s,Ho()))})),n.value.set(t.value,e.value)}var YK=ce("$ZodSet",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;if(!(o instanceof Set))return n.issues.push({input:o,inst:t,expected:"set",code:"invalid_type"}),n;let i=[];n.value=new Set;for(let s of o){let a=e.valueType._zod.run({value:s,issues:[]},r);a instanceof Promise?i.push(a.then(c=>NEe(c,n))):NEe(a,n)}return i.length?Promise.all(i).then(()=>n):n}});function NEe(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var QK=ce("$ZodEnum",(t,e)=>{pn.init(t,e);let n=_R(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>vR.has(typeof o)).map(o=>typeof o=="string"?Hl(o):o.toString()).join("|")})$`),t._zod.parse=(o,i)=>{let s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:t}),o}}),XK=ce("$ZodLiteral",(t,e)=>{if(pn.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Hl(r):r?Hl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,o)=>{let i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),ZK=ce("$ZodFile",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{let o=n.value;return o instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:o,inst:t}),n}}),eJ=ce("$ZodTransform",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new s0(t.constructor.name);let o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new kd;return n.value=o,n}});function OEe(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var Y9=ce("$ZodOptional",(t,e)=>{pn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Cn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Cn(t._zod,"pattern",()=>{let n=e.innerType._zod.pattern;return n?new RegExp(`^(${SR(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>OEe(i,n.value)):OEe(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),tJ=ce("$ZodExactOptional",(t,e)=>{Y9.init(t,e),Cn(t._zod,"values",()=>e.innerType._zod.values),Cn(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),nJ=ce("$ZodNullable",(t,e)=>{pn.init(t,e),Cn(t._zod,"optin",()=>e.innerType._zod.optin),Cn(t._zod,"optout",()=>e.innerType._zod.optout),Cn(t._zod,"pattern",()=>{let n=e.innerType._zod.pattern;return n?new RegExp(`^(${SR(n.source)}|null)$`):void 0}),Cn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),rJ=ce("$ZodDefault",(t,e)=>{pn.init(t,e),t._zod.optin="optional",Cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>PEe(i,e)):PEe(o,e)}});function PEe(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var oJ=ce("$ZodPrefault",(t,e)=>{pn.init(t,e),t._zod.optin="optional",Cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),iJ=ce("$ZodNonOptional",(t,e)=>{pn.init(t,e),Cn(t._zod,"values",()=>{let n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>DEe(i,t)):DEe(o,t)}});function DEe(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var sJ=ce("$ZodSuccess",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new s0("ZodSuccess");let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.issues.length===0,n)):(n.value=o.issues.length===0,n)}}),aJ=ce("$ZodCatch",(t,e)=>{pn.init(t,e),Cn(t._zod,"optin",()=>e.innerType._zod.optin),Cn(t._zod,"optout",()=>e.innerType._zod.optout),Cn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>sc(s,r,Ho()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(i=>sc(i,r,Ho()))},input:n.value}),n.issues=[]),n)}}),cJ=ce("$ZodNaN",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:t,expected:"nan",code:"invalid_type"}),n)}),lJ=ce("$ZodPipe",(t,e)=>{pn.init(t,e),Cn(t._zod,"values",()=>e.in._zod.values),Cn(t._zod,"optin",()=>e.in._zod.optin),Cn(t._zod,"optout",()=>e.out._zod.optout),Cn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){let i=e.out._zod.run(n,r);return i instanceof Promise?i.then(s=>V9(s,e.in,r)):V9(i,e.in,r)}let o=e.in._zod.run(n,r);return o instanceof Promise?o.then(i=>V9(i,e.out,r)):V9(o,e.out,r)}});function V9(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}var PR=ce("$ZodCodec",(t,e)=>{pn.init(t,e),Cn(t._zod,"values",()=>e.in._zod.values),Cn(t._zod,"optin",()=>e.in._zod.optin),Cn(t._zod,"optout",()=>e.out._zod.optout),Cn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if((r.direction||"forward")==="forward"){let i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>z9(s,e,r)):z9(i,e,r)}else{let i=e.out._zod.run(n,r);return i instanceof Promise?i.then(s=>z9(s,e,r)):z9(i,e,r)}}});function z9(t,e,n){if(t.issues.length)return t.aborted=!0,t;if((n.direction||"forward")==="forward"){let o=e.transform(t.value,t);return o instanceof Promise?o.then(i=>j9(t,i,e.out,n)):j9(t,o,e.out,n)}else{let o=e.reverseTransform(t.value,t);return o instanceof Promise?o.then(i=>j9(t,i,e.in,n)):j9(t,o,e.in,n)}}function j9(t,e,n,r){return t.issues.length?(t.aborted=!0,t):n._zod.run({value:e,issues:t.issues},r)}var uJ=ce("$ZodReadonly",(t,e)=>{pn.init(t,e),Cn(t._zod,"propValues",()=>e.innerType._zod.propValues),Cn(t._zod,"values",()=>e.innerType._zod.values),Cn(t._zod,"optin",()=>e.innerType?._zod?.optin),Cn(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);let o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(kEe):kEe(o)}});function kEe(t){return t.value=Object.freeze(t.value),t}var dJ=ce("$ZodTemplateLiteral",(t,e)=>{pn.init(t,e);let n=[];for(let r of e.parts)if(typeof r=="object"&&r!==null){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);let o=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!o)throw new Error(`Invalid template literal part: ${r._zod.traits}`);let i=o.startsWith("^")?1:0,s=o.endsWith("$")?o.length-1:o.length;n.push(o.slice(i,s))}else if(r===null||iW.has(typeof r))n.push(Hl(`${r}`));else throw new Error(`Invalid template literal part: ${r}`);t._zod.pattern=new RegExp(`^${n.join("")}$`),t._zod.parse=(r,o)=>typeof r.value!="string"?(r.issues.push({input:r.value,inst:t,expected:"string",code:"invalid_type"}),r):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),r)}),pJ=ce("$ZodFunction",(t,e)=>(pn.init(t,e),t._def=e,t._zod.def=e,t.implement=n=>{if(typeof n!="function")throw new Error("implement() must be called with a function");return function(...r){let o=t._def.input?R9(t._def.input,r):r,i=Reflect.apply(n,this,o);return t._def.output?R9(t._def.output,i):i}},t.implementAsync=n=>{if(typeof n!="function")throw new Error("implementAsync() must be called with a function");return async function(...r){let o=t._def.input?await C9(t._def.input,r):r,i=await Reflect.apply(n,this,o);return t._def.output?await C9(t._def.output,i):i}},t._zod.parse=(n,r)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:t}),n):(t._def.output&&t._def.output._zod.def.type==="promise"?n.value=t.implementAsync(n.value):n.value=t.implement(n.value),n),t.input=(...n)=>{let r=t.constructor;return Array.isArray(n[0])?new r({type:"function",input:new J9({type:"tuple",items:n[0],rest:n[1]}),output:t._def.output}):new r({type:"function",input:n[0],output:t._def.output})},t.output=n=>{let r=t.constructor;return new r({type:"function",input:t._def.input,output:n})},t)),fJ=ce("$ZodPromise",(t,e)=>{pn.init(t,e),t._zod.parse=(n,r)=>Promise.resolve(n.value).then(o=>e.innerType._zod.run({value:o,issues:[]},r))}),mJ=ce("$ZodLazy",(t,e)=>{pn.init(t,e),Cn(t._zod,"innerType",()=>e.getter()),Cn(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Cn(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Cn(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Cn(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),hJ=ce("$ZodCustom",(t,e)=>{Hr.init(t,e),pn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{let r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(i=>LEe(i,n,r,t));LEe(o,n,r,t)}});function LEe(t,e,n,r){if(!t){let o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(e2(o))}}var kR={};kn(kR,{ar:()=>HEe,az:()=>GEe,be:()=>zEe,bg:()=>jEe,ca:()=>qEe,cs:()=>WEe,da:()=>KEe,de:()=>JEe,en:()=>Q9,eo:()=>YEe,es:()=>QEe,fa:()=>XEe,fi:()=>ZEe,fr:()=>e2e,frCA:()=>t2e,he:()=>n2e,hu:()=>r2e,hy:()=>i2e,id:()=>s2e,is:()=>a2e,it:()=>c2e,ja:()=>l2e,ka:()=>u2e,kh:()=>d2e,km:()=>X9,ko:()=>p2e,lt:()=>m2e,mk:()=>h2e,ms:()=>g2e,nl:()=>y2e,no:()=>b2e,ota:()=>_2e,pl:()=>v2e,ps:()=>S2e,pt:()=>E2e,ru:()=>x2e,sl:()=>w2e,sv:()=>T2e,ta:()=>I2e,th:()=>R2e,tr:()=>C2e,ua:()=>N2e,uk:()=>Z9,ur:()=>O2e,uz:()=>P2e,vi:()=>D2e,yo:()=>M2e,zhCN:()=>k2e,zhTW:()=>L2e});var T2t=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(o){return t[o]??null}let n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${o.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${i}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`}case"invalid_value":return o.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${ze(o.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${o.prefix}"`:i.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${i.suffix}"`:i.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${i.includes}"`:i.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${i.pattern}`:`${n[i.format]??o.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${o.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${o.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${o.keys.length>1?"\u0629":""}: ${ve(o.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function HEe(){return{localeError:T2t()}}var I2t=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(o){return t[o]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${o.expected}, daxil olan ${a}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${i}, daxil olan ${a}`}case"invalid_value":return o.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${ze(o.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${i.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:i.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${i.suffix}" il\u0259 bitm\u0259lidir`:i.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${i.includes}" daxil olmal\u0131d\u0131r`:i.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${i.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[i.format]??o.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${o.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${o.keys.length>1?"lar":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${o.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function GEe(){return{localeError:I2t()}}function VEe(t,e,n,r){let o=Math.abs(t),i=o%10,s=o%100;return s>=11&&s<=19?r:i===1?e:i>=2&&i<=4?n:r}var R2t=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(o){return t[o]??null}let n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},r={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${o.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${i}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`}case"invalid_value":return o.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${ze(o.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);if(s){let a=Number(o.maximum),c=VEe(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);if(s){let a=Number(o.minimum),c=VEe(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${o.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${o.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function zEe(){return{localeError:R2t()}}var C2t=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(o){return t[o]??null}let n={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},r={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${i}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`}case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${ze(o.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${o.minimum.toString()} ${s.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;if(i.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${i.prefix}"`;if(i.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${i.suffix}"`;if(i.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${i.includes}"`;if(i.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${i.pattern}`;let s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return i.format==="emoji"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),i.format==="datetime"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),i.format==="date"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),i.format==="time"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),i.format==="duration"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${s} ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${o.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u043E\u0432\u0435":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function jEe(){return{localeError:C2t()}}var N2t=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(o){return t[o]??null}let n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${o.expected}, s'ha rebut ${a}`:`Tipus inv\xE0lid: s'esperava ${i}, s'ha rebut ${a}`}case"invalid_value":return o.values.length===1?`Valor inv\xE0lid: s'esperava ${ze(o.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${ve(o.values," o ")}`;case"too_big":{let i=o.inclusive?"com a m\xE0xim":"menys de",s=e(o.origin);return s?`Massa gran: s'esperava que ${o.origin??"el valor"} contingu\xE9s ${i} ${o.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${o.origin??"el valor"} fos ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(o.origin);return s?`Massa petit: s'esperava que ${o.origin} contingu\xE9s ${i} ${o.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${o.origin} fos ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\xE0lid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${i.pattern}`:`Format inv\xE0lid per a ${n[i.format]??o.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${o.divisor}`;case"unrecognized_keys":return`Clau${o.keys.length>1?"s":""} no reconeguda${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${o.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${o.origin}`;default:return"Entrada inv\xE0lida"}}};function qEe(){return{localeError:N2t()}}var O2t=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(o){return t[o]??null}let n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},r={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${o.expected}, obdr\u017Eeno ${a}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${i}, obdr\u017Eeno ${a}`}case"invalid_value":return o.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${ze(o.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${i.pattern}`:`Neplatn\xFD form\xE1t ${n[i.format]??o.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${o.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${ve(o.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${o.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${o.origin}`;default:return"Neplatn\xFD vstup"}}};function WEe(){return{localeError:O2t()}}var P2t=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(o){return t[o]??null}let n={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ugyldigt input: forventede instanceof ${o.expected}, fik ${a}`:`Ugyldigt input: forventede ${i}, fik ${a}`}case"invalid_value":return o.values.length===1?`Ugyldig v\xE6rdi: forventede ${ze(o.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin),a=r[o.origin]??o.origin;return s?`For stor: forventede ${a??"value"} ${s.verb} ${i} ${o.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${a??"value"} havde ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin),a=r[o.origin]??o.origin;return s?`For lille: forventede ${a} ${s.verb} ${i} ${o.minimum.toString()} ${s.unit}`:`For lille: forventede ${a} havde ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${n[i.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${o.origin}`;default:return"Ugyldigt input"}}};function KEe(){return{localeError:P2t()}}var D2t=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(o){return t[o]??null}let n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r={nan:"NaN",number:"Zahl",array:"Array"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${o.expected}, erhalten ${a}`:`Ung\xFCltige Eingabe: erwartet ${i}, erhalten ${a}`}case"invalid_value":return o.values.length===1?`Ung\xFCltige Eingabe: erwartet ${ze(o.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ist`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ist`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ung\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\xFCltig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${o.divisor} sein`;case"unrecognized_keys":return`${o.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${o.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${o.origin}`;default:return"Ung\xFCltige Eingabe"}}};function JEe(){return{localeError:D2t()}}var k2t=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(o){return t[o]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return`Invalid input: expected ${i}, received ${a}`}case"invalid_value":return o.values.length===1?`Invalid input: expected ${ze(o.values[0])}`:`Invalid option: expected one of ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Too big: expected ${o.origin??"value"} to have ${i}${o.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${o.origin??"value"} to be ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Too small: expected ${o.origin} to have ${i}${o.minimum.toString()} ${s.unit}`:`Too small: expected ${o.origin} to be ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${o.divisor}`;case"unrecognized_keys":return`Unrecognized key${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Invalid key in ${o.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${o.origin}`;default:return"Invalid input"}}};function Q9(){return{localeError:k2t()}}var L2t=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(o){return t[o]??null}let n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${o.expected}, ricevi\u011Dis ${a}`:`Nevalida enigo: atendi\u011Dis ${i}, ricevi\u011Dis ${a}`}case"invalid_value":return o.values.length===1?`Nevalida enigo: atendi\u011Dis ${ze(o.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${i}${o.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Tro malgranda: atendi\u011Dis ke ${o.origin} havu ${i}${o.minimum.toString()} ${s.unit}`:`Tro malgranda: atendi\u011Dis ke ${o.origin} estu ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${n[i.format]??o.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${o.divisor}`;case"unrecognized_keys":return`Nekonata${o.keys.length>1?"j":""} \u015Dlosilo${o.keys.length>1?"j":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${o.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${o.origin}`;default:return"Nevalida enigo"}}};function YEe(){return{localeError:L2t()}}var M2t=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(o){return t[o]??null}let n={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${o.expected}, recibido ${a}`:`Entrada inv\xE1lida: se esperaba ${i}, recibido ${a}`}case"invalid_value":return o.values.length===1?`Entrada inv\xE1lida: se esperaba ${ze(o.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin),a=r[o.origin]??o.origin;return s?`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${o.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin),a=r[o.origin]??o.origin;return s?`Demasiado peque\xF1o: se esperaba que ${a} tuviera ${i}${o.minimum.toString()} ${s.unit}`:`Demasiado peque\xF1o: se esperaba que ${a} fuera ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${i.prefix}"`:i.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${i.suffix}"`:i.format==="includes"?`Cadena inv\xE1lida: debe incluir "${i.includes}"`:i.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${i.pattern}`:`Inv\xE1lido ${n[i.format]??o.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${r[o.origin]??o.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${r[o.origin]??o.origin}`;default:return"Entrada inv\xE1lida"}}};function QEe(){return{localeError:M2t()}}var B2t=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(o){return t[o]??null}let n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},r={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${o.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${i} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case"invalid_value":return o.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${ze(o.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${ve(o.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:i.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:i.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${i.includes}" \u0628\u0627\u0634\u062F`:i.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${i.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[i.format]??o.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${o.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${o.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${ve(o.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${o.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${o.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function XEe(){return{localeError:B2t()}}var U2t=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(o){return t[o]??null}let n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Virheellinen tyyppi: odotettiin instanceof ${o.expected}, oli ${a}`:`Virheellinen tyyppi: odotettiin ${i}, oli ${a}`}case"invalid_value":return o.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${ze(o.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${i}${o.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${i}${o.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${i.pattern}`:`Virheellinen ${n[i.format]??o.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${o.divisor} monikerta`;case"unrecognized_keys":return`${o.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ve(o.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function ZEe(){return{localeError:U2t()}}var $2t=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(o){return t[o]??null}let n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},r={nan:"NaN",number:"nombre",array:"tableau"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Entr\xE9e invalide : instanceof ${o.expected} attendu, ${a} re\xE7u`:`Entr\xE9e invalide : ${i} attendu, ${a} re\xE7u`}case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : ${ze(o.values[0])} attendu`:`Option invalide : une valeur parmi ${ve(o.values,"|")} attendue`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Trop grand : ${o.origin??"valeur"} doit ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${o.origin??"valeur"} doit \xEAtre ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Trop petit : ${o.origin} doit ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : ${o.origin} doit \xEAtre ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ve(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}};function e2e(){return{localeError:$2t()}}var F2t=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(o){return t[o]??null}let n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Entr\xE9e invalide : attendu instanceof ${o.expected}, re\xE7u ${a}`:`Entr\xE9e invalide : attendu ${i}, re\xE7u ${a}`}case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : attendu ${ze(o.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u2264":"<",s=e(o.origin);return s?`Trop grand : attendu que ${o.origin??"la valeur"} ait ${i}${o.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${o.origin??"la valeur"} soit ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u2265":">",s=e(o.origin);return s?`Trop petit : attendu que ${o.origin} ait ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${o.origin} soit ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ve(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}};function t2e(){return{localeError:F2t()}}var H2t=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},n=l=>l?t[l]:void 0,r=l=>{let u=n(l);return u?u.label:l??t.unknown.label},o=l=>`\u05D4${r(l)}`,i=l=>(n(l)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",s=l=>l?e[l]??null:null,a={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{let u=l.expected,d=c[u??""]??r(u),p=qe(l.input),f=c[p]??t[p]?.label??p;return/^[A-Z]/.test(l.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${l.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`}case"invalid_value":{if(l.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${ze(l.values[0])}`;let u=l.values.map(f=>ze(f));if(l.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u[0]} \u05D0\u05D5 ${u[1]}`;let d=u[u.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case"too_big":{let u=s(l.origin),d=o(l.origin??"value");if(l.origin==="string")return`${u?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${l.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",m=l.inclusive?`${l.maximum} ${u?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${l.maximum} ${u?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?"<=":"<",f=i(l.origin??"value");return u?.unit?`${u.longLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()}`}case"too_small":{let u=s(l.origin),d=o(l.origin??"value");if(l.origin==="string")return`${u?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${l.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(l.minimum===1&&l.inclusive){let g=(l.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${g}`}let m=l.inclusive?`${l.minimum} ${u?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${l.minimum} ${u?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?">=":">",f=i(l.origin??"value");return u?.unit?`${u.shortLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()}`}case"invalid_format":{let u=l;if(u.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${u.prefix}"`;if(u.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${u.suffix}"`;if(u.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${u.includes}"`;if(u.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${u.pattern}`;let d=a[u.format],p=d?.label??u.format,h=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${p} \u05DC\u05D0 ${h}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${l.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${l.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${l.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${ve(l.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${o(l.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function n2e(){return{localeError:H2t()}}var G2t=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(o){return t[o]??null}let n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},r={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${o.expected}, a kapott \xE9rt\xE9k ${a}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${i}, a kapott \xE9rt\xE9k ${a}`}case"invalid_value":return o.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${ze(o.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`T\xFAl nagy: ${o.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${o.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${o.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} m\xE9rete t\xFAl kicsi ${i}${o.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} t\xFAl kicsi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\xC9rv\xE9nytelen string: "${i.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:i.format==="ends_with"?`\xC9rv\xE9nytelen string: "${i.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:i.format==="includes"?`\xC9rv\xE9nytelen string: "${i.includes}" \xE9rt\xE9ket kell tartalmaznia`:i.format==="regex"?`\xC9rv\xE9nytelen string: ${i.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[i.format]??o.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${o.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${o.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${o.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function r2e(){return{localeError:G2t()}}function o2e(t,e,n){return Math.abs(t)===1?e:n}function s2(t){if(!t)return"";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],n=t[t.length-1];return t+(e.includes(n)?"\u0576":"\u0568")}var V2t=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(o){return t[o]??null}let n={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},r={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${o.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${i}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`}case"invalid_value":return o.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${ze(o.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);if(s){let a=Number(o.maximum),c=o2e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${s2(o.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${i}${o.maximum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${s2(o.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);if(s){let a=Number(o.minimum),c=o2e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${s2(o.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${i}${o.minimum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${s2(o.origin)} \u056C\u056B\u0576\u056B ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${i.prefix}"-\u0578\u057E`:i.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${i.suffix}"-\u0578\u057E`:i.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${i.includes}"`:i.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${i.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${n[i.format]??o.format}`}case"not_multiple_of":return`\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${o.divisor}-\u056B`;case"unrecognized_keys":return`\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${o.keys.length>1?"\u0576\u0565\u0580":""}. ${ve(o.keys,", ")}`;case"invalid_key":return`\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${s2(o.origin)}-\u0578\u0582\u0574`;case"invalid_union":return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case"invalid_element":return`\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${s2(o.origin)}-\u0578\u0582\u0574`;default:return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function i2e(){return{localeError:V2t()}}var z2t=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(o){return t[o]??null}let n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Input tidak valid: diharapkan instanceof ${o.expected}, diterima ${a}`:`Input tidak valid: diharapkan ${i}, diterima ${a}`}case"invalid_value":return o.values.length===1?`Input tidak valid: diharapkan ${ze(o.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Terlalu besar: diharapkan ${o.origin??"value"} memiliki ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${o.origin??"value"} menjadi ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Terlalu kecil: diharapkan ${o.origin} memiliki ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${o.origin} menjadi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${n[i.format]??o.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${o.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${o.origin}`;default:return"Input tidak valid"}}};function s2e(){return{localeError:z2t()}}var j2t=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(o){return t[o]??null}let n={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},r={nan:"NaN",number:"n\xFAmer",array:"fylki"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera instanceof ${o.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera ${i}`}case"invalid_value":return o.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${ze(o.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} hafi ${i}${o.maximum.toString()} ${s.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} s\xE9 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} hafi ${i}${o.minimum.toString()} ${s.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} s\xE9 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${i.prefix}"`:i.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${i.suffix}"`:i.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${i.includes}"`:i.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${i.pattern}`:`Rangt ${n[i.format]??o.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${o.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${o.keys.length>1?"ir lyklar":"ur lykill"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${o.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${o.origin}`;default:return"Rangt gildi"}}};function a2e(){return{localeError:j2t()}}var q2t=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(o){return t[o]??null}let n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"numero",array:"vettore"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Input non valido: atteso instanceof ${o.expected}, ricevuto ${a}`:`Input non valido: atteso ${i}, ricevuto ${a}`}case"invalid_value":return o.values.length===1?`Input non valido: atteso ${ze(o.values[0])}`:`Opzione non valida: atteso uno tra ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Troppo grande: ${o.origin??"valore"} deve avere ${i}${o.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${o.origin??"valore"} deve essere ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Troppo piccolo: ${o.origin} deve avere ${i}${o.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${o.origin} deve essere ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${o.divisor}`;case"unrecognized_keys":return`Chiav${o.keys.length>1?"i":"e"} non riconosciut${o.keys.length>1?"e":"a"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${o.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${o.origin}`;default:return"Input non valido"}}};function c2e(){return{localeError:q2t()}}var W2t=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(o){return t[o]??null}let n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},r={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${o.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${i}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case"invalid_value":return o.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${ze(o.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${ve(o.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=o.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(o.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${s.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=o.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(o.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${s.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${i.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${o.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${o.keys.length>1?"\u7FA4":""}: ${ve(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function l2e(){return{localeError:W2t()}}var K2t=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(o){return t[o]??null}let n={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},r={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${o.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`}case"invalid_value":return o.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${ze(o.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${ve(o.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} \u10D8\u10E7\u10DD\u10E1 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${i.prefix}"-\u10D8\u10D7`:i.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${i.suffix}"-\u10D8\u10D7`:i.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${i.includes}"-\u10E1`:i.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${i.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${o.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${o.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${o.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${o.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function u2e(){return{localeError:K2t()}}var J2t=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(o){return t[o]??null}let n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},r={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${o.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`}case"invalid_value":return o.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${ze(o.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${i.prefix}"`:i.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${i.suffix}"`:i.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${i.includes}"`:i.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${i.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${o.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${ve(o.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function X9(){return{localeError:J2t()}}function d2e(){return X9()}var Y2t=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(o){return t[o]??null}let n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${o.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${i}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`}case"invalid_value":return o.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${ze(o.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${ve(o.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=o.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(o.origin),c=a?.unit??"\uC694\uC18C";return a?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()}${c} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()} ${i}${s}`}case"too_small":{let i=o.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(o.origin),c=a?.unit??"\uC694\uC18C";return a?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()}${c} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()} ${i}${s}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:i.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${i.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[i.format]??o.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${o.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${ve(o.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${o.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${o.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function p2e(){return{localeError:Y2t()}}var DR=t=>t.charAt(0).toUpperCase()+t.slice(1);function f2e(t){let e=Math.abs(t),n=e%10,r=e%100;return r>=11&&r<=19||n===0?"many":n===1?"one":"few"}var Q2t=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(o,i,s,a){let c=t[o]??null;return c===null?c:{unit:c.unit[i],verb:c.verb[a][s?"inclusive":"notInclusive"]}}let n={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},r={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Gautas tipas ${a}, o tik\u0117tasi - instanceof ${o.expected}`:`Gautas tipas ${a}, o tik\u0117tasi - ${i}`}case"invalid_value":return o.values.length===1?`Privalo b\u016Bti ${ze(o.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${ve(o.values,"|")} pasirinkim\u0173`;case"too_big":{let i=r[o.origin]??o.origin,s=e(o.origin,f2e(Number(o.maximum)),o.inclusive??!1,"smaller");if(s?.verb)return`${DR(i??o.origin??"reik\u0161m\u0117")} ${s.verb} ${o.maximum.toString()} ${s.unit??"element\u0173"}`;let a=o.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${DR(i??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${o.maximum.toString()} ${s?.unit}`}case"too_small":{let i=r[o.origin]??o.origin,s=e(o.origin,f2e(Number(o.minimum)),o.inclusive??!1,"bigger");if(s?.verb)return`${DR(i??o.origin??"reik\u0161m\u0117")} ${s.verb} ${o.minimum.toString()} ${s.unit??"element\u0173"}`;let a=o.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${DR(i??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${o.minimum.toString()} ${s?.unit}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${i.prefix}"`:i.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${i.includes}"`:i.format==="regex"?`Eilut\u0117 privalo atitikti ${i.pattern}`:`Neteisingas ${n[i.format]??o.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${o.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${o.keys.length>1?"i":"as"} rakt${o.keys.length>1?"ai":"as"}: ${ve(o.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let i=r[o.origin]??o.origin;return`${DR(i??o.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};function m2e(){return{localeError:Q2t()}}var X2t=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(o){return t[o]??null}let n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},r={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${o.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`}case"invalid_value":return o.values.length===1?`Invalid input: expected ${ze(o.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${o.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${o.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function h2e(){return{localeError:X2t()}}var Z2t=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(o){return t[o]??null}let n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"nombor"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Input tidak sah: dijangka instanceof ${o.expected}, diterima ${a}`:`Input tidak sah: dijangka ${i}, diterima ${a}`}case"invalid_value":return o.values.length===1?`Input tidak sah: dijangka ${ze(o.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Terlalu besar: dijangka ${o.origin??"nilai"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${o.origin??"nilai"} adalah ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Terlalu kecil: dijangka ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${o.origin} adalah ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${n[i.format]??o.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ve(o.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${o.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${o.origin}`;default:return"Input tidak sah"}}};function g2e(){return{localeError:Z2t()}}var eAt=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(o){return t[o]??null}let n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r={nan:"NaN",number:"getal"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ongeldige invoer: verwacht instanceof ${o.expected}, ontving ${a}`:`Ongeldige invoer: verwacht ${i}, ontving ${a}`}case"invalid_value":return o.values.length===1?`Ongeldige invoer: verwacht ${ze(o.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin),a=o.origin==="date"?"laat":o.origin==="string"?"lang":"groot";return s?`Te ${a}: verwacht dat ${o.origin??"waarde"} ${i}${o.maximum.toString()} ${s.unit??"elementen"} ${s.verb}`:`Te ${a}: verwacht dat ${o.origin??"waarde"} ${i}${o.maximum.toString()} is`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin),a=o.origin==="date"?"vroeg":o.origin==="string"?"kort":"klein";return s?`Te ${a}: verwacht dat ${o.origin} ${i}${o.minimum.toString()} ${s.unit} ${s.verb}`:`Te ${a}: verwacht dat ${o.origin} ${i}${o.minimum.toString()} is`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${o.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${o.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${o.origin}`;default:return"Ongeldige invoer"}}};function y2e(){return{localeError:eAt()}}var tAt=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(o){return t[o]??null}let n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"tall",array:"liste"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ugyldig input: forventet instanceof ${o.expected}, fikk ${a}`:`Ugyldig input: forventet ${i}, fikk ${a}`}case"invalid_value":return o.values.length===1?`Ugyldig verdi: forventet ${ze(o.values[0])}`:`Ugyldig valg: forventet en av ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${n[i.format]??o.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${o.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${o.origin}`;default:return"Ugyldig input"}}};function b2e(){return{localeError:tAt()}}var nAt=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(o){return t[o]??null}let n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},r={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`F\xE2sit giren: umulan instanceof ${o.expected}, al\u0131nan ${a}`:`F\xE2sit giren: umulan ${i}, al\u0131nan ${a}`}case"invalid_value":return o.values.length===1?`F\xE2sit giren: umulan ${ze(o.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let i=o;return i.format==="starts_with"?`F\xE2sit metin: "${i.prefix}" ile ba\u015Flamal\u0131.`:i.format==="ends_with"?`F\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\xE2sit metin: "${i.includes}" ihtiv\xE2 etmeli.`:i.format==="regex"?`F\xE2sit metin: ${i.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[i.format]??o.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${o.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${o.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function _2e(){return{localeError:nAt()}}var rAt=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(o){return t[o]??null}let n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},r={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${o.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${i} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case"invalid_value":return o.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${ze(o.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${ve(o.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0648\u064A`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0648\u064A`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:i.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:i.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${i.includes}" \u0648\u0644\u0631\u064A`:i.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${i.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[i.format]??o.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${o.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${o.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${o.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${o.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function S2e(){return{localeError:rAt()}}var oAt=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(o){return t[o]??null}let n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},r={nan:"NaN",number:"liczba",array:"tablica"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${o.expected}, otrzymano ${a}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${i}, otrzymano ${a}`}case"invalid_value":return o.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${ze(o.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${i.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[i.format]??o.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${o.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${o.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${o.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function v2e(){return{localeError:oAt()}}var iAt=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(o){return t[o]??null}let n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},r={nan:"NaN",number:"n\xFAmero",null:"nulo"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Tipo inv\xE1lido: esperado instanceof ${o.expected}, recebido ${a}`:`Tipo inv\xE1lido: esperado ${i}, recebido ${a}`}case"invalid_value":return o.values.length===1?`Entrada inv\xE1lida: esperado ${ze(o.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Muito grande: esperado que ${o.origin??"valor"} tivesse ${i}${o.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${o.origin??"valor"} fosse ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Muito pequeno: esperado que ${o.origin} tivesse ${i}${o.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${o.origin} fosse ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${i.pattern}`:`${n[i.format]??o.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${o.divisor}`;case"unrecognized_keys":return`Chave${o.keys.length>1?"s":""} desconhecida${o.keys.length>1?"s":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${o.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${o.origin}`;default:return"Campo inv\xE1lido"}}};function E2e(){return{localeError:iAt()}}function A2e(t,e,n,r){let o=Math.abs(t),i=o%10,s=o%100;return s>=11&&s<=19?r:i===1?e:i>=2&&i<=4?n:r}var sAt=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(o){return t[o]??null}let n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},r={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${i}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`}case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${ze(o.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);if(s){let a=Number(o.maximum),c=A2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);if(s){let a=Number(o.minimum),c=A2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${o.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0438":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function x2e(){return{localeError:sAt()}}var aAt=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(o){return t[o]??null}let n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},r={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${o.expected}, prejeto ${a}`:`Neveljaven vnos: pri\u010Dakovano ${i}, prejeto ${a}`}case"invalid_value":return o.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${ze(o.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} imelo ${i}${o.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${o.origin} imelo ${i}${o.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${n[i.format]??o.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${o.divisor}`;case"unrecognized_keys":return`Neprepoznan${o.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${o.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${o.origin}`;default:return"Neveljaven vnos"}}};function w2e(){return{localeError:aAt()}}var cAt=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(o){return t[o]??null}let n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r={nan:"NaN",number:"antal",array:"lista"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${o.expected}, fick ${a}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${i}, fick ${a}`}case"invalid_value":return o.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${ze(o.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${n[i.format]??o.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${ve(o.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${o.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${o.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function T2e(){return{localeError:cAt()}}var lAt=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(o){return t[o]??null}let n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},r={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${o.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`}case"invalid_value":return o.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ze(o.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ve(o.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${i.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${o.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${o.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function I2e(){return{localeError:lAt()}}var uAt=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(o){return t[o]??null}let n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},r={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${o.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${i} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`}case"invalid_value":return o.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${ze(o.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(o.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(o.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${i.suffix}"`:i.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${i.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:i.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${i.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${o.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${ve(o.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function R2e(){return{localeError:uAt()}}var dAt=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(o){return t[o]??null}let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${o.expected}, al\u0131nan ${a}`:`Ge\xE7ersiz de\u011Fer: beklenen ${i}, al\u0131nan ${a}`}case"invalid_value":return o.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${ze(o.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${i}${o.maximum.toString()} ${s.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ge\xE7ersiz metin: "${i.prefix}" ile ba\u015Flamal\u0131`:i.format==="ends_with"?`Ge\xE7ersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Ge\xE7ersiz metin: "${i.includes}" i\xE7ermeli`:i.format==="regex"?`Ge\xE7ersiz metin: ${i.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${n[i.format]??o.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${o.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${o.keys.length>1?"lar":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${o.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function C2e(){return{localeError:dAt()}}var pAt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(o){return t[o]??null}let n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},r={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${o.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${i}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`}case"invalid_value":return o.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${ze(o.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} \u0431\u0443\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0456":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${o.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function Z9(){return{localeError:pAt()}}function N2e(){return Z9()}var fAt=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(o){return t[o]??null}let n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},r={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${o.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${i} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case"invalid_value":return o.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${ze(o.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${ve(o.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${o.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u06D2 ${i}${o.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u0627 ${i}${o.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${i.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${o.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${o.keys.length>1?"\u0632":""}: ${ve(o.keys,"\u060C ")}`;case"invalid_key":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function O2e(){return{localeError:fAt()}}var mAt=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(o){return t[o]??null}let n={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},r={nan:"NaN",number:"raqam",array:"massiv"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${o.expected}, qabul qilingan ${a}`:`Noto\u2018g\u2018ri kirish: kutilgan ${i}, qabul qilingan ${a}`}case"invalid_value":return o.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${ze(o.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Juda katta: kutilgan ${o.origin??"qiymat"} ${i}${o.maximum.toString()} ${s.unit} ${s.verb}`:`Juda katta: kutilgan ${o.origin??"qiymat"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Juda kichik: kutilgan ${o.origin} ${i}${o.minimum.toString()} ${s.unit} ${s.verb}`:`Juda kichik: kutilgan ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${i.prefix}" bilan boshlanishi kerak`:i.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${i.suffix}" bilan tugashi kerak`:i.format==="includes"?`Noto\u2018g\u2018ri satr: "${i.includes}" ni o\u2018z ichiga olishi kerak`:i.format==="regex"?`Noto\u2018g\u2018ri satr: ${i.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${n[i.format]??o.format}`}case"not_multiple_of":return`Noto\u2018g\u2018ri raqam: ${o.divisor} ning karralisi bo\u2018lishi kerak`;case"unrecognized_keys":return`Noma\u2019lum kalit${o.keys.length>1?"lar":""}: ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} dagi kalit noto\u2018g\u2018ri`;case"invalid_union":return"Noto\u2018g\u2018ri kirish";case"invalid_element":return`${o.origin} da noto\u2018g\u2018ri qiymat`;default:return"Noto\u2018g\u2018ri kirish"}}};function P2e(){return{localeError:mAt()}}var hAt=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(o){return t[o]??null}let n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},r={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${o.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${i}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`}case"invalid_value":return o.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${ze(o.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${i.pattern}`:`${n[i.format]??o.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${o.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${ve(o.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function D2e(){return{localeError:hAt()}}var gAt=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(o){return t[o]??null}let n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},r={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${o.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${i}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`}case"invalid_value":return o.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${ze(o.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.prefix}" \u5F00\u5934`:i.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.suffix}" \u7ED3\u5C3E`:i.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${i.pattern}`:`\u65E0\u6548${n[i.format]??o.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${o.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${ve(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${o.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function k2e(){return{localeError:gAt()}}var yAt=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(o){return t[o]??null}let n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},r={nan:"NaN"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${o.expected}\uFF0C\u4F46\u6536\u5230 ${a}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${i}\uFF0C\u4F46\u6536\u5230 ${a}`}case"invalid_value":return o.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${ze(o.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.prefix}" \u958B\u982D`:i.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.suffix}" \u7D50\u5C3E`:i.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${i.pattern}`:`\u7121\u6548\u7684 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${o.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${o.keys.length>1?"\u5011":""}\uFF1A${ve(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function L2e(){return{localeError:yAt()}}var bAt=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(o){return t[o]??null}let n={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},r={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return o=>{switch(o.code){case"invalid_type":{let i=r[o.expected]??o.expected,s=qe(o.input),a=r[s]??s;return/^[A-Z]/.test(o.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${o.expected}, \xE0m\u1ECD\u0300 a r\xED ${a}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${i}, \xE0m\u1ECD\u0300 a r\xED ${a}`}case"invalid_value":return o.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${ze(o.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${ve(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=e(o.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin??"iye"} ${s.verb} ${i}${o.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.maximum}`}case"too_small":{let i=o.inclusive?">=":">",s=e(o.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin} ${s.verb} ${i}${o.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.minimum}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${i.prefix}"`:i.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${i.suffix}"`:i.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${i.includes}"`:i.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${i.pattern}`:`A\u1E63\xEC\u1E63e: ${n[i.format]??o.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${o.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${ve(o.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function M2e(){return{localeError:bAt()}}var B2e,gJ=Symbol("ZodOutput"),yJ=Symbol("ZodInput"),eD=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){let r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){let n=e._zod.parent;if(n){let r={...this.get(n)??{}};delete r.id;let o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function tD(){return new eD}(B2e=globalThis).__zod_globalRegistry??(B2e.__zod_globalRegistry=tD());var ys=globalThis.__zod_globalRegistry;function bJ(t,e){return new t({type:"string",...Xe(e)})}function _J(t,e){return new t({type:"string",coerce:!0,...Xe(e)})}function nD(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Xe(e)})}function LR(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Xe(e)})}function rD(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Xe(e)})}function oD(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Xe(e)})}function iD(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Xe(e)})}function sD(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Xe(e)})}function MR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Xe(e)})}function aD(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Xe(e)})}function cD(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Xe(e)})}function lD(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Xe(e)})}function uD(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Xe(e)})}function dD(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Xe(e)})}function pD(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Xe(e)})}function fD(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Xe(e)})}function mD(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Xe(e)})}function hD(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Xe(e)})}function SJ(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...Xe(e)})}function gD(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Xe(e)})}function yD(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Xe(e)})}function bD(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Xe(e)})}function _D(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Xe(e)})}function SD(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Xe(e)})}function vD(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Xe(e)})}var vJ={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function EJ(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Xe(e)})}function AJ(t,e){return new t({type:"string",format:"date",check:"string_format",...Xe(e)})}function xJ(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Xe(e)})}function wJ(t,e){return new t({type:"string",format:"duration",check:"string_format",...Xe(e)})}function TJ(t,e){return new t({type:"number",checks:[],...Xe(e)})}function IJ(t,e){return new t({type:"number",coerce:!0,checks:[],...Xe(e)})}function RJ(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Xe(e)})}function CJ(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...Xe(e)})}function NJ(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...Xe(e)})}function OJ(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...Xe(e)})}function PJ(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...Xe(e)})}function DJ(t,e){return new t({type:"boolean",...Xe(e)})}function kJ(t,e){return new t({type:"boolean",coerce:!0,...Xe(e)})}function LJ(t,e){return new t({type:"bigint",...Xe(e)})}function MJ(t,e){return new t({type:"bigint",coerce:!0,...Xe(e)})}function BJ(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Xe(e)})}function UJ(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Xe(e)})}function $J(t,e){return new t({type:"symbol",...Xe(e)})}function FJ(t,e){return new t({type:"undefined",...Xe(e)})}function HJ(t,e){return new t({type:"null",...Xe(e)})}function GJ(t){return new t({type:"any"})}function VJ(t){return new t({type:"unknown"})}function zJ(t,e){return new t({type:"never",...Xe(e)})}function jJ(t,e){return new t({type:"void",...Xe(e)})}function qJ(t,e){return new t({type:"date",...Xe(e)})}function WJ(t,e){return new t({type:"date",coerce:!0,...Xe(e)})}function KJ(t,e){return new t({type:"nan",...Xe(e)})}function jp(t,e){return new F9({check:"less_than",...Xe(e),value:t,inclusive:!1})}function ol(t,e){return new F9({check:"less_than",...Xe(e),value:t,inclusive:!0})}function qp(t,e){return new H9({check:"greater_than",...Xe(e),value:t,inclusive:!1})}function Ta(t,e){return new H9({check:"greater_than",...Xe(e),value:t,inclusive:!0})}function ED(t){return qp(0,t)}function AD(t){return jp(0,t)}function xD(t){return ol(0,t)}function wD(t){return Ta(0,t)}function d0(t,e){return new HW({check:"multiple_of",...Xe(e),value:t})}function p0(t,e){return new zW({check:"max_size",...Xe(e),maximum:t})}function Wp(t,e){return new jW({check:"min_size",...Xe(e),minimum:t})}function wb(t,e){return new qW({check:"size_equals",...Xe(e),size:t})}function Tb(t,e){return new WW({check:"max_length",...Xe(e),maximum:t})}function Am(t,e){return new KW({check:"min_length",...Xe(e),minimum:t})}function Ib(t,e){return new JW({check:"length_equals",...Xe(e),length:t})}function a2(t,e){return new YW({check:"string_format",format:"regex",...Xe(e),pattern:t})}function c2(t){return new QW({check:"string_format",format:"lowercase",...Xe(t)})}function l2(t){return new XW({check:"string_format",format:"uppercase",...Xe(t)})}function u2(t,e){return new ZW({check:"string_format",format:"includes",...Xe(e),includes:t})}function d2(t,e){return new eK({check:"string_format",format:"starts_with",...Xe(e),prefix:t})}function p2(t,e){return new tK({check:"string_format",format:"ends_with",...Xe(e),suffix:t})}function TD(t,e,n){return new nK({check:"property",property:t,schema:e,...Xe(n)})}function f2(t,e){return new rK({check:"mime_type",mime:t,...Xe(e)})}function Ld(t){return new oK({check:"overwrite",tx:t})}function m2(t){return Ld(e=>e.normalize(t))}function h2(){return Ld(t=>t.trim())}function g2(){return Ld(t=>t.toLowerCase())}function y2(){return Ld(t=>t.toUpperCase())}function b2(){return Ld(t=>nW(t))}function JJ(t,e,n){return new t({type:"array",element:e,...Xe(n)})}function SAt(t,e,n){return new t({type:"union",options:e,...Xe(n)})}function vAt(t,e,n){return new t({type:"union",options:e,inclusive:!1,...Xe(n)})}function EAt(t,e,n,r){return new t({type:"union",options:n,discriminator:e,...Xe(r)})}function AAt(t,e,n){return new t({type:"intersection",left:e,right:n})}function xAt(t,e,n,r){let o=n instanceof pn,i=o?r:n,s=o?n:null;return new t({type:"tuple",items:e,rest:s,...Xe(i)})}function wAt(t,e,n,r){return new t({type:"record",keyType:e,valueType:n,...Xe(r)})}function TAt(t,e,n,r){return new t({type:"map",keyType:e,valueType:n,...Xe(r)})}function IAt(t,e,n){return new t({type:"set",valueType:e,...Xe(n)})}function RAt(t,e,n){let r=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new t({type:"enum",entries:r,...Xe(n)})}function CAt(t,e,n){return new t({type:"enum",entries:e,...Xe(n)})}function NAt(t,e,n){return new t({type:"literal",values:Array.isArray(e)?e:[e],...Xe(n)})}function YJ(t,e){return new t({type:"file",...Xe(e)})}function OAt(t,e){return new t({type:"transform",transform:e})}function PAt(t,e){return new t({type:"optional",innerType:e})}function DAt(t,e){return new t({type:"nullable",innerType:e})}function kAt(t,e,n){return new t({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():oW(n)}})}function LAt(t,e,n){return new t({type:"nonoptional",innerType:e,...Xe(n)})}function MAt(t,e){return new t({type:"success",innerType:e})}function BAt(t,e,n){return new t({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}function UAt(t,e,n){return new t({type:"pipe",in:e,out:n})}function $At(t,e){return new t({type:"readonly",innerType:e})}function FAt(t,e,n){return new t({type:"template_literal",parts:e,...Xe(n)})}function HAt(t,e){return new t({type:"lazy",getter:e})}function GAt(t,e){return new t({type:"promise",innerType:e})}function QJ(t,e,n){let r=Xe(n);return r.abort??(r.abort=!0),new t({type:"custom",check:"custom",fn:e,...r})}function XJ(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Xe(n)})}function ZJ(t){let e=U2e(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(e2(r,n.value,e._zod.def));else{let o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(e2(o))}},t(n.value,n)));return e}function U2e(t,e){let n=new Hr({check:"custom",...Xe(e)});return n._zod.check=t,n}function eY(t){let e=new Hr({check:"describe"});return e._zod.onattach=[n=>{let r=ys.get(n)??{};ys.add(n,{...r,description:t})}],e._zod.check=()=>{},e}function tY(t){let e=new Hr({check:"meta"});return e._zod.onattach=[n=>{let r=ys.get(n)??{};ys.add(n,{...r,...t})}],e._zod.check=()=>{},e}function nY(t,e){let n=Xe(e),r=n.truthy??["true","1","yes","on","y","enabled"],o=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(r=r.map(f=>typeof f=="string"?f.toLowerCase():f),o=o.map(f=>typeof f=="string"?f.toLowerCase():f));let i=new Set(r),s=new Set(o),a=t.Codec??PR,c=t.Boolean??NR,l=t.String??xb,u=new l({type:"string",error:n.error}),d=new c({type:"boolean",error:n.error}),p=new a({type:"pipe",in:u,out:d,transform:((f,h)=>{let m=f;return n.case!=="sensitive"&&(m=m.toLowerCase()),i.has(m)?!0:s.has(m)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...s],input:h.value,inst:p,continue:!1}),{})}),reverseTransform:((f,h)=>f===!0?r[0]||"true":o[0]||"false"),error:n.error});return p}function _2(t,e,n,r={}){let o=Xe(r),i={...Xe(r),check:"string_format",type:"string",format:e,fn:typeof n=="function"?n:a=>n.test(a),...o};return n instanceof RegExp&&(i.pattern=n),new t(i)}function f0(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ys,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function _r(t,e,n={path:[],schemaPath:[]}){var r;let o=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;let s={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,s);let a=t._zod.toJSONSchema?.();if(a)s.schema=a;else{let u={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,s.schema,u);else{let p=s.schema,f=e.processors[o.type];if(!f)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);f(t,e,p,u)}let d=t._zod.parent;d&&(s.ref||(s.ref=d),_r(d,e,u),e.seen.get(d).isParent=!0)}let c=e.metadataRegistry.get(t);return c&&Object.assign(s.schema,c),e.io==="input"&&Ia(t)&&(delete s.schema.examples,delete s.schema.default),e.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,e.seen.get(t).schema}function m0(t,e){let n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");let r=new Map;for(let s of t.seen.entries()){let a=t.metadataRegistry.get(s[0])?.id;if(a){let c=r.get(a);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(a,s[0])}}let o=s=>{let a=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(s[0])?.id,p=t.external.uri??(h=>h);if(d)return{ref:p(d)};let f=s[1].defId??s[1].schema.id??`schema${t.counter++}`;return s[1].defId=f,{defId:f,ref:`${p("__shared")}#/${a}/${f}`}}if(s[1]===n)return{ref:"#"};let l=`#/${a}/`,u=s[1].schema.id??`__schema${t.counter++}`;return{defId:u,ref:l+u}},i=s=>{if(s[1].schema.$ref)return;let a=s[1],{ref:c,defId:l}=o(s);a.def={...a.schema},l&&(a.defId=l);let u=a.schema;for(let d in u)delete u[d];u.$ref=c};if(t.cycles==="throw")for(let s of t.seen.entries()){let a=s[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let s of t.seen.entries()){let a=s[1];if(e===s[0]){i(s);continue}if(t.external){let l=t.external.registry.get(s[0])?.id;if(e!==s[0]&&l){i(s);continue}}if(t.metadataRegistry.get(s[0])?.id){i(s);continue}if(a.cycle){i(s);continue}if(a.count>1&&t.reused==="ref"){i(s);continue}}}function h0(t,e){let n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");let r=s=>{let a=t.seen.get(s);if(a.ref===null)return;let c=a.def??a.schema,l={...c},u=a.ref;if(a.ref=null,u){r(u);let p=t.seen.get(u),f=p.schema;if(f.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(f)):Object.assign(c,f),Object.assign(c,l),s._zod.parent===u)for(let m in c)m==="$ref"||m==="allOf"||m in l||delete c[m];if(f.$ref&&p.def)for(let m in c)m==="$ref"||m==="allOf"||m in p.def&&JSON.stringify(c[m])===JSON.stringify(p.def[m])&&delete c[m]}let d=s._zod.parent;if(d&&d!==u){r(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f]}t.override({zodSchema:s,jsonSchema:c,path:a.path??[]})};for(let s of[...t.seen.entries()].reverse())r(s[0]);let o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let s=t.external.registry.get(e)?.id;if(!s)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(s)}Object.assign(o,n.def??n.schema);let i=t.external?.defs??{};for(let s of t.seen.entries()){let a=s[1];a.def&&a.defId&&(i[a.defId]=a.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{let s=JSON.parse(JSON.stringify(o));return Object.defineProperty(s,"~standard",{value:{...e["~standard"],jsonSchema:{input:S2(e,"input",t.processors),output:S2(e,"output",t.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function Ia(t,e){let n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Ia(r.element,n);if(r.type==="set")return Ia(r.valueType,n);if(r.type==="lazy")return Ia(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Ia(r.innerType,n);if(r.type==="intersection")return Ia(r.left,n)||Ia(r.right,n);if(r.type==="record"||r.type==="map")return Ia(r.keyType,n)||Ia(r.valueType,n);if(r.type==="pipe")return Ia(r.in,n)||Ia(r.out,n);if(r.type==="object"){for(let o in r.shape)if(Ia(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(let o of r.options)if(Ia(o,n))return!0;return!1}if(r.type==="tuple"){for(let o of r.items)if(Ia(o,n))return!0;return!!(r.rest&&Ia(r.rest,n))}return!1}var rY=(t,e={})=>n=>{let r=f0({...n,processors:e});return _r(t,r),m0(r,t),h0(r,t)},S2=(t,e,n={})=>r=>{let{libraryOptions:o,target:i}=r??{},s=f0({...o??{},target:i,io:e,processors:n});return _r(t,s),m0(s,t),h0(s,t)};var VAt={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},oY=(t,e,n,r)=>{let o=n;o.type="string";let{minimum:i,maximum:s,format:a,patterns:c,contentEncoding:l}=t._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof s=="number"&&(o.maxLength=s),a&&(o.format=VAt[a]??a,o.format===""&&delete o.format,a==="time"&&delete o.format),l&&(o.contentEncoding=l),c&&c.size>0){let u=[...c];u.length===1?o.pattern=u[0].source:u.length>1&&(o.allOf=[...u.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},iY=(t,e,n,r)=>{let o=n,{minimum:i,maximum:s,format:a,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=t._zod.bag;typeof a=="string"&&a.includes("int")?o.type="integer":o.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=u,o.exclusiveMinimum=!0):o.exclusiveMinimum=u),typeof i=="number"&&(o.minimum=i,typeof u=="number"&&e.target!=="draft-04"&&(u>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=l,o.exclusiveMaximum=!0):o.exclusiveMaximum=l),typeof s=="number"&&(o.maximum=s,typeof l=="number"&&e.target!=="draft-04"&&(l<=s?delete o.maximum:delete o.exclusiveMaximum)),typeof c=="number"&&(o.multipleOf=c)},sY=(t,e,n,r)=>{n.type="boolean"},aY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},cY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},lY=(t,e,n,r)=>{e.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},uY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},dY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},pY=(t,e,n,r)=>{n.not={}},fY=(t,e,n,r)=>{},mY=(t,e,n,r)=>{},hY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},gY=(t,e,n,r)=>{let o=t._zod.def,i=_R(o.entries);i.every(s=>typeof s=="number")&&(n.type="number"),i.every(s=>typeof s=="string")&&(n.type="string"),n.enum=i},yY=(t,e,n,r)=>{let o=t._zod.def,i=[];for(let s of o.values)if(s===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(s))}else i.push(s);if(i.length!==0)if(i.length===1){let s=i[0];n.type=s===null?"null":typeof s,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[s]:n.const=s}else i.every(s=>typeof s=="number")&&(n.type="number"),i.every(s=>typeof s=="string")&&(n.type="string"),i.every(s=>typeof s=="boolean")&&(n.type="boolean"),i.every(s=>s===null)&&(n.type="null"),n.enum=i},bY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},_Y=(t,e,n,r)=>{let o=n,i=t._zod.pattern;if(!i)throw new Error("Pattern not found in template literal");o.type="string",o.pattern=i.source},SY=(t,e,n,r)=>{let o=n,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:a,mime:c}=t._zod.bag;s!==void 0&&(i.minLength=s),a!==void 0&&(i.maxLength=a),c?c.length===1?(i.contentMediaType=c[0],Object.assign(o,i)):(Object.assign(o,i),o.anyOf=c.map(l=>({contentMediaType:l}))):Object.assign(o,i)},vY=(t,e,n,r)=>{n.type="boolean"},EY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},AY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},xY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},wY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},TY=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},IY=(t,e,n,r)=>{let o=n,i=t._zod.def,{minimum:s,maximum:a}=t._zod.bag;typeof s=="number"&&(o.minItems=s),typeof a=="number"&&(o.maxItems=a),o.type="array",o.items=_r(i.element,e,{...r,path:[...r.path,"items"]})},RY=(t,e,n,r)=>{let o=n,i=t._zod.def;o.type="object",o.properties={};let s=i.shape;for(let l in s)o.properties[l]=_r(s[l],e,{...r,path:[...r.path,"properties",l]});let a=new Set(Object.keys(s)),c=new Set([...a].filter(l=>{let u=i.shape[l]._zod;return e.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(o.required=Array.from(c)),i.catchall?._zod.def.type==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=_r(i.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(o.additionalProperties=!1)},RD=(t,e,n,r)=>{let o=t._zod.def,i=o.inclusive===!1,s=o.options.map((a,c)=>_r(a,e,{...r,path:[...r.path,i?"oneOf":"anyOf",c]}));i?n.oneOf=s:n.anyOf=s},CY=(t,e,n,r)=>{let o=t._zod.def,i=_r(o.left,e,{...r,path:[...r.path,"allOf",0]}),s=_r(o.right,e,{...r,path:[...r.path,"allOf",1]}),a=l=>"allOf"in l&&Object.keys(l).length===1,c=[...a(i)?i.allOf:[i],...a(s)?s.allOf:[s]];n.allOf=c},NY=(t,e,n,r)=>{let o=n,i=t._zod.def;o.type="array";let s=e.target==="draft-2020-12"?"prefixItems":"items",a=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=i.items.map((p,f)=>_r(p,e,{...r,path:[...r.path,s,f]})),l=i.rest?_r(i.rest,e,{...r,path:[...r.path,a,...e.target==="openapi-3.0"?[i.items.length]:[]]}):null;e.target==="draft-2020-12"?(o.prefixItems=c,l&&(o.items=l)):e.target==="openapi-3.0"?(o.items={anyOf:c},l&&o.items.anyOf.push(l),o.minItems=c.length,l||(o.maxItems=c.length)):(o.items=c,l&&(o.additionalItems=l));let{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(o.minItems=u),typeof d=="number"&&(o.maxItems=d)},OY=(t,e,n,r)=>{let o=n,i=t._zod.def;o.type="object";let s=i.keyType,c=s._zod.bag?.patterns;if(i.mode==="loose"&&c&&c.size>0){let u=_r(i.valueType,e,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(let d of c)o.patternProperties[d.source]=u}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(o.propertyNames=_r(i.keyType,e,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=_r(i.valueType,e,{...r,path:[...r.path,"additionalProperties"]});let l=s._zod.values;if(l){let u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(o.required=u)}},PY=(t,e,n,r)=>{let o=t._zod.def,i=_r(o.innerType,e,r),s=e.seen.get(t);e.target==="openapi-3.0"?(s.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},DY=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType},kY=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},LY=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},MY=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType;let s;try{s=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=s},BY=(t,e,n,r)=>{let o=t._zod.def,i=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;_r(i,e,r);let s=e.seen.get(t);s.ref=i},UY=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType,n.readOnly=!0},$Y=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType},CD=(t,e,n,r)=>{let o=t._zod.def;_r(o.innerType,e,r);let i=e.seen.get(t);i.ref=o.innerType},FY=(t,e,n,r)=>{let o=t._zod.innerType;_r(o,e,r);let i=e.seen.get(t);i.ref=o},ID={string:oY,number:iY,boolean:sY,bigint:aY,symbol:cY,null:lY,undefined:uY,void:dY,never:pY,any:fY,unknown:mY,date:hY,enum:gY,literal:yY,nan:bY,template_literal:_Y,file:SY,success:vY,custom:EY,function:AY,transform:xY,map:wY,set:TY,array:IY,object:RY,union:RD,intersection:CY,tuple:NY,record:OY,nullable:PY,nonoptional:DY,default:kY,prefault:LY,catch:MY,pipe:BY,readonly:UY,promise:$Y,optional:CD,lazy:FY};function ND(t,e){if("_idmap"in t){let r=t,o=f0({...e,processors:ID}),i={};for(let c of r._idmap.entries()){let[l,u]=c;_r(u,o)}let s={},a={registry:r,uri:e?.uri,defs:i};o.external=a;for(let c of r._idmap.entries()){let[l,u]=c;m0(o,u),s[l]=h0(o,u)}if(Object.keys(i).length>0){let c=o.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[c]:i}}return{schemas:s}}let n=f0({...e,processors:ID});return _r(t,n),m0(n,t),h0(n,t)}var OD=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let n=e?.target??"draft-2020-12";n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),this.ctx=f0({processors:ID,target:n,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,n={path:[],schemaPath:[]}){return _r(e,this.ctx,n)}emit(e,n){n&&(n.cycles&&(this.ctx.cycles=n.cycles),n.reused&&(this.ctx.reused=n.reused),n.external&&(this.ctx.external=n.external)),m0(this.ctx,e);let r=h0(this.ctx,e),{"~standard":o,...i}=r;return i}};var $2e={};var BR={};kn(BR,{ZodAny:()=>uQ,ZodArray:()=>mQ,ZodBase64:()=>XD,ZodBase64URL:()=>ZD,ZodBigInt:()=>I2,ZodBigIntFormat:()=>nk,ZodBoolean:()=>T2,ZodCIDRv4:()=>YD,ZodCIDRv6:()=>QD,ZodCUID:()=>VD,ZodCUID2:()=>zD,ZodCatch:()=>MQ,ZodCodec:()=>uk,ZodCustom:()=>KR,ZodCustomStringFormat:()=>x2,ZodDate:()=>VR,ZodDefault:()=>NQ,ZodDiscriminatedUnion:()=>gQ,ZodE164:()=>ek,ZodEmail:()=>FD,ZodEmoji:()=>HD,ZodEnum:()=>E2,ZodExactOptional:()=>IQ,ZodFile:()=>wQ,ZodFunction:()=>jQ,ZodGUID:()=>UR,ZodIPv4:()=>KD,ZodIPv6:()=>JD,ZodIntersection:()=>yQ,ZodJWT:()=>tk,ZodKSUID:()=>WD,ZodLazy:()=>GQ,ZodLiteral:()=>xQ,ZodMAC:()=>rQ,ZodMap:()=>EQ,ZodNaN:()=>UQ,ZodNanoID:()=>GD,ZodNever:()=>pQ,ZodNonOptional:()=>ck,ZodNull:()=>cQ,ZodNullable:()=>CQ,ZodNumber:()=>w2,ZodNumberFormat:()=>Cb,ZodObject:()=>jR,ZodOptional:()=>ak,ZodPipe:()=>lk,ZodPrefault:()=>PQ,ZodPromise:()=>zQ,ZodReadonly:()=>$Q,ZodRecord:()=>WR,ZodSet:()=>AQ,ZodString:()=>A2,ZodStringFormat:()=>Dr,ZodSuccess:()=>LQ,ZodSymbol:()=>sQ,ZodTemplateLiteral:()=>HQ,ZodTransform:()=>TQ,ZodTuple:()=>_Q,ZodType:()=>Sn,ZodULID:()=>jD,ZodURL:()=>GR,ZodUUID:()=>Kp,ZodUndefined:()=>aQ,ZodUnion:()=>qR,ZodUnknown:()=>dQ,ZodVoid:()=>fQ,ZodXID:()=>qD,ZodXor:()=>hQ,_ZodString:()=>$D,_default:()=>OQ,_function:()=>qAe,any:()=>xAe,array:()=>zR,base64:()=>aAe,base64url:()=>cAe,bigint:()=>_Ae,boolean:()=>iQ,catch:()=>BQ,check:()=>WAe,cidrv4:()=>iAe,cidrv6:()=>sAe,codec:()=>VAe,cuid:()=>Q2e,cuid2:()=>X2e,custom:()=>KAe,date:()=>TAe,describe:()=>JAe,discriminatedUnion:()=>PAe,e164:()=>lAe,email:()=>H2e,emoji:()=>J2e,enum:()=>ik,exactOptional:()=>RQ,file:()=>$Ae,float32:()=>hAe,float64:()=>gAe,function:()=>qAe,guid:()=>G2e,hash:()=>mAe,hex:()=>fAe,hostname:()=>pAe,httpUrl:()=>K2e,instanceof:()=>QAe,int:()=>UD,int32:()=>yAe,int64:()=>SAe,intersection:()=>bQ,ipv4:()=>nAe,ipv6:()=>oAe,json:()=>ZAe,jwt:()=>uAe,keyof:()=>IAe,ksuid:()=>tAe,lazy:()=>VQ,literal:()=>UAe,looseObject:()=>NAe,looseRecord:()=>kAe,mac:()=>rAe,map:()=>LAe,meta:()=>YAe,nan:()=>GAe,nanoid:()=>Y2e,nativeEnum:()=>BAe,never:()=>rk,nonoptional:()=>kQ,null:()=>lQ,nullable:()=>FR,nullish:()=>FAe,number:()=>oQ,object:()=>RAe,optional:()=>$R,partialRecord:()=>DAe,pipe:()=>HR,prefault:()=>DQ,preprocess:()=>exe,promise:()=>jAe,readonly:()=>FQ,record:()=>vQ,refine:()=>qQ,set:()=>MAe,strictObject:()=>CAe,string:()=>BD,stringFormat:()=>dAe,stringbool:()=>XAe,success:()=>HAe,superRefine:()=>WQ,symbol:()=>EAe,templateLiteral:()=>zAe,transform:()=>sk,tuple:()=>SQ,uint32:()=>bAe,uint64:()=>vAe,ulid:()=>Z2e,undefined:()=>AAe,union:()=>ok,unknown:()=>Rb,url:()=>W2e,uuid:()=>V2e,uuidv4:()=>z2e,uuidv6:()=>j2e,uuidv7:()=>q2e,void:()=>wAe,xid:()=>eAe,xor:()=>OAe});var PD={};kn(PD,{endsWith:()=>p2,gt:()=>qp,gte:()=>Ta,includes:()=>u2,length:()=>Ib,lowercase:()=>c2,lt:()=>jp,lte:()=>ol,maxLength:()=>Tb,maxSize:()=>p0,mime:()=>f2,minLength:()=>Am,minSize:()=>Wp,multipleOf:()=>d0,negative:()=>AD,nonnegative:()=>wD,nonpositive:()=>xD,normalize:()=>m2,overwrite:()=>Ld,positive:()=>ED,property:()=>TD,regex:()=>a2,size:()=>wb,slugify:()=>b2,startsWith:()=>d2,toLowerCase:()=>g2,toUpperCase:()=>y2,trim:()=>h2,uppercase:()=>l2});var v2={};kn(v2,{ZodISODate:()=>kD,ZodISODateTime:()=>DD,ZodISODuration:()=>MD,ZodISOTime:()=>LD,date:()=>GY,datetime:()=>HY,duration:()=>zY,time:()=>VY});var DD=ce("ZodISODateTime",(t,e)=>{bK.init(t,e),Dr.init(t,e)});function HY(t){return EJ(DD,t)}var kD=ce("ZodISODate",(t,e)=>{_K.init(t,e),Dr.init(t,e)});function GY(t){return AJ(kD,t)}var LD=ce("ZodISOTime",(t,e)=>{SK.init(t,e),Dr.init(t,e)});function VY(t){return xJ(LD,t)}var MD=ce("ZodISODuration",(t,e)=>{vK.init(t,e),Dr.init(t,e)});function zY(t){return wJ(MD,t)}var F2e=(t,e)=>{xR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>TR(t,n)},flatten:{value:n=>wR(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,XE,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,XE,2)}},isEmpty:{get(){return t.issues.length===0}}})},jAt=ce("ZodError",F2e),cc=ce("ZodError",F2e,{Parent:Error});var jY=t2(cc),qY=n2(cc),WY=r2(cc),KY=o2(cc),JY=N9(cc),YY=O9(cc),QY=P9(cc),XY=D9(cc),ZY=k9(cc),eQ=L9(cc),tQ=M9(cc),nQ=B9(cc);var Sn=ce("ZodType",(t,e)=>(pn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:S2(t,"input"),output:S2(t,"output")}}),t.toJSONSchema=rY(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Ye.mergeDefs(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>wa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>jY(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>WY(t,n,r),t.parseAsync=async(n,r)=>qY(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>KY(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>JY(t,n,r),t.decode=(n,r)=>YY(t,n,r),t.encodeAsync=async(n,r)=>QY(t,n,r),t.decodeAsync=async(n,r)=>XY(t,n,r),t.safeEncode=(n,r)=>ZY(t,n,r),t.safeDecode=(n,r)=>eQ(t,n,r),t.safeEncodeAsync=async(n,r)=>tQ(t,n,r),t.safeDecodeAsync=async(n,r)=>nQ(t,n,r),t.refine=(n,r)=>t.check(qQ(n,r)),t.superRefine=n=>t.check(WQ(n)),t.overwrite=n=>t.check(Ld(n)),t.optional=()=>$R(t),t.exactOptional=()=>RQ(t),t.nullable=()=>FR(t),t.nullish=()=>$R(FR(t)),t.nonoptional=n=>kQ(t,n),t.array=()=>zR(t),t.or=n=>ok([t,n]),t.and=n=>bQ(t,n),t.transform=n=>HR(t,sk(n)),t.default=n=>OQ(t,n),t.prefault=n=>DQ(t,n),t.catch=n=>BQ(t,n),t.pipe=n=>HR(t,n),t.readonly=()=>FQ(t),t.describe=n=>{let r=t.clone();return ys.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return ys.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ys.get(t);let r=t.clone();return ys.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),$D=ce("_ZodString",(t,e)=>{xb.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(r,o,i)=>oY(t,r,o,i);let n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(a2(...r)),t.includes=(...r)=>t.check(u2(...r)),t.startsWith=(...r)=>t.check(d2(...r)),t.endsWith=(...r)=>t.check(p2(...r)),t.min=(...r)=>t.check(Am(...r)),t.max=(...r)=>t.check(Tb(...r)),t.length=(...r)=>t.check(Ib(...r)),t.nonempty=(...r)=>t.check(Am(1,...r)),t.lowercase=r=>t.check(c2(r)),t.uppercase=r=>t.check(l2(r)),t.trim=()=>t.check(h2()),t.normalize=(...r)=>t.check(m2(...r)),t.toLowerCase=()=>t.check(g2()),t.toUpperCase=()=>t.check(y2()),t.slugify=()=>t.check(b2())}),A2=ce("ZodString",(t,e)=>{xb.init(t,e),$D.init(t,e),t.email=n=>t.check(nD(FD,n)),t.url=n=>t.check(MR(GR,n)),t.jwt=n=>t.check(vD(tk,n)),t.emoji=n=>t.check(aD(HD,n)),t.guid=n=>t.check(LR(UR,n)),t.uuid=n=>t.check(rD(Kp,n)),t.uuidv4=n=>t.check(oD(Kp,n)),t.uuidv6=n=>t.check(iD(Kp,n)),t.uuidv7=n=>t.check(sD(Kp,n)),t.nanoid=n=>t.check(cD(GD,n)),t.guid=n=>t.check(LR(UR,n)),t.cuid=n=>t.check(lD(VD,n)),t.cuid2=n=>t.check(uD(zD,n)),t.ulid=n=>t.check(dD(jD,n)),t.base64=n=>t.check(bD(XD,n)),t.base64url=n=>t.check(_D(ZD,n)),t.xid=n=>t.check(pD(qD,n)),t.ksuid=n=>t.check(fD(WD,n)),t.ipv4=n=>t.check(mD(KD,n)),t.ipv6=n=>t.check(hD(JD,n)),t.cidrv4=n=>t.check(gD(YD,n)),t.cidrv6=n=>t.check(yD(QD,n)),t.e164=n=>t.check(SD(ek,n)),t.datetime=n=>t.check(HY(n)),t.date=n=>t.check(GY(n)),t.time=n=>t.check(VY(n)),t.duration=n=>t.check(zY(n))});function BD(t){return bJ(A2,t)}var Dr=ce("ZodStringFormat",(t,e)=>{Pr.init(t,e),$D.init(t,e)}),FD=ce("ZodEmail",(t,e)=>{lK.init(t,e),Dr.init(t,e)});function H2e(t){return nD(FD,t)}var UR=ce("ZodGUID",(t,e)=>{aK.init(t,e),Dr.init(t,e)});function G2e(t){return LR(UR,t)}var Kp=ce("ZodUUID",(t,e)=>{cK.init(t,e),Dr.init(t,e)});function V2e(t){return rD(Kp,t)}function z2e(t){return oD(Kp,t)}function j2e(t){return iD(Kp,t)}function q2e(t){return sD(Kp,t)}var GR=ce("ZodURL",(t,e)=>{uK.init(t,e),Dr.init(t,e)});function W2e(t){return MR(GR,t)}function K2e(t){return MR(GR,{protocol:/^https?$/,hostname:Gl.domain,...Ye.normalizeParams(t)})}var HD=ce("ZodEmoji",(t,e)=>{dK.init(t,e),Dr.init(t,e)});function J2e(t){return aD(HD,t)}var GD=ce("ZodNanoID",(t,e)=>{pK.init(t,e),Dr.init(t,e)});function Y2e(t){return cD(GD,t)}var VD=ce("ZodCUID",(t,e)=>{fK.init(t,e),Dr.init(t,e)});function Q2e(t){return lD(VD,t)}var zD=ce("ZodCUID2",(t,e)=>{mK.init(t,e),Dr.init(t,e)});function X2e(t){return uD(zD,t)}var jD=ce("ZodULID",(t,e)=>{hK.init(t,e),Dr.init(t,e)});function Z2e(t){return dD(jD,t)}var qD=ce("ZodXID",(t,e)=>{gK.init(t,e),Dr.init(t,e)});function eAe(t){return pD(qD,t)}var WD=ce("ZodKSUID",(t,e)=>{yK.init(t,e),Dr.init(t,e)});function tAe(t){return fD(WD,t)}var KD=ce("ZodIPv4",(t,e)=>{EK.init(t,e),Dr.init(t,e)});function nAe(t){return mD(KD,t)}var rQ=ce("ZodMAC",(t,e)=>{xK.init(t,e),Dr.init(t,e)});function rAe(t){return SJ(rQ,t)}var JD=ce("ZodIPv6",(t,e)=>{AK.init(t,e),Dr.init(t,e)});function oAe(t){return hD(JD,t)}var YD=ce("ZodCIDRv4",(t,e)=>{wK.init(t,e),Dr.init(t,e)});function iAe(t){return gD(YD,t)}var QD=ce("ZodCIDRv6",(t,e)=>{TK.init(t,e),Dr.init(t,e)});function sAe(t){return yD(QD,t)}var XD=ce("ZodBase64",(t,e)=>{RK.init(t,e),Dr.init(t,e)});function aAe(t){return bD(XD,t)}var ZD=ce("ZodBase64URL",(t,e)=>{CK.init(t,e),Dr.init(t,e)});function cAe(t){return _D(ZD,t)}var ek=ce("ZodE164",(t,e)=>{NK.init(t,e),Dr.init(t,e)});function lAe(t){return SD(ek,t)}var tk=ce("ZodJWT",(t,e)=>{OK.init(t,e),Dr.init(t,e)});function uAe(t){return vD(tk,t)}var x2=ce("ZodCustomStringFormat",(t,e)=>{PK.init(t,e),Dr.init(t,e)});function dAe(t,e,n={}){return _2(x2,t,e,n)}function pAe(t){return _2(x2,"hostname",Gl.hostname,t)}function fAe(t){return _2(x2,"hex",Gl.hex,t)}function mAe(t,e){let n=e?.enc??"hex",r=`${t}_${n}`,o=Gl[r];if(!o)throw new Error(`Unrecognized hash format: ${r}`);return _2(x2,r,o,e)}var w2=ce("ZodNumber",(t,e)=>{W9.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(r,o,i)=>iY(t,r,o,i),t.gt=(r,o)=>t.check(qp(r,o)),t.gte=(r,o)=>t.check(Ta(r,o)),t.min=(r,o)=>t.check(Ta(r,o)),t.lt=(r,o)=>t.check(jp(r,o)),t.lte=(r,o)=>t.check(ol(r,o)),t.max=(r,o)=>t.check(ol(r,o)),t.int=r=>t.check(UD(r)),t.safe=r=>t.check(UD(r)),t.positive=r=>t.check(qp(0,r)),t.nonnegative=r=>t.check(Ta(0,r)),t.negative=r=>t.check(jp(0,r)),t.nonpositive=r=>t.check(ol(0,r)),t.multipleOf=(r,o)=>t.check(d0(r,o)),t.step=(r,o)=>t.check(d0(r,o)),t.finite=()=>t;let n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function oQ(t){return TJ(w2,t)}var Cb=ce("ZodNumberFormat",(t,e)=>{DK.init(t,e),w2.init(t,e)});function UD(t){return RJ(Cb,t)}function hAe(t){return CJ(Cb,t)}function gAe(t){return NJ(Cb,t)}function yAe(t){return OJ(Cb,t)}function bAe(t){return PJ(Cb,t)}var T2=ce("ZodBoolean",(t,e)=>{NR.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>sY(t,n,r,o)});function iQ(t){return DJ(T2,t)}var I2=ce("ZodBigInt",(t,e)=>{K9.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(r,o,i)=>aY(t,r,o,i),t.gte=(r,o)=>t.check(Ta(r,o)),t.min=(r,o)=>t.check(Ta(r,o)),t.gt=(r,o)=>t.check(qp(r,o)),t.gte=(r,o)=>t.check(Ta(r,o)),t.min=(r,o)=>t.check(Ta(r,o)),t.lt=(r,o)=>t.check(jp(r,o)),t.lte=(r,o)=>t.check(ol(r,o)),t.max=(r,o)=>t.check(ol(r,o)),t.positive=r=>t.check(qp(BigInt(0),r)),t.negative=r=>t.check(jp(BigInt(0),r)),t.nonpositive=r=>t.check(ol(BigInt(0),r)),t.nonnegative=r=>t.check(Ta(BigInt(0),r)),t.multipleOf=(r,o)=>t.check(d0(r,o));let n=t._zod.bag;t.minValue=n.minimum??null,t.maxValue=n.maximum??null,t.format=n.format??null});function _Ae(t){return LJ(I2,t)}var nk=ce("ZodBigIntFormat",(t,e)=>{kK.init(t,e),I2.init(t,e)});function SAe(t){return BJ(nk,t)}function vAe(t){return UJ(nk,t)}var sQ=ce("ZodSymbol",(t,e)=>{LK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>cY(t,n,r,o)});function EAe(t){return $J(sQ,t)}var aQ=ce("ZodUndefined",(t,e)=>{MK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>uY(t,n,r,o)});function AAe(t){return FJ(aQ,t)}var cQ=ce("ZodNull",(t,e)=>{BK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>lY(t,n,r,o)});function lQ(t){return HJ(cQ,t)}var uQ=ce("ZodAny",(t,e)=>{UK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>fY(t,n,r,o)});function xAe(){return GJ(uQ)}var dQ=ce("ZodUnknown",(t,e)=>{$K.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>mY(t,n,r,o)});function Rb(){return VJ(dQ)}var pQ=ce("ZodNever",(t,e)=>{FK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>pY(t,n,r,o)});function rk(t){return zJ(pQ,t)}var fQ=ce("ZodVoid",(t,e)=>{HK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>dY(t,n,r,o)});function wAe(t){return jJ(fQ,t)}var VR=ce("ZodDate",(t,e)=>{GK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(r,o,i)=>hY(t,r,o,i),t.min=(r,o)=>t.check(Ta(r,o)),t.max=(r,o)=>t.check(ol(r,o));let n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function TAe(t){return qJ(VR,t)}var mQ=ce("ZodArray",(t,e)=>{VK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>IY(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(Am(n,r)),t.nonempty=n=>t.check(Am(1,n)),t.max=(n,r)=>t.check(Tb(n,r)),t.length=(n,r)=>t.check(Ib(n,r)),t.unwrap=()=>t.element});function zR(t,e){return JJ(mQ,t,e)}function IAe(t){let e=t._zod.def.shape;return ik(Object.keys(e))}var jR=ce("ZodObject",(t,e)=>{zK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>RY(t,n,r,o),Ye.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>ik(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Rb()}),t.loose=()=>t.clone({...t._zod.def,catchall:Rb()}),t.strict=()=>t.clone({...t._zod.def,catchall:rk()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Ye.extend(t,n),t.safeExtend=n=>Ye.safeExtend(t,n),t.merge=n=>Ye.merge(t,n),t.pick=n=>Ye.pick(t,n),t.omit=n=>Ye.omit(t,n),t.partial=(...n)=>Ye.partial(ak,t,n[0]),t.required=(...n)=>Ye.required(ck,t,n[0])});function RAe(t,e){let n={type:"object",shape:t??{},...Ye.normalizeParams(e)};return new jR(n)}function CAe(t,e){return new jR({type:"object",shape:t,catchall:rk(),...Ye.normalizeParams(e)})}function NAe(t,e){return new jR({type:"object",shape:t,catchall:Rb(),...Ye.normalizeParams(e)})}var qR=ce("ZodUnion",(t,e)=>{OR.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>RD(t,n,r,o),t.options=e.options});function ok(t,e){return new qR({type:"union",options:t,...Ye.normalizeParams(e)})}var hQ=ce("ZodXor",(t,e)=>{qR.init(t,e),jK.init(t,e),t._zod.processJSONSchema=(n,r,o)=>RD(t,n,r,o),t.options=e.options});function OAe(t,e){return new hQ({type:"union",options:t,inclusive:!1,...Ye.normalizeParams(e)})}var gQ=ce("ZodDiscriminatedUnion",(t,e)=>{qR.init(t,e),qK.init(t,e)});function PAe(t,e,n){return new gQ({type:"union",options:e,discriminator:t,...Ye.normalizeParams(n)})}var yQ=ce("ZodIntersection",(t,e)=>{WK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>CY(t,n,r,o)});function bQ(t,e){return new yQ({type:"intersection",left:t,right:e})}var _Q=ce("ZodTuple",(t,e)=>{J9.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>NY(t,n,r,o),t.rest=n=>t.clone({...t._zod.def,rest:n})});function SQ(t,e,n){let r=e instanceof pn,o=r?n:e,i=r?e:null;return new _Q({type:"tuple",items:t,rest:i,...Ye.normalizeParams(o)})}var WR=ce("ZodRecord",(t,e)=>{KK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>OY(t,n,r,o),t.keyType=e.keyType,t.valueType=e.valueType});function vQ(t,e,n){return new WR({type:"record",keyType:t,valueType:e,...Ye.normalizeParams(n)})}function DAe(t,e,n){let r=wa(t);return r._zod.values=void 0,new WR({type:"record",keyType:r,valueType:e,...Ye.normalizeParams(n)})}function kAe(t,e,n){return new WR({type:"record",keyType:t,valueType:e,mode:"loose",...Ye.normalizeParams(n)})}var EQ=ce("ZodMap",(t,e)=>{JK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>wY(t,n,r,o),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...n)=>t.check(Wp(...n)),t.nonempty=n=>t.check(Wp(1,n)),t.max=(...n)=>t.check(p0(...n)),t.size=(...n)=>t.check(wb(...n))});function LAe(t,e,n){return new EQ({type:"map",keyType:t,valueType:e,...Ye.normalizeParams(n)})}var AQ=ce("ZodSet",(t,e)=>{YK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>TY(t,n,r,o),t.min=(...n)=>t.check(Wp(...n)),t.nonempty=n=>t.check(Wp(1,n)),t.max=(...n)=>t.check(p0(...n)),t.size=(...n)=>t.check(wb(...n))});function MAe(t,e){return new AQ({type:"set",valueType:t,...Ye.normalizeParams(e)})}var E2=ce("ZodEnum",(t,e)=>{QK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(r,o,i)=>gY(t,r,o,i),t.enum=e.entries,t.options=Object.values(e.entries);let n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{let i={};for(let s of r)if(n.has(s))i[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new E2({...e,checks:[],...Ye.normalizeParams(o),entries:i})},t.exclude=(r,o)=>{let i={...e.entries};for(let s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new E2({...e,checks:[],...Ye.normalizeParams(o),entries:i})}});function ik(t,e){let n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new E2({type:"enum",entries:n,...Ye.normalizeParams(e)})}function BAe(t,e){return new E2({type:"enum",entries:t,...Ye.normalizeParams(e)})}var xQ=ce("ZodLiteral",(t,e)=>{XK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>yY(t,n,r,o),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function UAe(t,e){return new xQ({type:"literal",values:Array.isArray(t)?t:[t],...Ye.normalizeParams(e)})}var wQ=ce("ZodFile",(t,e)=>{ZK.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>SY(t,n,r,o),t.min=(n,r)=>t.check(Wp(n,r)),t.max=(n,r)=>t.check(p0(n,r)),t.mime=(n,r)=>t.check(f2(Array.isArray(n)?n:[n],r))});function $Ae(t){return YJ(wQ,t)}var TQ=ce("ZodTransform",(t,e)=>{eJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>xY(t,n,r,o),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new s0(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ye.issue(i,n.value,e));else{let s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),n.issues.push(Ye.issue(s))}};let o=e.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function sk(t){return new TQ({type:"transform",transform:t})}var ak=ce("ZodOptional",(t,e)=>{Y9.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>CD(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function $R(t){return new ak({type:"optional",innerType:t})}var IQ=ce("ZodExactOptional",(t,e)=>{tJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>CD(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function RQ(t){return new IQ({type:"optional",innerType:t})}var CQ=ce("ZodNullable",(t,e)=>{nJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>PY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function FR(t){return new CQ({type:"nullable",innerType:t})}function FAe(t){return $R(FR(t))}var NQ=ce("ZodDefault",(t,e)=>{rJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>kY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function OQ(t,e){return new NQ({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Ye.shallowClone(e)}})}var PQ=ce("ZodPrefault",(t,e)=>{oJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>LY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function DQ(t,e){return new PQ({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Ye.shallowClone(e)}})}var ck=ce("ZodNonOptional",(t,e)=>{iJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>DY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function kQ(t,e){return new ck({type:"nonoptional",innerType:t,...Ye.normalizeParams(e)})}var LQ=ce("ZodSuccess",(t,e)=>{sJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>vY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function HAe(t){return new LQ({type:"success",innerType:t})}var MQ=ce("ZodCatch",(t,e)=>{aJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>MY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function BQ(t,e){return new MQ({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var UQ=ce("ZodNaN",(t,e)=>{cJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>bY(t,n,r,o)});function GAe(t){return KJ(UQ,t)}var lk=ce("ZodPipe",(t,e)=>{lJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>BY(t,n,r,o),t.in=e.in,t.out=e.out});function HR(t,e){return new lk({type:"pipe",in:t,out:e})}var uk=ce("ZodCodec",(t,e)=>{lk.init(t,e),PR.init(t,e)});function VAe(t,e,n){return new uk({type:"pipe",in:t,out:e,transform:n.decode,reverseTransform:n.encode})}var $Q=ce("ZodReadonly",(t,e)=>{uJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>UY(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function FQ(t){return new $Q({type:"readonly",innerType:t})}var HQ=ce("ZodTemplateLiteral",(t,e)=>{dJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>_Y(t,n,r,o)});function zAe(t,e){return new HQ({type:"template_literal",parts:t,...Ye.normalizeParams(e)})}var GQ=ce("ZodLazy",(t,e)=>{mJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>FY(t,n,r,o),t.unwrap=()=>t._zod.def.getter()});function VQ(t){return new GQ({type:"lazy",getter:t})}var zQ=ce("ZodPromise",(t,e)=>{fJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$Y(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function jAe(t){return new zQ({type:"promise",innerType:t})}var jQ=ce("ZodFunction",(t,e)=>{pJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>AY(t,n,r,o)});function qAe(t){return new jQ({type:"function",input:Array.isArray(t?.input)?SQ(t?.input):t?.input??zR(Rb()),output:t?.output??Rb()})}var KR=ce("ZodCustom",(t,e)=>{hJ.init(t,e),Sn.init(t,e),t._zod.processJSONSchema=(n,r,o)=>EY(t,n,r,o)});function WAe(t){let e=new Hr({check:"custom"});return e._zod.check=t,e}function KAe(t,e){return QJ(KR,t??(()=>!0),e)}function qQ(t,e={}){return XJ(KR,t,e)}function WQ(t){return ZJ(t)}var JAe=eY,YAe=tY;function QAe(t,e={}){let n=new KR({type:"custom",check:"custom",fn:r=>r instanceof t,abort:!0,...Ye.normalizeParams(e)});return n._zod.bag.Class=t,n._zod.check=r=>{r.value instanceof t||r.issues.push({code:"invalid_type",expected:t.name,input:r.value,inst:n,path:[...n._zod.def.path??[]]})},n}var XAe=(...t)=>nY({Codec:uk,Boolean:T2,String:A2},...t);function ZAe(t){let e=VQ(()=>ok([BD(t),oQ(),iQ(),lQ(),zR(e),vQ(BD(),e)]));return e}function exe(t,e){return HR(sk(t),e)}var WAt={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function KAt(t){Ho({customError:t})}function JAt(){return Ho().customError}var KQ;KQ||(KQ={});var bt={...BR,...PD,iso:v2},YAt=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function QAt(t,e){let n=t.$schema;return n==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":n==="http://json-schema.org/draft-07/schema#"?"draft-7":n==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function XAt(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let n=t.slice(1).split("/").filter(Boolean);if(n.length===0)return e.rootSchema;let r=e.version==="draft-2020-12"?"$defs":"definitions";if(n[0]===r){let o=n[1];if(!o||!e.defs[o])throw new Error(`Reference not found: ${t}`);return e.defs[o]}throw new Error(`Reference not found: ${t}`)}function txe(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return bt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let o=t.$ref;if(e.refs.has(o))return e.refs.get(o);if(e.processing.has(o))return bt.lazy(()=>{if(!e.refs.has(o))throw new Error(`Circular reference not resolved: ${o}`);return e.refs.get(o)});e.processing.add(o);let i=XAt(o,e),s=qs(i,e);return e.refs.set(o,s),e.processing.delete(o),s}if(t.enum!==void 0){let o=t.enum;if(e.version==="openapi-3.0"&&t.nullable===!0&&o.length===1&&o[0]===null)return bt.null();if(o.length===0)return bt.never();if(o.length===1)return bt.literal(o[0]);if(o.every(s=>typeof s=="string"))return bt.enum(o);let i=o.map(s=>bt.literal(s));return i.length<2?i[0]:bt.union([i[0],i[1],...i.slice(2)])}if(t.const!==void 0)return bt.literal(t.const);let n=t.type;if(Array.isArray(n)){let o=n.map(i=>{let s={...t,type:i};return txe(s,e)});return o.length===0?bt.never():o.length===1?o[0]:bt.union(o)}if(!n)return bt.any();let r;switch(n){case"string":{let o=bt.string();if(t.format){let i=t.format;i==="email"?o=o.check(bt.email()):i==="uri"||i==="uri-reference"?o=o.check(bt.url()):i==="uuid"||i==="guid"?o=o.check(bt.uuid()):i==="date-time"?o=o.check(bt.iso.datetime()):i==="date"?o=o.check(bt.iso.date()):i==="time"?o=o.check(bt.iso.time()):i==="duration"?o=o.check(bt.iso.duration()):i==="ipv4"?o=o.check(bt.ipv4()):i==="ipv6"?o=o.check(bt.ipv6()):i==="mac"?o=o.check(bt.mac()):i==="cidr"?o=o.check(bt.cidrv4()):i==="cidr-v6"?o=o.check(bt.cidrv6()):i==="base64"?o=o.check(bt.base64()):i==="base64url"?o=o.check(bt.base64url()):i==="e164"?o=o.check(bt.e164()):i==="jwt"?o=o.check(bt.jwt()):i==="emoji"?o=o.check(bt.emoji()):i==="nanoid"?o=o.check(bt.nanoid()):i==="cuid"?o=o.check(bt.cuid()):i==="cuid2"?o=o.check(bt.cuid2()):i==="ulid"?o=o.check(bt.ulid()):i==="xid"?o=o.check(bt.xid()):i==="ksuid"&&(o=o.check(bt.ksuid()))}typeof t.minLength=="number"&&(o=o.min(t.minLength)),typeof t.maxLength=="number"&&(o=o.max(t.maxLength)),t.pattern&&(o=o.regex(new RegExp(t.pattern))),r=o;break}case"number":case"integer":{let o=n==="integer"?bt.number().int():bt.number();typeof t.minimum=="number"&&(o=o.min(t.minimum)),typeof t.maximum=="number"&&(o=o.max(t.maximum)),typeof t.exclusiveMinimum=="number"?o=o.gt(t.exclusiveMinimum):t.exclusiveMinimum===!0&&typeof t.minimum=="number"&&(o=o.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?o=o.lt(t.exclusiveMaximum):t.exclusiveMaximum===!0&&typeof t.maximum=="number"&&(o=o.lt(t.maximum)),typeof t.multipleOf=="number"&&(o=o.multipleOf(t.multipleOf)),r=o;break}case"boolean":{r=bt.boolean();break}case"null":{r=bt.null();break}case"object":{let o={},i=t.properties||{},s=new Set(t.required||[]);for(let[c,l]of Object.entries(i)){let u=qs(l,e);o[c]=s.has(c)?u:u.optional()}if(t.propertyNames){let c=qs(t.propertyNames,e),l=t.additionalProperties&&typeof t.additionalProperties=="object"?qs(t.additionalProperties,e):bt.any();if(Object.keys(o).length===0){r=bt.record(c,l);break}let u=bt.object(o).passthrough(),d=bt.looseRecord(c,l);r=bt.intersection(u,d);break}if(t.patternProperties){let c=t.patternProperties,l=Object.keys(c),u=[];for(let p of l){let f=qs(c[p],e),h=bt.string().regex(new RegExp(p));u.push(bt.looseRecord(h,f))}let d=[];if(Object.keys(o).length>0&&d.push(bt.object(o).passthrough()),d.push(...u),d.length===0)r=bt.object({}).passthrough();else if(d.length===1)r=d[0];else{let p=bt.intersection(d[0],d[1]);for(let f=2;f<d.length;f++)p=bt.intersection(p,d[f]);r=p}break}let a=bt.object(o);t.additionalProperties===!1?r=a.strict():typeof t.additionalProperties=="object"?r=a.catchall(qs(t.additionalProperties,e)):r=a.passthrough();break}case"array":{let o=t.prefixItems,i=t.items;if(o&&Array.isArray(o)){let s=o.map(c=>qs(c,e)),a=i&&typeof i=="object"&&!Array.isArray(i)?qs(i,e):void 0;a?r=bt.tuple(s).rest(a):r=bt.tuple(s),typeof t.minItems=="number"&&(r=r.check(bt.minLength(t.minItems))),typeof t.maxItems=="number"&&(r=r.check(bt.maxLength(t.maxItems)))}else if(Array.isArray(i)){let s=i.map(c=>qs(c,e)),a=t.additionalItems&&typeof t.additionalItems=="object"?qs(t.additionalItems,e):void 0;a?r=bt.tuple(s).rest(a):r=bt.tuple(s),typeof t.minItems=="number"&&(r=r.check(bt.minLength(t.minItems))),typeof t.maxItems=="number"&&(r=r.check(bt.maxLength(t.maxItems)))}else if(i!==void 0){let s=qs(i,e),a=bt.array(s);typeof t.minItems=="number"&&(a=a.min(t.minItems)),typeof t.maxItems=="number"&&(a=a.max(t.maxItems)),r=a}else r=bt.array(bt.any());break}default:throw new Error(`Unsupported type: ${n}`)}return t.description&&(r=r.describe(t.description)),t.default!==void 0&&(r=r.default(t.default)),r}function qs(t,e){if(typeof t=="boolean")return t?bt.any():bt.never();let n=txe(t,e),r=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let a=t.anyOf.map(l=>qs(l,e)),c=bt.union(a);n=r?bt.intersection(n,c):c}if(t.oneOf&&Array.isArray(t.oneOf)){let a=t.oneOf.map(l=>qs(l,e)),c=bt.xor(a);n=r?bt.intersection(n,c):c}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)n=r?n:bt.any();else{let a=r?n:qs(t.allOf[0],e),c=r?0:1;for(let l=c;l<t.allOf.length;l++)a=bt.intersection(a,qs(t.allOf[l],e));n=a}t.nullable===!0&&e.version==="openapi-3.0"&&(n=bt.nullable(n)),t.readOnly===!0&&(n=bt.readonly(n));let o={},i=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let a of i)a in t&&(o[a]=t[a]);let s=["contentEncoding","contentMediaType","contentSchema"];for(let a of s)a in t&&(o[a]=t[a]);for(let a of Object.keys(t))YAt.has(a)||(o[a]=t[a]);return Object.keys(o).length>0&&e.registry.add(n,o),n}function nxe(t,e){if(typeof t=="boolean")return t?bt.any():bt.never();let n=QAt(t,e?.defaultTarget),r=t.$defs||t.definitions||{},o={version:n,defs:r,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??ys};return qs(t,o)}var JQ={};kn(JQ,{bigint:()=>nxt,boolean:()=>txt,date:()=>rxt,number:()=>ext,string:()=>ZAt});function ZAt(t){return _J(A2,t)}function ext(t){return IJ(w2,t)}function txt(t){return kJ(T2,t)}function nxt(t){return MJ(I2,t)}function rxt(t){return WJ(VR,t)}Ho(Q9());var POt=ct.object({DATABASE_URL:ct.string().default(""),MOLTBOOK_APP_KEY:ct.string().default(""),JUPITER_API_KEY:ct.string().default(""),ADMIN_PASSWORD:ct.string().default(""),PORT:ct.coerce.number().default(3e3),NODE_ENV:ct.enum(["development","production","test"]).default("development"),DEMO_MODE:ct.string().optional().default("false").transform(t=>t==="true"),ANTHROPIC_API_KEY:ct.string().optional(),OPENAI_API_KEY:ct.string().optional(),XAI_API_KEY:ct.string().optional(),MONAD_RPC_URL:ct.string().optional(),STONKS_TOKEN_ADDRESS:ct.string().optional(),MONAD_DEPLOYER_PRIVATE_KEY:ct.string().optional(),CLAUDE_MONAD_PRIVATE_KEY:ct.string().optional(),GPT_MONAD_PRIVATE_KEY:ct.string().optional(),GROK_MONAD_PRIVATE_KEY:ct.string().optional(),LENDING_ENABLED:ct.string().optional().default("false").transform(t=>t==="true"),BRAVE_API_KEY:ct.string().optional(),ALPHA_VANTAGE_API_KEY:ct.string().optional(),TURNKEY_API_PRIVATE_KEY:ct.string().optional(),TURNKEY_API_PUBLIC_KEY:ct.string().optional(),TURNKEY_ORGANIZATION_ID:ct.string().optional(),SOLANA_RPC_URL:ct.string().optional(),HELIUS_API_KEY:ct.string().optional(),HELIUS_WEBHOOK_SECRET:ct.string().optional(),APP_URL:ct.string().optional()});async function DOt(){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return;let{SecretsManagerClient:t,GetSecretValueCommand:e}=await Promise.resolve().then(()=>(x7e(),A7e)),n=new t({}),r=new e({SecretId:process.env.SECRET_ARN}),o=await n.send(r);if(o.SecretString)try{let i=JSON.parse(o.SecretString);for(let[s,a]of Object.entries(i))process.env[s]=a}catch{console.warn("SECRET_ARN secret is not valid JSON \u2014 skipping secret injection. Populate moltapp/production with a JSON object of key-value pairs.")}}function kOt(){let t=POt.safeParse(process.env);if(!t.success){let e=t.error.issues.map(n=>`  ${n.path.join(".")}: ${n.message}`).join(`
`);throw new Error(`Environment validation failed:
${e}`)}return t.data}await DOt();var sr=kOt();var Aie={};kn(Aie,{agentDecisions:()=>Ic,agentEarnings:()=>vBe,agentPayments:()=>SBe,agentReasoningHealth:()=>kBe,agentTheses:()=>Ni,agents:()=>nt,apiKeys:()=>mBe,benchmarkLeaderboardV23:()=>Eie,benchmarkLeaderboardV24:()=>BBe,benchmarkLeaderboardV25:()=>HBe,benchmarkLeaderboardV26:()=>jBe,benchmarkLeaderboardV27:()=>JBe,benchmarkLeaderboardV28:()=>ZBe,benchmarkRoundSnapshotsV24:()=>UBe,benchmarkRoundSnapshotsV25:()=>GBe,benchmarkRoundSnapshotsV26:()=>qBe,benchmarkRoundSnapshotsV27:()=>YBe,benchmarkRoundSnapshotsV28:()=>eUe,benchmarkSnapshots:()=>OBe,calibrationSnapshots:()=>vie,competitionScores:()=>NBe,consensusIntelligence:()=>FBe,copyFollowers:()=>bBe,copyTrades:()=>_Be,crossRoundLearning:()=>KBe,decisionQualitySnapshots:()=>BUe,executionQualityAnalysis:()=>WBe,llmUsage:()=>pM,outcomePredictionTracking:()=>$Be,outcomeResolutions:()=>Sie,portfolioSnapshots:()=>CBe,positions:()=>Nn,predictionBets:()=>ABe,predictionMarkets:()=>xBe,predictions:()=>EBe,reasoningDepthAnalysis:()=>LBe,reasoningForensicReports:()=>PBe,reasoningIntegrityViolations:()=>DBe,reasoningQualityIndex:()=>XBe,riskRewardDiscipline:()=>zBe,sourceQualityAnalysis:()=>MBe,strategies:()=>wBe,strategyAdoptions:()=>TBe,strategyGenomeAnalysis:()=>VBe,strategyRatings:()=>IBe,strategySignals:()=>RBe,tradeAccountabilityAnalysis:()=>QBe,tradeComments:()=>gBe,tradeJustifications:()=>qt,tradeReactions:()=>yBe,trades:()=>zr,transactions:()=>hBe,v29BenchmarkScores:()=>nUe,v29Leaderboard:()=>rUe,v29ResearchExports:()=>oUe,v29TradeGrades:()=>tUe,v30BenchmarkScores:()=>sUe,v30Leaderboard:()=>aUe,v30ResearchExports:()=>cUe,v30TradeGrades:()=>iUe,v31BenchmarkScores:()=>uUe,v31Leaderboard:()=>dUe,v31ResearchExports:()=>pUe,v31TradeGrades:()=>lUe,v32BenchmarkScores:()=>mUe,v32Leaderboard:()=>hUe,v32ResearchExports:()=>gUe,v32TradeGrades:()=>fUe,v33BenchmarkScores:()=>bUe,v33Leaderboard:()=>_Ue,v33ResearchExports:()=>SUe,v33TradeGrades:()=>yUe,v34BenchmarkScores:()=>EUe,v34Leaderboard:()=>AUe,v34ResearchExports:()=>xUe,v34TradeGrades:()=>vUe,v35BenchmarkScores:()=>TUe,v35Leaderboard:()=>IUe,v35ResearchExports:()=>RUe,v35TradeGrades:()=>wUe,v36BenchmarkScores:()=>NUe,v36Leaderboard:()=>OUe,v36ResearchExports:()=>PUe,v36TradeGrades:()=>CUe,v37BenchmarkScores:()=>kUe,v37Leaderboard:()=>LUe,v37ResearchExports:()=>MUe,v37TradeGrades:()=>DUe,wallets:()=>p6});Un();var nt=Ne("agents",{id:L("id").primaryKey(),name:L("name").notNull(),description:L("description"),karma:Ee("karma").default(0),avatarUrl:L("avatar_url"),ownerXHandle:L("owner_x_handle"),ownerXName:L("owner_x_name"),isActive:jo("is_active").default(!0),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()});Un();var p6=Ne("wallets",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>nt.id).notNull().unique(),publicKey:L("public_key").notNull().unique(),turnkeyWalletId:L("turnkey_wallet_id").notNull(),usdcAtaAddress:L("usdc_ata_address"),createdAt:we("created_at").defaultNow().notNull()});Un();var mBe=Ne("api_keys",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>nt.id).notNull(),keyHash:L("key_hash").notNull().unique(),keyPrefix:L("key_prefix").notNull(),isRevoked:jo("is_revoked").default(!1),lastUsedAt:we("last_used_at"),createdAt:we("created_at").defaultNow().notNull()});Un();var hBe=Ne("transactions",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>nt.id).notNull(),type:L("type").notNull(),tokenType:L("token_type").notNull(),amount:jt("amount",{precision:20,scale:9}).notNull(),txSignature:L("tx_signature").notNull().unique(),status:L("status").notNull().default("pending"),destinationAddress:L("destination_address"),createdAt:we("created_at").defaultNow().notNull(),confirmedAt:we("confirmed_at")});Un();var Nn=Ne("positions",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>nt.id).notNull(),mintAddress:L("mint_address").notNull(),symbol:L("symbol").notNull(),quantity:jt("quantity",{precision:20,scale:9}).notNull(),averageCostBasis:jt("average_cost_basis",{precision:20,scale:6}).notNull(),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[af("positions_agent_mint_unique").on(t.agentId,t.mintAddress)]);Un();var zr=Ne("trades",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>nt.id).notNull(),side:L("side").notNull(),stockMintAddress:L("stock_mint_address").notNull(),stockSymbol:L("stock_symbol").notNull(),stockQuantity:jt("stock_quantity",{precision:20,scale:9}).notNull(),usdcAmount:jt("usdc_amount",{precision:20,scale:6}).notNull(),pricePerToken:jt("price_per_token",{precision:20,scale:6}).notNull(),txSignature:L("tx_signature").notNull().unique(),jupiterRouteInfo:pt("jupiter_route_info"),status:L("status").notNull().default("confirmed"),createdAt:we("created_at").defaultNow().notNull()});Un();var Ic=Ne("agent_decisions",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),action:L("action").notNull(),quantity:jt("quantity",{precision:20,scale:9}).notNull(),reasoning:L("reasoning").notNull(),confidence:Ee("confidence").notNull(),modelUsed:L("model_used").notNull(),marketSnapshot:pt("market_snapshot"),executed:L("executed").default("pending"),txSignature:L("tx_signature"),executionError:L("execution_error"),roundId:L("round_id"),createdAt:we("created_at").defaultNow().notNull()});Un();var gBe=Ne("trade_comments",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Ee("decision_id").notNull(),authorId:L("author_id").notNull(),authorName:L("author_name").notNull(),content:L("content").notNull(),createdAt:we("created_at").defaultNow().notNull()});Un();var yBe=Ne("trade_reactions",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Ee("decision_id").notNull(),reactorId:L("reactor_id").notNull(),reaction:L("reaction").notNull(),createdAt:we("created_at").defaultNow().notNull()},t=>[af("trade_reactions_decision_reactor_unique").on(t.decisionId,t.reactorId)]);Un();var bBe=Ne("copy_followers",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),followerId:L("follower_id").notNull(),followerName:L("follower_name").notNull(),targetAgentId:L("target_agent_id").notNull(),initialCapital:jt("initial_capital",{precision:20,scale:6}).notNull().default("10000"),currentCash:jt("current_cash",{precision:20,scale:6}).notNull().default("10000"),portfolioValue:jt("portfolio_value",{precision:20,scale:6}).notNull().default("10000"),totalPnl:jt("total_pnl",{precision:20,scale:6}).notNull().default("0"),totalPnlPercent:jt("total_pnl_percent",{precision:10,scale:4}).notNull().default("0"),tradesCopied:Ee("trades_copied").notNull().default(0),positions:pt("positions").default("[]"),isActive:L("is_active").notNull().default("true"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[af("copy_follower_agent_unique").on(t.followerId,t.targetAgentId)]),_Be=Ne("copy_trades",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),followerId:L("follower_id").notNull(),sourceAgentId:L("source_agent_id").notNull(),sourceDecisionId:Ee("source_decision_id").notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),quantity:jt("quantity",{precision:20,scale:9}).notNull(),price:jt("price",{precision:20,scale:6}).notNull(),tradePnl:jt("trade_pnl",{precision:20,scale:6}).default("0"),confidence:Ee("confidence").notNull(),reasoning:L("reasoning").notNull(),createdAt:we("created_at").defaultNow().notNull()});Un();var SBe=Ne("agent_payments",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),fromId:L("from_id").notNull(),fromName:L("from_name").notNull(),toAgentId:L("to_agent_id").notNull(),decisionId:Ee("decision_id"),amount:jt("amount",{precision:20,scale:6}).notNull(),currency:L("currency").notNull().default("USDC"),message:L("message"),status:L("status").notNull().default("completed"),txSignature:L("tx_signature"),createdAt:we("created_at").defaultNow().notNull()}),vBe=Ne("agent_earnings",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),totalEarnings:jt("total_earnings",{precision:20,scale:6}).notNull().default("0"),tipCount:Ee("tip_count").notNull().default(0),uniqueTippers:Ee("unique_tippers").notNull().default(0),avgTipAmount:jt("avg_tip_amount",{precision:20,scale:6}).notNull().default("0"),largestTip:jt("largest_tip",{precision:20,scale:6}).notNull().default("0"),lastTipAt:we("last_tip_at"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[af("agent_earnings_agent_unique").on(t.agentId)]);Un();var EBe=Ne("predictions",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),predictionType:L("prediction_type").notNull(),direction:L("direction").notNull(),targetPrice:jt("target_price",{precision:20,scale:6}),currentPriceAtCreation:jt("current_price_at_creation",{precision:20,scale:6}).notNull(),timeHorizon:L("time_horizon").notNull(),confidence:Ee("confidence").notNull(),reasoning:L("reasoning").notNull(),status:L("status").notNull().default("active"),resolvedAt:we("resolved_at"),resolutionPrice:jt("resolution_price",{precision:20,scale:6}),resolutionDetails:L("resolution_details"),createdAt:we("created_at").defaultNow().notNull(),expiresAt:we("expires_at").notNull()}),ABe=Ne("prediction_bets",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),predictionId:L("prediction_id").notNull(),bettorId:L("bettor_id").notNull(),bettorType:L("bettor_type").notNull(),position:L("position").notNull(),amount:jt("amount",{precision:20,scale:6}).notNull(),odds:jt("odds",{precision:10,scale:4}).notNull(),payout:jt("payout",{precision:20,scale:6}),status:L("status").notNull().default("active"),createdAt:we("created_at").defaultNow().notNull()}),xBe=Ne("prediction_markets",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),predictionId:L("prediction_id").notNull(),totalPool:jt("total_pool",{precision:20,scale:6}).notNull().default("0"),forPool:jt("for_pool",{precision:20,scale:6}).notNull().default("0"),againstPool:jt("against_pool",{precision:20,scale:6}).notNull().default("0"),currentOddsFor:jt("current_odds_for",{precision:10,scale:4}).notNull().default("1.0"),currentOddsAgainst:jt("current_odds_against",{precision:10,scale:4}).notNull().default("1.0"),totalBets:Ee("total_bets").notNull().default(0),status:L("status").notNull().default("open"),createdAt:we("created_at").defaultNow().notNull()});Un();var wBe=Ne("strategies",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),creatorAgentId:L("creator_agent_id").notNull(),name:L("name").notNull(),description:L("description").notNull(),category:L("category").notNull(),parameters:pt("parameters").notNull().$type(),backtestResults:pt("backtest_results").$type(),riskLevel:L("risk_level").notNull(),timeframe:L("timeframe").notNull(),version:Ee("version").notNull().default(1),parentStrategyId:L("parent_strategy_id"),isPublic:jo("is_public").notNull().default(!0),status:L("status").notNull().default("active"),totalAdopters:Ee("total_adopters").notNull().default(0),avgRating:jt("avg_rating").notNull().default("0"),totalRatings:Ee("total_ratings").notNull().default(0),createdAt:we("created_at").defaultNow(),updatedAt:we("updated_at").defaultNow()}),TBe=Ne("strategy_adoptions",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),agentId:L("agent_id").notNull(),status:L("status").notNull().default("active"),adoptedAt:we("adopted_at").defaultNow(),performanceSinceAdoption:jt("performance_since_adoption").default("0"),tradesExecuted:Ee("trades_executed").default(0)}),IBe=Ne("strategy_ratings",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),raterId:L("rater_id").notNull(),rating:Ee("rating").notNull(),review:L("review"),createdAt:we("created_at").defaultNow()}),RBe=Ne("strategy_signals",{id:L("id").primaryKey().default(ne`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),symbol:L("symbol").notNull(),signalType:L("signal_type").notNull(),direction:L("direction").notNull(),strength:Ee("strength").notNull(),price:jt("price").notNull(),metadata:pt("metadata").$type(),createdAt:we("created_at").defaultNow()});Un();var CBe=Ne("portfolio_snapshots",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),roundId:L("round_id"),trigger:L("trigger").notNull().default("round_end"),cashBalance:jt("cash_balance",{precision:20,scale:6}).notNull(),positionsValue:jt("positions_value",{precision:20,scale:6}).notNull(),totalValue:jt("total_value",{precision:20,scale:6}).notNull(),totalPnl:jt("total_pnl",{precision:20,scale:6}).notNull(),totalPnlPercent:jt("total_pnl_percent",{precision:10,scale:4}).notNull(),positionCount:Ee("position_count").notNull(),positions:pt("positions").notNull(),createdAt:we("created_at").defaultNow().notNull()}),NBe=Ne("competition_scores",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),roundId:L("round_id").notNull(),roundScore:jt("round_score",{precision:10,scale:4}).notNull(),cumulativeScore:jt("cumulative_score",{precision:12,scale:4}).notNull(),rank:Ee("rank").notNull(),breakdown:pt("breakdown").notNull(),createdAt:we("created_at").defaultNow().notNull()});Un();var qt=Ne("trade_justifications",{id:L("id").primaryKey(),tradeId:Ee("trade_id").references(()=>zr.id),agentId:L("agent_id").references(()=>nt.id).notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),sources:pt("sources").$type(),toolTrace:pt("tool_trace").$type(),modelUsed:L("model_used"),intent:L("intent").notNull(),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),action:L("action").notNull(),symbol:L("symbol").notNull(),quantity:N("quantity"),roundId:L("round_id"),disciplinePass:L("discipline_pass").default("pending"),timestamp:we("timestamp").defaultNow()}),OBe=Ne("benchmark_snapshots",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),period:L("period").notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),avgCoherence:N("avg_coherence"),hallucinationRate:N("hallucination_rate"),disciplineRate:N("discipline_rate"),tradeCount:Ee("trade_count"),winRate:N("win_rate"),confidenceCalibration:N("confidence_calibration"),fullMetrics:pt("full_metrics").$type(),createdAt:we("created_at").defaultNow()});Un();var PBe=Ne("reasoning_forensic_reports",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),tradeAction:L("trade_action").notNull(),symbol:L("symbol").notNull(),sentenceCount:Ee("sentence_count"),avgSentenceLength:N("avg_sentence_length"),quantitativeClaimCount:Ee("quantitative_claim_count"),hedgeWordCount:Ee("hedge_word_count"),causalConnectorCount:Ee("causal_connector_count"),valuationMentioned:jo("valuation_mentioned").default(!1),technicalMentioned:jo("technical_mentioned").default(!1),fundamentalMentioned:jo("fundamental_mentioned").default(!1),macroMentioned:jo("macro_mentioned").default(!1),sentimentMentioned:jo("sentiment_mentioned").default(!1),riskMentioned:jo("risk_mentioned").default(!1),catalystMentioned:jo("catalyst_mentioned").default(!1),portfolioContextMentioned:jo("portfolio_context_mentioned").default(!1),coherenceScore:N("coherence_score"),depthScore:N("depth_score"),originalityScore:N("originality_score"),clarityScore:N("clarity_score"),compositeForensicScore:N("composite_forensic_score"),similarToPrevious:jo("similar_to_previous").default(!1),contradictsPrevious:jo("contradicts_previous").default(!1),previousTradeId:L("previous_trade_id"),fullAnalysis:pt("full_analysis").$type(),createdAt:we("created_at").defaultNow()}),DBe=Ne("reasoning_integrity_violations",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),violationType:L("violation_type").notNull(),severity:L("severity").notNull(),description:L("description").notNull(),evidence:pt("evidence").$type(),roundId:L("round_id"),relatedTradeIds:pt("related_trade_ids").$type(),penaltyApplied:N("penalty_applied"),createdAt:we("created_at").defaultNow()}),kBe=Ne("agent_reasoning_health",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),windowSize:Ee("window_size").default(50),avgCoherence:N("avg_coherence"),avgDepth:N("avg_depth"),avgOriginality:N("avg_originality"),avgClarity:N("avg_clarity"),compositeHealth:N("composite_health"),integrityScore:N("integrity_score"),totalViolations:Ee("total_violations").default(0),trend:L("trend"),trendDelta:N("trend_delta"),lastUpdated:we("last_updated").defaultNow()});Un();var Sie=Ne("outcome_resolutions",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>qt.id).notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),symbol:L("symbol").notNull(),action:L("action").notNull(),entryPrice:N("entry_price"),exitPrice:N("exit_price"),horizon:L("horizon").notNull(),pnlPercent:N("pnl_percent"),outcome:L("outcome").notNull(),directionCorrect:jo("direction_correct"),confidenceAtTrade:N("confidence_at_trade"),calibrated:jo("calibrated"),predictedOutcome:L("predicted_outcome"),actualOutcomeSummary:L("actual_outcome_summary"),resolvedAt:we("resolved_at").defaultNow()}),vie=Ne("calibration_snapshots",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),period:L("period").notNull(),confidenceBucket:L("confidence_bucket").notNull(),tradeCount:Ee("trade_count").notNull(),winRate:N("win_rate"),avgPnl:N("avg_pnl"),ece:N("ece"),createdAt:we("created_at").defaultNow()}),Eie=Ne("benchmark_leaderboard_v23",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),period:L("period").notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),coherenceScore:N("coherence_score"),hallucinationRate:N("hallucination_rate"),disciplineRate:N("discipline_rate"),calibrationEce:N("calibration_ece"),predictionAccuracy:N("prediction_accuracy"),compositeScore:N("composite_score"),grade:L("grade"),tradeCount:Ee("trade_count"),rank:Ee("rank"),fullMetrics:pt("full_metrics").$type(),updatedAt:we("updated_at").defaultNow()});Un();var LBe=Ne("reasoning_depth_analysis_v24",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>qt.id).notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),depthScore:N("depth_score").notNull(),stepCount:Ee("step_count").notNull(),connectiveDensity:N("connective_density").notNull(),evidenceAnchoringScore:N("evidence_anchoring_score").notNull(),counterArgumentScore:N("counter_argument_score").notNull(),conclusionClarity:N("conclusion_clarity").notNull(),wordCount:Ee("word_count").notNull(),vocabularyRichness:N("vocabulary_richness").notNull(),reasoningPattern:L("reasoning_pattern").notNull(),analyzedAt:we("analyzed_at").defaultNow()}),MBe=Ne("source_quality_analysis_v24",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>qt.id).notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),qualityScore:N("quality_score").notNull(),sourceCount:Ee("source_count").notNull(),diversityScore:N("diversity_score").notNull(),specificityScore:N("specificity_score").notNull(),crossReferenceScore:N("cross_reference_score").notNull(),integrationScore:N("integration_score").notNull(),sourceCategories:pt("source_categories").$type(),analyzedAt:we("analyzed_at").defaultNow()}),BBe=Ne("benchmark_leaderboard_v24",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),compositeScore:N("composite_score"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),avgCoherence:N("avg_coherence"),hallucinationFreeRate:N("hallucination_free_rate"),disciplineRate:N("discipline_rate"),calibrationScore:N("calibration_score"),predictionAccuracy:N("prediction_accuracy"),avgReasoningDepth:N("avg_reasoning_depth"),avgSourceQuality:N("avg_source_quality"),tradeCount:Ee("trade_count"),rank:Ee("rank"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),UBe=Ne("benchmark_round_snapshots_v24",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),coherenceScore:N("coherence_score"),depthScore:N("depth_score"),sourceQualityScore:N("source_quality_score"),hallucinationCount:Ee("hallucination_count"),confidence:N("confidence"),roundComposite:N("round_composite"),metrics:pt("metrics").$type(),timestamp:we("timestamp").defaultNow()});Un();var $Be=Ne("outcome_prediction_tracking_v25",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>qt.id).notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),predictedDirection:L("predicted_direction").notNull(),actualDirection:L("actual_direction"),predictedMagnitude:N("predicted_magnitude"),actualMagnitude:N("actual_magnitude"),timeframeSpecified:L("timeframe_specified"),directionalAccuracy:N("directional_accuracy"),magnitudeAccuracy:N("magnitude_accuracy"),predictionQuality:N("prediction_quality"),priceAtPrediction:N("price_at_prediction"),priceAtResolution:N("price_at_resolution"),symbol:L("symbol").notNull(),status:L("status").notNull().default("pending"),createdAt:we("created_at").defaultNow(),resolvedAt:we("resolved_at")}),FBe=Ne("consensus_intelligence_v25",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),agentAction:L("agent_action").notNull(),agentSymbol:L("agent_symbol").notNull(),majorityAction:L("majority_action").notNull(),agreedWithMajority:N("agreed_with_majority").notNull(),confidenceDelta:N("confidence_delta"),wasContrarian:N("was_contrarian").notNull(),contrarianSuccess:N("contrarian_success"),reasoningSimilarity:N("reasoning_similarity").notNull(),independentThinkingScore:N("independent_thinking_score").notNull(),agentCountInRound:Ee("agent_count_in_round").notNull(),consensusBreakdown:pt("consensus_breakdown").$type(),timestamp:we("timestamp").defaultNow()}),HBe=Ne("benchmark_leaderboard_v25",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),compositeScore:N("composite_score"),pnlPercent:N("pnl_percent"),avgCoherence:N("avg_coherence"),hallucinationFreeRate:N("hallucination_free_rate"),disciplineRate:N("discipline_rate"),calibrationScore:N("calibration_score"),predictionAccuracy:N("prediction_accuracy"),avgReasoningDepth:N("avg_reasoning_depth"),avgSourceQuality:N("avg_source_quality"),outcomePredictionScore:N("outcome_prediction_score"),consensusIntelligenceScore:N("consensus_intelligence_score"),sharpeRatio:N("sharpe_ratio"),tradeCount:Ee("trade_count"),rank:Ee("rank"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),GBe=Ne("benchmark_round_snapshots_v25",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>nt.id).notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),coherenceScore:N("coherence_score"),depthScore:N("depth_score"),sourceQualityScore:N("source_quality_score"),hallucinationCount:Ee("hallucination_count"),confidence:N("confidence"),outcomePredictionScore:N("outcome_prediction_score"),consensusScore:N("consensus_score"),roundComposite:N("round_composite"),metrics:pt("metrics").$type(),timestamp:we("timestamp").defaultNow()});Un();var VBe=Ne("strategy_genome_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),styleConsistencyScore:N("style_consistency_score").notNull(),strategyDrift:N("strategy_drift").notNull(),detectedStrategy:L("detected_strategy").notNull(),declaredStrategy:L("declared_strategy").notNull(),strategyDna:pt("strategy_dna").$type(),historicalAvgDna:pt("historical_avg_dna").$type(),tradeWindowSize:Ee("trade_window_size"),genomeScore:N("genome_score").notNull(),timestamp:we("timestamp").defaultNow()}),zBe=Ne("risk_reward_discipline",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),positionSizePercent:N("position_size_percent").notNull(),confidence:N("confidence").notNull(),sizingDisciplineScore:N("sizing_discipline_score").notNull(),impliedRiskReward:N("implied_risk_reward"),hasRiskBoundary:Ee("has_risk_boundary").notNull(),hasProfitTarget:Ee("has_profit_target").notNull(),riskAwarenessScore:N("risk_awareness_score").notNull(),cashBufferMaintained:Ee("cash_buffer_maintained").notNull(),portfolioConcentration:N("portfolio_concentration"),disciplineScore:N("discipline_score").notNull(),timestamp:we("timestamp").defaultNow()}),jBe=Ne("benchmark_leaderboard_v26",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),coherenceScore:N("coherence_score"),hallucinationRate:N("hallucination_rate"),disciplineRate:N("discipline_rate"),calibrationScore:N("calibration_score"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),outcomePredictionScore:N("outcome_prediction_score"),consensusIntelligenceScore:N("consensus_intelligence_score"),strategyGenomeScore:N("strategy_genome_score"),riskRewardDisciplineScore:N("risk_reward_discipline_score"),compositeScore:N("composite_score"),tradeCount:Ee("trade_count"),winRate:N("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),qBe=Ne("benchmark_round_snapshots_v26",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),scores:pt("scores").$type(),compositeScore:N("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Un();var WBe=Ne("execution_quality_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),slippageAwareness:N("slippage_awareness").notNull(),priceRealism:N("price_realism").notNull(),timingRationale:N("timing_rationale").notNull(),executionPlanQuality:N("execution_plan_quality").notNull(),actualVsExpectedPrice:N("actual_vs_expected_price"),marketImpactAwareness:N("market_impact_awareness").notNull(),executionQualityScore:N("execution_quality_score").notNull(),timestamp:we("timestamp").defaultNow()}),KBe=Ne("cross_round_learning",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),referencedPastTrades:Ee("referenced_past_trades").notNull(),lessonApplication:N("lesson_application").notNull(),mistakeRepetition:N("mistake_repetition").notNull(),strategyAdaptation:N("strategy_adaptation").notNull(),outcomeIntegration:N("outcome_integration").notNull(),reasoningEvolution:N("reasoning_evolution").notNull(),learningScore:N("learning_score").notNull(),previousRoundIds:pt("previous_round_ids").$type(),timestamp:we("timestamp").defaultNow()}),JBe=Ne("benchmark_leaderboard_v27",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),coherenceScore:N("coherence_score"),hallucinationRate:N("hallucination_rate"),disciplineRate:N("discipline_rate"),calibrationScore:N("calibration_score"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),outcomePredictionScore:N("outcome_prediction_score"),consensusIntelligenceScore:N("consensus_intelligence_score"),strategyGenomeScore:N("strategy_genome_score"),riskRewardDisciplineScore:N("risk_reward_discipline_score"),executionQualityScore:N("execution_quality_score"),crossRoundLearningScore:N("cross_round_learning_score"),compositeScore:N("composite_score"),tradeCount:Ee("trade_count"),winRate:N("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),YBe=Ne("benchmark_round_snapshots_v27",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),scores:pt("scores").$type(),compositeScore:N("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Un();var QBe=Ne("trade_accountability_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),lossAcknowledgment:N("loss_acknowledgment").notNull(),blameAvoidance:N("blame_avoidance").notNull(),errorSpecificity:N("error_specificity").notNull(),correctiveAction:N("corrective_action").notNull(),selfReportAccuracy:N("self_report_accuracy").notNull(),intellectualHumility:N("intellectual_humility").notNull(),accountabilityScore:N("accountability_score").notNull(),timestamp:we("timestamp").defaultNow()}),XBe=Ne("reasoning_quality_index",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),logicalChainLength:N("logical_chain_length").notNull(),evidenceDensity:N("evidence_density").notNull(),counterArgumentQuality:N("counter_argument_quality").notNull(),conclusionClarity:N("conclusion_clarity").notNull(),quantitativeRigor:N("quantitative_rigor").notNull(),conditionalReasoning:N("conditional_reasoning").notNull(),rqiScore:N("rqi_score").notNull(),structureBreakdown:pt("structure_breakdown").$type(),timestamp:we("timestamp").defaultNow()}),ZBe=Ne("benchmark_leaderboard_v28",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),coherenceScore:N("coherence_score"),hallucinationRate:N("hallucination_rate"),disciplineRate:N("discipline_rate"),calibrationScore:N("calibration_score"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),outcomePredictionScore:N("outcome_prediction_score"),consensusIntelligenceScore:N("consensus_intelligence_score"),strategyGenomeScore:N("strategy_genome_score"),riskRewardDisciplineScore:N("risk_reward_discipline_score"),executionQualityScore:N("execution_quality_score"),crossRoundLearningScore:N("cross_round_learning_score"),tradeAccountabilityScore:N("trade_accountability_score"),reasoningQualityIndexScore:N("reasoning_quality_index_score"),compositeScore:N("composite_score"),tradeCount:Ee("trade_count"),winRate:N("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),eUe=Ne("benchmark_round_snapshots_v28",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),scores:pt("scores").$type(),compositeScore:N("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Un();var tUe=Ne("v29_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),tradeId:Ee("trade_id").references(()=>zr.id),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),coherenceScore:N("coherence_score"),hallucinationSeverity:N("hallucination_severity"),disciplinePassed:L("discipline_passed"),reasoningDepth:N("reasoning_depth"),sourceDiversity:N("source_diversity"),riskAwareness:N("risk_awareness"),overallGrade:L("overall_grade"),letterScore:N("letter_score"),flags:pt("flags").$type(),reasoning:L("reasoning"),createdAt:we("created_at").defaultNow()}),nUe=Ne("v29_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id").notNull(),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),reasoningCoherence:N("reasoning_coherence"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),confidenceCalibration:N("confidence_calibration"),reasoningDepth:N("reasoning_depth"),sourceDiversity:N("source_diversity"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),riskAwareness:N("risk_awareness"),outcomeAccuracy:N("outcome_accuracy"),executionQuality:N("execution_quality"),crossRoundLearning:N("cross_round_learning"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),compositeScore:N("composite_score"),tier:L("tier"),createdAt:we("created_at").defaultNow()}),rUe=Ne("v29_leaderboard",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),totalRounds:Ee("total_rounds"),avgComposite:N("avg_composite"),bestComposite:N("best_composite"),avgCoherence:N("avg_coherence"),avgDepth:N("avg_depth"),avgCalibration:N("avg_calibration"),tier:L("tier"),rank:Ee("rank"),totalTradeGrades:Ee("total_trade_grades"),gradeDistribution:pt("grade_distribution").$type(),updatedAt:we("updated_at").defaultNow()}),oUe=Ne("v29_research_exports",{id:L("id").primaryKey(),format:L("format").notNull(),recordCount:Ee("record_count"),exportedAt:we("exported_at").defaultNow(),checksum:L("checksum"),metadata:pt("metadata").$type()});Un();var iUe=Ne("v30_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),sUe=Ne("v30_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),aUe=Ne("v30_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),cUe=Ne("v30_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(20),version:L("version").default("30.0"),exportedAt:we("exported_at").defaultNow()});Un();var lUe=Ne("v31_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),uUe=Ne("v31_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),dUe=Ne("v31_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),pUe=Ne("v31_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(22),version:L("version").default("31.0"),exportedAt:we("exported_at").defaultNow()});Un();var fUe=Ne("v32_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),mUe=Ne("v32_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),hUe=Ne("v32_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),gUe=Ne("v32_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(24),version:L("version").default("32.0"),exportedAt:we("exported_at").defaultNow()});Un();var yUe=Ne("v33_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),causalReasoningScore:N("causal_reasoning_score"),epistemicHumilityScore:N("epistemic_humility_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),bUe=Ne("v33_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),causalReasoning:N("causal_reasoning"),epistemicHumility:N("epistemic_humility"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),_Ue=Ne("v33_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),SUe=Ne("v33_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(26),version:L("version").default("33.0"),exportedAt:we("exported_at").defaultNow()});Un();var vUe=Ne("v34_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),causalReasoningScore:N("causal_reasoning_score"),epistemicHumilityScore:N("epistemic_humility_score"),reasoningTraceabilityScore:N("reasoning_traceability_score"),adversarialCoherenceScore:N("adversarial_coherence_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),EUe=Ne("v34_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),causalReasoning:N("causal_reasoning"),epistemicHumility:N("epistemic_humility"),reasoningTraceability:N("reasoning_traceability"),adversarialCoherence:N("adversarial_coherence"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),AUe=Ne("v34_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),xUe=Ne("v34_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(28),version:L("version").default("34.0"),exportedAt:we("exported_at").defaultNow()});Un();var wUe=Ne("v35_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),causalReasoningScore:N("causal_reasoning_score"),epistemicHumilityScore:N("epistemic_humility_score"),reasoningTraceabilityScore:N("reasoning_traceability_score"),adversarialCoherenceScore:N("adversarial_coherence_score"),informationAsymmetryScore:N("information_asymmetry_score"),temporalReasoningScore:N("temporal_reasoning_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),TUe=Ne("v35_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),causalReasoning:N("causal_reasoning"),epistemicHumility:N("epistemic_humility"),reasoningTraceability:N("reasoning_traceability"),adversarialCoherence:N("adversarial_coherence"),informationAsymmetry:N("information_asymmetry"),temporalReasoningQuality:N("temporal_reasoning_quality"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),IUe=Ne("v35_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),RUe=Ne("v35_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(30),version:L("version").default("35.0"),exportedAt:we("exported_at").defaultNow()});Un();var CUe=Ne("v36_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),causalReasoningScore:N("causal_reasoning_score"),epistemicHumilityScore:N("epistemic_humility_score"),reasoningTraceabilityScore:N("reasoning_traceability_score"),adversarialCoherenceScore:N("adversarial_coherence_score"),informationAsymmetryScore:N("information_asymmetry_score"),temporalReasoningScore:N("temporal_reasoning_score"),marketMicrostructureScore:N("market_microstructure_score"),convictionConsistencyScore:N("conviction_consistency_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),NUe=Ne("v36_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),causalReasoning:N("causal_reasoning"),epistemicHumility:N("epistemic_humility"),reasoningTraceability:N("reasoning_traceability"),adversarialCoherence:N("adversarial_coherence"),informationAsymmetry:N("information_asymmetry"),temporalReasoningQuality:N("temporal_reasoning_quality"),marketMicrostructureQuality:N("market_microstructure_quality"),convictionConsistency:N("conviction_consistency"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),OUe=Ne("v36_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),PUe=Ne("v36_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(32),version:L("version").default("36.0"),exportedAt:we("exported_at").defaultNow()});Un();var DUe=Ne("v37_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:N("confidence").notNull(),coherenceScore:N("coherence_score"),hallucinationFlags:pt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:N("reasoning_depth_score"),sourceQualityScore:N("source_quality_score"),logicalConsistencyScore:N("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:N("transparency_score"),accountabilityScore:N("accountability_score"),groundingScore:N("grounding_score"),consensusQualityScore:N("consensus_quality_score"),causalReasoningScore:N("causal_reasoning_score"),epistemicHumilityScore:N("epistemic_humility_score"),reasoningTraceabilityScore:N("reasoning_traceability_score"),adversarialCoherenceScore:N("adversarial_coherence_score"),informationAsymmetryScore:N("information_asymmetry_score"),temporalReasoningScore:N("temporal_reasoning_score"),reasoningAuditabilityScore:N("reasoning_auditability_score"),decisionReversibilityScore:N("decision_reversibility_score"),reasoningComposabilityScore:N("reasoning_composability_score"),strategicForesightScore:N("strategic_foresight_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),kUe=Ne("v37_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),roundId:L("round_id"),pnlPercent:N("pnl_percent"),sharpeRatio:N("sharpe_ratio"),maxDrawdown:N("max_drawdown"),coherence:N("coherence"),reasoningDepth:N("reasoning_depth"),sourceQuality:N("source_quality"),logicalConsistency:N("logical_consistency"),reasoningIntegrity:N("reasoning_integrity"),reasoningTransparency:N("reasoning_transparency"),reasoningGrounding:N("reasoning_grounding"),causalReasoning:N("causal_reasoning"),epistemicHumility:N("epistemic_humility"),reasoningTraceability:N("reasoning_traceability"),adversarialCoherence:N("adversarial_coherence"),informationAsymmetry:N("information_asymmetry"),temporalReasoningQuality:N("temporal_reasoning_quality"),reasoningAuditability:N("reasoning_auditability"),decisionReversibility:N("decision_reversibility"),reasoningComposability:N("reasoning_composability"),strategicForesight:N("strategic_foresight"),hallucinationRate:N("hallucination_rate"),instructionDiscipline:N("instruction_discipline"),riskAwareness:N("risk_awareness"),strategyConsistency:N("strategy_consistency"),adaptability:N("adaptability"),confidenceCalibration:N("confidence_calibration"),crossRoundLearning:N("cross_round_learning"),outcomeAccuracy:N("outcome_accuracy"),marketRegimeAwareness:N("market_regime_awareness"),edgeConsistency:N("edge_consistency"),tradeAccountability:N("trade_accountability"),reasoningQualityIndex:N("reasoning_quality_index"),decisionAccountability:N("decision_accountability"),consensusQuality:N("consensus_quality"),compositeScore:N("composite_score"),tier:L("tier"),tradeCount:Ee("trade_count"),scoredAt:we("scored_at").defaultNow()}),LUe=Ne("v37_leaderboard",{agentId:L("agent_id").references(()=>nt.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:N("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Ee("trade_count").default(0),roundsPlayed:Ee("rounds_played").default(0),dimensionScores:pt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),MUe=Ne("v37_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:pt("data").$type(),dimensionCount:Ee("dimension_count").default(34),version:L("version").default("37.0"),exportedAt:we("exported_at").defaultNow()});Un();var Ni=Ne("agent_theses",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),thesis:L("thesis").notNull(),conviction:Ee("conviction").notNull().default(5),direction:L("direction").notNull().default("neutral"),entryPrice:jt("entry_price",{precision:20,scale:9}),targetPrice:jt("target_price",{precision:20,scale:9}),status:L("status").notNull().default("active"),closedReason:L("closed_reason"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[af("agent_theses_active_unique").on(t.agentId,t.symbol,t.status)]);Un();var pM=Ne("llm_usage",{id:Ee("id").primaryKey().generatedAlwaysAsIdentity(),roundId:L("round_id").notNull(),agentId:L("agent_id").notNull(),model:L("model").notNull(),inputTokens:Ee("input_tokens").notNull(),outputTokens:Ee("output_tokens").notNull(),totalTokens:Ee("total_tokens").notNull(),estimatedCostUsd:jt("estimated_cost_usd",{precision:10,scale:6}),createdAt:we("created_at").defaultNow().notNull()});Un();var BUe=Ne("decision_quality_snapshots",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>nt.id).notNull(),snapshotAt:we("snapshot_at").notNull(),compositeScore:N("composite_score"),calibrationEce:N("calibration_ece"),integrityScore:N("integrity_score"),accountabilityScore:N("accountability_score"),memoryScore:N("memory_score"),toolUseScore:N("tool_use_score"),toolSequenceViolations:pt("tool_sequence_violations").$type(),grade:L("grade"),createdAt:we("created_at").defaultNow().notNull()},t=>[vMe("idx_quality_agent_snapshot").on(t.agentId,t.snapshotAt)]);var HDt=!!process.env.AWS_LAMBDA_FUNCTION_NAME;async function GDt(){if(!sr.DATABASE_URL)return console.warn("DATABASE_URL not set \u2014 database queries will fail"),null;if(HDt){let{neon:t}=await Promise.resolve().then(()=>(Fie(),M$e)),{drizzle:e}=await Promise.resolve().then(()=>($$e(),U$e)),n=t(sr.DATABASE_URL);return e({client:n})}else{let{drizzle:t}=await Promise.resolve().then(()=>(BHe(),MHe)),e=await Promise.resolve().then(()=>(jM(),kHe)),n=new e.default.Pool({connectionString:sr.DATABASE_URL});return t(n,{schema:Aie})}}var Gt=await GDt();var Xm="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",UHe="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU";var D6="https://api.jup.ag";var kr=[{symbol:"AAPLx",name:"Apple",mintAddress:"XsbEhLAtcf6HdfpFZ5xEMdqW8nfAvcsP5bdudRLJzJp",decimals:8,category:"Mega-Cap Tech",description:"iPhones & Services"},{symbol:"AMZNx",name:"Amazon",mintAddress:"Xs3eBt7uRfJX8QUs4suhyU8p2M6DoUDrJyWBa8LLZsg",decimals:8,category:"Mega-Cap Tech",description:"E-commerce & Cloud"},{symbol:"GOOGLx",name:"Alphabet",mintAddress:"XsCPL9dNWBMvFtTmwcCA5v3xWPSMEBCszbQdiLLq6aN",decimals:8,category:"Mega-Cap Tech",description:"Search & AI"},{symbol:"METAx",name:"Meta",mintAddress:"Xsa62P5mvPszXL1krVUnU5ar38bBSVcWAB6fmPCo5Zu",decimals:8,category:"Mega-Cap Tech",description:"Social Media"},{symbol:"MSFTx",name:"Microsoft",mintAddress:"XspzcW1PRtgf6Wj92HCiZdjzKCyFekVD8P5Ueh3dRMX",decimals:8,category:"Mega-Cap Tech",description:"Cloud & Software"},{symbol:"NVDAx",name:"NVIDIA",mintAddress:"Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh",decimals:8,category:"Semiconductors",description:"AI Chips"},{symbol:"TSLAx",name:"Tesla",mintAddress:"XsDoVfqeBukxuZHWhdvWHBhgEHjGNst4MLodqsJHzoB",decimals:8,category:"Mega-Cap Tech",description:"EVs & Energy"},{symbol:"ORCLx",name:"Oracle",mintAddress:"XsjFwUPiLofddX5cWFHW35GCbXcSu1BCUGfxoQAQjeL",decimals:8,category:"Software",description:"Database & Cloud"},{symbol:"IBMx",name:"IBM",mintAddress:"XspwhyYPdWVM8XBHZnpS9hgyag9MKjLRyE3tVfmCbSr",decimals:8,category:"Software",description:"Enterprise IT"},{symbol:"CSCOx",name:"Cisco",mintAddress:"Xsr3pdLQyXvDJBFgpR5nexCEZwXvigb8wbPYp4YoNFf",decimals:8,category:"Mega-Cap Tech",description:"Networking"},{symbol:"ACNx",name:"Accenture",mintAddress:"Xs5UJzmCRQ8DWZjskExdSQDnbE6iLkRu2jjrRAB1JSU",decimals:8,category:"Software",description:"IT Consulting"},{symbol:"CRMx",name:"Salesforce",mintAddress:"XsczbcQ3zfcgAEt9qHQES8pxKAVG5rujPSHQEXi4kaN",decimals:8,category:"Software",description:"CRM Software"},{symbol:"AVGOx",name:"Broadcom",mintAddress:"XsgSaSvNSqLTtFuyWPBhK9196Xb9Bbdyjj4fH3cPJGo",decimals:8,category:"Semiconductors",description:"Network Chips"},{symbol:"AMDx",name:"AMD",mintAddress:"XsXcJ6GZ9kVnjqGsjBnktRcuwMBmvKWh8S93RefZ1rF",decimals:8,category:"Semiconductors",description:"CPUs & GPUs"},{symbol:"INTCx",name:"Intel",mintAddress:"XshPgPdXFRWB8tP1j82rebb2Q9rPgGX37RuqzohmArM",decimals:8,category:"Semiconductors",description:"PC Chips"},{symbol:"MRVLx",name:"Marvell",mintAddress:"XsuxRGDzbLjnJ72v74b7p9VY6N66uYgTCyfwwRjVCJA",decimals:8,category:"Semiconductors",description:"Data Infrastructure"},{symbol:"NFLXx",name:"Netflix",mintAddress:"XsEH7wWfJJu2ZT3UCFeVfALnVA6CP5ur7Ee11KmzVpL",decimals:8,category:"Software",description:"Streaming"},{symbol:"PLTRx",name:"Palantir",mintAddress:"XsoBhf2ufR8fTyNSjqfU71DYGaE6Z3SUGAidpzriAA4",decimals:8,category:"Software",description:"Data Analytics"},{symbol:"APPx",name:"AppLovin",mintAddress:"XsPdAVBi8Zc1xvv53k4JcMrQaEDTgkGqKYeh7AYgPHV",decimals:8,category:"Software",description:"Mobile Gaming"},{symbol:"CRWDx",name:"CrowdStrike",mintAddress:"Xs7xXqkcK7K8urEqGg52SECi79dRp2cEKKuYjUePYDw",decimals:8,category:"Software",description:"Cybersecurity"},{symbol:"COINx",name:"Coinbase",mintAddress:"Xs7ZdzSHLU9ftNJsii5fCeJhoRWSC32SQGzGQtePxNu",decimals:8,category:"Crypto-Adjacent",description:"Crypto Exchange"},{symbol:"MSTRx",name:"MicroStrategy",mintAddress:"XsP7xzNPvEHS1m6qfanPUGjNmdnmsLKEoNAnHjdxxyZ",decimals:8,category:"Crypto-Adjacent",description:"Bitcoin Treasury"},{symbol:"HOODx",name:"Robinhood",mintAddress:"XsvNBAYkrDRNhA7wPHQfX3ZUXZyZLdnCQDfHZ56bzpg",decimals:8,category:"Crypto-Adjacent",description:"Trading App"},{symbol:"CRCLx",name:"Circle",mintAddress:"XsueG8BtpquVJX9LVLLEGuViXUungE6WmK5YZ3p3bd1",decimals:8,category:"Crypto-Adjacent",description:"USDC Issuer"},{symbol:"GMEx",name:"GameStop",mintAddress:"Xsf9mBktVB9BSU5kf4nHxPq5hCBJ2j2ui3ecFGxPRGc",decimals:8,category:"Crypto-Adjacent",description:"Meme Stock"},{symbol:"OPENx",name:"Opendoor",mintAddress:"XsGtpmjhmC8kyjVSWL4VicGu36ceq9u55PTgF8bhGv6",decimals:8,category:"Other",description:"Real Estate Tech"},{symbol:"JPMx",name:"JPMorgan Chase",mintAddress:"XsMAqkcKsUewDrzVkait4e5u4y8REgtyS7jWgCpLV2C",decimals:8,category:"Finance",description:"Investment Bank"},{symbol:"BACx",name:"Bank of America",mintAddress:"XswsQk4duEQmCbGzfqUUWYmi7pV7xpJ9eEmLHXCaEQP",decimals:8,category:"Finance",description:"Consumer Bank"},{symbol:"GSx",name:"Goldman Sachs",mintAddress:"XsgaUyp4jd1fNBCxgtTKkW64xnnhQcvgaxzsbAq5ZD1",decimals:8,category:"Finance",description:"Investment Bank"},{symbol:"Vx",name:"Visa",mintAddress:"XsqgsbXwWogGJsNcVZ3TyVouy2MbTkfCFhCGGGcQZ2p",decimals:8,category:"Finance",description:"Payments"},{symbol:"MAx",name:"Mastercard",mintAddress:"XsApJFV9MAktqnAc6jqzsHVujxkGm9xcSUffaBoYLKC",decimals:8,category:"Finance",description:"Payments"},{symbol:"BRK.Bx",name:"Berkshire Hathaway",mintAddress:"Xs6B6zawENwAbWVi7w92rjazLuAr5Az59qgWKcNb45x",decimals:8,category:"Finance",description:"Conglomerate"},{symbol:"LLYx",name:"Eli Lilly",mintAddress:"Xsnuv4omNoHozR6EEW5mXkw8Nrny5rB3jVfLqi6gKMH",decimals:8,category:"Healthcare",description:"Weight Loss Drugs"},{symbol:"UNHx",name:"UnitedHealth",mintAddress:"XszvaiXGPwvk2nwb3o9C1CX4K6zH8sez11E6uyup6fe",decimals:8,category:"Healthcare",description:"Health Insurance"},{symbol:"JNJx",name:"Johnson & Johnson",mintAddress:"XsGVi5eo1Dh2zUpic4qACcjuWGjNv8GCt3dm5XcX6Dn",decimals:8,category:"Healthcare",description:"Pharma & Consumer"},{symbol:"MRKx",name:"Merck",mintAddress:"XsnQnU7AdbRZYe2akqqpibDdXjkieGFfSkbkjX1Sd1X",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"PFEx",name:"Pfizer",mintAddress:"XsAtbqkAP1HJxy7hFDeq7ok6yM43DQ9mQ1Rh861X8rw",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"ABTx",name:"Abbott",mintAddress:"XsHtf5RpxsQ7jeJ9ivNewouZKJHbPxhPoEy6yYvULr7",decimals:8,category:"Healthcare",description:"Medical Devices"},{symbol:"ABBVx",name:"AbbVie",mintAddress:"XswbinNKyPmzTa5CskMbCPvMW6G5CMnZXZEeQSSQoie",decimals:8,category:"Healthcare",description:"Biotech"},{symbol:"AZNx",name:"AstraZeneca",mintAddress:"Xs3ZFkPYT2BN7qBMqf1j1bfTeTm1rFzEFSsQ1z3wAKU",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"NVOx",name:"Novo Nordisk",mintAddress:"XsfAzPzYrYjd4Dpa9BU3cusBsvWfVB9gBcyGC87S57n",decimals:8,category:"Healthcare",description:"Weight Loss Drugs"},{symbol:"TMOx",name:"Thermo Fisher",mintAddress:"Xs8drBWy3Sd5QY3aifG9kt9KFs2K3PGZmx7jWrsrk57",decimals:8,category:"Healthcare",description:"Lab Equipment"},{symbol:"DHRx",name:"Danaher",mintAddress:"Xseo8tgCZfkHxWS9xbFYeKFyMSbWEvZGFV1Gh53GtCV",decimals:8,category:"Healthcare",description:"Life Sciences"},{symbol:"MDTx",name:"Medtronic",mintAddress:"XsDgw22qRLTv5Uwuzn6T63cW69exG41T6gwQhEK22u2",decimals:8,category:"Healthcare",description:"Medical Devices"},{symbol:"WMTx",name:"Walmart",mintAddress:"Xs151QeqTCiuKtinzfRATnUESM2xTU6V9Wy8Vy538ci",decimals:8,category:"Consumer",description:"Retail"},{symbol:"KOx",name:"Coca-Cola",mintAddress:"XsaBXg8dU5cPM6ehmVctMkVqoiRG2ZjMo1cyBJ3AykQ",decimals:8,category:"Consumer",description:"Beverages"},{symbol:"PEPx",name:"PepsiCo",mintAddress:"Xsv99frTRUeornyvCfvhnDesQDWuvns1M852Pez91vF",decimals:8,category:"Consumer",description:"Beverages & Snacks"},{symbol:"MCDx",name:"McDonald's",mintAddress:"XsqE9cRRpzxcGKDXj1BJ7Xmg4GRhZoyY1KpmGSxAWT2",decimals:8,category:"Consumer",description:"Fast Food"},{symbol:"PGx",name:"Procter & Gamble",mintAddress:"XsYdjDjNUygZ7yGKfQaB6TxLh2gC6RRjzLtLAGJrhzV",decimals:8,category:"Consumer",description:"Consumer Goods"},{symbol:"PMx",name:"Philip Morris",mintAddress:"Xsba6tUnSjDae2VcopDB6FGGDaxRrewFCDa5hKn5vT3",decimals:8,category:"Consumer",description:"Tobacco"},{symbol:"HDx",name:"Home Depot",mintAddress:"XszjVtyhowGjSC5odCqBpW1CtXXwXjYokymrk7fGKD3",decimals:8,category:"Consumer",description:"Home Improvement"},{symbol:"XOMx",name:"Exxon Mobil",mintAddress:"XsaHND8sHyfMfsWPj6kSdd5VwvCayZvjYgKmmcNL5qh",decimals:8,category:"Energy",description:"Oil & Gas"},{symbol:"CVXx",name:"Chevron",mintAddress:"XsNNMt7WTNA2sV3jrb1NNfNgapxRF5i4i6GcnTRRHts",decimals:8,category:"Energy",description:"Oil & Gas"},{symbol:"HONx",name:"Honeywell",mintAddress:"XsRbLZthfABAPAfumWNEJhPyiKDW6TvDVeAeW7oKqA2",decimals:8,category:"Industrial",description:"Aerospace & Tech"},{symbol:"LINx",name:"Linde",mintAddress:"XsSr8anD1hkvNMu8XQiVcmiaTP7XGvYu7Q58LdmtE8Z",decimals:8,category:"Industrial",description:"Industrial Gas"},{symbol:"CMCSAx",name:"Comcast",mintAddress:"XsvKCaNsxg2GN8jjUmq71qukMJr7Q1c5R2Mk9P8kcS8",decimals:8,category:"Industrial",description:"Media & Telecom"},{symbol:"SPYx",name:"S&P 500 ETF",mintAddress:"XsoCS1TfEyfFhfvj8EtZ528L3CaKBDBRqRapnBbDF2W",decimals:8,category:"ETF",description:"US Large Cap"},{symbol:"QQQx",name:"Nasdaq 100 ETF",mintAddress:"Xs8S1uUs1zvS2p7iwtsG3b6fkhpvmwz4GYU3gWAmWHZ",decimals:8,category:"ETF",description:"Tech Index"},{symbol:"TQQQx",name:"TQQQ 3x Nasdaq ETF",mintAddress:"XsjQP3iMAaQ3kQScQKthQpx9ALRbjKAjQtHg6TFomoc",decimals:8,category:"ETF",description:"3x Leveraged Tech"},{symbol:"GLDx",name:"Gold ETF",mintAddress:"Xsv9hRk1z5ystj9MhnA7Lq4vjSsLwzL2nxrwmwtD3re",decimals:8,category:"ETF",description:"Gold"},{symbol:"VTIx",name:"Vanguard Total Market ETF",mintAddress:"XsssYEQjzxBCFgvYFFNuhJFBeHNdLWYeUSP8F45cDr9",decimals:8,category:"ETF",description:"Total US Market"},{symbol:"TBLLx",name:"Invesco TBLL ETF",mintAddress:"XsqBC5tcVQLYt8wqGCHRnAUUecbRYXoJCReD6w7QEKp",decimals:8,category:"ETF",description:"Treasury Bills"},{symbol:"AMBRx",name:"Amber",mintAddress:"XsaQTCgebC2KPbf27KUhdv5JFvHhQ4GDAPURwrEhAzb",decimals:8,category:"Other",description:"Specialty"},{symbol:"DFDVx",name:"DFDV",mintAddress:"Xs2yquAgsHByNzx68WJC55WHjHBvG9JsMB7CWjTLyPy",decimals:8,category:"Other",description:"Specialty"},{symbol:"STRCx",name:"Strategy PP Variable",mintAddress:"Xs78JED6PFZxWc2wCEPspZW9kL3Se5J7L5TChKgsidH",decimals:8,category:"Other",description:"Strategy Fund"},{symbol:"TONXx",name:"TON",mintAddress:"XscE4GUcsYhcyZu5ATiGUMmhxYa1D5fwbpJw4K6K4dp",decimals:8,category:"Crypto-Adjacent",description:"Telegram Crypto"}],ZOr=new Map(kr.map(t=>[t.symbol,t])),e5r=new Map(kr.map(t=>[t.mintAddress,t]));async function $He(t){return Gt.select().from(Ni).where(Vi(an(Ni.agentId,t),an(Ni.status,"active"))).orderBy(Ci(Ni.updatedAt))}async function FHe(t,e){let n=await Gt.select().from(Ni).where(Vi(an(Ni.agentId,t),an(Ni.symbol,e.symbol),an(Ni.status,"active"))).limit(1);if(n.length>0)return await Gt.update(Ni).set({thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice??n[0].entryPrice,targetPrice:e.targetPrice??n[0].targetPrice,updatedAt:new Date}).where(an(Ni.id,n[0].id)),{action:"updated",id:n[0].id};let[r]=await Gt.insert(Ni).values({agentId:t,symbol:e.symbol,thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice,targetPrice:e.targetPrice,status:"active"}).returning({id:Ni.id});return{action:"created",id:r.id}}async function HHe(t,e,n){return{closed:(await Gt.update(Ni).set({status:"closed",closedReason:n,updatedAt:new Date}).where(Vi(an(Ni.agentId,t),an(Ni.symbol,e),an(Ni.status,"active"))).returning({id:Ni.id})).length}}mt();var qHe=20,WHe=12,KHe=26,zDt=14,jDt=15,tae=10,JHe=1,nae=50,YHe=10,qDt=70,WDt=30,QHe=80;var KDt=5e4;var XM=new Map,XHe=500,ZHe=new Map;var JDt=0,eGe=0;async function nGe(){let t=[];JDt++;let e=await YDt(),n=new Map;for(let r of kr)n.set(r.symbol,ZDt(r.mintAddress));for(let r of kr){let o=e.get(r.mintAddress),i=ZHe.get(r.symbol),s=Date.now(),a,c,l,u,d,p;if(o){a=o.price,c="jupiter";let y=XM.get(r.symbol)??[];if(o.change24h!==0)l=o.change24h;else if(y.length>=2){let S=y[0];s-S.timestamp>0&&S.price>0?l=(a-S.price)/S.price*100:l=0}else i?l=(a-i.price)/i.price*100:l=0;u=o.volume24h!==0?o.volume24h:i?.volume24h??0}else if(i&&s-new Date(i.updatedAt).getTime()<12e4){a=i.price,c="cached",l=i.change24h,u=i.volume24h,d=i.marketCapUsd;let y=await n.get(r.symbol);p=i.liquidityUsd??y?.liquidityUsd}else{let y=await XDt(r.symbol);y?(a=y.price,c="coingecko",l=y.change24h,u=y.volume24h,d=y.marketCap):(a=ikt(r.symbol,i?.price),c="mock",l=i?(a-i.price)/i.price*100:(Math.random()-.5)*5,u=1e7+Math.random()*49e7)}let f=XM.get(r.symbol)??[],h=okt(f),m=Math.max(5,Math.round(100/Math.log2(Math.max(u,1e6))));p===void 0&&(p=(await n.get(r.symbol))?.liquidityUsd);let g={symbol:r.symbol,name:r.name,mintAddress:r.mintAddress,price:$A(a),change24h:re(l),volume24h:Math.round(u),vwap:$A(h||a),spreadBps:m,marketCapUsd:d?Math.round(d):void 0,liquidityUsd:p?Math.round(p):void 0,source:c,updatedAt:new Date().toISOString()};t.push(g),ZHe.set(r.symbol,g),f.push({price:a,volume:u,timestamp:s}),f.length>XHe&&f.splice(0,f.length-XHe),XM.set(r.symbol,f)}return tkt(t),t}async function YDt(){let t=new Map;try{let e=kr.map(i=>i.mintAddress),n=[];for(let i=0;i<e.length;i+=50)n.push(e.slice(i,i+50));let r=process.env.JUPITER_API_KEY,o={};r&&(o["x-api-key"]=r);for(let i of n){let s=i.join(",");try{let a=await fetch(`https://api.jup.ag/price/v3?ids=${s}`,{headers:o,signal:AbortSignal.timeout(8e3)});if(a.ok){let c=await a.json();for(let[l,u]of Object.entries(c.data))if(u?.price){let d=parseFloat(u.price);if(!Number.isFinite(d)||d<=0)continue;t.set(l,{price:d,change24h:0,volume24h:0})}}}catch{eGe++}}}catch{eGe++}return t}var QDt={COINx:"coinbase-wrapped-staked-eth",MSTRx:"microstrategy-tokenized-stock-defichain"};async function XDt(t){let e=QDt[t];if(!e)return null;try{let n=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true&include_24hr_change=true`,{signal:AbortSignal.timeout(5e3)});if(!n.ok)return null;let o=(await n.json())[e];return o?.usd?{price:o.usd,change24h:o.usd_24h_change??0,volume24h:o.usd_24h_vol??0,marketCap:o.usd_market_cap}:null}catch{return null}}async function ZDt(t){try{let e=await fetch(`https://api.dexscreener.com/latest/dex/tokens/${t}`,{signal:AbortSignal.timeout(5e3)});if(!e.ok)return null;let r=(await e.json()).pairs?.filter(i=>i.chainId==="solana")??[];if(r.length===0)return null;let o=r.map(i=>i.liquidity?.usd??0).filter(i=>i>0);return o.length===0?null:{liquidityUsd:Math.max(...o)}}catch{return null}}function rGe(t){let n=(XM.get(t)??[]).map(u=>u.price),r=n.length>=qHe?nkt(n,qHe):null,o=n.length>=WHe?tGe(n,WHe):null,i=n.length>=KHe?tGe(n,KHe):null,s=n.length>=jDt?rkt(n,zDt):null,a=n.length>=tae?(n[n.length-1]-n[n.length-tae])/n[n.length-tae]*100:null,c="sideways",l=nae;if(r!==null&&n.length>0){let d=(n[n.length-1]-r)/r*100;d>JHe?(c="up",l=Math.min(100,nae+d*YHe)):d<-JHe&&(c="down",l=Math.min(100,nae+Math.abs(d)*YHe))}return s!==null&&(s>qDt?(c="up",l=Math.max(l,QHe)):s<WDt&&(c="down",l=Math.max(l,QHe))),{symbol:t,sma20:r!==null?$A(r):null,ema12:o!==null?$A(o):null,ema26:i!==null?$A(i):null,rsi14:s!==null?re(s):null,momentum:a!==null?re(a):null,trend:c,signalStrength:Math.round(l),updatedAt:new Date().toISOString()}}function ekt(t){return t>=3e5?"good":t>=5e4?"moderate":t>0?"thin":"dead"}var rae=null;function tkt(t){let e=t.map(r=>{let o=r.liquidityUsd??0,i=ekt(o);return{symbol:r.symbol,name:r.name,mintAddress:r.mintAddress,liquidityUsd:o,tier:i,tradeable:o>=KDt,price:r.price,volume24h:r.volume24h,source:r.source}});e.sort((r,o)=>o.liquidityUsd-r.liquidityUsd);let n={tokens:e,tradeableCount:ue(e,r=>r.tradeable),totalCount:e.length,analyzedAt:new Date().toISOString()};return rae=n,n}function oGe(){return rae?new Set(rae.tokens.filter(t=>t.tradeable).map(t=>t.symbol)):null}function nkt(t,e){let n=t.slice(-e);return n.reduce((r,o)=>r+o,0)/n.length}function tGe(t,e){let n=2/(e+1),r=t[0];for(let o=1;o<t.length;o++)r=t[o]*n+r*(1-n);return r}function rkt(t,e){if(t.length<e+1)return 50;let n=0,r=0,o=t.slice(-(e+1));for(let c=1;c<o.length;c++){let l=o[c]-o[c-1];l>0?n+=l:r-=l}let i=n/e,s=r/e;return s===0?100:100-100/(1+i/s)}function okt(t){if(t.length===0)return null;let e=0,n=0;for(let r of t)e+=r.price*r.volume,n+=r.volume;return n>0?e/n:null}function ikt(t,e){let r=e??{AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[t]??100,o=1+(Math.random()-.5)*.02;return re(r*o)}mt();var ff=1e4,iGe=.05,oae=252;async function sGe(t){let[e,n,r]=await Promise.all([Gt.select().from(zr).where(an(zr.agentId,t)).orderBy(K7(zr.createdAt)),Gt.select().from(Nn).where(an(Nn.agentId,t)),Gt.select().from(Ic).where(an(Ic.agentId,t)).orderBy(Ci(Ic.createdAt))]),o=await hkt(),i=ff;for(let v of e)v.side==="buy"?i-=parseFloat(v.usdcAmount):i+=parseFloat(v.usdcAmount);i=Math.max(0,i);let s=0,a=0;for(let v of n){let A=parseFloat(v.quantity),w=parseFloat(v.averageCostBasis),I=o.get(v.symbol)??w,D=A*I;s+=D,a+=(I-w)*A}let c=skt(e),l=i+s,u=l-ff,d=u/ff*100,p=akt(e,o),f=lkt(e),h=ukt(e,n,o),m=pkt(e,u),g=fkt(r),y=dkt(e),S=ckt(p,u);return{agentId:t,summary:{totalValue:re(l),cashBalance:re(i),positionsValue:re(s),initialCapital:ff,totalPnl:re(u),totalPnlPercent:re(d),realizedPnl:re(c),unrealizedPnl:re(a)},risk:S,trading:{totalTrades:e.length,buyCount:ue(e,v=>v.side==="buy"),sellCount:ue(e,v=>v.side==="sell"),holdCount:ue(r,v=>v.action==="hold"),winRate:f.winRate,avgWin:re(f.avgWin),avgLoss:re(f.avgLoss),profitFactor:re(f.profitFactor),avgHoldTimeHours:re(f.avgHoldTimeHours),avgTradeSize:e.length>0?re(e.reduce((v,A)=>v+parseFloat(A.usdcAmount),0)/e.length):0,largestWin:re(f.largestWin),largestLoss:re(f.largestLoss),currentStreak:y.current,longestWinStreak:y.longestWin,longestLossStreak:y.longestLoss},byStock:h,returns:m,decisions:g,computedAt:new Date().toISOString()}}function skt(t){let e=new Map;for(let r of t){let o=e.get(r.stockSymbol)??[];o.push(r),e.set(r.stockSymbol,o)}let n=0;for(let[,r]of e){let o=[];for(let i of r){let s=parseFloat(i.stockQuantity),a=parseFloat(i.pricePerToken);if(i.side==="buy")o.push({qty:s,price:a});else{let c=s;for(;c>0&&o.length>0;){let l=o[0],u=Math.min(c,l.qty);n+=u*(a-l.price),l.qty-=u,c-=u,l.qty<=1e-9&&o.shift()}}}}return n}function akt(t,e){if(t.length===0)return[];let n=new Map;for(let o of t){let i=o.createdAt.toISOString().split("T")[0],s=n.get(i)??0,a=parseFloat(o.usdcAmount);n.set(i,s+(o.side==="sell"?a:-a))}let r=[];for(let[,o]of n)r.push(o/ff);return r}function ckt(t,e){if(t.length<2)return{sharpeRatio:null,sortinoRatio:null,calmarRatio:null,maxDrawdown:0,maxDrawdownPercent:0,volatility:null,beta:null,valueAtRisk95:null};let n=t.reduce((g,y)=>g+y,0)/t.length,r=t.reduce((g,y)=>g+(y-n)**2,0)/(t.length-1),o=Math.sqrt(r),i=o*Math.sqrt(oae),s=n*oae,a=i>0?(s-iGe)/i:null,c=t.filter(g=>g<0),l=null;if(c.length>1){let g=c.reduce((S,v)=>S+v**2,0)/c.length,y=Math.sqrt(g)*Math.sqrt(oae);l=y>0?(s-iGe)/y:null}let u=ff,d=0,p=ff;for(let g of t){p+=g*ff,p>u&&(u=p);let y=u-p;y>d&&(d=y)}let f=u>0?d/u*100:0,h=f>0?e/ff*100/f:null,m=t.length>=5?-(n-1.645*o)*ff:null;return{sharpeRatio:a!==null?re(a):null,sortinoRatio:l!==null?re(l):null,calmarRatio:h!==null?re(h):null,maxDrawdown:re(d),maxDrawdownPercent:re(f),volatility:re(i*100),beta:null,valueAtRisk95:m!==null?re(m):null}}function lkt(t){let e=t.filter(u=>u.side==="buy"),n=t.filter(u=>u.side==="sell");if(n.length===0)return{winRate:0,avgWin:0,avgLoss:0,profitFactor:0,largestWin:0,largestLoss:0,avgHoldTimeHours:0};let r=new Map,o=new Map;for(let u of e){let d=o.get(u.stockSymbol)??{totalCost:0,totalQty:0};d.totalCost+=parseFloat(u.usdcAmount),d.totalQty+=parseFloat(u.stockQuantity),o.set(u.stockSymbol,d)}for(let[u,d]of o)r.set(u,d.totalQty>0?d.totalCost/d.totalQty:0);let i=[],s=[],a=[];for(let u of n){let d=parseFloat(u.pricePerToken),p=r.get(u.stockSymbol)??d,f=parseFloat(u.stockQuantity),h=(d-p)*f;h>=0?i.push(h):s.push(h);let m=e.filter(g=>g.stockSymbol===u.stockSymbol&&g.createdAt<=u.createdAt).sort((g,y)=>y.createdAt.getTime()-g.createdAt.getTime())[0];m&&a.push((u.createdAt.getTime()-m.createdAt.getTime())/36e5)}let c=i.reduce((u,d)=>u+d,0),l=Math.abs(s.reduce((u,d)=>u+d,0));return{winRate:n.length>0?re(i.length/n.length*100):0,avgWin:i.length>0?c/i.length:0,avgLoss:s.length>0?l/s.length:0,profitFactor:l>0?c/l:c>0?1/0:0,largestWin:i.length>0?Math.max(...i):0,largestLoss:s.length>0?Math.min(...s):0,avgHoldTimeHours:a.length>0?a.reduce((u,d)=>u+d,0)/a.length:0}}function ukt(t,e,n){let r=new Map;for(let c of kr)r.set(c.symbol,{symbol:c.symbol,name:c.name,totalBought:0,totalSold:0,currentPosition:0,realizedPnl:0,unrealizedPnl:0,avgBuyPrice:0,avgSellPrice:0,tradeCount:0,winRate:0});let o=new Map,i=new Map,s=new Map;for(let c of t){let l=r.get(c.stockSymbol);if(!l)continue;l.tradeCount++;let u=parseFloat(c.stockQuantity),d=parseFloat(c.pricePerToken),p=parseFloat(c.usdcAmount);if(c.side==="buy"){l.totalBought+=p;let f=o.get(c.stockSymbol)??[];f.push({qty:u,price:d}),o.set(c.stockSymbol,f);let h=f.reduce((m,g)=>m+g.qty,0);l.avgBuyPrice=h>0?f.reduce((m,g)=>m+g.qty*g.price,0)/h:0}else{l.totalSold+=p,l.avgSellPrice=l.avgSellPrice>0?(l.avgSellPrice+d)/2:d;let f=o.get(c.stockSymbol)??[],h=u,m=0;for(;h>0&&f.length>0;){let S=f[0],v=Math.min(h,S.qty);m+=v*(d-S.price),S.qty-=v,h-=v,S.qty<=1e-9&&f.shift()}l.realizedPnl+=m;let g=i.get(c.stockSymbol)??0,y=s.get(c.stockSymbol)??0;s.set(c.stockSymbol,y+1),m>=0&&i.set(c.stockSymbol,g+1)}}for(let c of e){let l=r.get(c.symbol);if(!l)continue;let u=parseFloat(c.quantity),d=parseFloat(c.averageCostBasis),p=n.get(c.symbol)??d;l.currentPosition=u,l.unrealizedPnl=(p-d)*u}for(let[c,l]of r){let u=i.get(c)??0,d=s.get(c)??0;l.winRate=d>0?re(u/d*100):0}let a=Array.from(r.values()).filter(c=>c.tradeCount>0||c.currentPosition>0);return jHe(a,"tradeCount")}function dkt(t){let e=t.filter(a=>a.side==="sell").sort((a,c)=>a.createdAt.getTime()-c.createdAt.getTime());if(e.length===0)return{current:{type:"none",count:0},longestWin:0,longestLoss:0};let n=new Map;for(let a of t.filter(c=>c.side==="buy")){let c=n.get(a.stockSymbol),l=parseFloat(a.pricePerToken);n.set(a.stockSymbol,c?(c+l)/2:l)}let r="win",o=0,i=0,s=0;for(let a of e){let c=parseFloat(a.pricePerToken),l=n.get(a.stockSymbol)??c,d=c>=l?"win":"loss";d===r?o++:(r==="win"?i=Math.max(i,o):s=Math.max(s,o),r=d,o=1)}return r==="win"?i=Math.max(i,o):s=Math.max(s,o),{current:{type:r,count:o},longestWin:i,longestLoss:s}}function pkt(t,e){let n=Date.now(),r=o=>{let i=new Date(n-o),s=t.filter(c=>c.createdAt>=i);if(s.length===0)return null;let a=0;for(let c of s){let l=parseFloat(c.usdcAmount);a+=c.side==="sell"?l:-l}return re(a)};return{day1:r(1440*60*1e3),day7:r(10080*60*1e3),day30:r(720*60*60*1e3),allTime:re(e)}}function fkt(t){let e=Date.now(),n=t.filter(c=>e-c.createdAt.getTime()<1440*60*1e3),r={buy:0,sell:0,hold:0},o=new Map,i=0;for(let c of t)c.action==="buy"?r.buy++:c.action==="sell"?r.sell++:r.hold++,i+=c.confidence,c.action!=="hold"&&o.set(c.symbol,(o.get(c.symbol)??0)+1);let s=null,a=0;for(let[c,l]of o)l>a&&(a=l,s=c);return{totalDecisions:t.length,avgConfidence:t.length>0?re(i/t.length):0,confidenceCalibration:null,decisionsLast24h:n.length,favoriteStock:s,actionDistribution:r}}var ZM=null,mkt=3e4;async function hkt(){if(ZM&&Date.now()-ZM.fetchedAt<mkt)return ZM.prices;let t=new Map;try{let r=kr.map(a=>a.mintAddress).join(","),o=process.env.JUPITER_API_KEY,i={};o&&(i["x-api-key"]=o);let s=await fetch(`https://api.jup.ag/price/v3?ids=${r}`,{headers:i,signal:AbortSignal.timeout(1e4)});if(s.ok){let a=await s.json();for(let c of kr){let l=a.data?.[c.mintAddress];l?.price&&t.set(c.symbol,parseFloat(l.price))}}}catch{}let e={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};for(let n of kr)if(!t.has(n.symbol)){let r=e[n.symbol]??100;t.set(n.symbol,r*(1+(Math.random()-.5)*.02))}return ZM={prices:t,fetchedAt:Date.now()},t}_o();var HA=9e15,X0=1e9,iae="0123456789abcdef",nB="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rB="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",sae={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-HA,maxE:HA,crypto:!1},uGe,Zm,hn=!0,iB="[DecimalError] ",Q0=iB+"Invalid argument: ",dGe=iB+"Precision limit exceeded",pGe=iB+"crypto unavailable",fGe="[object Decimal]",oa=Math.floor,zi=Math.pow,gkt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ykt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,bkt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,mGe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kd=1e7,en=7,_kt=9007199254740991,Skt=nB.length-1,aae=rB.length-1,$e={toStringTag:fGe};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Wt(t)};$e.ceil=function(){return Wt(new this.constructor(this),this.e+1,2)};$e.clampedTo=$e.clamp=function(t,e){var n,r=this,o=r.constructor;if(t=new o(t),e=new o(e),!t.s||!e.s)return new o(NaN);if(t.gt(e))throw Error(Q0+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new o(r)};$e.comparedTo=$e.cmp=function(t){var e,n,r,o,i=this,s=i.d,a=(t=new i.constructor(t)).d,c=i.s,l=t.s;if(!s||!a)return!c||!l?NaN:c!==l?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-l:0;if(c!==l)return c;if(i.e!==t.e)return i.e>t.e^c<0?1:-1;for(r=s.length,o=a.length,e=0,n=r<o?r:o;e<n;++e)if(s[e]!==a[e])return s[e]>a[e]^c<0?1:-1;return r===o?0:r>o^c<0?1:-1};$e.cosine=$e.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+en,r.rounding=1,n=vkt(r,_Ge(r,n)),r.precision=t,r.rounding=e,Wt(Zm==2||Zm==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};$e.cubeRoot=$e.cbrt=function(){var t,e,n,r,o,i,s,a,c,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(hn=!1,i=u.s*zi(u.s*u,1/3),!i||Math.abs(i)==1/0?(n=xs(u.d),t=u.e,(i=(t-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=zi(n,1/3),t=oa((t+1)/3)-(t%3==(t<0?-1:2)),i==1/0?n="5e"+t:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new d(n),r.s=u.s):r=new d(i.toString()),s=(t=d.precision)+3;;)if(a=r,c=a.times(a).times(a),l=c.plus(u),r=jr(l.plus(u).times(a),l.plus(c),s+2,1),xs(a.d).slice(0,s)===(n=xs(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!o&&n=="4999"){if(!o&&(Wt(a,t+1,0),a.times(a).times(a).eq(u))){r=a;break}s+=4,o=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Wt(r,t+1,1),e=!r.times(r).times(r).eq(u));break}return hn=!0,Wt(r,t,d.rounding,e)};$e.decimalPlaces=$e.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-oa(this.e/en))*en,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};$e.dividedBy=$e.div=function(t){return jr(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.divToInt=function(t){var e=this,n=e.constructor;return Wt(jr(e,new n(t),0,1,1),n.precision,n.rounding)};$e.equals=$e.eq=function(t){return this.cmp(t)===0};$e.floor=function(){return Wt(new this.constructor(this),this.e+1,3)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){var e=this.cmp(t);return e==1||e===0};$e.hyperbolicCosine=$e.cosh=function(){var t,e,n,r,o,i=this,s=i.constructor,a=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(i.e,i.sd())+4,s.rounding=1,o=i.d.length,o<32?(t=Math.ceil(o/3),e=(1/aB(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),i=GA(s,1,i.times(e),new s(1),!0);for(var c,l=t,u=new s(8);l--;)c=i.times(i),i=a.minus(c.times(u.minus(c.times(u))));return Wt(i,s.precision=n,s.rounding=r,!0)};$e.hyperbolicSine=$e.sinh=function(){var t,e,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(e=i.precision,n=i.rounding,i.precision=e+Math.max(o.e,o.sd())+4,i.rounding=1,r=o.d.length,r<3)o=GA(i,2,o,o,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,o=o.times(1/aB(5,t)),o=GA(i,2,o,o,!0);for(var s,a=new i(5),c=new i(16),l=new i(20);t--;)s=o.times(o),o=o.times(a.plus(s.times(c.times(s).plus(l))))}return i.precision=e,i.rounding=n,Wt(o,e,n,!0)};$e.hyperbolicTangent=$e.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,jr(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};$e.inverseCosine=$e.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),r=e.precision,o=e.rounding;return n!==-1?n===0?t.isNeg()?mf(e,r,o):new e(0):new e(NaN):t.isZero()?mf(e,r+4,o).times(.5):(e.precision=r+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=r,e.rounding=o,t.times(2))};$e.inverseHyperbolicCosine=$e.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,hn=!1,n=n.times(n).minus(1).sqrt().plus(n),hn=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};$e.inverseHyperbolicSine=$e.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,hn=!1,n=n.times(n).plus(1).sqrt().plus(n),hn=!0,r.precision=t,r.rounding=e,n.ln())};$e.inverseHyperbolicTangent=$e.atanh=function(){var t,e,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(t=i.precision,e=i.rounding,r=o.sd(),Math.max(r,t)<2*-o.e-1?Wt(new i(o),t,e,!0):(i.precision=n=r-o.e,o=jr(o.plus(1),new i(1).minus(o),n+t,1),i.precision=t+4,i.rounding=1,o=o.ln(),i.precision=t,i.rounding=e,o.times(.5))):new i(NaN)};$e.inverseSine=$e.asin=function(){var t,e,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(e=o.abs().cmp(1),n=i.precision,r=i.rounding,e!==-1?e===0?(t=mf(i,n+4,r).times(.5),t.s=o.s,t):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))};$e.inverseTangent=$e.atan=function(){var t,e,n,r,o,i,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=aae)return s=mf(u,d+4,p).times(.25),s.s=l.s,s}else{if(!l.s)return new u(NaN);if(d+4<=aae)return s=mf(u,d+4,p).times(.5),s.s=l.s,s}for(u.precision=a=d+10,u.rounding=1,n=Math.min(28,a/en+2|0),t=n;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(hn=!1,e=Math.ceil(a/en),r=1,c=l.times(l),s=new u(l),o=l;t!==-1;)if(o=o.times(c),i=s.minus(o.div(r+=2)),o=o.times(c),s=i.plus(o.div(r+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===i.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),hn=!0,Wt(s,u.precision=d,u.rounding=p,!0)};$e.isFinite=function(){return!!this.d};$e.isInteger=$e.isInt=function(){return!!this.d&&oa(this.e/en)>this.d.length-2};$e.isNaN=function(){return!this.s};$e.isNegative=$e.isNeg=function(){return this.s<0};$e.isPositive=$e.isPos=function(){return this.s>0};$e.isZero=function(){return!!this.d&&this.d[0]===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n,r,o,i,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding,f=5;if(t==null)t=new u(10),e=!0;else{if(t=new u(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new u(n&&!n[0]?-1/0:l.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)i=!0;else{for(o=n[0];o%10===0;)o/=10;i=o!==1}if(hn=!1,a=d+f,s=Y0(l,a),r=e?oB(u,a+10):Y0(t,a),c=jr(s,r,a,1),L6(c.d,o=d,p))do if(a+=10,s=Y0(l,a),r=e?oB(u,a+10):Y0(t,a),c=jr(s,r,a,1),!i){+xs(c.d).slice(o+1,o+15)+1==1e14&&(c=Wt(c,d+1,0));break}while(L6(c.d,o+=10,p));return hn=!0,Wt(c,d,p)};$e.minus=$e.sub=function(t){var e,n,r,o,i,s,a,c,l,u,d,p,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d?t.s=-t.s:t=new h(t.d||f.s!==t.s?f:NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(l=f.d,p=t.d,a=h.precision,c=h.rounding,!l[0]||!p[0]){if(p[0])t.s=-t.s;else if(l[0])t=new h(f);else return new h(c===3?-0:0);return hn?Wt(t,a,c):t}if(n=oa(t.e/en),u=oa(f.e/en),l=l.slice(),i=u-n,i){for(d=i<0,d?(e=l,i=-i,s=p.length):(e=p,n=u,s=l.length),r=Math.max(Math.ceil(a/en),s)+2,i>r&&(i=r,e.length=1),e.reverse(),r=i;r--;)e.push(0);e.reverse()}else{for(r=l.length,s=p.length,d=r<s,d&&(s=r),r=0;r<s;r++)if(l[r]!=p[r]){d=l[r]<p[r];break}i=0}for(d&&(e=l,l=p,p=e,t.s=-t.s),s=l.length,r=p.length-s;r>0;--r)l[s++]=0;for(r=p.length;r>i;){if(l[--r]<p[r]){for(o=r;o&&l[--o]===0;)l[o]=Kd-1;--l[o],l[r]+=Kd}l[r]-=p[r]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=sB(l,n),hn?Wt(t,a,c):t):new h(c===3?-0:0)};$e.modulo=$e.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Wt(new r(n),r.precision,r.rounding):(hn=!1,r.modulo==9?(e=jr(n,t.abs(),0,3,1),e.s*=t.s):e=jr(n,t,0,r.modulo,1),e=e.times(t),hn=!0,n.minus(e))};$e.naturalExponential=$e.exp=function(){return cae(this)};$e.naturalLogarithm=$e.ln=function(){return Y0(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Wt(t)};$e.plus=$e.add=function(t){var e,n,r,o,i,s,a,c,l,u,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(l=d.d,u=t.d,a=p.precision,c=p.rounding,!l[0]||!u[0])return u[0]||(t=new p(d)),hn?Wt(t,a,c):t;if(i=oa(d.e/en),r=oa(t.e/en),l=l.slice(),o=i-r,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,r=i,s=l.length),i=Math.ceil(a/en),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),e=0;o;)e=(l[--o]=l[o]+u[o]+e)/Kd|0,l[o]%=Kd;for(e&&(l.unshift(e),++r),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=sB(l,r),hn?Wt(t,a,c):t};$e.precision=$e.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Q0+t);return n.d?(e=hGe(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};$e.round=function(){var t=this,e=t.constructor;return Wt(new e(t),t.e+1,e.rounding)};$e.sine=$e.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+en,r.rounding=1,n=Akt(r,_Ge(r,n)),r.precision=t,r.rounding=e,Wt(Zm>2?n.neg():n,t,e,!0)):new r(NaN)};$e.squareRoot=$e.sqrt=function(){var t,e,n,r,o,i,s=this,a=s.d,c=s.e,l=s.s,u=s.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);for(hn=!1,l=Math.sqrt(+s),l==0||l==1/0?(e=xs(a),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=oa((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new u(e)):r=new u(l.toString()),n=(c=u.precision)+3;;)if(i=r,r=i.plus(jr(s,i,n+2,1)).times(.5),xs(i.d).slice(0,n)===(e=xs(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!o&&e=="4999"){if(!o&&(Wt(i,c+1,0),i.times(i).eq(s))){r=i;break}n+=4,o=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Wt(r,c+1,1),t=!r.times(r).eq(s));break}return hn=!0,Wt(r,c,u.rounding,t)};$e.tangent=$e.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=jr(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Wt(Zm==2||Zm==4?n.neg():n,t,e,!0)):new r(NaN)};$e.times=$e.mul=function(t){var e,n,r,o,i,s,a,c,l,u=this,d=u.constructor,p=u.d,f=(t=new d(t)).d;if(t.s*=u.s,!p||!p[0]||!f||!f[0])return new d(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:!p||!f?t.s/0:t.s*0);for(n=oa(u.e/en)+oa(t.e/en),c=p.length,l=f.length,c<l&&(i=p,p=f,f=i,s=c,c=l,l=s),i=[],s=c+l,r=s;r--;)i.push(0);for(r=l;--r>=0;){for(e=0,o=c+r;o>r;)a=i[o]+f[r]*p[o-r-1]+e,i[o--]=a%Kd|0,e=a/Kd|0;i[o]=(i[o]+e)%Kd|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=sB(i,n),hn?Wt(t,d.precision,d.rounding):t};$e.toBinary=function(t,e){return lae(this,2,t,e)};$e.toDecimalPlaces=$e.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Oc(t,0,X0),e===void 0?e=r.rounding:Oc(e,0,8),Wt(n,t+n.e+1,e))};$e.toExponential=function(t,e){var n,r=this,o=r.constructor;return t===void 0?n=hf(r,!0):(Oc(t,0,X0),e===void 0?e=o.rounding:Oc(e,0,8),r=Wt(new o(r),t+1,e),n=hf(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};$e.toFixed=function(t,e){var n,r,o=this,i=o.constructor;return t===void 0?n=hf(o):(Oc(t,0,X0),e===void 0?e=i.rounding:Oc(e,0,8),r=Wt(new i(o),t+o.e+1,e),n=hf(r,!1,t+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n};$e.toFraction=function(t){var e,n,r,o,i,s,a,c,l,u,d,p,f=this,h=f.d,m=f.constructor;if(!h)return new m(f);if(l=n=new m(1),r=c=new m(0),e=new m(r),i=e.e=hGe(h)-f.e-1,s=i%en,e.d[0]=zi(10,s<0?en+s:s),t==null)t=i>0?e:l;else{if(a=new m(t),!a.isInt()||a.lt(l))throw Error(Q0+a);t=a.gt(e)?i>0?e:l:a}for(hn=!1,a=new m(xs(h)),u=m.precision,m.precision=i=h.length*en*2;d=jr(a,e,0,1,1),o=n.plus(d.times(r)),o.cmp(t)!=1;)n=r,r=o,o=l,l=c.plus(d.times(o)),c=o,o=e,e=a.minus(d.times(o)),a=o;return o=jr(t.minus(n),r,0,1,1),c=c.plus(o.times(l)),n=n.plus(o.times(r)),c.s=l.s=f.s,p=jr(l,r,i,1).minus(f).abs().cmp(jr(c,n,i,1).minus(f).abs())<1?[l,r]:[c,n],m.precision=u,hn=!0,p};$e.toHexadecimal=$e.toHex=function(t,e){return lae(this,16,t,e)};$e.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:Oc(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(hn=!1,n=jr(n,t,0,e,1).times(t),hn=!0,Wt(n)):(t.s=n.s,n=t),n};$e.toNumber=function(){return+this};$e.toOctal=function(t,e){return lae(this,8,t,e)};$e.toPower=$e.pow=function(t){var e,n,r,o,i,s,a=this,c=a.constructor,l=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(zi(+a,l));if(a=new c(a),a.eq(1))return a;if(r=c.precision,i=c.rounding,t.eq(1))return Wt(a,r,i);if(e=oa(t.e/en),e>=t.d.length-1&&(n=l<0?-l:l)<=_kt)return o=gGe(c,a,n,r),t.s<0?new c(1).div(o):Wt(o,r,i);if(s=a.s,s<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return n=zi(+a,l),e=n==0||!isFinite(n)?oa(l*(Math.log("0."+xs(a.d))/Math.LN10+a.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(hn=!1,c.rounding=a.s=1,n=Math.min(12,(e+"").length),o=cae(t.times(Y0(a,r+n)),r),o.d&&(o=Wt(o,r+5,1),L6(o.d,r,i)&&(e=r+10,o=Wt(cae(t.times(Y0(a,e+n)),e),e+5,1),+xs(o.d).slice(r+1,r+15)+1==1e14&&(o=Wt(o,r+1,0)))),o.s=s,hn=!0,c.rounding=i,Wt(o,r,i))};$e.toPrecision=function(t,e){var n,r=this,o=r.constructor;return t===void 0?n=hf(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(Oc(t,1,X0),e===void 0?e=o.rounding:Oc(e,0,8),r=Wt(new o(r),t,e),n=hf(r,t<=r.e||r.e<=o.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};$e.toSignificantDigits=$e.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Oc(t,1,X0),e===void 0?e=r.rounding:Oc(e,0,8)),Wt(new r(n),t,e)};$e.toString=function(){var t=this,e=t.constructor,n=hf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};$e.truncated=$e.trunc=function(){return Wt(new this.constructor(this),this.e+1,1)};$e.valueOf=$e.toJSON=function(){var t=this,e=t.constructor,n=hf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function xs(t){var e,n,r,o=t.length-1,i="",s=t[0];if(o>0){for(i+=s,e=1;e<o;e++)r=t[e]+"",n=en-r.length,n&&(i+=J0(n)),i+=r;s=t[e],r=s+"",n=en-r.length,n&&(i+=J0(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function Oc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Q0+t)}function L6(t,e,n,r){var o,i,s,a;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=en,o=0):(o=Math.ceil((e+1)/en),e%=en),i=zi(10,en-e),a=t[o]%i|0,r==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):s=(n<4&&a+1==i||n>3&&a+1==i/2)&&(t[o+1]/i/100|0)==zi(10,e-2)-1||(a==i/2||a==0)&&(t[o+1]/i/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(r||n<4)&&a==9999||!r&&n>3&&a==4999):s=((r||n<4)&&a+1==i||!r&&n>3&&a+1==i/2)&&(t[o+1]/i/1e3|0)==zi(10,e-3)-1,s}function eB(t,e,n){for(var r,o=[0],i,s=0,a=t.length;s<a;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=iae.indexOf(t.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function vkt(t,e){var n,r,o;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),o=(1/aB(4,n)).toString()):(n=16,o="2.3283064365386962890625e-10"),t.precision+=n,e=GA(t,1,e.times(o),new t(1));for(var i=n;i--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=n,e}var jr=(function(){function t(r,o,i){var s,a=0,c=r.length;for(r=r.slice();c--;)s=r[c]*o+a,r[c]=s%i|0,a=s/i|0;return a&&r.unshift(a),r}function e(r,o,i,s){var a,c;if(i!=s)c=i>s?1:-1;else for(a=c=0;a<i;a++)if(r[a]!=o[a]){c=r[a]>o[a]?1:-1;break}return c}function n(r,o,i,s){for(var a=0;i--;)r[i]-=a,a=r[i]<o[i]?1:0,r[i]=a*s+r[i]-o[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,i,s,a,c){var l,u,d,p,f,h,m,g,y,S,v,A,w,I,D,k,O,U,G,J,C=r.constructor,_=r.s==o.s?1:-1,E=r.d,R=o.d;if(!E||!E[0]||!R||!R[0])return new C(!r.s||!o.s||(E?R&&E[0]==R[0]:!R)?NaN:E&&E[0]==0||!R?_*0:_/0);for(c?(f=1,u=r.e-o.e):(c=Kd,f=en,u=oa(r.e/f)-oa(o.e/f)),G=R.length,O=E.length,y=new C(_),S=y.d=[],d=0;R[d]==(E[d]||0);d++);if(R[d]>(E[d]||0)&&u--,i==null?(I=i=C.precision,s=C.rounding):a?I=i+(r.e-o.e)+1:I=i,I<0)S.push(1),h=!0;else{if(I=I/f+2|0,d=0,G==1){for(p=0,R=R[0],I++;(d<O||p)&&I--;d++)D=p*c+(E[d]||0),S[d]=D/R|0,p=D%R|0;h=p||d<O}else{for(p=c/(R[0]+1)|0,p>1&&(R=t(R,p,c),E=t(E,p,c),G=R.length,O=E.length),k=G,v=E.slice(0,G),A=v.length;A<G;)v[A++]=0;J=R.slice(),J.unshift(0),U=R[0],R[1]>=c/2&&++U;do p=0,l=e(R,v,G,A),l<0?(w=v[0],G!=A&&(w=w*c+(v[1]||0)),p=w/U|0,p>1?(p>=c&&(p=c-1),m=t(R,p,c),g=m.length,A=v.length,l=e(m,v,g,A),l==1&&(p--,n(m,G<g?J:R,g,c))):(p==0&&(l=p=1),m=R.slice()),g=m.length,g<A&&m.unshift(0),n(v,m,A,c),l==-1&&(A=v.length,l=e(R,v,G,A),l<1&&(p++,n(v,G<A?J:R,A,c))),A=v.length):l===0&&(p++,v=[0]),S[d++]=p,l&&v[0]?v[A++]=E[k]||0:(v=[E[k]],A=1);while((k++<O||v[0]!==void 0)&&I--);h=v[0]!==void 0}S[0]||S.shift()}if(f==1)y.e=u,uGe=h;else{for(d=1,p=S[0];p>=10;p/=10)d++;y.e=d+u*f-1,Wt(y,a?i+y.e+1:i,s,h)}return y}})();function Wt(t,e,n,r){var o,i,s,a,c,l,u,d,p,f=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(o=1,a=d[0];a>=10;a/=10)o++;if(i=e-o,i<0)i+=en,s=e,u=d[p=0],c=u/zi(10,o-s-1)%10|0;else if(p=Math.ceil((i+1)/en),a=d.length,p>=a)if(r){for(;a++<=p;)d.push(0);u=c=0,o=1,i%=en,s=i-en+1}else break e;else{for(u=a=d[p],o=1;a>=10;a/=10)o++;i%=en,s=i-en+o,c=s<0?0:u/zi(10,o-s-1)%10|0}if(r=r||e<0||d[p+1]!==void 0||(s<0?u:u%zi(10,o-s-1)),l=n<4?(c||r)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(i>0?s>0?u/zi(10,o-s):0:d[p-1])%10&1||n==(t.s<0?8:7)),e<1||!d[0])return d.length=0,l?(e-=t.e+1,d[0]=zi(10,(en-e%en)%en),t.e=-e||0):d[0]=t.e=0,t;if(i==0?(d.length=p,a=1,p--):(d.length=p+1,a=zi(10,en-i),d[p]=s>0?(u/zi(10,o-s)%zi(10,s)|0)*a:0),l)for(;;)if(p==0){for(i=1,s=d[0];s>=10;s/=10)i++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;i!=a&&(t.e++,d[0]==Kd&&(d[0]=1));break}else{if(d[p]+=a,d[p]!=Kd)break;d[p--]=0,a=1}for(i=d.length;d[--i]===0;)d.pop()}return hn&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function hf(t,e,n){if(!t.isFinite())return bGe(t);var r,o=t.e,i=xs(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+J0(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):o<0?(i="0."+J0(-o-1)+i,n&&(r=n-s)>0&&(i+=J0(r))):o>=s?(i+=J0(o+1-s),n&&(r=n-o-1)>0&&(i=i+"."+J0(r))):((r=o+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(i+="."),i+=J0(r))),i}function sB(t,e){var n=t[0];for(e*=en;n>=10;n/=10)e++;return e}function oB(t,e,n){if(e>Skt)throw hn=!0,n&&(t.precision=n),Error(dGe);return Wt(new t(nB),e,1,!0)}function mf(t,e,n){if(e>aae)throw Error(dGe);return Wt(new t(rB),e,n,!0)}function hGe(t){var e=t.length-1,n=e*en+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function J0(t){for(var e="";t--;)e+="0";return e}function gGe(t,e,n,r){var o,i=new t(1),s=Math.ceil(r/en+4);for(hn=!1;;){if(n%2&&(i=i.times(e),cGe(i.d,s)&&(o=!0)),n=oa(n/2),n===0){n=i.d.length-1,o&&i.d[n]===0&&++i.d[n];break}e=e.times(e),cGe(e.d,s)}return hn=!0,i}function aGe(t){return t.d[t.d.length-1]&1}function yGe(t,e,n){for(var r,o,i=new t(e[0]),s=0;++s<e.length;){if(o=new t(e[s]),!o.s){i=o;break}r=i.cmp(o),(r===n||r===0&&i.s===n)&&(i=o)}return i}function cae(t,e){var n,r,o,i,s,a,c,l=0,u=0,d=0,p=t.constructor,f=p.rounding,h=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(hn=!1,c=h):c=e,a=new p(.03125);t.e>-2;)t=t.times(a),d+=5;for(r=Math.log(zi(2,d))/Math.LN10*2+5|0,c+=r,n=i=s=new p(1),p.precision=c;;){if(i=Wt(i.times(t),c,1),n=n.times(++u),a=s.plus(jr(i,n,c,1)),xs(a.d).slice(0,c)===xs(s.d).slice(0,c)){for(o=d;o--;)s=Wt(s.times(s),c,1);if(e==null)if(l<3&&L6(s.d,c-r,f,l))p.precision=c+=10,n=i=a=new p(1),u=0,l++;else return Wt(s,p.precision=h,f,hn=!0);else return p.precision=h,s}s=a}}function Y0(t,e){var n,r,o,i,s,a,c,l,u,d,p,f=1,h=10,m=t,g=m.d,y=m.constructor,S=y.rounding,v=y.precision;if(m.s<0||!g||!g[0]||!m.e&&g[0]==1&&g.length==1)return new y(g&&!g[0]?-1/0:m.s!=1?NaN:g?0:m);if(e==null?(hn=!1,u=v):u=e,y.precision=u+=h,n=xs(g),r=n.charAt(0),Math.abs(i=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=xs(m.d),r=n.charAt(0),f++;i=m.e,r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=oB(y,u+2,v).times(i+""),m=Y0(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=v,e==null?Wt(m,v,S,hn=!0):m;for(d=m,c=s=m=jr(m.minus(1),m.plus(1),u,1),p=Wt(m.times(m),u,1),o=3;;){if(s=Wt(s.times(p),u,1),l=c.plus(jr(s,new y(o),u,1)),xs(l.d).slice(0,u)===xs(c.d).slice(0,u))if(c=c.times(2),i!==0&&(c=c.plus(oB(y,u+2,v).times(i+""))),c=jr(c,new y(f),u,1),e==null)if(L6(c.d,u-h,S,a))y.precision=u+=h,l=s=m=jr(d.minus(1),d.plus(1),u,1),p=Wt(m.times(m),u,1),o=a=1;else return Wt(c,y.precision=v,S,hn=!0);else return y.precision=v,c;c=l,o+=2}}function bGe(t){return String(t.s*t.s/0)}function tB(t,e){var n,r,o;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(o=e.length;e.charCodeAt(o-1)===48;--o);if(e=e.slice(r,o),e){if(o-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%en,n<0&&(r+=en),r<o){for(r&&t.d.push(+e.slice(0,r)),o-=en;r<o;)t.d.push(+e.slice(r,r+=en));e=e.slice(r),r=en-e.length}else r-=o;for(;r--;)e+="0";t.d.push(+e),hn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Ekt(t,e){var n,r,o,i,s,a,c,l,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),mGe.test(e))return tB(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(ykt.test(e))n=16,e=e.toLowerCase();else if(gkt.test(e))n=2;else if(bkt.test(e))n=8;else throw Error(Q0+e);for(i=e.search(/p/i),i>0?(c=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),s=i>=0,r=t.constructor,s&&(e=e.replace(".",""),a=e.length,i=a-i,o=gGe(r,new r(n),i,i*2)),l=eB(e,n,Kd),u=l.length-1,i=u;l[i]===0;--i)l.pop();return i<0?new r(t.s*0):(t.e=sB(l,u),t.d=l,hn=!1,s&&(t=jr(t,o,a*4)),c&&(t=t.times(Math.abs(c)<54?zi(2,c):Oi.pow(2,c))),hn=!0,t)}function Akt(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:GA(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/aB(5,n)),e=GA(t,2,e,e);for(var o,i=new t(5),s=new t(16),a=new t(20);n--;)o=e.times(e),e=e.times(i.plus(o.times(s.times(o).minus(a))));return e}function GA(t,e,n,r,o){var i,s,a,c,l=1,u=t.precision,d=Math.ceil(u/en);for(hn=!1,c=n.times(n),a=new t(r);;){if(s=jr(a.times(c),new t(e++*e++),u,1),a=o?r.plus(s):r.minus(s),r=jr(s.times(c),new t(e++*e++),u,1),s=a.plus(r),s.d[d]!==void 0){for(i=d;s.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=r,r=s,s=i,l++}return hn=!0,s.d.length=d+1,s}function aB(t,e){for(var n=t;--e;)n*=t;return n}function _Ge(t,e){var n,r=e.s<0,o=mf(t,t.precision,1),i=o.times(.5);if(e=e.abs(),e.lte(i))return Zm=r?4:1,e;if(n=e.divToInt(o),n.isZero())Zm=r?3:2;else{if(e=e.minus(n.times(o)),e.lte(i))return Zm=aGe(n)?r?2:3:r?4:1,e;Zm=aGe(n)?r?1:4:r?3:2}return e.minus(o).abs()}function lae(t,e,n,r){var o,i,s,a,c,l,u,d,p,f=t.constructor,h=n!==void 0;if(h?(Oc(n,1,X0),r===void 0?r=f.rounding:Oc(r,0,8)):(n=f.precision,r=f.rounding),!t.isFinite())u=bGe(t);else{for(u=hf(t),s=u.indexOf("."),h?(o=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):o=e,s>=0&&(u=u.replace(".",""),p=new f(1),p.e=u.length-s,p.d=eB(hf(p),10,o),p.e=p.d.length),d=eB(u,10,o),i=c=d.length;d[--c]==0;)d.pop();if(!d[0])u=h?"0p+0":"0";else{if(s<0?i--:(t=new f(t),t.d=d,t.e=i,t=jr(t,p,n,r,0,o),d=t.d,i=t.e,l=uGe),s=d[n],a=o/2,l=l||d[n+1]!==void 0,l=r<4?(s!==void 0||l)&&(r===0||r===(t.s<0?3:2)):s>a||s===a&&(r===4||l||r===6&&d[n-1]&1||r===(t.s<0?8:7)),d.length=n,l)for(;++d[--n]>o-1;)d[n]=0,n||(++i,d.unshift(1));for(c=d.length;!d[c-1];--c);for(s=0,u="";s<c;s++)u+=iae.charAt(d[s]);if(h){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)u+="0";for(d=eB(u,o,e),c=d.length;!d[c-1];--c);for(s=1,u="1.";s<c;s++)u+=iae.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)u="0"+u;u="0."+u}else if(++i>c)for(i-=c;i--;)u+="0";else i<c&&(u=u.slice(0,i)+"."+u.slice(i))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return t.s<0?"-"+u:u}function cGe(t,e){if(t.length>e)return t.length=e,!0}function xkt(t){return new this(t).abs()}function wkt(t){return new this(t).acos()}function Tkt(t){return new this(t).acosh()}function Ikt(t,e){return new this(t).plus(e)}function Rkt(t){return new this(t).asin()}function Ckt(t){return new this(t).asinh()}function Nkt(t){return new this(t).atan()}function Okt(t){return new this(t).atanh()}function Pkt(t,e){t=new this(t),e=new this(e);var n,r=this.precision,o=this.rounding,i=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=mf(this,i,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?mf(this,r,o):new this(0),n.s=t.s):!t.d||e.isZero()?(n=mf(this,i,1).times(.5),n.s=t.s):e.s<0?(this.precision=i,this.rounding=1,n=this.atan(jr(t,e,i,1)),e=mf(this,i,1),this.precision=r,this.rounding=o,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(jr(t,e,i,1)),n}function Dkt(t){return new this(t).cbrt()}function kkt(t){return Wt(t=new this(t),t.e+1,2)}function Lkt(t,e,n){return new this(t).clamp(e,n)}function Mkt(t){if(!t||typeof t!="object")throw Error(iB+"Object expected");var e,n,r,o=t.defaults===!0,i=["precision",1,X0,"rounding",0,8,"toExpNeg",-HA,0,"toExpPos",0,HA,"maxE",0,HA,"minE",-HA,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(n=i[e],o&&(this[n]=sae[n]),(r=t[n])!==void 0)if(oa(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Q0+n+": "+r);if(n="crypto",o&&(this[n]=sae[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(pGe);else this[n]=!1;else throw Error(Q0+n+": "+r);return this}function Bkt(t){return new this(t).cos()}function Ukt(t){return new this(t).cosh()}function SGe(t){var e,n,r;function o(i){var s,a,c,l=this;if(!(l instanceof o))return new o(i);if(l.constructor=o,lGe(i)){l.s=i.s,hn?!i.d||i.e>o.maxE?(l.e=NaN,l.d=null):i.e<o.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(s=0,a=i;a>=10;a/=10)s++;hn?s>o.maxE?(l.e=NaN,l.d=null):s<o.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[i]):(l.e=s,l.d=[i]);return}if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return tB(l,i.toString())}if(c==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(a===43&&(i=i.slice(1)),l.s=1),mGe.test(i)?tB(l,i):Ekt(l,i);if(c==="bigint")return i<0?(i=-i,l.s=-1):l.s=1,tB(l,i.toString());throw Error(Q0+i)}if(o.prototype=$e,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Mkt,o.clone=SGe,o.isDecimal=lGe,o.abs=xkt,o.acos=wkt,o.acosh=Tkt,o.add=Ikt,o.asin=Rkt,o.asinh=Ckt,o.atan=Nkt,o.atanh=Okt,o.atan2=Pkt,o.cbrt=Dkt,o.ceil=kkt,o.clamp=Lkt,o.cos=Bkt,o.cosh=Ukt,o.div=$kt,o.exp=Fkt,o.floor=Hkt,o.hypot=Gkt,o.ln=Vkt,o.log=zkt,o.log10=qkt,o.log2=jkt,o.max=Wkt,o.min=Kkt,o.mod=Jkt,o.mul=Ykt,o.pow=Qkt,o.random=Xkt,o.round=Zkt,o.sign=eLt,o.sin=tLt,o.sinh=nLt,o.sqrt=rLt,o.sub=oLt,o.sum=iLt,o.tan=sLt,o.tanh=aLt,o.trunc=cLt,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return o.config(t),o}function $kt(t,e){return new this(t).div(e)}function Fkt(t){return new this(t).exp()}function Hkt(t){return Wt(t=new this(t),t.e+1,3)}function Gkt(){var t,e,n=new this(0);for(hn=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return hn=!0,new this(1/0);n=e}return hn=!0,n.sqrt()}function lGe(t){return t instanceof Oi||t&&t.toStringTag===fGe||!1}function Vkt(t){return new this(t).ln()}function zkt(t,e){return new this(t).log(e)}function jkt(t){return new this(t).log(2)}function qkt(t){return new this(t).log(10)}function Wkt(){return yGe(this,arguments,-1)}function Kkt(){return yGe(this,arguments,1)}function Jkt(t,e){return new this(t).mod(e)}function Ykt(t,e){return new this(t).mul(e)}function Qkt(t,e){return new this(t).pow(e)}function Xkt(t){var e,n,r,o,i=0,s=new this(1),a=[];if(t===void 0?t=this.precision:Oc(t,1,X0),r=Math.ceil(t/en),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));i<r;)o=e[i],o>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=o%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);i<r;)o=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),o>=214e7?crypto.randomBytes(4).copy(e,i):(a.push(o%1e7),i+=4);i=r/4}else throw Error(pGe);else for(;i<r;)a[i++]=Math.random()*1e7|0;for(r=a[--i],t%=en,r&&t&&(o=zi(10,en-t),a[i]=(r/o|0)*o);a[i]===0;i--)a.pop();if(i<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=en)a.shift();for(r=1,o=a[0];o>=10;o/=10)r++;r<en&&(n-=en-r)}return s.e=n,s.d=a,s}function Zkt(t){return Wt(t=new this(t),t.e+1,this.rounding)}function eLt(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function tLt(t){return new this(t).sin()}function nLt(t){return new this(t).sinh()}function rLt(t){return new this(t).sqrt()}function oLt(t,e){return new this(t).sub(e)}function iLt(){var t=0,e=arguments,n=new this(e[t]);for(hn=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return hn=!0,Wt(n,this.precision,this.rounding)}function sLt(t){return new this(t).tan()}function aLt(t){return new this(t).tanh()}function cLt(t){return Wt(t=new this(t),t.e+1,1)}$e[Symbol.for("nodejs.util.inspect.custom")]=$e.toString;$e[Symbol.toStringTag]="Decimal";var Oi=$e.constructor=SGe(sae);nB=new Oi(nB);rB=new Oi(rB);bf();gue();Sue();var rBt="X-Stamp",b$;(function(t){t.Der="der",t.Raw="raw"})(b$||(b$={}));var oBt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",iBt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,sBt=()=>oBt?"browser":iBt?"node":"purejs",pN=async(t,e)=>{let n=e??sBt();switch(n){case"browser":return(await Promise.resolve().then(()=>(eKe(),ZWe))).signWithApiKey(t);case"node":return(await Promise.resolve().then(()=>(nKe(),tKe))).signWithApiKey(t);case"purejs":return(await Promise.resolve().then(()=>($Ke(),UKe))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${n}`)}},fN=class{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey,this.runtimeOverride=e.runtimeOverride}async stamp(e){let n=await pN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:n};return{stampHeaderName:rBt,stampHeaderValue:VA(JSON.stringify(r))}}async sign(e,n){switch(n){case b$.Raw:{let r=await pN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),o=vB(r);return gf(o)}case b$.Der:return pN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride);default:throw new Error(`Unsupported signature format: ${n}`)}}};var tUt=ho(ode(),1);bf();var ap="copy",Dh="convert";function w$(t,e){return{required:!0,schema:t,derive:e}}function Fa(t){return{required:!0,schema:t}}function Wx(t){return{required:!1,schema:t}}var AJe={appid:Wx(ap),appidExclude:Wx(ap),credProps:Wx(ap)},nUt={type:Fa(ap),id:Fa(ap),rawId:Fa(Dh),authenticatorAttachment:Wx(ap),response:Fa({clientDataJSON:Fa(Dh),attestationObject:Fa(Dh),transports:w$(ap,t=>t.getTransports?.()||[])}),clientExtensionResults:w$(AJe,t=>t.getClientExtensionResults())},rUt={type:Fa(ap),id:Fa(ap),rawId:Fa(Dh),authenticatorAttachment:Wx(ap),response:Fa({clientDataJSON:Fa(Dh),authenticatorData:Fa(Dh),signature:Fa(Dh),userHandle:Fa(Dh)}),clientExtensionResults:w$(AJe,t=>t.getClientExtensionResults())};var $Jr=300*1e3;function EN(t){return t?.name==="TurnkeyClient"}var Kx=class extends Error{constructor(e){let{message:n,cause:r,activityId:o,activityStatus:i,activityType:s}=e;super(n),this.name="TurnkeyActivityError",this.activityId=o??void 0,this.activityStatus=i??void 0,this.activityType=s??void 0,this.cause=r??void 0}},T$=class extends Error{constructor(e){let{message:n,cause:r,activityId:o,activityStatus:i,activityType:s}=e;super(n),this.name="TurnkeyActivityConsensusNeededError",this.activityId=o??void 0,this.activityStatus=i??void 0,this.activityType=s??void 0,this.cause=r??void 0}};function V1(t){let{id:e,status:n}=t;if(n==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new T$({message:"Activity requires consensus",activityId:e,activityStatus:n});if(n!=="ACTIVITY_STATUS_COMPLETED")throw new Kx({message:`Expected COMPLETED status, got ${n}`,activityId:e,activityStatus:n});return!0}function z1(t){if(t==null)throw new Error(`Got unexpected ${JSON.stringify(t)}`);return t}var I$=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var TJe;(function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"})(TJe||(TJe={}));var R$=class extends Error{constructor(e){let n=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(n+=` (Details: ${JSON.stringify(e.details)})`),super(n),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}},ide;(function(t){t.Email="EMAIL",t.PhoneNumber="PHONE_NUMBER",t.OidcToken="OIDC_TOKEN",t.PublicKey="PUBLIC_KEY"})(ide||(ide={}));var IJe="@turnkey/sdk-server@5.0.2";var C$=class{constructor(e){this.getActivity=async n=>this.request("/public/v1/query/get_activity",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetActivity=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_activity",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getApiKey=async n=>this.request("/public/v1/query/get_api_key",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetApiKey=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_api_key",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getApiKeys=async(n={})=>this.request("/public/v1/query/get_api_keys",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetApiKeys=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getAttestationDocument=async n=>this.request("/public/v1/query/get_attestation",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_attestation",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getAuthenticator=async n=>this.request("/public/v1/query/get_authenticator",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getAuthenticators=async n=>this.request("/public/v1/query/get_authenticators",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getBootProof=async n=>this.request("/public/v1/query/get_boot_proof",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetBootProof=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_boot_proof",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getGasUsage=async n=>this.request("/public/v1/query/get_gas_usage",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetGasUsage=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_gas_usage",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getLatestBootProof=async n=>this.request("/public/v1/query/get_latest_boot_proof",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetLatestBootProof=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_latest_boot_proof",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getNonces=async n=>this.request("/public/v1/query/get_nonces",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetNonces=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_nonces",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getOauth2Credential=async n=>this.request("/public/v1/query/get_oauth2_credential",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetOauth2Credential=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_oauth2_credential",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getOauthProviders=async n=>this.request("/public/v1/query/get_oauth_providers",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getOnRampTransactionStatus=async n=>this.request("/public/v1/query/get_onramp_transaction_status",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetOnRampTransactionStatus=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_onramp_transaction_status",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getOrganization=async(n={})=>this.request("/public/v1/query/get_organization",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetOrganization=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_organization",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getOrganizationConfigs=async n=>this.request("/public/v1/query/get_organization_configs",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getPolicy=async n=>this.request("/public/v1/query/get_policy",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetPolicy=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_policy",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getPolicyEvaluations=async n=>this.request("/public/v1/query/get_policy_evaluations",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetPolicyEvaluations=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_policy_evaluations",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getPrivateKey=async n=>this.request("/public/v1/query/get_private_key",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_private_key",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getSendTransactionStatus=async n=>this.request("/public/v1/query/get_send_transaction_status",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetSendTransactionStatus=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_send_transaction_status",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getSmartContractInterface=async n=>this.request("/public/v1/query/get_smart_contract_interface",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetSmartContractInterface=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_smart_contract_interface",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getUser=async n=>this.request("/public/v1/query/get_user",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetUser=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_user",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getWallet=async n=>this.request("/public/v1/query/get_wallet",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetWallet=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_wallet",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getWalletAccount=async n=>this.request("/public/v1/query/get_wallet_account",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetWalletAccount=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getActivities=async(n={})=>this.request("/public/v1/query/list_activities",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetActivities=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_activities",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getAppProofs=async n=>this.request("/public/v1/query/list_app_proofs",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetAppProofs=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_app_proofs",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.listFiatOnRampCredentials=async n=>this.request("/public/v1/query/list_fiat_on_ramp_credentials",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampListFiatOnRampCredentials=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_fiat_on_ramp_credentials",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.listOauth2Credentials=async n=>this.request("/public/v1/query/list_oauth2_credentials",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampListOauth2Credentials=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_oauth2_credentials",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getPolicies=async(n={})=>this.request("/public/v1/query/list_policies",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetPolicies=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_policies",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.listPrivateKeyTags=async n=>this.request("/public/v1/query/list_private_key_tags",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getPrivateKeys=async(n={})=>this.request("/public/v1/query/list_private_keys",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getSmartContractInterfaces=async n=>this.request("/public/v1/query/list_smart_contract_interfaces",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetSmartContractInterfaces=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_smart_contract_interfaces",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getSubOrgIds=async(n={})=>this.request("/public/v1/query/list_suborgs",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.listUserTags=async(n={})=>this.request("/public/v1/query/list_user_tags",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampListUserTags=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getUsers=async(n={})=>this.request("/public/v1/query/list_users",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetUsers=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_users",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getVerifiedSubOrgIds=async n=>this.request("/public/v1/query/list_verified_suborgs",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getWalletAccounts=async n=>this.request("/public/v1/query/list_wallet_accounts",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getWallets=async(n={})=>this.request("/public/v1/query/list_wallets",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetWallets=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/list_wallets",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.getWhoami=async(n={})=>this.request("/public/v1/query/whoami",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampGetWhoami=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/public/v1/query/whoami",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.approveActivity=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiKeys=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_api_keys",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiOnlyUsers=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_api_only_users",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createAuthenticators=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_authenticators",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createFiatOnRampCredential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_fiat_on_ramp_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},"createFiatOnRampCredentialResult")},this.stampCreateFiatOnRampCredential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_fiat_on_ramp_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createInvitations=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_invitations",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauth2Credential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_oauth2_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},"createOauth2CredentialResult")},this.stampCreateOauth2Credential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth2_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauthProviders=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_oauth_providers",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicies=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_policies",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_policies",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicy=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_policy",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_policy",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeyTag=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_private_key_tag",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeys=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_private_keys",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadOnlySession=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_read_only_session",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadWriteSession=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_read_write_session",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSmartContractInterface=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_smart_contract_interface",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},"createSmartContractInterfaceResult")},this.stampCreateSmartContractInterface=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_smart_contract_interface",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSubOrganization=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_sub_organization",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUserTag=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_user_tag",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUsers=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_users",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_users",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWallet=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_wallet",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWalletAccounts=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteApiKeys=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_api_keys",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteAuthenticators=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_authenticators",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteFiatOnRampCredential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_fiat_on_ramp_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},"deleteFiatOnRampCredentialResult")},this.stampDeleteFiatOnRampCredential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_fiat_on_ramp_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteInvitation=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_invitation",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauth2Credential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_oauth2_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},"deleteOauth2CredentialResult")},this.stampDeleteOauth2Credential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth2_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauthProviders=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicies=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_policies",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},"deletePoliciesResult")},this.stampDeletePolicies=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policies",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicy=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_policy",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeyTags=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeys=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_private_keys",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSmartContractInterface=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_smart_contract_interface",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},"deleteSmartContractInterfaceResult")},this.stampDeleteSmartContractInterface=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_smart_contract_interface",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSubOrganization=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_sub_organization",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUserTags=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_user_tags",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUsers=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_users",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_users",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWalletAccounts=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_wallet_accounts",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},"deleteWalletAccountsResult")},this.stampDeleteWalletAccounts=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallet_accounts",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWallets=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/delete_wallets",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.emailAuth=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/email_auth",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},"emailAuthResult")},this.stampEmailAuth=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/email_auth",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendRawTransaction=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/eth_send_raw_transaction",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},"ethSendRawTransactionResult")},this.stampEthSendRawTransaction=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_raw_transaction",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendTransaction=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/eth_send_transaction",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},"ethSendTransactionResult")},this.stampEthSendTransaction=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_transaction",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportPrivateKey=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/export_private_key",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWallet=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/export_wallet",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWalletAccount=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/export_wallet_account",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importPrivateKey=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/import_private_key",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importWallet=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/import_wallet",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initFiatOnRamp=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportPrivateKey=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_import_private_key",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportWallet=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_import_wallet",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtp=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_otp",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},"initOtpResult")},this.stampInitOtp=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtpAuth=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_otp_auth",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initUserEmailRecovery=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/oauth",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/oauth",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth2Authenticate=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/oauth2_authenticate",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},"oauth2AuthenticateResult")},this.stampOauth2Authenticate=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/oauth2_authenticate",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauthLogin=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/oauth_login",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpAuth=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/otp_auth",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpLogin=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/otp_login",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/otp_login",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.recoverUser=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/recover_user",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/recover_user",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.rejectActivity=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.removeOrganizationFeature=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/remove_organization_feature",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.setOrganizationFeature=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/set_organization_feature",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayload=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/sign_raw_payload",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayloads=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signTransaction=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/sign_transaction",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.stampLogin=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/stamp_login",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateFiatOnRampCredential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_fiat_on_ramp_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},"updateFiatOnRampCredentialResult")},this.stampUpdateFiatOnRampCredential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_fiat_on_ramp_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateOauth2Credential=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_oauth2_credential",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},"updateOauth2CredentialResult")},this.stampUpdateOauth2Credential=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_oauth2_credential",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePolicy=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_policy",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_policy",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePrivateKeyTag=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_private_key_tag",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateRootQuorum=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_root_quorum",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUser=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_user",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_user",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserEmail=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_user_email",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserName=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_user_name",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserPhoneNumber=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_user_phone_number",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserTag=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_user_tag",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateWallet=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/update_wallet",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.verifyOtp=async n=>{let{organizationId:r,timestampMs:o,...i}=n;return this.command("/public/v1/submit/verify_otp",{parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async n=>{if(!this.stamper)return;let{organizationId:r,timestampMs:o,...i}=n,s=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",a={parameters:i,organizationId:r??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.testRateLimits=async n=>this.request("/tkhq/api/v1/test_rate_limits",{...n,organizationId:n.organizationId??this.config.organizationId}),this.stampTestRateLimits=async n=>{if(!this.stamper)return;let r=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",o={...n,organizationId:n.organizationId??this.config.organizationId},i=JSON.stringify(o),s=await this.stamper.stamp(i);return{body:i,stamp:s,url:r}},this.config=e,this.stamper=e.stamper}async request(e,n){let r=this.config.apiBaseUrl+e,o=JSON.stringify(n),i=await this.stamper.stamp(o),s=await fetch(r,{method:"POST",headers:{[i.stampHeaderName]:i.stampHeaderValue,"X-Client-Version":IJe},body:o,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new R$(c)}return await s.json()}async command(e,n,r){let o=this.config.activityPoller?.intervalMs??1e3,i=this.config.activityPoller?.numRetries??3,s=d=>new Promise(p=>setTimeout(p,d)),a=d=>{let{result:p,status:f}=d.activity;return f==="ACTIVITY_STATUS_COMPLETED"?{...p[`${r}`],...d}:d},c=0,l=async(d,p)=>{let f={activityId:d,organizationId:p},h=await this.getActivity(f);return c>i?a(h):(c+=1,I$.includes(h.activity.status)?a(h):(await s(o),l(d,p)))},u=await this.request(e,n);return I$.includes(u.activity.status)?a(u):l(u.activity.id,u.activity.organizationId)}async activityDecision(e,n){let r=await this.request(e,n);return{...r.activity.result,...r}}};var RJe=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"],kS=class{constructor(e){this.apiClient=n=>(this.stamper=new fN({apiPublicKey:n?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:n?.apiPrivateKey??this.config.apiPrivateKey,runtimeOverride:this.config.runtimeOverride}),new O$({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller})),this.apiProxy=async(n,r)=>{let i=this.apiClient()[n];if(typeof i=="function")return await i(...r);throw new Error(`Method: ${n} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=n=>{let r=n.allowedMethods??RJe;return async(o,i)=>{let{methodName:s,params:a}=o.body;(!s||!a)&&i.status(400).send("methodName and params are required.");try{if(r.includes(s)){let c=await this.apiProxy(s,a);i.json(c)}else i.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?i.status(500).send(c.message):i.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=n=>{let r=n.allowedMethods??RJe;return async(o,i)=>{let{methodName:s,params:a}=o.body;(!s||!a)&&i.status(400).send("methodName and params are required.");try{if(r.includes(s)){let c=await this.apiProxy(s,a);i.json(c)}else i.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?i.status(500).send(c.message):i.status(500).send("An unexpected error occurred");return}}},this.config=e}},N$=class extends C${constructor(e){super(e)}},O$=class extends N${constructor(e){super(e)}};var lUt=ho(ode(),1);var CJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),NJe=[CJe(0)],OJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),uUt=[OJe(0)],PJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${t}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),dUt=[PJe(0)],DJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),pUt=[DJe(0)],kJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),fUt=[kJe(0)],LJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),mUt=[LJe(0)],MJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),hUt=[MJe(0)],BJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),gUt=[BJe(0)],UJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),yUt=[UJe(0)],$Je=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),bUt=[$Je(0)],FJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),_Ut=[FJe(0)],HJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),SUt=[HJe(0)],GJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),vUt=[GJe(0)],VJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),EUt=[VJe(0)],zJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),AUt=[zJe(0)],jJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),xUt=[jJe(0)],qJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),wUt=[qJe(0)],WJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),TUt=[WJe(0)],KJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),IUt=[KJe(0)],JJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),RUt=[JJe(0)],YJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),CUt=[YJe(0)],QJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),NUt=[QJe(0)],XJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),OUt=[XJe(0)],ZJe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),PUt=[ZJe(0)],eYe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),DUt=[eYe(0)],tYe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"});var kUt=[tYe(0)],nYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${t}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),sde=[nYe(0)],rYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),LUt=[rYe(0)],oYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),MUt=[oYe(0)],iYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${t}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),BUt=[iYe(0)],sYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),UUt=[sYe(0)],aYe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),$Ut=[aYe(0)];var Jx;(function(t){t.Ethereum="ethereum",t.Solana="solana"})(Jx||(Jx={}));bf();gue();var pQr=new kS({apiBaseUrl:process.env.NEXT_PUBLIC_BASE_URL,defaultOrganizationId:process.env.NEXT_PUBLIC_ORGANIZATION_ID,apiPrivateKey:process.env.TURNKEY_API_PRIVATE_KEY,apiPublicKey:process.env.TURNKEY_API_PUBLIC_KEY});import{Buffer as yn}from"buffer";$6();ih();h$();Lx();h$();RS();var j1=BigInt(0),cs=BigInt(1),lde=BigInt(2),XUt=BigInt(8);function ZUt(t,e,n,r){let o=t.sqr(n),i=t.sqr(r),s=t.add(t.mul(e.a,o),i),a=t.add(t.ONE,t.mul(e.d,t.mul(o,i)));return t.eql(s,a)}function e$t(t,e={}){let n=m$("edwards",t,e,e.FpFnLE),{Fp:r,Fn:o}=n,i=n.CURVE,{h:s}=i;M1(e,{},{uvRatio:"function"});let a=lde<<BigInt(o.BYTES*8)-cs,c=g=>r.create(g),l=e.uvRatio||((g,y)=>{try{return{isValid:!0,value:r.sqrt(r.div(g,y))}}catch{return{isValid:!1,value:j1}}});if(!ZUt(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function u(g,y,S=!1){let v=S?cs:j1;return cN("coordinate "+g,y,v,a),y}function d(g){if(!(g instanceof h))throw new Error("ExtendedPoint expected")}let p=kx((g,y)=>{let{X:S,Y:v,Z:A}=g,w=g.is0();y==null&&(y=w?XUt:r.inv(A));let I=c(S*y),D=c(v*y),k=r.mul(A,y);if(w)return{x:j1,y:cs};if(k!==cs)throw new Error("invZ was invalid");return{x:I,y:D}}),f=kx(g=>{let{a:y,d:S}=i;if(g.is0())throw new Error("bad point: ZERO");let{X:v,Y:A,Z:w,T:I}=g,D=c(v*v),k=c(A*A),O=c(w*w),U=c(O*O),G=c(D*y),J=c(O*c(G+k)),C=c(U+c(S*c(D*k)));if(J!==C)throw new Error("bad point: equation left != right (1)");let _=c(v*A),E=c(w*I);if(_!==E)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(y,S,v,A){this.X=u("x",y),this.Y=u("y",S),this.Z=u("z",v,!0),this.T=u("t",A),Object.freeze(this)}static CURVE(){return i}static fromAffine(y){if(y instanceof h)throw new Error("extended point not allowed");let{x:S,y:v}=y||{};return u("x",S),u("y",v),new h(S,v,cs,c(S*v))}static fromBytes(y,S=!1){let v=r.BYTES,{a:A,d:w}=i;y=Tue(gl(y,v,"point")),xh(S,"zip215");let I=Tue(y),D=y[v-1];I[v-1]=D&-129;let k=wh(I),O=S?a:r.ORDER;cN("point.y",k,j1,O);let U=c(k*k),G=c(U-cs),J=c(w*U-A),{isValid:C,value:_}=l(G,J);if(!C)throw new Error("bad point: invalid y coordinate");let E=(_&cs)===cs,R=(D&128)!==0;if(!S&&_===j1&&R)throw new Error("bad point: x=0 and x_0=1");return R!==E&&(_=c(-_)),h.fromAffine({x:_,y:k})}static fromHex(y,S=!1){return h.fromBytes(Lr("point",y),S)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,S=!0){return m.createCache(this,y),S||this.multiply(lde),this}assertValidity(){f(this)}equals(y){d(y);let{X:S,Y:v,Z:A}=this,{X:w,Y:I,Z:D}=y,k=c(S*D),O=c(w*A),U=c(v*D),G=c(I*A);return k===O&&U===G}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:y}=i,{X:S,Y:v,Z:A}=this,w=c(S*S),I=c(v*v),D=c(lde*c(A*A)),k=c(y*w),O=S+v,U=c(c(O*O)-w-I),G=k+I,J=G-D,C=k-I,_=c(U*J),E=c(G*C),R=c(U*C),M=c(J*G);return new h(_,E,M,R)}add(y){d(y);let{a:S,d:v}=i,{X:A,Y:w,Z:I,T:D}=this,{X:k,Y:O,Z:U,T:G}=y,J=c(A*k),C=c(w*O),_=c(D*v*G),E=c(I*U),R=c((A+w)*(k+O)-J-C),M=E-_,$=E+_,j=c(C-S*J),Y=c(R*M),z=c($*j),x=c(R*j),Q=c(M*$);return new h(Y,z,Q,x)}subtract(y){return this.add(y.negate())}multiply(y){if(!o.isValidNot0(y))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:S,f:v}=m.cached(this,y,A=>Ih(h,A));return Ih(h,[S,v])[0]}multiplyUnsafe(y,S=h.ZERO){if(!o.isValid(y))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return y===j1?h.ZERO:this.is0()||y===cs?this:m.unsafe(this,y,v=>Ih(h,v),S)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,i.n).is0()}toAffine(y){return p(this,y)}clearCofactor(){return s===cs?this:this.multiplyUnsafe(s)}toBytes(){let{x:y,y:S}=this.toAffine(),v=r.toBytes(S);return v[v.length-1]|=y&cs?128:0,v}toHex(){return Vu(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(y){return Ih(h,y)}static msm(y,S){return Ux(h,o,y,S)}_setWindowSize(y){this.precompute(y)}toRawBytes(){return this.toBytes()}}h.BASE=new h(i.Gx,i.Gy,cs,c(i.Gx*i.Gy)),h.ZERO=new h(j1,cs,cs,j1),h.Fp=r,h.Fn=o;let m=new Bx(h,o.BITS);return h.BASE.precompute(8),h}var P$=class{constructor(e){this.ep=e}static fromBytes(e){Iue()}static fromHex(e){Iue()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return Vu(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,n){return this.init(this.ep.precompute(e,n))}toRawBytes(){return this.toBytes()}};function t$t(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');M1(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r}=n,{BASE:o,Fp:i,Fn:s}=t,a=n.randomBytes||jA,c=n.adjustScalarBytes||(O=>O),l=n.domain||((O,U,G)=>{if(xh(G,"phflag"),U.length||G)throw new Error("Contexts/pre-hash are not supported");return O});function u(O){return s.create(wh(O))}function d(O){let U=v.secretKey;O=Lr("private key",O,U);let G=Lr("hashed private key",e(O),2*U),J=c(G.slice(0,U)),C=G.slice(U,2*U),_=u(J);return{head:J,prefix:C,scalar:_}}function p(O){let{head:U,prefix:G,scalar:J}=d(O),C=o.multiply(J),_=C.toBytes();return{head:U,prefix:G,scalar:J,point:C,pointBytes:_}}function f(O){return p(O).pointBytes}function h(O=Uint8Array.of(),...U){let G=La(...U);return u(e(l(G,Lr("context",O),!!r)))}function m(O,U,G={}){O=Lr("message",O),r&&(O=r(O));let{prefix:J,scalar:C,pointBytes:_}=p(U),E=h(G.context,J,O),R=o.multiply(E).toBytes(),M=h(G.context,R,_,O),$=s.create(E+M*C);if(!s.isValid($))throw new Error("sign failed: invalid s");let j=La(R,s.toBytes($));return gl(j,v.signature,"result")}let g={zip215:!0};function y(O,U,G,J=g){let{context:C,zip215:_}=J,E=v.signature;O=Lr("signature",O,E),U=Lr("message",U),G=Lr("publicKey",G,v.publicKey),_!==void 0&&xh(_,"zip215"),r&&(U=r(U));let R=E/2,M=O.subarray(0,R),$=wh(O.subarray(R,E)),j,Y,z;try{j=t.fromBytes(G,_),Y=t.fromBytes(M,_),z=o.multiplyUnsafe($)}catch{return!1}if(!_&&j.isSmallOrder())return!1;let x=h(C,Y.toBytes(),j.toBytes(),U);return Y.add(j.multiplyUnsafe(x)).subtract(z).clearCofactor().is0()}let S=i.BYTES,v={secretKey:S,publicKey:S,signature:2*S,seed:S};function A(O=a(v.seed)){return gl(O,v.seed,"seed")}function w(O){let U=k.randomSecretKey(O);return{secretKey:U,publicKey:f(U)}}function I(O){return rh(O)&&O.length===s.BYTES}function D(O,U){try{return!!t.fromBytes(O,U)}catch{return!1}}let k={getExtendedPublicKey:p,randomSecretKey:A,isValidSecretKey:I,isValidPublicKey:D,toMontgomery(O){let{y:U}=t.fromBytes(O),G=v.publicKey,J=G===32;if(!J&&G!==57)throw new Error("only defined for 25519 and 448");let C=J?i.div(cs+U,cs-U):i.div(U-cs,U+cs);return i.toBytes(C)},toMontgomerySecret(O){let U=v.secretKey;gl(O,U);let G=e(O.subarray(0,U));return c(G).subarray(0,U)},randomPrivateKey:A,precompute(O=8,U=t.BASE){return U.precompute(O,!1)}};return Object.freeze({keygen:w,getPublicKey:f,sign:m,verify:y,utils:k,Point:t,lengths:v})}function n$t(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ps(e.n,t.nBitLength,!0),o={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:o,hash:t.hash,eddsaOpts:i}}function r$t(t,e){let n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function gYe(t){let{CURVE:e,curveOpts:n,hash:r,eddsaOpts:o}=n$t(t),i=e$t(e,n),s=t$t(i,r,o);return r$t(t,s)}RS();Lx();var o$t=BigInt(0),kh=BigInt(1),yYe=BigInt(2),jQr=BigInt(3),i$t=BigInt(5),s$t=BigInt(8),Yx=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),xN={p:Yx,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:s$t,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function a$t(t){let e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=Yx,a=t*t%i*t%i,c=Eo(a,yYe,i)*a%i,l=Eo(c,kh,i)*t%i,u=Eo(l,i$t,i)*l%i,d=Eo(u,e,i)*u%i,p=Eo(d,n,i)*d%i,f=Eo(p,r,i)*p%i,h=Eo(f,o,i)*f%i,m=Eo(h,o,i)*f%i,g=Eo(m,e,i)*u%i;return{pow_p_5_8:Eo(g,yYe,i)*t%i,b2:a}}function c$t(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var ude=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function fde(t,e){let n=Yx,r=Ko(e*e*e,n),o=Ko(r*r*e,n),i=a$t(t*o).pow_p_5_8,s=Ko(t*r*i,n),a=Ko(e*s*s,n),c=s,l=Ko(s*ude,n),u=a===t,d=a===Ko(-t,n),p=a===Ko(-t*ude,n);return u&&(s=c),(d||p)&&(s=l),Th(s,n)&&(s=Ko(-s,n)),{isValid:u||d,value:s}}var q1=Ps(xN.p,{isLE:!0}),l$t=Ps(xN.n,{isLE:!0}),u$t={...xN,Fp:q1,hash:yB,adjustScalarBytes:c$t,uvRatio:fde},Gc=gYe(u$t);var dde=ude,d$t=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),p$t=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),f$t=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),m$t=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),bYe=t=>fde(kh,t),h$t=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pde=t=>Gc.Point.Fp.create(wh(t)&h$t);function _Ye(t){let{d:e}=xN,n=Yx,r=y=>q1.create(y),o=r(dde*t*t),i=r((o+kh)*f$t),s=BigInt(-1),a=r((s-e*o)*r(o+e)),{isValid:c,value:l}=fde(i,a),u=r(l*t);Th(u,n)||(u=r(-u)),c||(l=u),c||(s=o);let d=r(s*(o-kh)*m$t-a),p=l*l,f=r((l+l)*a),h=r(d*d$t),m=r(kh-p),g=r(kh+p);return new Gc.Point(r(f*g),r(m*h),r(h*g),r(f*m))}function g$t(t){ws(t,64);let e=pde(t.subarray(0,32)),n=_Ye(e),r=pde(t.subarray(32,64)),o=_Ye(r);return new Lh(n.add(o))}var Lh=class t extends P${constructor(e){super(e)}static fromAffine(e){return new t(Gc.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return g$t(Lr("ristrettoHash",e,64))}static fromBytes(e){ws(e,32);let{a:n,d:r}=xN,o=Yx,i=A=>q1.create(A),s=pde(e);if(!oKe(q1.toBytes(s),e)||Th(s,o))throw new Error("invalid ristretto255 encoding 1");let a=i(s*s),c=i(kh+n*a),l=i(kh-n*a),u=i(c*c),d=i(l*l),p=i(n*r*u-d),{isValid:f,value:h}=bYe(i(p*d)),m=i(h*l),g=i(h*m*p),y=i((s+s)*m);Th(y,o)&&(y=i(-y));let S=i(c*g),v=i(y*S);if(!f||Th(v,o)||S===o$t)throw new Error("invalid ristretto255 encoding 2");return new t(new Gc.Point(y,S,kh,v))}static fromHex(e){return t.fromBytes(Lr("ristrettoHex",e,32))}static msm(e,n){return Ux(t,Gc.Point.Fn,e,n)}toBytes(){let{X:e,Y:n,Z:r,T:o}=this.ep,i=Yx,s=g=>q1.create(g),a=s(s(r+n)*s(r-n)),c=s(e*n),l=s(c*c),{value:u}=bYe(s(a*l)),d=s(u*a),p=s(u*c),f=s(d*p*o),h;if(Th(o*f,i)){let g=s(n*dde),y=s(e*dde);e=g,n=y,h=s(d*p$t)}else h=p;Th(e*f,i)&&(n=s(-n));let m=s((r-n)*h);return Th(m,i)&&(m=s(-m)),q1.toBytes(m)}equals(e){this.assertSame(e);let{X:n,Y:r}=this.ep,{X:o,Y:i}=e.ep,s=l=>q1.create(l),a=s(n*i)===s(r*o),c=s(r*i)===s(n*o);return a||c}is0(){return this.equals(t.ZERO)}};Lh.BASE=new Lh(Gc.Point.BASE);Lh.ZERO=new Lh(Gc.Point.ZERO);Lh.Fp=q1;Lh.Fn=l$t;var Ope=ho(hde()),fa=ho(TYe());_ae();var hw=ho(MYe()),te=ho(Tde()),pZe=ho(Tde());var $$t=1,F$t=2,H$t=3,G$t=4,V$t=5,z$t=6,j$t=7,q$t=8,W$t=9,K$t=10,J$t=-32700,Y$t=-32603,Q$t=-32602,X$t=-32601,Z$t=-32600,eFt=-32016,tFt=-32015,nFt=-32014,rFt=-32013,oFt=-32012,iFt=-32011,sFt=-32010,aFt=-32009,cFt=-32008,lFt=-32007,uFt=-32006,dFt=-32005,pFt=-32004,fFt=-32003,mFt=-32002,hFt=-32001,gFt=28e5,yFt=2800001,bFt=2800002,_Ft=2800003,SFt=2800004,vFt=2800005,EFt=2800006,AFt=2800007,xFt=2800008,wFt=2800009,TFt=2800010,IFt=2800011,RFt=323e4,CFt=32300001,NFt=3230002,OFt=3230003,PFt=3230004,DFt=361e4,kFt=3610001,LFt=3610002,MFt=3610003,BFt=3610004,UFt=3610005,$Ft=3610006,FFt=3610007,HFt=3611e3,GFt=3704e3,VFt=3704001,zFt=3704002,jFt=3704003,qFt=3704004,WFt=4128e3,KFt=4128001,JFt=4128002,YFt=4615e3,QFt=4615001,XFt=4615002,ZFt=4615003,eHt=4615004,tHt=4615005,nHt=4615006,rHt=4615007,oHt=4615008,iHt=4615009,sHt=4615010,aHt=4615011,cHt=4615012,lHt=4615013,uHt=4615014,dHt=4615015,pHt=4615016,fHt=4615017,mHt=4615018,hHt=4615019,gHt=4615020,yHt=4615021,bHt=4615022,_Ht=4615023,SHt=4615024,vHt=4615025,EHt=4615026,AHt=4615027,xHt=4615028,wHt=4615029,THt=4615030,IHt=4615031,RHt=4615032,CHt=4615033,NHt=4615034,OHt=4615035,PHt=4615036,DHt=4615037,kHt=4615038,LHt=4615039,MHt=4615040,BHt=4615041,UHt=4615042,$Ht=4615043,FHt=4615044,HHt=4615045,GHt=4615046,VHt=4615047,zHt=4615048,jHt=4615049,qHt=4615050,WHt=4615051,KHt=4615052,JHt=4615053,YHt=4615054,QHt=5508e3,XHt=5508001,ZHt=5508002,eGt=5508003,tGt=5508004,nGt=5508005,rGt=5508006,oGt=5508007,iGt=5508008,sGt=5508009,aGt=5508010,cGt=5508011,lGt=5663e3,uGt=5663001,dGt=5663002,pGt=5663003,fGt=5663004,mGt=5663005,hGt=5663006,gGt=5663007,yGt=5663008,bGt=5663009,_Gt=5663010,SGt=5663011,vGt=5663012,EGt=5663013,AGt=5663014,xGt=5663015,wGt=5663016,TGt=5663017,IGt=5663018,RGt=5663019,CGt=5663020,NGt=705e4,OGt=7050001,PGt=7050002,DGt=7050003,kGt=7050004,LGt=7050005,MGt=7050006,BGt=7050007,UGt=7050008,$Gt=7050009,FGt=7050010,HGt=7050011,GGt=7050012,VGt=7050013,zGt=7050014,jGt=7050015,qGt=7050016,WGt=7050017,KGt=7050018,JGt=7050019,YGt=7050020,QGt=7050021,XGt=7050022,ZGt=7050023,eVt=7050024,tVt=7050025,nVt=7050026,rVt=7050027,oVt=7050028,iVt=7050029,sVt=7050030,aVt=7050031,cVt=7050032,lVt=7050033,uVt=7050034,dVt=7050035,pVt=7050036,Ide=8078e3,Rde=8078001,BYe=8078002,UYe=8078003,Cde=8078004,Nde=8078005,Ode=8078006,fVt=8078007,mVt=8078008,hVt=8078009,gVt=8078010,Pde=8078011,yVt=8078012,$Ye=8078013,FYe=8078014,bVt=8078015,_Vt=8078016,SVt=8078017,vVt=8078018,EVt=8078019,HYe=8078020,GYe=8078021,AVt=8078022,xVt=81e5,wVt=8100001,TVt=8100002,IVt=8100003,RVt=819e4,CVt=8190001,NVt=8190002,OVt=8190003,PVt=8190004,DVt=99e5,kVt=9900001,LVt=9900002,MVt=9900003,BVt=9900004;function VYe(t){return Array.isArray(t)?"%5B"+t.map(VYe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function UVt([t,e]){return`${t}=${VYe(e)}`}function $Vt(t){let e=Object.entries(t).map(UVt).join("&");return Buffer.from(e,"utf8").toString("base64")}var FVt={[RFt]:"Account not found at address: $address",[PFt]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[OFt]:"Expected decoded account at address: $address",[NFt]:"Failed to decode account data at address: $address",[CFt]:"Accounts not found at addresses: $addresses",[wFt]:"Unable to find a viable program address bump seed.",[bFt]:"$putativeAddress is not a base58-encoded address.",[gFt]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[_Ft]:"The `CryptoKey` must be an `Ed25519` public key.",[IFt]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[xFt]:"Invalid seeds; point must fall off the Ed25519 curve.",[SFt]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[EFt]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[AFt]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[vFt]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[TFt]:"Program address cannot end with PDA marker.",[yFt]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[G$t]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[$$t]:"The network has progressed past the last block for which this transaction could have been committed.",[Ide]:"Codec [$codecDescription] cannot decode empty byte arrays.",[AVt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[HYe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Nde]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Ode]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Cde]:"Encoder and decoder must either both be fixed-size or variable-size.",[mVt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[BYe]:"Expected a fixed-size codec, got a variable-size one.",[$Ye]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[UYe]:"Expected a variable-size codec, got a fixed-size one.",[EVt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Rde]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[vVt]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[hVt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[gVt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[bVt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[fVt]:"Expected [$codecDescription] to have $expected items, got $actual.",[yVt]:"Invalid value $value for base $base with alphabet $alphabet.",[_Vt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Pde]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[FYe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[GYe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[SVt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[HFt]:"No random values implementation could be found.",[iHt]:"instruction requires an uninitialized account",[_Ht]:"instruction tries to borrow reference for an account which is already borrowed",[SHt]:"instruction left account with an outstanding borrowed reference",[yHt]:"program other than the account's owner changed the size of the account data",[tHt]:"account data too small for instruction",[bHt]:"instruction expected an executable account",[GHt]:"An account does not have enough lamports to be rent-exempt",[zHt]:"Program arithmetic overflowed",[HHt]:"Failed to serialize or deserialize account data: $encodedData",[YHt]:"Builtin programs must consume compute units",[RHt]:"Cross-program invocation call depth too deep",[kHt]:"Computational budget exceeded",[EHt]:"custom program error: #$code",[fHt]:"instruction contains duplicate accounts",[vHt]:"instruction modifications of multiply-passed account differ",[THt]:"executable accounts must be rent exempt",[xHt]:"instruction changed executable accounts data",[wHt]:"instruction changed the balance of an executable account",[mHt]:"instruction changed executable bit of an account",[uHt]:"instruction modified data of an account it does not own",[lHt]:"instruction spent from the balance of an account it does not own",[QFt]:"generic instruction error",[qHt]:"Provided owner is not allowed",[$Ht]:"Account is immutable",[FHt]:"Incorrect authority provided",[rHt]:"incorrect program id for instruction",[nHt]:"insufficient funds for instruction",[eHt]:"invalid account data for instruction",[VHt]:"Invalid account owner",[XFt]:"invalid program argument",[AHt]:"program returned invalid error code",[ZFt]:"invalid instruction data",[DHt]:"Failed to reallocate account data",[PHt]:"Provided seeds do not result in a valid address",[WHt]:"Accounts data allocations exceeded the maximum allowed per transaction",[KHt]:"Max accounts exceeded",[JHt]:"Max instruction trace length exceeded",[OHt]:"Length of the seed is too long for address generation",[CHt]:"An account required by the instruction is missing",[oHt]:"missing required signature for instruction",[cHt]:"instruction illegally modified the program id of an account",[gHt]:"insufficient account keys for instruction",[LHt]:"Cross-program invocation with unauthorized signer or writable account",[MHt]:"Failed to create program execution environment",[UHt]:"Program failed to compile",[BHt]:"Program failed to complete",[pHt]:"instruction modified data of a read-only account",[dHt]:"instruction changed the balance of a read-only account",[NHt]:"Cross-program invocation reentrancy not allowed for this instruction",[hHt]:"instruction modified rent epoch of an account",[aHt]:"sum of account balances before and after instruction do not match",[sHt]:"instruction requires an initialized account",[YFt]:"",[IHt]:"Unsupported program id",[jHt]:"Unsupported sysvar",[WFt]:"The instruction does not have any accounts.",[KFt]:"The instruction does not have any data.",[JFt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[V$t]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[F$t]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[LVt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[BVt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[kVt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[DVt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[MVt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Y$t]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Q$t]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Z$t]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[X$t]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[J$t]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[oFt]:"$__serverMessage",[hFt]:"$__serverMessage",[pFt]:"$__serverMessage",[nFt]:"$__serverMessage",[sFt]:"$__serverMessage",[aFt]:"$__serverMessage",[eFt]:"Minimum context slot has not been reached",[dFt]:"Node is unhealthy; behind by $numSlotsBehind slots",[cFt]:"No snapshot",[mFt]:"Transaction simulation failed",[lFt]:"$__serverMessage",[iFt]:"Transaction history is not available from this node",[uFt]:"$__serverMessage",[rFt]:"Transaction signature length mismatch",[fFt]:"Transaction signature verification failure",[tFt]:"$__serverMessage",[GFt]:"Key pair bytes must be of length 64, got $byteLength.",[VFt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[zFt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[qFt]:"The provided private key does not match the provided public key.",[jFt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[z$t]:"Lamports value must be in the range [0, 2e64-1]",[j$t]:"`$value` cannot be parsed as a `BigInt`",[K$t]:"$message",[q$t]:"`$value` cannot be parsed as a `Number`",[H$t]:"No nonce account could be found at address `$nonceAccountAddress`",[RVt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[NVt]:"WebSocket was closed before payload could be added to the send buffer",[OVt]:"WebSocket connection closed",[PVt]:"WebSocket failed to connect",[CVt]:"Failed to obtain a subscription id from the server",[IVt]:"Could not find an API plan for RPC method: `$method`",[xVt]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[TVt]:"HTTP error ($statusCode): $message",[wVt]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[QHt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[XHt]:"The provided value does not implement the `KeyPairSigner` interface",[eGt]:"The provided value does not implement the `MessageModifyingSigner` interface",[tGt]:"The provided value does not implement the `MessagePartialSigner` interface",[ZHt]:"The provided value does not implement any of the `MessageSigner` interfaces",[rGt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[oGt]:"The provided value does not implement the `TransactionPartialSigner` interface",[iGt]:"The provided value does not implement the `TransactionSendingSigner` interface",[nGt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[sGt]:"More than one `TransactionSendingSigner` was identified.",[aGt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[cGt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[FFt]:"Cannot export a non-extractable key.",[kFt]:"No digest implementation could be found.",[DFt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[LFt]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[MFt]:"No signature verification implementation could be found.",[BFt]:"No key generation implementation could be found.",[UFt]:"No signing implementation could be found.",[$Ft]:"No key export implementation could be found.",[W$t]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[qGt]:"Transaction processing left an account with an outstanding borrowed reference",[OGt]:"Account in use",[PGt]:"Account loaded twice",[DGt]:"Attempt to debit an account but found no record of a prior credit.",[ZGt]:"Transaction loads an address table account that doesn't exist",[BGt]:"This transaction has already been processed",[UGt]:"Blockhash not found",[$Gt]:"Loader call chain is too deep",[jGt]:"Transactions are currently disabled due to cluster maintenance",[sVt]:"Transaction contains a duplicate instruction ($index) that is not allowed",[LGt]:"Insufficient funds for fee",[aVt]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[MGt]:"This account may not be used to pay transaction fees",[HGt]:"Transaction contains an invalid account reference",[tVt]:"Transaction loads an address table account with invalid data",[nVt]:"Transaction address table lookup uses an invalid index",[eVt]:"Transaction loads an address table account with an invalid owner",[lVt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[VGt]:"This program may not be used for executing instructions",[rVt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[JGt]:"Transaction loads a writable account that cannot be written",[cVt]:"Transaction exceeded max loaded accounts data size cap",[FGt]:"Transaction requires a fee but has no signature present",[kGt]:"Attempt to load a program that does not exist",[dVt]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[uVt]:"ResanitizationNeeded",[zGt]:"Transaction failed to sanitize accounts offsets correctly",[GGt]:"Transaction did not pass signature verification",[XGt]:"Transaction locked too many accounts",[pVt]:"Sum of account balances before and after transaction do not match",[NGt]:"The transaction failed with the error `$errorName`",[KGt]:"Transaction version is unsupported",[QGt]:"Transaction would exceed account data limit within the block",[iVt]:"Transaction would exceed total account data limit",[YGt]:"Transaction would exceed max account limit within the block",[WGt]:"Transaction would exceed max Block Cost Limit",[oVt]:"Transaction would exceed max Vote Cost Limit",[xGt]:"Attempted to sign a transaction with an address that is not a signer for it",[_Gt]:"Transaction is missing an address at index: $index.",[wGt]:"Transaction has no expected signers therefore it cannot be encoded",[CGt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[dGt]:"Transaction does not have a blockhash lifetime",[pGt]:"Transaction is not a durable nonce transaction",[mGt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[hGt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[yGt]:"No fee payer set in CompiledTransaction",[gGt]:"Could not find program address at index $index",[IGt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[RGt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[SGt]:"Transaction is missing a fee payer.",[vGt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[AGt]:"Transaction first instruction is not advance nonce account instruction.",[EGt]:"Transaction with no instructions cannot be durable nonce transaction.",[lGt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[uGt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[TGt]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[bGt]:"Transaction is missing signatures for addresses: $addresses.",[fGt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},Uh="i",Hf="t";function HVt(t,e={}){let n=FVt[t];if(n.length===0)return"";let r;function o(s){if(r[Hf]===2){let a=n.slice(r[Uh]+1,s);i.push(a in e?`${e[a]}`:`$${a}`)}else r[Hf]===1&&i.push(n.slice(r[Uh],s))}let i=[];return n.split("").forEach((s,a)=>{if(a===0){r={[Uh]:0,[Hf]:n[0]==="\\"?0:n[0]==="$"?2:1};return}let c;switch(r[Hf]){case 0:c={[Uh]:a,[Hf]:1};break;case 1:s==="\\"?c={[Uh]:a,[Hf]:0}:s==="$"&&(c={[Uh]:a,[Hf]:2});break;case 2:s==="\\"?c={[Uh]:a,[Hf]:0}:s==="$"?c={[Uh]:a,[Hf]:2}:s.match(/\w/)||(c={[Uh]:a,[Hf]:1});break}c&&(r!==c&&o(a),r=c)}),o(),i.join("")}function GVt(t,e={}){if(process.env.NODE_ENV!=="production")return HVt(t,e);{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${$Vt(e)}'`),`${n}\``}}var J1=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){let{cause:i,...s}=e;i&&(r={cause:i}),Object.keys(s).length>0&&(n=s)}let o=GVt(t,n);super(o,r),this.context={__code:t,...n},this.name="SolanaError"}};function VVt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function zYe(t){return Object.freeze({...t,encode:e=>{let n=new Uint8Array(VVt(e,t));return t.write(e,n,0),n}})}function jYe(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function tw(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function qYe(t,e){if(tw(t)!==tw(e))throw new J1(Cde);if(tw(t)&&tw(e)&&t.fixedSize!==e.fixedSize)throw new J1(Nde,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!tw(t)&&!tw(e)&&t.maxSize!==e.maxSize)throw new J1(Ode,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function WYe(t,e,n=0){if(e.length-n<=0)throw new J1(Ide,{codecDescription:t})}function KYe(t,e,n,r=0){let o=n.length-r;if(o<e)throw new J1(Rde,{bytesLength:o,codecDescription:t,expected:e})}function zVt(t,e,n,r){if(r<e||r>n)throw new J1(Pde,{codecDescription:t,max:n,min:e,value:r})}function JYe(t){return t?.endian!==1}function jVt(t){return zYe({fixedSize:t.size,write(e,n,r){t.range&&zVt(t.name,t.range[0],t.range[1],e);let o=new ArrayBuffer(t.size);return t.set(new DataView(o),e,JYe(t.config)),n.set(new Uint8Array(o),r),r+t.size}})}function qVt(t){return jYe({fixedSize:t.size,read(e,n=0){WYe(t.name,e,n),KYe(t.name,t.size,e,n);let r=new DataView(WVt(e,n,t.size));return[t.get(r,JYe(t.config)),n+t.size]}})}function WVt(t,e,n){let r=t.byteOffset+(e??0),o=n??t.byteLength;return t.buffer.slice(r,r+o)}var Dde=(t={})=>jVt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),KVt=(t={})=>qVt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),YYe=(t={})=>qYe(Dde(t),KVt(t));var kde=class extends TypeError{constructor(e,n){let r,{message:o,explanation:i,...s}=e,{path:a}=e,c=a.length===0?o:`At path: ${a.join(".")} -- ${o}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function JVt(t){return NN(t)&&typeof t[Symbol.iterator]=="function"}function NN(t){return typeof t=="object"&&t!=null}function aF(t){return NN(t)&&!Array.isArray(t)}function cp(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function YVt(t){let{done:e,value:n}=t.next();return e?void 0:n}function QVt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:o,branch:i}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${cp(r)}\``}=t;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*QYe(t,e,n,r){JVt(t)||(t=[t]);for(let o of t){let i=QVt(o,e,n,r);i&&(yield i)}}function*Lde(t,e,n={}){let{path:r=[],branch:o=[t],coerce:i=!1,mask:s=!1}=n,a={path:r,branch:o,mask:s};i&&(t=e.coercer(t,a));let c="valid";for(let l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){let p=Lde(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?o:[...o,u],coerce:i,mask:s,message:n.message});for(let f of p)f[0]?(c=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):i&&(u=f[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):NN(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var rd=class{constructor(e){let{type:n,schema:r,validator:o,refiner:i,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,o?this.validator=(c,l)=>{let u=o(c,l);return QYe(u,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{let u=i(c,l);return QYe(u,l,this,c)}:this.refiner=()=>[]}assert(e,n){return XYe(e,this,n)}create(e,n){return nw(e,this,n)}is(e){return ZYe(e,this)}mask(e,n){return XVt(e,this,n)}validate(e,n={}){return ON(e,this,n)}};function XYe(t,e,n){let r=ON(t,e,{message:n});if(r[0])throw r[0]}function nw(t,e,n){let r=ON(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function XVt(t,e,n){let r=ON(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function ZYe(t,e){return!ON(t,e)[0]}function ON(t,e,n={}){let r=Lde(t,e,n),o=YVt(r);return o[0]?[new kde(o[0],function*(){for(let s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function US(t,e){return new rd({type:t,schema:null,validator:e})}function eQe(){return US("any",()=>!0)}function xt(t){return new rd({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${cp(e)}`}})}function lp(){return US("boolean",t=>typeof t=="boolean")}function cF(t){return US("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${cp(e)}`)}function Ao(t){let e=cp(t),n=typeof t;return new rd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${cp(r)}`}})}function ZVt(){return US("never",()=>!1)}function wt(t){return new rd({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ge(){return US("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${cp(t)}`)}function Jt(t){return new rd({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Mde(t,e){return new rd({type:"record",schema:null,*entries(n){if(NN(n))for(let r in n){let o=n[r];yield[r,r,t],yield[r,o,e]}},validator(n){return aF(n)||`Expected an object, but received: ${cp(n)}`},coercer(n){return aF(n)?{...n}:n}})}function it(){return US("string",t=>typeof t=="string"||`Expected a string, but received: ${cp(t)}`)}function lF(t){let e=ZVt();return new rd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){let r=Math.max(t.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],t[o]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${cp(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function He(t){let e=Object.keys(t);return new rd({type:"type",schema:t,*entries(n){if(NN(n))for(let r of e)yield[r,n[r],t[r]]},validator(n){return aF(n)||`Expected an object, but received: ${cp(n)}`},coercer(n){return aF(n)?{...n}:n}})}function da(t){let e=t.map(n=>n.type).join(" | ");return new rd({type:"union",schema:null,coercer(n,r){for(let o of t){let[i,s]=o.validate(n,{coerce:!0,mask:r.mask});if(!i)return s}return n},validator(n,r){let o=[];for(let i of t){let[...s]=Lde(n,i,r),[a]=s;if(a[0])for(let[c]of s)c&&o.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${cp(n)}`,...o]}})}function $S(){return US("unknown",()=>!0)}function rw(t,e,n){return new rd({...t,coercer:(r,o)=>ZYe(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}var nqt=ho(AQe());rde();JXe();var XXe=ho(QXe(),1);hYe();$6();Uue();RS();var Tpe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},eqt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var ZXe=BigInt(2);function tqt(t){let e=Tpe.p,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Eo(u,n,e)*u%e,p=Eo(d,n,e)*u%e,f=Eo(p,ZXe,e)*l%e,h=Eo(f,o,e)*f%e,m=Eo(h,i,e)*h%e,g=Eo(m,a,e)*m%e,y=Eo(g,c,e)*g%e,S=Eo(y,a,e)*m%e,v=Eo(S,n,e)*u%e,A=Eo(v,s,e)*h%e,w=Eo(A,r,e)*l%e,I=Eo(w,ZXe,e);if(!wpe.eql(wpe.sqr(I),t))throw new Error("Cannot find square root");return I}var wpe=Ps(Tpe.p,{sqrt:tqt}),RF=Hx({...Tpe,Fp:wpe,lowS:!0,endo:eqt},qA);var VZr=Gc.utils.randomPrivateKey,eZe=()=>{let t=Gc.utils.randomPrivateKey(),e=Ppe(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Ppe=Gc.getPublicKey;function tZe(t){try{return Gc.ExtendedPoint.fromHex(t),!0}catch{return!1}}var jpe=(t,e)=>Gc.sign(t,e.slice(0,32)),rqt=Gc.verify,cr=t=>yn.isBuffer(t)?t:t instanceof Uint8Array?yn.from(t.buffer,t.byteOffset,t.byteLength):yn.from(t),Dpe=class{constructor(e){Object.assign(this,e)}encode(){return yn.from((0,hw.serialize)(NF,this))}static decode(e){return(0,hw.deserialize)(NF,this,e)}static decodeUnchecked(e){return(0,hw.deserializeUnchecked)(NF,this,e)}};var NF=new Map,fZe,oqt=32,ty=32;function iqt(t){return t._bn!==void 0}var nZe=1,bn=class t extends Dpe{constructor(e){if(super({}),this._bn=void 0,iqt(e))this._bn=e._bn;else{if(typeof e=="string"){let n=fa.default.decode(e);if(n.length!=ty)throw new Error("Invalid public key input");this._bn=new Ope.default(n)}else this._bn=new Ope.default(e);if(this._bn.byteLength()>ty)throw new Error("Invalid public key input")}}static unique(){let e=new t(nZe);return nZe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return fa.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(yn);if(e.length===ty)return e;let n=yn.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){let o=yn.concat([e.toBuffer(),yn.from(n),r.toBuffer()]),i=WA(o);return new t(i)}static createProgramAddressSync(e,n){let r=yn.alloc(0);e.forEach(function(i){if(i.length>oqt)throw new TypeError("Max seed length exceeded");r=yn.concat([r,cr(i)])}),r=yn.concat([r,n.toBuffer(),yn.from("ProgramDerivedAddress")]);let o=WA(r);if(tZe(o))throw new Error("Invalid seeds, address must fall off the curve");return new t(o)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,o;for(;r!=0;){try{let i=e.concat(yn.from([r]));o=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){let n=new t(e);return tZe(n.toBytes())}};fZe=bn;bn.default=new fZe("11111111111111111111111111111111");NF.set(bn,{kind:"struct",fields:[["_bn","u256"]]});var zZr=new bn("BPFLoader1111111111111111111111111111111111"),jS=1232,qpe=127,OF=64,kpe=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(kpe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Lpe=class extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Lpe.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Mpe=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Mpe.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var pw=class{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let r=new Map;this.keySegments().flat().forEach((i,s)=>{r.set(i.toBase58(),s)});let o=i=>{let s=r.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}},Vn=(t="publicKey")=>te.blob(32,t),sqt=(t="signature")=>te.blob(64,t),dw=(t="string")=>{let e=te.struct([te.u32("length"),te.u32("lengthPadding"),te.blob(te.offset(te.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(i,s)=>n(i,s).chars.toString(),o.encode=(i,s,a)=>{let c={chars:yn.from(i,"utf8")};return r(c,s,a)},o.alloc=i=>te.u32().span+te.u32().span+yn.from(i,"utf8").length,o},aqt=(t="authorized")=>te.struct([Vn("staker"),Vn("withdrawer")],t),cqt=(t="lockup")=>te.struct([te.ns64("unixTimestamp"),te.ns64("epoch"),Vn("custodian")],t),lqt=(t="voteInit")=>te.struct([Vn("nodePubkey"),Vn("authorizedVoter"),Vn("authorizedWithdrawer"),te.u8("commission")],t),uqt=(t="voteAuthorizeWithSeedArgs")=>te.struct([te.u32("voteAuthorizationType"),Vn("currentAuthorityDerivedKeyOwnerPubkey"),dw("currentAuthorityDerivedKeySeed"),Vn("newAuthorized")],t);function mZe(t,e){let n=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*n(o.elementLayout)}else if("fields"in o)return mZe({layout:o},e[o.property]);return 0},r=0;return t.layout.fields.forEach(o=>{r+=n(o)}),r}function Sl(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function vl(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function po(t,e){if(!t)throw new Error(e||"Assertion failed")}var PF=class t{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){let r=new Map,o=s=>{let a=s.toBase58(),c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=o(n);i.isSigner=!0,i.isWritable=!0;for(let s of e){o(s.programId).isInvoked=!0;for(let a of s.keys){let c=o(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(n,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];po(e.length<=256,"Max static account keys length exceeded");let n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),o=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{po(n.length>0,"Expected at least one writable signer key");let[c]=n[0];po(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...n.map(([c])=>new bn(c)),...r.map(([c])=>new bn(c)),...o.map(([c])=>new bn(c)),...i.map(([c])=>new bn(c))];return[s,a]}extractTableLookup(e){let[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){let r=new Array,o=new Array;for(let[i,s]of this.keyMetaMap.entries())if(n(s)){let a=new bn(i),c=e.findIndex(l=>l.equals(a));c>=0&&(po(c<256,"Max lookup table index exceeded"),r.push(c),o.push(a),this.keyMetaMap.delete(i))}return[r,o]}},hZe="Reached end of buffer unexpectedly";function jh(t){if(t.length===0)throw new Error(hZe);return t.shift()}function El(t,...e){let[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(hZe);return t.splice(...e)}var WN=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new bn(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:fa.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new pw(this.staticAccountKeys)}static compile(e){let n=PF.compile(e.instructions,e.payerKey),[r,o]=n.getMessageComponents(),s=new pw(o).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:fa.default.encode(a.data)}));return new t({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{let r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){let e=this.accountKeys.length,n=[];vl(n,e);let r=this.instructions.map(d=>{let{accounts:p,programIdIndex:f}=d,h=Array.from(fa.default.decode(d.data)),m=[];vl(m,p.length);let g=[];return vl(g,h.length),{programIdIndex:f,keyIndicesCount:yn.from(m),keyIndices:p,dataLength:yn.from(g),data:h}}),o=[];vl(o,r.length);let i=yn.alloc(jS);yn.from(o).copy(i);let s=o.length;r.forEach(d=>{let f=te.struct([te.u8("programIdIndex"),te.blob(d.keyIndicesCount.length,"keyIndicesCount"),te.seq(te.u8("keyIndex"),d.keyIndices.length,"keyIndices"),te.blob(d.dataLength.length,"dataLength"),te.seq(te.u8("userdatum"),d.data.length,"data")]).encode(d,i,s);s+=f}),i=i.slice(0,s);let a=te.struct([te.blob(1,"numRequiredSignatures"),te.blob(1,"numReadonlySignedAccounts"),te.blob(1,"numReadonlyUnsignedAccounts"),te.blob(n.length,"keyCount"),te.seq(Vn("key"),e,"keys"),Vn("recentBlockhash")]),c={numRequiredSignatures:yn.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yn.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yn.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yn.from(n),keys:this.accountKeys.map(d=>cr(d.toBytes())),recentBlockhash:fa.default.decode(this.recentBlockhash)},l=yn.alloc(2048),u=a.encode(c,l);return i.copy(l,u),l.slice(0,u+i.length)}static from(e){let n=[...e],r=jh(n);if(r!==(r&qpe))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=jh(n),i=jh(n),s=Sl(n),a=[];for(let p=0;p<s;p++){let f=El(n,0,ty);a.push(new bn(yn.from(f)))}let c=El(n,0,ty),l=Sl(n),u=[];for(let p=0;p<l;p++){let f=jh(n),h=Sl(n),m=El(n,0,h),g=Sl(n),y=El(n,0,g),S=fa.default.encode(yn.from(y));u.push({programIdIndex:f,accounts:m,data:S})}let d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:fa.default.encode(yn.from(c)),accountKeys:a,instructions:u};return new t(d)}},Bpe=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new pw(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let o=e-r,i=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){let o=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return o<s}else{let o=n-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let n={writable:[],readonly:[]};for(let r of this.addressTableLookups){let o=e.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let i of r.writableIndexes)if(i<o.state.addresses.length)n.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(let i of r.readonlyIndexes)if(i<o.state.addresses.length)n.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){let n=PF.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let u of i){let d=n.extractTableLookup(u);if(d!==void 0){let[p,{writable:f,readonly:h}]=d;r.push(p),o.writable.push(...f),o.readonly.push(...h)}}let[s,a]=n.getMessageComponents(),l=new pw(a,o).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){let e=Array();vl(e,this.staticAccountKeys.length);let n=this.serializeInstructions(),r=Array();vl(r,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),i=Array();vl(i,this.addressTableLookups.length);let s=te.struct([te.u8("prefix"),te.struct([te.u8("numRequiredSignatures"),te.u8("numReadonlySignedAccounts"),te.u8("numReadonlyUnsignedAccounts")],"header"),te.blob(e.length,"staticAccountKeysLength"),te.seq(Vn(),this.staticAccountKeys.length,"staticAccountKeys"),Vn("recentBlockhash"),te.blob(r.length,"instructionsLength"),te.blob(n.length,"serializedInstructions"),te.blob(i.length,"addressTableLookupsLength"),te.blob(o.length,"serializedAddressTableLookups")]),a=new Uint8Array(jS),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:fa.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},a);return a.slice(0,l)}serializeInstructions(){let e=0,n=new Uint8Array(jS);for(let r of this.compiledInstructions){let o=Array();vl(o,r.accountKeyIndexes.length);let i=Array();vl(i,r.data.length);let s=te.struct([te.u8("programIdIndex"),te.blob(o.length,"encodedAccountKeyIndexesLength"),te.seq(te.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),te.blob(i.length,"encodedDataLength"),te.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0,n=new Uint8Array(jS);for(let r of this.addressTableLookups){let o=Array();vl(o,r.writableIndexes.length);let i=Array();vl(i,r.readonlyIndexes.length);let s=te.struct([Vn("accountKey"),te.blob(o.length,"encodedWritableIndexesLength"),te.seq(te.u8(),r.writableIndexes.length,"writableIndexes"),te.blob(i.length,"encodedReadonlyIndexesLength"),te.seq(te.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e],r=jh(n),o=r&qpe;po(r!==o,"Expected versioned message but received legacy message");let i=o;po(i===0,`Expected versioned message with version 0 but found version ${i}`);let s={numRequiredSignatures:jh(n),numReadonlySignedAccounts:jh(n),numReadonlyUnsignedAccounts:jh(n)},a=[],c=Sl(n);for(let h=0;h<c;h++)a.push(new bn(El(n,0,ty)));let l=fa.default.encode(El(n,0,ty)),u=Sl(n),d=[];for(let h=0;h<u;h++){let m=jh(n),g=Sl(n),y=El(n,0,g),S=Sl(n),v=new Uint8Array(El(n,0,S));d.push({programIdIndex:m,accountKeyIndexes:y,data:v})}let p=Sl(n),f=[];for(let h=0;h<p;h++){let m=new bn(El(n,0,ty)),g=Sl(n),y=El(n,0,g),S=Sl(n),v=El(n,0,S);f.push({accountKey:m,writableIndexes:y,readonlyIndexes:v})}return new t({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:d,addressTableLookups:f})}},gZe={deserializeMessageVersion(t){let e=t[0],n=e&qpe;return n===e?"legacy":n},deserialize:t=>{let e=gZe.deserializeMessageVersion(t);if(e==="legacy")return WN.from(t);if(e===0)return Bpe.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};var dqt=yn.alloc(OF).fill(0),Wr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=yn.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},no=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{let{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Wr(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<n.length;m++)if(n[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);let o=[],i=[];n.forEach(m=>{m.keys.forEach(y=>{i.push({...y})});let g=m.programId.toString();o.includes(g)||o.push(g)}),o.forEach(m=>{i.push({pubkey:new bn(m),isSigner:!1,isWritable:!1})});let s=[];i.forEach(m=>{let g=m.pubkey.toString(),y=s.findIndex(S=>S.pubkey.toString()===g);y>-1?(s[y].isWritable=s[y].isWritable||m.isWritable,s[y].isSigner=s[y].isSigner||m.isSigner):s.push(m)}),s.sort(function(m,g){if(m.isSigner!==g.isSigner)return m.isSigner?-1:1;if(m.isWritable!==g.isWritable)return m.isWritable?-1:1;let y={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",y)});let a=s.findIndex(m=>m.pubkey.equals(r));if(a>-1){let[m]=s.splice(a,1);m.isSigner=!0,m.isWritable=!0,s.unshift(m)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let m of this.signatures){let g=s.findIndex(y=>y.pubkey.equals(m.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,l=0,u=0,d=[],p=[];s.forEach(({pubkey:m,isSigner:g,isWritable:y})=>{g?(d.push(m.toString()),c+=1,y||(l+=1)):(p.push(m.toString()),y||(u+=1))});let f=d.concat(p),h=n.map(m=>{let{data:g,programId:y}=m;return{programIdIndex:f.indexOf(y.toString()),accounts:m.keys.map(S=>f.indexOf(S.pubkey.toString())),data:fa.default.encode(g)}});return h.forEach(m=>{po(m.programIdIndex>=0),m.accounts.forEach(g=>po(g>=0))}),new WN({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((o,i)=>n[i].equals(o.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let n=new Set;this.signatures=e.filter(r=>{let o=r.toString();return n.has(o)?!1:(n.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");let n=new Set,r=[];for(let i of e){let s=i.publicKey.toString();n.has(s)||(n.add(s),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));let o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");let n=new Set,r=[];for(let i of e){let s=i.publicKey.toString();n.has(s)||(n.add(s),r.push(i))}let o=this._compile();this._partialSign(o,...r)}_partialSign(e,...n){let r=e.serialize();n.forEach(o=>{let i=jpe(r,o.secretKey);this._addSignature(o.publicKey,cr(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){po(n.length===64);let r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=yn.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){let r={};for(let{signature:o,publicKey:i}of this.signatures)o===null?n&&(r.missing||=[]).push(i):rqt(o,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){let i=this._getMessageSignednessErrors(o,n);if(i){let s="Signature verification failed.";throw i.invalid&&(s+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(s+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(o)}_serialize(e){let{signatures:n}=this,r=[];vl(r,n.length);let o=r.length+n.length*64+e.length,i=yn.alloc(o);return po(n.length<256),yn.from(r).copy(i,0),n.forEach(({signature:s},a)=>{s!==null&&(po(s.length===64,"signature has invalid length"),yn.from(s).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),po(i.length<=jS,`Transaction too large: ${i.length} > ${jS}`),i}get keys(){return po(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return po(this.instructions.length===1),this.instructions[0].programId}get data(){return po(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e],r=Sl(n),o=[];for(let i=0;i<r;i++){let s=El(n,0,OF);o.push(fa.default.encode(yn.from(s)))}return t.populate(WN.from(n),o)}static populate(e,n=[]){let r=new t;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((o,i)=>{let s={signature:o==fa.default.encode(dqt)?null:fa.default.decode(o),publicKey:e.accountKeys[i]};r.signatures.push(s)}),e.instructions.forEach(o=>{let i=o.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new Wr({keys:i,programId:e.accountKeys[o.programIdIndex],data:fa.default.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}};var fw=class t{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)po(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{let r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(OF));this.signatures=r}this.message=e}serialize(){let e=this.message.serialize(),n=Array();vl(n,this.signatures.length);let r=te.struct([te.blob(n.length,"encodedSignaturesLength"),te.seq(sqt(),this.signatures.length,"signatures"),te.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let n=[...e],r=[],o=Sl(n);for(let s=0;s<o;s++)r.push(new Uint8Array(El(n,0,OF)));let i=gZe.deserialize(new Uint8Array(n));return new t(i,r)}sign(e){let n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let i=r.findIndex(s=>s.equals(o.publicKey));po(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=jpe(n,o.secretKey)}}addSignature(e,n){po(n.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));po(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=n}},pqt=160,fqt=64,mqt=pqt/fqt,hqt=1e3/mqt,zh=new bn("SysvarC1ock11111111111111111111111111111111"),jZr=new bn("SysvarEpochSchedu1e111111111111111111111111"),qZr=new bn("Sysvar1nstructions1111111111111111111111111"),Ipe=new bn("SysvarRecentB1ockHashes11111111111111111111"),KN=new bn("SysvarRent111111111111111111111111111111111"),WZr=new bn("SysvarRewards111111111111111111111111111111"),KZr=new bn("SysvarS1otHashes111111111111111111111111111"),JZr=new bn("SysvarS1otHistory11111111111111111111111111"),Rpe=new bn("SysvarStakeHistory1111111111111111111111111"),Upe=class extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:o}){let i=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){let i=o.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};async function rZe(t,e,n,r){let o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await t.sendTransaction(e,n,o),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw i!=null?new Upe({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function gqt(t){return new Promise(e=>setTimeout(e,t))}function Zn(t,e){let n=t.layout.span>=0?t.layout.span:mZe(t,e),r=yn.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}var yqt=te.nu64("lamportsPerSignature"),bqt=te.struct([te.u32("version"),te.u32("state"),Vn("authorizedPubkey"),Vn("nonce"),te.struct([yqt],"feeCalculator")]),oZe=bqt.span;function mw(t){let e=(0,pZe.blob)(8,t),n=e.decode.bind(e),r=e.encode.bind(e),o=e,i=YYe();return o.decode=(s,a)=>{let c=n(s,a);return i.decode(c)},o.encode=(s,a,c)=>{let l=i.encode(s);return r(l,a,c)},o}var sd=Object.freeze({Create:{index:0,layout:te.struct([te.u32("instruction"),te.ns64("lamports"),te.ns64("space"),Vn("programId")])},Assign:{index:1,layout:te.struct([te.u32("instruction"),Vn("programId")])},Transfer:{index:2,layout:te.struct([te.u32("instruction"),mw("lamports")])},CreateWithSeed:{index:3,layout:te.struct([te.u32("instruction"),Vn("base"),dw("seed"),te.ns64("lamports"),te.ns64("space"),Vn("programId")])},AdvanceNonceAccount:{index:4,layout:te.struct([te.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:te.struct([te.u32("instruction"),Vn("authorized")])},AuthorizeNonceAccount:{index:7,layout:te.struct([te.u32("instruction"),Vn("authorized")])},Allocate:{index:8,layout:te.struct([te.u32("instruction"),te.ns64("space")])},AllocateWithSeed:{index:9,layout:te.struct([te.u32("instruction"),Vn("base"),dw("seed"),te.ns64("space"),Vn("programId")])},AssignWithSeed:{index:10,layout:te.struct([te.u32("instruction"),Vn("base"),dw("seed"),Vn("programId")])},TransferWithSeed:{index:11,layout:te.struct([te.u32("instruction"),mw("lamports"),dw("seed"),Vn("programId")])},UpgradeNonceAccount:{index:12,layout:te.struct([te.u32("instruction")])}}),Va=class t{constructor(){}static createAccount(e){let n=sd.Create,r=Zn(n,{lamports:e.lamports,space:e.space,programId:cr(e.programId.toBuffer())});return new Wr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){let o=sd.TransferWithSeed;n=Zn(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:cr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=sd.Transfer;n=Zn(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){let o=sd.AssignWithSeed;n=Zn(o,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,programId:cr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=sd.Assign;n=Zn(o,{programId:cr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){let n=sd.CreateWithSeed,r=Zn(n,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:cr(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Wr({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){let n=new no;"basePubkey"in e&&"seed"in e?n.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:oZe,programId:this.programId})):n.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:oZe,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){let n=sd.InitializeNonceAccount,r=Zn(n,{authorized:cr(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ipe,isSigner:!1,isWritable:!1},{pubkey:KN,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Wr(o)}static nonceAdvance(e){let n=sd.AdvanceNonceAccount,r=Zn(n),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ipe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Wr(o)}static nonceWithdraw(e){let n=sd.WithdrawNonceAccount,r=Zn(n,{lamports:e.lamports});return new Wr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ipe,isSigner:!1,isWritable:!1},{pubkey:KN,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let n=sd.AuthorizeNonceAccount,r=Zn(n,{authorized:cr(e.newAuthorizedPubkey.toBuffer())});return new Wr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){let o=sd.AllocateWithSeed;n=Zn(o,{base:cr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:cr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=sd.Allocate;n=Zn(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:n})}};Va.programId=new bn("11111111111111111111111111111111");var _qt=jS-300,$pe=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,n,r,o,i){{let d=await e.getMinimumBalanceForRentExemption(i.length),p=await e.getAccountInfo(r.publicKey,"confirmed"),f=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==i.length&&(f=f||new no,f.add(Va.allocate({accountPubkey:r.publicKey,space:i.length}))),p.owner.equals(o)||(f=f||new no,f.add(Va.assign({accountPubkey:r.publicKey,programId:o}))),p.lamports<d&&(f=f||new no,f.add(Va.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:d-p.lamports})))}else f=new no().add(Va.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:o}));f!==null&&await rZe(e,f,[n,r],{commitment:"confirmed"})}let s=te.struct([te.u32("instruction"),te.u32("offset"),te.u32("bytesLength"),te.u32("bytesLengthPadding"),te.seq(te.u8("byte"),te.offset(te.u32(),-8),"bytes")]),a=t.chunkSize,c=0,l=i,u=[];for(;l.length>0;){let d=l.slice(0,a),p=yn.alloc(a+16);s.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},p);let f=new no().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:p});u.push(rZe(e,f,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await gqt(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{let d=te.struct([te.u32("instruction")]),p=yn.alloc(d.span);d.encode({instruction:1},p);let f=new no().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:KN,isSigner:!1,isWritable:!1}],programId:o,data:p}),h="processed",m=await e.sendTransaction(f,[n,r],{preflightCommitment:h}),{context:g,value:y}=await e.confirmTransaction({signature:m,lastValidBlockHeight:f.lastValidBlockHeight,blockhash:f.recentBlockhash},h);if(y.err)throw new Error(`Transaction ${m} failed (${JSON.stringify(y)})`);for(;;){try{if(await e.getSlot({commitment:h})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(hqt/2)))}}return!0}};$pe.chunkSize=_qt;var YZr=new bn("BPFLoader2111111111111111111111111111111111");var QZr=typeof globalThis.fetch=="function"?globalThis.fetch:async function(t,e){let n=typeof t=="string"&&t.slice(0,2)==="//"?"https:"+t:t;return await tde(n,e)};var XZr={index:1,layout:te.struct([te.u32("typeIndex"),mw("deactivationSlot"),te.nu64("lastExtendedSlot"),te.u8("lastExtendedStartIndex"),te.u8(),te.seq(Vn(),te.offset(te.u8(),-1),"authority")])};var Xo=rw(cF(bn),it(),t=>new bn(t)),yZe=lF([it(),Ao("base64")]),Wpe=rw(cF(yn),yZe,t=>yn.from(t[0],"base64")),ZZr=30*1e3;function bZe(t){return da([He({jsonrpc:Ao("2.0"),id:it(),result:t}),He({jsonrpc:Ao("2.0"),id:it(),error:He({code:$S(),message:it(),data:Jt(eQe())})})])}var Sqt=bZe($S());function ro(t){return rw(bZe(t),Sqt,e=>"error"in e?e:{...e,result:nw(e.result,t)})}function dp(t){return ro(He({context:He({slot:ge()}),value:t}))}function MF(t){return He({context:He({slot:ge()}),value:t})}var vqt=He({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),eeo=ro(xt(wt(He({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:Jt(wt(ge()))})))),Eqt=xt(He({slot:ge(),prioritizationFee:ge()})),Aqt=He({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),xqt=He({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:Jt(ge()),transactionCount:Jt(ge())}),wqt=He({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:lp(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),Tqt=Mde(it(),xt(ge())),qS=wt(da([He({}),it()])),Iqt=He({err:qS}),Rqt=Ao("receivedSignature"),teo=He({"solana-core":it(),"feature-set":Jt(ge())}),Cqt=He({program:it(),programId:Xo,parsed:$S()}),Nqt=He({programId:Xo,accounts:xt(Xo),data:it()}),neo=dp(He({err:wt(da([He({}),it()])),logs:wt(xt(it())),accounts:Jt(wt(xt(wt(He({executable:lp(),owner:it(),lamports:ge(),data:xt(it()),rentEpoch:Jt(ge())}))))),unitsConsumed:Jt(ge()),returnData:Jt(wt(He({programId:it(),data:lF([it(),Ao("base64")])}))),innerInstructions:Jt(wt(xt(He({index:ge(),instructions:xt(da([Cqt,Nqt]))}))))})),reo=dp(He({byIdentity:Mde(it(),xt(ge())),range:He({firstSlot:ge(),lastSlot:ge()})}));var oeo=ro(vqt),ieo=ro(Aqt),seo=ro(Eqt),aeo=ro(xqt),ceo=ro(wqt),leo=ro(Tqt),ueo=ro(ge()),deo=dp(He({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:xt(Xo)})),Oqt=He({amount:it(),uiAmount:wt(ge()),decimals:ge(),uiAmountString:Jt(it())}),peo=dp(xt(He({address:Xo,amount:it(),uiAmount:wt(ge()),decimals:ge(),uiAmountString:Jt(it())}))),feo=dp(xt(He({pubkey:Xo,account:He({executable:lp(),owner:Xo,lamports:ge(),data:Wpe,rentEpoch:ge()})}))),Fpe=He({program:it(),parsed:$S(),space:ge()}),meo=dp(xt(He({pubkey:Xo,account:He({executable:lp(),owner:Xo,lamports:ge(),data:Fpe,rentEpoch:ge()})}))),heo=dp(xt(He({lamports:ge(),address:Xo}))),Kpe=He({executable:lp(),owner:Xo,lamports:ge(),data:Wpe,rentEpoch:ge()}),geo=He({pubkey:Xo,account:Kpe}),Pqt=rw(da([cF(yn),Fpe]),da([yZe,Fpe]),t=>Array.isArray(t)?nw(t,Wpe):t),Dqt=He({executable:lp(),owner:Xo,lamports:ge(),data:Pqt,rentEpoch:ge()}),yeo=He({pubkey:Xo,account:Dqt}),beo=He({state:da([Ao("active"),Ao("inactive"),Ao("activating"),Ao("deactivating")]),active:ge(),inactive:ge()}),_eo=ro(xt(He({signature:it(),slot:ge(),err:qS,memo:wt(it()),blockTime:Jt(wt(ge()))}))),Seo=ro(xt(He({signature:it(),slot:ge(),err:qS,memo:wt(it()),blockTime:Jt(wt(ge()))}))),veo=He({subscription:ge(),result:MF(Kpe)}),kqt=He({pubkey:Xo,account:Kpe}),Eeo=He({subscription:ge(),result:MF(kqt)}),Lqt=He({parent:ge(),slot:ge(),root:ge()}),Aeo=He({subscription:ge(),result:Lqt}),Mqt=da([He({type:da([Ao("firstShredReceived"),Ao("completed"),Ao("optimisticConfirmation"),Ao("root")]),slot:ge(),timestamp:ge()}),He({type:Ao("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),He({type:Ao("frozen"),slot:ge(),timestamp:ge(),stats:He({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),He({type:Ao("dead"),slot:ge(),timestamp:ge(),err:it()})]),xeo=He({subscription:ge(),result:Mqt}),weo=He({subscription:ge(),result:MF(da([Iqt,Rqt]))}),Teo=He({subscription:ge(),result:ge()}),Ieo=He({pubkey:it(),gossip:wt(it()),tpu:wt(it()),rpc:wt(it()),version:wt(it())}),iZe=He({votePubkey:it(),nodePubkey:it(),activatedStake:ge(),epochVoteAccount:lp(),epochCredits:xt(lF([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:wt(ge())}),Reo=ro(He({current:xt(iZe),delinquent:xt(iZe)})),Bqt=da([Ao("processed"),Ao("confirmed"),Ao("finalized")]),Uqt=He({slot:ge(),confirmations:wt(ge()),err:qS,confirmationStatus:Jt(Bqt)}),Ceo=dp(xt(wt(Uqt))),Neo=ro(ge()),_Ze=He({accountKey:Xo,writableIndexes:xt(ge()),readonlyIndexes:xt(ge())}),Jpe=He({signatures:xt(it()),message:He({accountKeys:xt(it()),header:He({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:xt(He({accounts:xt(ge()),data:it(),programIdIndex:ge()})),recentBlockhash:it(),addressTableLookups:Jt(xt(_Ze))})}),SZe=He({pubkey:Xo,signer:lp(),writable:lp(),source:Jt(da([Ao("transaction"),Ao("lookupTable")]))}),vZe=He({accountKeys:xt(SZe),signatures:xt(it())}),EZe=He({parsed:$S(),program:it(),programId:Xo}),AZe=He({accounts:xt(Xo),data:it(),programId:Xo}),$qt=da([AZe,EZe]),Fqt=da([He({parsed:$S(),program:it(),programId:it()}),He({accounts:xt(it()),data:it(),programId:it()})]),xZe=rw($qt,Fqt,t=>"accounts"in t?nw(t,AZe):nw(t,EZe)),wZe=He({signatures:xt(it()),message:He({accountKeys:xt(SZe),instructions:xt(xZe),recentBlockhash:it(),addressTableLookups:Jt(wt(xt(_Ze)))})}),DF=He({accountIndex:ge(),mint:it(),owner:Jt(it()),programId:Jt(it()),uiTokenAmount:Oqt}),TZe=He({writable:xt(Xo),readonly:xt(Xo)}),BF=He({err:qS,fee:ge(),innerInstructions:Jt(wt(xt(He({index:ge(),instructions:xt(He({accounts:xt(ge()),data:it(),programIdIndex:ge()}))})))),preBalances:xt(ge()),postBalances:xt(ge()),logMessages:Jt(wt(xt(it()))),preTokenBalances:Jt(wt(xt(DF))),postTokenBalances:Jt(wt(xt(DF))),loadedAddresses:Jt(TZe),computeUnitsConsumed:Jt(ge()),costUnits:Jt(ge())}),Ype=He({err:qS,fee:ge(),innerInstructions:Jt(wt(xt(He({index:ge(),instructions:xt(xZe)})))),preBalances:xt(ge()),postBalances:xt(ge()),logMessages:Jt(wt(xt(it()))),preTokenBalances:Jt(wt(xt(DF))),postTokenBalances:Jt(wt(xt(DF))),loadedAddresses:Jt(TZe),computeUnitsConsumed:Jt(ge()),costUnits:Jt(ge())}),gw=da([Ao(0),Ao("legacy")]),WS=He({pubkey:it(),lamports:ge(),postBalance:wt(ge()),rewardType:wt(it()),commission:Jt(wt(ge()))}),Oeo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),transactions:xt(He({transaction:Jpe,meta:wt(BF),version:Jt(gw)})),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),Peo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),Deo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),transactions:xt(He({transaction:vZe,meta:wt(BF),version:Jt(gw)})),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),keo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),transactions:xt(He({transaction:wZe,meta:wt(Ype),version:Jt(gw)})),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),Leo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),transactions:xt(He({transaction:vZe,meta:wt(Ype),version:Jt(gw)})),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),Meo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),rewards:Jt(xt(WS)),blockTime:wt(ge()),blockHeight:wt(ge())}))),Beo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),transactions:xt(He({transaction:Jpe,meta:wt(BF)})),rewards:Jt(xt(WS)),blockTime:wt(ge())}))),Ueo=ro(wt(He({blockhash:it(),previousBlockhash:it(),parentSlot:ge(),signatures:xt(it()),blockTime:wt(ge())}))),$eo=ro(wt(He({slot:ge(),meta:wt(BF),blockTime:Jt(wt(ge())),transaction:Jpe,version:Jt(gw)}))),Feo=ro(wt(He({slot:ge(),transaction:wZe,meta:wt(Ype),blockTime:Jt(wt(ge())),version:Jt(gw)}))),Heo=dp(He({blockhash:it(),lastValidBlockHeight:ge()})),Geo=dp(lp()),Hqt=He({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),Veo=ro(xt(Hqt)),zeo=dp(wt(He({feeCalculator:He({lamportsPerSignature:ge()})}))),jeo=ro(it()),qeo=ro(it()),Gqt=He({err:qS,logs:xt(it()),signature:it()}),Weo=He({result:MF(Gqt),subscription:ge()});var JN=class t{constructor(e){this._keypair=void 0,this._keypair=e??eZe()}static generate(){return new t(eZe())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");let r=e.slice(32,64);if(!n||!n.skipValidation){let o=e.slice(0,32),i=Ppe(o);for(let s=0;s<32;s++)if(r[s]!==i[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:r,secretKey:e})}static fromSeed(e){let n=Ppe(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new t({publicKey:n,secretKey:r})}get publicKey(){return new bn(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},jN=Object.freeze({CreateLookupTable:{index:0,layout:te.struct([te.u32("instruction"),mw("recentSlot"),te.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:te.struct([te.u32("instruction")])},ExtendLookupTable:{index:2,layout:te.struct([te.u32("instruction"),mw(),te.seq(Vn(),te.offset(te.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:te.struct([te.u32("instruction")])},CloseLookupTable:{index:4,layout:te.struct([te.u32("instruction")])}});var Hpe=class{constructor(){}static createLookupTable(e){let[n,r]=bn.findProgramAddressSync([e.authority.toBuffer(),Dde().encode(e.recentSlot)],this.programId),o=jN.CreateLookupTable,i=Zn(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}];return[new Wr({programId:this.programId,keys:s,data:i}),n]}static freezeLookupTable(e){let n=jN.FreezeLookupTable,r=Zn(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Wr({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){let n=jN.ExtendLookupTable,r=Zn(n,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}),new Wr({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){let n=jN.DeactivateLookupTable,r=Zn(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Wr({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){let n=jN.CloseLookupTable,r=Zn(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Wr({programId:this.programId,keys:o,data:r})}};Hpe.programId=new bn("AddressLookupTab1e1111111111111111111111111");var CF=Object.freeze({RequestUnits:{index:0,layout:te.struct([te.u8("instruction"),te.u32("units"),te.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:te.struct([te.u8("instruction"),te.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:te.struct([te.u8("instruction"),te.u32("units")])},SetComputeUnitPrice:{index:3,layout:te.struct([te.u8("instruction"),mw("microLamports")])}}),Gpe=class{constructor(){}static requestUnits(e){let n=CF.RequestUnits,r=Zn(n,e);return new Wr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){let n=CF.RequestHeapFrame,r=Zn(n,e);return new Wr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){let n=CF.SetComputeUnitLimit,r=Zn(n,e);return new Wr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){let n=CF.SetComputeUnitPrice,r=Zn(n,{microLamports:BigInt(e.microLamports)});return new Wr({keys:[],programId:this.programId,data:r})}};Gpe.programId=new bn("ComputeBudget111111111111111111111111111111");var sZe=64,aZe=32,cZe=64,lZe=te.struct([te.u8("numSignatures"),te.u8("padding"),te.u16("signatureOffset"),te.u16("signatureInstructionIndex"),te.u16("publicKeyOffset"),te.u16("publicKeyInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u16("messageInstructionIndex")]),Vpe=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:n,message:r,signature:o,instructionIndex:i}=e;po(n.length===aZe,`Public Key must be ${aZe} bytes but received ${n.length} bytes`),po(o.length===cZe,`Signature must be ${cZe} bytes but received ${o.length} bytes`);let s=lZe.span,a=s+n.length,c=a+o.length,l=1,u=yn.alloc(c+r.length),d=i??65535;return lZe.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},u),u.fill(n,s),u.fill(o,a),u.fill(r,c),new Wr({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:n,message:r,instructionIndex:o}=e;po(n.length===sZe,`Private key must be ${sZe} bytes but received ${n.length} bytes`);try{let i=JN.fromSecretKey(n),s=i.publicKey.toBytes(),a=jpe(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Vpe.programId=new bn("Ed25519SigVerify111111111111111111111111111");var Vqt=(t,e)=>{let n=RF.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};RF.utils.isValidPrivateKey;var zqt=RF.getPublicKey,uZe=32,Cpe=20,dZe=64,jqt=11,Npe=te.struct([te.u8("numSignatures"),te.u16("signatureOffset"),te.u8("signatureInstructionIndex"),te.u16("ethAddressOffset"),te.u8("ethAddressInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u8("messageInstructionIndex"),te.blob(20,"ethAddress"),te.blob(64,"signature"),te.u8("recoveryId")]),zpe=class t{constructor(){}static publicKeyToEthAddress(e){po(e.length===dZe,`Public key must be ${dZe} bytes but received ${e.length} bytes`);try{return yn.from(cde(cr(e))).slice(-Cpe)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){let{publicKey:n,message:r,signature:o,recoveryId:i,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(n),message:r,signature:o,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:n,message:r,signature:o,recoveryId:i,instructionIndex:s=0}=e,a;typeof n=="string"?n.startsWith("0x")?a=yn.from(n.substr(2),"hex"):a=yn.from(n,"hex"):a=n,po(a.length===Cpe,`Address must be ${Cpe} bytes but received ${a.length} bytes`);let c=1+jqt,l=c,u=c+a.length,d=u+o.length+1,p=1,f=yn.alloc(Npe.span+r.length);return Npe.encode({numSignatures:p,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:l,ethAddressInstructionIndex:s,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:s,signature:cr(o),ethAddress:cr(a),recoveryId:i},f),f.fill(cr(r),Npe.span),new Wr({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:n,message:r,instructionIndex:o}=e;po(n.length===uZe,`Private key must be ${uZe} bytes but received ${n.length} bytes`);try{let i=cr(n),s=zqt(i,!1).slice(1),a=yn.from(cde(cr(r))),[c,l]=Vqt(a,i);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:c,recoveryId:l,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};zpe.programId=new bn("KeccakSecp256k11111111111111111111111111111");var IZe,qqt=new bn("StakeConfig11111111111111111111111111111111");var YN=class{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}};IZe=YN;YN.default=new IZe(0,0,bn.default);var ey=Object.freeze({Initialize:{index:0,layout:te.struct([te.u32("instruction"),aqt(),cqt()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Vn("newAuthorized"),te.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:te.struct([te.u32("instruction")])},Split:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Withdraw:{index:4,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Deactivate:{index:5,layout:te.struct([te.u32("instruction")])},Merge:{index:7,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:te.struct([te.u32("instruction"),Vn("newAuthorized"),te.u32("stakeAuthorizationType"),dw("authoritySeed"),Vn("authorityOwner")])}}),Keo=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),kF=class{constructor(){}static initialize(e){let{stakePubkey:n,authorized:r,lockup:o}=e,i=o||YN.default,s=ey.Initialize,a=Zn(s,{authorized:{staker:cr(r.staker.toBuffer()),withdrawer:cr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:cr(i.custodian.toBuffer())}}),c={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:KN,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Wr(c)}static createAccountWithSeed(e){let n=new no;n.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:o,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static createAccount(e){let n=new no;n.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:o,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static delegate(e){let{stakePubkey:n,authorizedPubkey:r,votePubkey:o}=e,i=ey.Delegate,s=Zn(i);return new no().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:Rpe,isSigner:!1,isWritable:!1},{pubkey:qqt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:s}=e,a=ey.Authorize,c=Zn(a,{newAuthorized:cr(o.toBuffer()),stakeAuthorizationType:i.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new no().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:n,authorityBase:r,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,l=ey.AuthorizeWithSeed,u=Zn(l,{newAuthorized:cr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:o,authorityOwner:cr(i.toBuffer())}),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:zh,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new no().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:o,lamports:i}=e,s=ey.Split,a=Zn(s,{lamports:i});return new Wr({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){let r=new no;return r.add(Va.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){let{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,basePubkey:s,seed:a,lamports:c}=e,l=new no;return l.add(Va.allocate({accountPubkey:i,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&l.add(Va.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:n})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,lamports:c}))}static merge(e){let{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:o}=e,i=ey.Merge,s=Zn(i);return new no().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:Rpe,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:n,authorizedPubkey:r,toPubkey:o,lamports:i,custodianPubkey:s}=e,a=ey.Withdraw,c=Zn(a,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:Rpe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new no().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:n,authorizedPubkey:r}=e,o=ey.Deactivate,i=Zn(o);return new no().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};kF.programId=new bn("Stake11111111111111111111111111111111111111");kF.space=200;var qN=Object.freeze({InitializeAccount:{index:0,layout:te.struct([te.u32("instruction"),lqt()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Vn("newAuthorized"),te.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:te.struct([te.u32("instruction"),uqt()])}}),Jeo=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),LF=class t{constructor(){}static initializeAccount(e){let{votePubkey:n,nodePubkey:r,voteInit:o}=e,i=qN.InitializeAccount,s=Zn(i,{voteInit:{nodePubkey:cr(o.nodePubkey.toBuffer()),authorizedVoter:cr(o.authorizedVoter.toBuffer()),authorizedWithdrawer:cr(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:KN,isSigner:!1,isWritable:!1},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Wr(a)}static createAccount(e){let n=new no;return n.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,s=qN.Authorize,a=Zn(s,{newAuthorized:cr(o.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new no().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:a}=e,c=qN.AuthorizeWithSeed,l=Zn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:cr(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:cr(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:zh,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new no().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:i}=e,s=qN.Withdraw,a=Zn(s,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new no().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:o}=e,i=qN.UpdateValidatorIdentity,s=Zn(i),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new no().add({keys:a,programId:this.programId,data:s})}};LF.programId=new bn("Vote111111111111111111111111111111111111111");LF.space=3762;var Yeo=new bn("Va1idator1nfo111111111111111111111111111111"),Qeo=He({name:it(),website:Jt(it()),details:Jt(it()),iconUrl:Jt(it()),keybaseUsername:Jt(it())});var Xeo=new bn("Vote111111111111111111111111111111111111111"),Zeo=te.struct([Vn("nodePubkey"),Vn("authorizedWithdrawer"),te.u8("commission"),te.nu64(),te.seq(te.struct([te.nu64("slot"),te.u32("confirmationCount")]),te.offset(te.u32(),-8),"votes"),te.u8("rootSlotValid"),te.nu64("rootSlot"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),Vn("authorizedVoter")]),te.offset(te.u32(),-8),"authorizedVoters"),te.struct([te.seq(te.struct([Vn("authorizedPubkey"),te.nu64("epochOfLastAuthorizedSwitch"),te.nu64("targetEpoch")]),32,"buf"),te.nu64("idx"),te.u8("isEmpty")],"priorVoters"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),te.nu64("credits"),te.nu64("prevCredits")]),te.offset(te.u32(),-8),"epochCredits"),te.struct([te.nu64("slot"),te.nu64("timestamp")],"lastTimestamp")]);var UF=class{constructor(e){this.organizationId=e.organizationId,this.client=e.client}async signAllTransactions(e,n,r){let o=new bn(n),i=e.map(c=>this.getMessageToSign(c).toString("hex")),a=(await this.signRawPayloads(i,n,r))?.signatures?.map(c=>`${c?.r}${c?.s}`);for(let c in e)e[c]?.addSignature(o,Buffer.from(a[c],"hex"));return e}async addSignature(e,n,r){let o=new bn(n),i=this.getMessageToSign(e),s=await this.signRawPayload(i.toString("hex"),n,r??this.organizationId),a=`${s?.r}${s?.s}`;e.addSignature(o,Buffer.from(a,"hex"))}async signMessage(e,n,r){let o=await this.signRawPayload(Buffer.from(e).toString("hex"),n,r);return Buffer.from(`${o?.r}${o?.s}`,"hex")}async signTransaction(e,n,r){let o=Buffer.from(e.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),i=await this.signTransactionImpl(o,n,r),s=Buffer.from(i,"hex");return"version"in e?fw.deserialize(s):no.from(s)}async signTransactionImpl(e,n,r){if(EN(this.client)){let o=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:i}=o;return V1(i),z1(i?.result?.signTransactionResult?.signedTransaction)}else{let{activity:o,signedTransaction:i}=await this.client.signTransaction({...r!==void 0&&{organizationId:r},signWith:n,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"});return V1(o),z1(i)}}async signRawPayload(e,n,r){if(EN(this.client)){let o=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:i}=o;return V1(i),z1(i?.result?.signRawPayloadResult)}else{let{activity:o,r:i,s,v:a}=await this.client.signRawPayload({...r!==void 0&&{organizationId:r},signWith:n,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return V1(o),z1({r:i,s,v:a})}}async signRawPayloads(e,n,r){if(EN(this.client)){let o=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:i}=o;return V1(i),z1(i?.result?.signRawPayloadsResult)}else{let{activity:o,signatures:i}=await this.client.signRawPayloads({...r!==void 0&&{organizationId:r},signWith:n,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return V1(o),z1({signatures:i})}}getMessageToSign(e){let n;return typeof e.serializeMessage=="function"?n=e.serializeMessage():n=Buffer.from(e.message.serialize()),n}};_o();var Qpe=null;function Wqt(){if(!Qpe){if(!sr.TURNKEY_API_PRIVATE_KEY||!sr.TURNKEY_API_PUBLIC_KEY||!sr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_API_PRIVATE_KEY, TURNKEY_API_PUBLIC_KEY, and TURNKEY_ORGANIZATION_ID are required");Qpe=new kS({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:sr.TURNKEY_API_PRIVATE_KEY,apiPublicKey:sr.TURNKEY_API_PUBLIC_KEY,defaultOrganizationId:sr.TURNKEY_ORGANIZATION_ID})}return Qpe}function Xpe(){let e=Wqt().apiClient();if(!sr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_ORGANIZATION_ID is required for signing");return new UF({organizationId:sr.TURNKEY_ORGANIZATION_ID,client:e})}async function Zpe(t){let e=new URL(`${D6}/ultra/v1/order`);e.searchParams.set("inputMint",t.inputMint),e.searchParams.set("outputMint",t.outputMint),e.searchParams.set("amount",t.amount),e.searchParams.set("taker",t.taker);let n=await fetch(e.toString(),{method:"GET",headers:{"x-api-key":sr.JUPITER_API_KEY}});if(!n.ok){let o=await n.text().catch(()=>"no body");throw new Error(`jupiter_order_failed: HTTP ${n.status} \u2013 ${o}`)}let r=await n.json();if(!r.transaction)throw new Error(`jupiter_order_failed: response missing transaction field \u2013 ${JSON.stringify(r)}`);return r}async function RZe(t,e){let n=Buffer.from(t,"base64"),r,o,i=n[0];i<128?(r=i,o=1):(r=i&127|(n[1]&255)<<7,o=2);let s=o,a=s+r*64,c=n.subarray(a),u=await Xpe().signMessage(new Uint8Array(c),e),d=Buffer.from(n);return Buffer.from(u).copy(d,s,0,64),d.toString("base64")}function CZe(t,e){let n=Buffer.from(t,"base64"),r=fw.deserialize(n);return r.sign([e]),Buffer.from(r.serialize()).toString("base64")}function Kqt(t){return new Promise(e=>setTimeout(e,t))}async function efe(t){let e=`${D6}/ultra/v1/execute`,n=async()=>{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":sr.JUPITER_API_KEY},body:JSON.stringify({signedTransaction:t.signedTransaction,requestId:t.requestId})});if(!o.ok){let i=await o.text().catch(()=>"no body");throw new Error(`jupiter_execute_failed: HTTP ${o.status} \u2013 ${i}`)}return await o.json()},r=await n();if(r.code===-1006&&(await Kqt(2e3),r=await n()),r.status!=="Success")throw new Error(`jupiter_execute_failed: status=${r.status} code=${r.code} sig=${r.signature}`);return r}async function $F(t){let e={};for(let n=0;n<t.length;n+=50){let r=t.slice(n,n+50),o=r.join(","),i=await fetch(`${D6}/price/v3?ids=${o}`,{method:"GET",headers:{"x-api-key":sr.JUPITER_API_KEY}});if(!i.ok){for(let a of r)e[a]=null;continue}let s=await i.json();for(let a of r){let c=s.data?.[a];c&&c.price?e[a]={usdPrice:parseFloat(c.price),blockId:"",decimals:0,priceChange24h:0}:e[a]=null}}return e}function yw(t){let e=t.toUpperCase();return kr.find(n=>n.symbol.toUpperCase()===e)}var Jqt=1,Yqt=2,Qqt=3,Xqt=4,Zqt=5,eWt=6,tWt=7,nWt=8,rWt=9,NZe=10,OZe=-32700,PZe=-32603,DZe=-32602,kZe=-32601,LZe=-32600,oWt=-32019,iWt=-32018,sWt=-32017,aWt=-32016,MZe=-32015,BZe=-32014,cWt=-32013,UZe=-32012,lWt=-32011,$Ze=-32010,FZe=-32009,uWt=-32008,HZe=-32007,GZe=-32006,dWt=-32005,VZe=-32004,pWt=-32003,tfe=-32002,zZe=-32001,nfe=28e5,rfe=2800001,fWt=2800002,jZe=2800003,qZe=2800004,WZe=2800005,ofe=2800006,ife=2800007,FF=2800008,sfe=2800009,KZe=2800010,JZe=2800011,mWt=323e4,hWt=32300001,gWt=3230002,yWt=3230003,bWt=3230004,_Wt=361e4,afe=3610001,YZe=3610002,QZe=3610003,XZe=3610004,ZZe=3610005,eet=3610006,SWt=3610007,tet=3611e3,vWt=3704e3,EWt=3704001,AWt=3704002,xWt=3704003,wWt=3704004,TWt=4128e3,IWt=4128001,RWt=4128002,net=4615e3,CWt=4615001,NWt=4615002,OWt=4615003,PWt=4615004,DWt=4615005,kWt=4615006,LWt=4615007,MWt=4615008,BWt=4615009,UWt=4615010,$Wt=4615011,FWt=4615012,HWt=4615013,GWt=4615014,VWt=4615015,zWt=4615016,jWt=4615017,qWt=4615018,WWt=4615019,KWt=4615020,JWt=4615021,YWt=4615022,QWt=4615023,XWt=4615024,ZWt=4615025,ret=4615026,eKt=4615027,tKt=4615028,nKt=4615029,rKt=4615030,oKt=4615031,iKt=4615032,sKt=4615033,aKt=4615034,cKt=4615035,lKt=4615036,uKt=4615037,dKt=4615038,pKt=4615039,fKt=4615040,mKt=4615041,hKt=4615042,gKt=4615043,yKt=4615044,bKt=4615045,_Kt=4615046,SKt=4615047,vKt=4615048,EKt=4615049,AKt=4615050,xKt=4615051,wKt=4615052,TKt=4615053,IKt=4615054,RKt=5508e3,CKt=5508001,NKt=5508002,OKt=5508003,PKt=5508004,DKt=5508005,kKt=5508006,LKt=5508007,MKt=5508008,BKt=5508009,UKt=5508010,$Kt=5508011,FKt=5607e3,HKt=5607001,GKt=5607002,VKt=5607003,zKt=5607004,jKt=5607005,qKt=5607006,WKt=5607007,KKt=5607008,JKt=5607009,YKt=5607010,QKt=5607011,XKt=5607012,ZKt=5607013,eJt=5607014,tJt=5607015,nJt=5607016,rJt=5607017,oJt=5663e3,iJt=5663001,sJt=5663002,aJt=5663003,cJt=5663004,lJt=5663005,uJt=5663006,dJt=5663007,pJt=5663008,fJt=5663009,mJt=5663010,hJt=5663011,gJt=5663012,yJt=5663013,bJt=5663014,_Jt=5663015,SJt=5663016,vJt=5663017,EJt=5663018,AJt=5663019,xJt=5663020,wJt=5663021,TJt=5663022,oet=705e4,IJt=7050001,RJt=7050002,CJt=7050003,NJt=7050004,OJt=7050005,PJt=7050006,DJt=7050007,kJt=7050008,LJt=7050009,MJt=7050010,BJt=7050011,UJt=7050012,$Jt=7050013,FJt=7050014,HJt=7050015,GJt=7050016,VJt=7050017,zJt=7050018,jJt=7050019,qJt=7050020,WJt=7050021,KJt=7050022,JJt=7050023,YJt=7050024,QJt=7050025,XJt=7050026,ZJt=7050027,eYt=7050028,tYt=7050029,iet=7050030,set=7050031,nYt=7050032,rYt=7050033,oYt=7050034,aet=7050035,iYt=7050036,sYt=7618e3,aYt=7618001,cYt=7618002,lYt=7618003,uYt=7618004,dYt=7618005,pYt=7618006,fYt=7618007,mYt=7618008,hYt=7618009,cet=8078e3,cfe=8078001,uet=8078002,det=8078003,lfe=8078004,ufe=8078005,dfe=8078006,gYt=8078007,yYt=8078008,bYt=8078009,_Yt=8078010,SYt=8078011,pfe=8078012,pet=8078013,fet=8078014,vYt=8078015,EYt=8078016,AYt=8078017,xYt=8078018,wYt=8078019,met=8078020,het=8078021,TYt=8078022,get=8078023,ffe=81e5,mfe=8100001,hfe=8100002,gfe=8100003,IYt=819e4,RYt=8190001,CYt=8190002,NYt=8190003,OYt=8190004,PYt=99e5,DYt=9900001,kYt=9900002,LYt=9900003,MYt=9900004,BYt=9900005,UYt=9900006;function yet(t){return Array.isArray(t)?"%5B"+t.map(yet).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function $Yt([t,e]){return`${t}=${yet(e)}`}function FYt(t){let e=Object.entries(t).map($Yt).join("&");return Buffer.from(e,"utf8").toString("base64")}var HYt={[mWt]:"Account not found at address: $address",[bWt]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[yWt]:"Expected decoded account at address: $address",[gWt]:"Failed to decode account data at address: $address",[hWt]:"Accounts not found at addresses: $addresses",[sfe]:"Unable to find a viable program address bump seed.",[fWt]:"$putativeAddress is not a base58-encoded address.",[nfe]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[jZe]:"The `CryptoKey` must be an `Ed25519` public key.",[JZe]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[FF]:"Invalid seeds; point must fall off the Ed25519 curve.",[qZe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[ofe]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[ife]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[WZe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[KZe]:"Program address cannot end with PDA marker.",[rfe]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Xqt]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Jqt]:"The network has progressed past the last block for which this transaction could have been committed.",[cet]:"Codec [$codecDescription] cannot decode empty byte arrays.",[TYt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[met]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[ufe]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[dfe]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[lfe]:"Encoder and decoder must either both be fixed-size or variable-size.",[yYt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[uet]:"Expected a fixed-size codec, got a variable-size one.",[pet]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[det]:"Expected a variable-size codec, got a fixed-size one.",[wYt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[cfe]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[xYt]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[bYt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[_Yt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[vYt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[gYt]:"Expected [$codecDescription] to have $expected items, got $actual.",[pfe]:"Invalid value $value for base $base with alphabet $alphabet.",[EYt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[SYt]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[fet]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[het]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[AYt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[get]:"This decoder expected a byte array of exactly $expectedLength bytes, but $numExcessBytes unexpected excess bytes remained after decoding. Are you sure that you have chosen the correct decoder for this data?",[tet]:"No random values implementation could be found.",[BWt]:"instruction requires an uninitialized account",[QWt]:"instruction tries to borrow reference for an account which is already borrowed",[XWt]:"instruction left account with an outstanding borrowed reference",[JWt]:"program other than the account's owner changed the size of the account data",[DWt]:"account data too small for instruction",[YWt]:"instruction expected an executable account",[_Kt]:"An account does not have enough lamports to be rent-exempt",[vKt]:"Program arithmetic overflowed",[bKt]:"Failed to serialize or deserialize account data: $encodedData",[IKt]:"Builtin programs must consume compute units",[iKt]:"Cross-program invocation call depth too deep",[dKt]:"Computational budget exceeded",[ret]:"custom program error: #$code",[jWt]:"instruction contains duplicate accounts",[ZWt]:"instruction modifications of multiply-passed account differ",[rKt]:"executable accounts must be rent exempt",[tKt]:"instruction changed executable accounts data",[nKt]:"instruction changed the balance of an executable account",[qWt]:"instruction changed executable bit of an account",[GWt]:"instruction modified data of an account it does not own",[HWt]:"instruction spent from the balance of an account it does not own",[CWt]:"generic instruction error",[AKt]:"Provided owner is not allowed",[gKt]:"Account is immutable",[yKt]:"Incorrect authority provided",[LWt]:"incorrect program id for instruction",[kWt]:"insufficient funds for instruction",[PWt]:"invalid account data for instruction",[SKt]:"Invalid account owner",[NWt]:"invalid program argument",[eKt]:"program returned invalid error code",[OWt]:"invalid instruction data",[uKt]:"Failed to reallocate account data",[lKt]:"Provided seeds do not result in a valid address",[xKt]:"Accounts data allocations exceeded the maximum allowed per transaction",[wKt]:"Max accounts exceeded",[TKt]:"Max instruction trace length exceeded",[cKt]:"Length of the seed is too long for address generation",[sKt]:"An account required by the instruction is missing",[MWt]:"missing required signature for instruction",[FWt]:"instruction illegally modified the program id of an account",[KWt]:"insufficient account keys for instruction",[pKt]:"Cross-program invocation with unauthorized signer or writable account",[fKt]:"Failed to create program execution environment",[hKt]:"Program failed to compile",[mKt]:"Program failed to complete",[zWt]:"instruction modified data of a read-only account",[VWt]:"instruction changed the balance of a read-only account",[aKt]:"Cross-program invocation reentrancy not allowed for this instruction",[WWt]:"instruction modified rent epoch of an account",[$Wt]:"sum of account balances before and after instruction do not match",[UWt]:"instruction requires an initialized account",[net]:"",[oKt]:"Unsupported program id",[EKt]:"Unsupported sysvar",[BYt]:"Invalid instruction plan kind: $kind.",[cYt]:"The provided instruction plan is empty.",[dYt]:"No failed transaction plan result was found in the provided transaction plan result.",[uYt]:"This transaction plan executor does not support non-divisible sequential plans. To support them, you may create your own executor such that multi-transaction atomicity is preserved \u2014 e.g. by targetting RPCs that support transaction bundles.",[lYt]:"The provided transaction plan failed to execute. See the `transactionPlanResult` attribute for more details. Note that the `cause` property is deprecated, and a future version will not set it.",[sYt]:"The provided message has insufficient capacity to accommodate the next instruction(s) in this plan. Expected at least $numBytesRequired free byte(s), got $numFreeBytes byte(s).",[UYt]:"Invalid transaction plan kind: $kind.",[aYt]:"No more instructions to pack; the message packer has completed the instruction plan.",[pYt]:"Unexpected instruction plan. Expected $expectedKind plan, got $actualKind plan.",[fYt]:"Unexpected transaction plan. Expected $expectedKind plan, got $actualKind plan.",[mYt]:"Unexpected transaction plan result. Expected $expectedKind plan, got $actualKind plan.",[hYt]:"Expected a successful transaction plan result. I.e. there is at least one failed or cancelled transaction in the plan.",[TWt]:"The instruction does not have any accounts.",[IWt]:"The instruction does not have any data.",[RWt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Zqt]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Yqt]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[kYt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[MYt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[DYt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[PYt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[LYt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[PZe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[DZe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[LZe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[kZe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[OZe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[UZe]:"$__serverMessage",[zZe]:"$__serverMessage",[VZe]:"$__serverMessage",[BZe]:"$__serverMessage",[sWt]:"Epoch rewards period still active at slot $slot",[$Ze]:"$__serverMessage",[FZe]:"$__serverMessage",[oWt]:"Failed to query long-term storage; please try again",[aWt]:"Minimum context slot has not been reached",[dWt]:"Node is unhealthy; behind by $numSlotsBehind slots",[uWt]:"No snapshot",[tfe]:"Transaction simulation failed",[iWt]:"Rewards cannot be found because slot $slot is not the epoch boundary. This may be due to gap in the queried node's local ledger or long-term storage",[HZe]:"$__serverMessage",[lWt]:"Transaction history is not available from this node",[GZe]:"$__serverMessage",[cWt]:"Transaction signature length mismatch",[pWt]:"Transaction signature verification failure",[MZe]:"$__serverMessage",[vWt]:"Key pair bytes must be of length 64, got $byteLength.",[EWt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[AWt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[wWt]:"The provided private key does not match the provided public key.",[xWt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[eWt]:"Lamports value must be in the range [0, 2e64-1]",[tWt]:"`$value` cannot be parsed as a `BigInt`",[NZe]:"$message",[nWt]:"`$value` cannot be parsed as a `Number`",[Qqt]:"No nonce account could be found at address `$nonceAccountAddress`",[VKt]:"Expected base58 encoded application domain to decode to a byte array of length 32. Actual length: $actualLength.",[ZKt]:"Attempted to sign an offchain message with an address that is not a signer for it",[GKt]:"Expected base58-encoded application domain string of length in the range [32, 44]. Actual length: $actualLength.",[XKt]:"The signer addresses in this offchain message envelope do not match the list of required signers in the message preamble. These unexpected signers were present in the envelope: `[$unexpectedSigners]`. These required signers were missing from the envelope `[$missingSigners]`.",[FKt]:"The message body provided has a byte-length of $actualBytes. The maximum allowable byte-length is $maxBytes",[WKt]:"Expected message format $expectedMessageFormat, got $actualMessageFormat",[KKt]:"The message length specified in the message preamble is $specifiedLength bytes. The actual length of the message is $actualLength bytes.",[JKt]:"Offchain message content must be non-empty",[jKt]:"Offchain message must specify the address of at least one required signer",[YKt]:"Offchain message envelope must reserve space for at least one signature",[zKt]:"The offchain message preamble specifies $numRequiredSignatures required signature(s), got $signaturesLength.",[tJt]:"The signatories of this offchain message must be listed in lexicographical order",[nJt]:"An address must be listed no more than once among the signatories of an offchain message",[QKt]:"Offchain message is missing signatures for addresses: $addresses.",[rJt]:"Offchain message signature verification failed. Signature mismatch for required signatories [$signatoriesWithInvalidSignatures]. Missing signatures for signatories [$signatoriesWithMissingSignatures]",[HKt]:"The message body provided contains characters whose codes fall outside the allowed range. In order to ensure clear-signing compatiblity with hardware wallets, the message may only contain line feeds and characters in the range [\\x20-\\x7e].",[eJt]:"Expected offchain message version $expectedVersion. Got $actualVersion.",[qKt]:"This version of Kit does not support decoding offchain messages with version $unsupportedVersion. The current max supported version is 0.",[IYt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[CYt]:"WebSocket was closed before payload could be added to the send buffer",[NYt]:"WebSocket connection closed",[OYt]:"WebSocket failed to connect",[RYt]:"Failed to obtain a subscription id from the server",[gfe]:"Could not find an API plan for RPC method: `$method`",[ffe]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[hfe]:"HTTP error ($statusCode): $message",[mfe]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[RKt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[CKt]:"The provided value does not implement the `KeyPairSigner` interface",[OKt]:"The provided value does not implement the `MessageModifyingSigner` interface",[PKt]:"The provided value does not implement the `MessagePartialSigner` interface",[NKt]:"The provided value does not implement any of the `MessageSigner` interfaces",[kKt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[LKt]:"The provided value does not implement the `TransactionPartialSigner` interface",[MKt]:"The provided value does not implement the `TransactionSendingSigner` interface",[DKt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[BKt]:"More than one `TransactionSendingSigner` was identified.",[UKt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[$Kt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[SWt]:"Cannot export a non-extractable key.",[afe]:"No digest implementation could be found.",[_Wt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[YZe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[QZe]:"No signature verification implementation could be found.",[XZe]:"No key generation implementation could be found.",[ZZe]:"No signing implementation could be found.",[eet]:"No key export implementation could be found.",[rWt]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[GJt]:"Transaction processing left an account with an outstanding borrowed reference",[IJt]:"Account in use",[RJt]:"Account loaded twice",[CJt]:"Attempt to debit an account but found no record of a prior credit.",[JJt]:"Transaction loads an address table account that doesn't exist",[DJt]:"This transaction has already been processed",[kJt]:"Blockhash not found",[LJt]:"Loader call chain is too deep",[HJt]:"Transactions are currently disabled due to cluster maintenance",[iet]:"Transaction contains a duplicate instruction ($index) that is not allowed",[OJt]:"Insufficient funds for fee",[set]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[PJt]:"This account may not be used to pay transaction fees",[BJt]:"Transaction contains an invalid account reference",[QJt]:"Transaction loads an address table account with invalid data",[XJt]:"Transaction address table lookup uses an invalid index",[YJt]:"Transaction loads an address table account with an invalid owner",[rYt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[$Jt]:"This program may not be used for executing instructions",[ZJt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[jJt]:"Transaction loads a writable account that cannot be written",[nYt]:"Transaction exceeded max loaded accounts data size cap",[MJt]:"Transaction requires a fee but has no signature present",[NJt]:"Attempt to load a program that does not exist",[aet]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[oYt]:"ResanitizationNeeded",[FJt]:"Transaction failed to sanitize accounts offsets correctly",[UJt]:"Transaction did not pass signature verification",[KJt]:"Transaction locked too many accounts",[iYt]:"Sum of account balances before and after transaction do not match",[oet]:"The transaction failed with the error `$errorName`",[zJt]:"Transaction version is unsupported",[WJt]:"Transaction would exceed account data limit within the block",[tYt]:"Transaction would exceed total account data limit",[qJt]:"Transaction would exceed max account limit within the block",[VJt]:"Transaction would exceed max Block Cost Limit",[eYt]:"Transaction would exceed max Vote Cost Limit",[_Jt]:"Attempted to sign a transaction with an address that is not a signer for it",[mJt]:"Transaction is missing an address at index: $index.",[SJt]:"Transaction has no expected signers therefore it cannot be encoded",[xJt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[sJt]:"Transaction does not have a blockhash lifetime",[aJt]:"Transaction is not a durable nonce transaction",[lJt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[uJt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[pJt]:"No fee payer set in CompiledTransaction",[dJt]:"Could not find program address at index $index",[EJt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[AJt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[hJt]:"Transaction is missing a fee payer.",[gJt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[bJt]:"Transaction first instruction is not advance nonce account instruction.",[yJt]:"Transaction with no instructions cannot be durable nonce transaction.",[oJt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[iJt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[vJt]:"The transaction message expected the transaction to have $numRequiredSignatures signatures, got $signaturesLength.",[fJt]:"Transaction is missing signatures for addresses: $addresses.",[cJt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given",[wJt]:"This version of Kit does not support decoding transactions with version $unsupportedVersion. The current max supported version is 0.",[TJt]:"The transaction has a durable nonce lifetime (with nonce `$nonce`), but the nonce account address is in a lookup table. The lifetime constraint cannot be constructed without fetching the lookup tables for the transaction."},qh="i",zf="t";function GYt(t,e={}){let n=HYt[t];if(n.length===0)return"";let r;function o(s){if(r[zf]===2){let a=n.slice(r[qh]+1,s);i.push(a in e?`${e[a]}`:`$${a}`)}else r[zf]===1&&i.push(n.slice(r[qh],s))}let i=[];return n.split("").forEach((s,a)=>{if(a===0){r={[qh]:0,[zf]:n[0]==="\\"?0:n[0]==="$"?2:1};return}let c;switch(r[zf]){case 0:c={[qh]:a,[zf]:1};break;case 1:s==="\\"?c={[qh]:a,[zf]:0}:s==="$"&&(c={[qh]:a,[zf]:2});break;case 2:s==="\\"?c={[qh]:a,[zf]:0}:s==="$"?c={[qh]:a,[zf]:2}:s.match(/\w/)||(c={[qh]:a,[zf]:1});break}c&&(r!==c&&o(a),r=c)}),o(),i.join("")}function VYt(t,e={}){if(process.env.NODE_ENV!=="production")return GYt(t,e);{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${FYt(e)}'`),`${n}\``}}function bet(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Kr=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([i,s])=>{i==="cause"?r={cause:s.value}:(n===void 0&&(n={__code:t}),Object.defineProperty(n,i,s))});let o=VYt(t,n);super(o,r),this.context=Object.freeze(n===void 0?{__code:t}:n),this.name="SolanaError"}};function HF(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function _et({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},o){let i,s;typeof r=="string"?i=r:(i=Object.keys(r)[0],s=r[i]);let a=n.indexOf(i),c=t+a,l=e(c,i,s),u=new Kr(c,l);return HF(u,o),u}var zYt=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function vet(t,e){let n=Number(t);return _et({errorCodeBaseOffset:4615001,getErrorContext(r,o,i){return r===net?{errorName:o,index:n,...i!==void 0?{instructionErrorContext:i}:null}:r===ret?{code:Number(i),index:n}:{index:n}},orderedErrorNames:zYt,rpcEnumError:e},vet)}var jYt=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function Eet(t){return typeof t=="object"&&"InstructionError"in t?vet(...t.InstructionError):_et({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===oet)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===iet)return{index:Number(r)};if(e===set||e===aet)return{accountIndex:Number(r.account_index)}},orderedErrorNames:jYt,rpcEnumError:t},Eet)}function GF(t){let e;if(qYt(t)){let{code:n,data:r,message:o}=t,i=Number(n);if(i===tfe){let{err:s,...a}=r,c=s?{cause:Eet(s)}:null;e=new Kr(tfe,{...a,...c})}else{let s;switch(i){case PZe:case DZe:case LZe:case kZe:case OZe:case UZe:case zZe:case VZe:case BZe:case $Ze:case FZe:case HZe:case GZe:case MZe:s={__serverMessage:o};break;default:typeof r=="object"&&!Array.isArray(r)&&(s=r)}e=new Kr(i,s)}}else{let n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Kr(NZe,{error:t,message:n})}return HF(e,GF),e}function qYt(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function WYt(t,e){if(t.length>=e)return t;let n=new Uint8Array(e).fill(0);return n.set(t),n}var KYt=(t,e)=>WYt(t.length<=e?t:t.slice(0,e),e);function JYt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function VF(t){return Object.freeze({...t,encode:e=>{let n=new Uint8Array(JYt(e,t));return t.write(e,n,0),n}})}function yfe(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function ny(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function YYt(t){return!ny(t)}function bfe(t,e){if(ny(t)!==ny(e))throw new Kr(lfe);if(ny(t)&&ny(e)&&t.fixedSize!==e.fixedSize)throw new Kr(ufe,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!ny(t)&&!ny(e)&&t.maxSize!==e.maxSize)throw new Kr(dfe,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function QYt(t,e,n,r=0){let o=n.length-r;if(o<e)throw new Kr(cfe,{bytesLength:o,codecDescription:t,expected:e})}function Aet(t,e){return VF({fixedSize:e,write:(n,r,o)=>{let i=t.encode(n),s=i.length>e?i.slice(0,e):i;return r.set(s,o),o+e}})}function xet(t,e){return yfe({fixedSize:e,read:(n,r)=>{QYt("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),ny(t)&&(n=KYt(n,t.fixedSize));let[o]=t.read(n,0);return[o,r+e]}})}function wet(t,e){return VF({...YYt(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,o)=>t.write(e(n),r,o)})}function XYt(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Kr(pfe,{alphabet:t,base:t.length,value:n})}var ZYt=t=>VF({getSizeFromValue:e=>{let[n,r]=Tet(e,t[0]);if(!r)return e.length;let o=Iet(r,t);return n.length+Math.ceil(o.toString(16).length/2)},write(e,n,r){if(XYt(t,e),e==="")return r;let[o,i]=Tet(e,t[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let s=Iet(i,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(o.length).fill(0),...a];return n.set(c,r),r+c.length}}),eQt=t=>yfe({read(e,n){let r=n===0?e:e.slice(n);if(r.length===0)return["",0];let o=r.findIndex(c=>c!==0);o=o===-1?r.length:o;let i=t[0].repeat(o);if(o===r.length)return[i,e.length];let s=r.slice(o).reduce((c,l)=>c*256n+BigInt(l),0n),a=tQt(s,t);return[i+a,e.length]}});function Tet(t,e){let[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function Iet(t,e){let n=BigInt(e.length),r=0n;for(let o of t)r*=n,r+=BigInt(e.indexOf(o));return r}function tQt(t,e){let n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var Ret="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Cet=()=>ZYt(Ret),Net=()=>eQt(Ret);var wto=globalThis.TextDecoder,Tto=globalThis.TextEncoder;function Oet(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Kr(afe)}var _fe,Sfe;function Let(){return _fe||(_fe=Cet()),_fe}function nQt(){return Sfe||(Sfe=Net()),Sfe}function rQt(t){if(t.length<32||t.length>44)throw new Kr(rfe,{actualLength:t.length});let r=Let().encode(t).byteLength;if(r!==32)throw new Kr(nfe,{actualLength:r})}function cd(t){return rQt(t),t}function vfe(){return wet(Aet(Let(),32),t=>cd(t))}function oQt(){return xet(nQt(),32)}function iQt(){return bfe(vfe(),oQt())}var sQt=37095705934669439343138083508754565189542113879843219016388785533085940283555n,za=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Pet=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function ad(t){let e=t%za;return e>=0n?e:za+e}function jf(t,e){let n=t;for(;e-- >0n;)n*=n,n%=za;return n}function aQt(t){let n=t*t%za*t%za,r=jf(n,2n)*n%za,o=jf(r,1n)*t%za,i=jf(o,5n)*o%za,s=jf(i,10n)*i%za,a=jf(s,20n)*s%za,c=jf(a,40n)*a%za,l=jf(c,80n)*c%za,u=jf(l,80n)*c%za,d=jf(u,10n)*i%za;return jf(d,2n)*t%za}function cQt(t,e){let n=ad(e*e*e),r=ad(n*n*e),o=aQt(t*r),i=ad(t*n*o),s=ad(e*i*i),a=i,c=ad(i*Pet),l=s===t,u=s===ad(-t),d=s===ad(-t*Pet);return l&&(i=a),(u||d)&&(i=c),(ad(i)&1n)===1n&&(i=ad(-i)),!l&&!u?null:i}function lQt(t,e){let n=ad(t*t),r=ad(n-1n),o=ad(sQt*n+1n),i=cQt(r,o);if(i===null)return!1;let s=(e&128)!==0;return!(i===0n&&s)}function uQt(t){let e=t.toString(16);return e.length===1?`0${e}`:e}function dQt(t){let n=`0x${t.reduce((r,o,i)=>`${uQt(i===31?o&-129:o)}${r}`,"")}`;return BigInt(n)}function pQt(t){if(t.byteLength!==32)return!1;let e=dQt(t);return lQt(e,t[31])}var Det=32,ket=16,fQt=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function mQt({programAddress:t,seeds:e}){if(Oet(),e.length>ket)throw new Kr(ofe,{actual:e.length,maxSeeds:ket});let n,r=e.reduce((c,l,u)=>{let d=typeof l=="string"?(n||=new TextEncoder).encode(l):l;if(d.byteLength>Det)throw new Kr(ife,{actual:d.byteLength,index:u,maxSeedLength:Det});return c.push(...d),c},[]),o=iQt(),i=o.encode(t),s=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...fQt])),a=new Uint8Array(s);if(pQt(a))throw new Kr(FF);return o.decode(a)}async function Met({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await mQt({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(bet(r,FF))n--;else throw r}throw new Kr(sfe)}function QN(t,...e){return e.reduce((n,r)=>r(n),t)}function Uet(t){return JSON.parse(hQt(t),(e,n)=>_Qt(n)?bQt(n):n)}function hQt(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let o=!1;if(t[r]==="\\"&&(e.push(t[r++]),o=!o),t[r]==='"'){e.push(t[r]),o||(n=!n);continue}if(!n){let i=gQt(t,r);if(i?.length){r+=i.length-1,i.match(/\.|[eE]-/)?e.push(i):e.push(yQt(i));continue}}e.push(t[r])}return e.join("")}function gQt(t,e){let n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;let r=t.slice(e).match(n);return r?r[0]:null}function yQt(t){return`{"$n":"${t}"}`}function bQt({$n:t}){if(t.match(/[eE]/)){let[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function _Qt(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var Bet=0n;function SQt(){let t=Bet;return Bet++,t.toString()}function $et(t){return{id:SQt(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function Fet(t,e){return EQt(JSON.stringify(t,(n,r)=>typeof r=="bigint"?vQt(r):r,e))}function vQt(t){return{$n:`${t}`}}function EQt(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function Het(t){return AQt(t)}function AQt(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...o){let i=n.toString(),s=Reflect.get(e,i,r);if(!s)throw new Kr(gfe,{method:i,params:o});let a=s(...o);return xQt(t,a)}}})}function xQt({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function Get(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){let[n,r]=e,o=r.toString();return function(...i){let s=Object.freeze({methodName:o,params:i}),a=t?.requestTransformer?t?.requestTransformer(s):s;return Object.freeze({execute:async({signal:c,transport:l})=>{let u=$et(a),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,a):d}})}}})}function zF(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function wQt(t){return typeof t=="bigint"?Number(t):t}var Kt={};function Vet(t){return function e(n,r){if(Array.isArray(n))return n.map((o,i)=>{let s={...r,keyPath:[...r.keyPath,i]};return e(o,s)});if(typeof n=="object"&&n!==null){let o={};for(let i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;let s={...r,keyPath:[...r.keyPath,i]};o[i]=e(n[i],s)}return o}else return t.reduce((o,i)=>i(o,r),n)}}function zet(t,e){return n=>{let r=Vet(t);return Object.freeze({...n,params:r(n.params,e)})}}function jet(t,e){return n=>Vet(t)(n,e)}function TQt(){return zet([wQt],{keyPath:[]})}function IQt({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){let o=e[n];if(o===void 0||o&&typeof o=="object"&&!Array.isArray(o)){if(o&&t in o){if(!o[t]||o[t]==="finalized"){let i=[...e],{[t]:s,...a}=o;return Object.keys(a).length>0?i[n]=a:n===i.length-1?i.length--:i[n]=void 0,i}}else if(r!=="finalized"){let i=[...e];return i[n]={...o,[t]:r},i}}return e}function RQt({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{let{params:r,methodName:o}=n;if(!Array.isArray(r))return n;let i=e[o];return i==null?n:Object.freeze({methodName:o,params:IQt({commitmentPropertyName:o==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:t,params:r})})}}function CQt(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function NQt(t){return e=>zet([CQt((...r)=>t(e,...r))],{keyPath:[]})(e)}var OQt={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function qet(t){let e=t?.onIntegerOverflow;return n=>QN(n,e?NQt(e):r=>r,TQt(),RQt({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:OQt}))}function Wet(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?PQt(r,t)?Number(n):BigInt(n):n}}function PQt(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){let o=t[r],i=n[r];if(i!==o&&(i!==Kt||typeof o!="number"))return!1}return!0})}function DQt(t){return jet([Wet(t)],{keyPath:[]})}function kQt(){return t=>t.result}var jF=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Kt,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Kt,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Kt,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Kt,"state","currentRate"]],bw=[...jF,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Kt,"confirmationCount"]],XN=[["index"],["instructions",Kt,"accounts",Kt],["instructions",Kt,"programIdIndex"],["instructions",Kt,"stackHeight"]],Efe=[["addressTableLookups",Kt,"writableIndexes",Kt],["addressTableLookups",Kt,"readonlyIndexes",Kt],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Kt,"accounts",Kt],["instructions",Kt,"programIdIndex"],["instructions",Kt,"stackHeight"]];function LQt(){return[["loadedAccountsDataSize"],...bw.map(t=>["accounts",Kt,...t]),...XN.map(t=>["innerInstructions",Kt,...t])]}function MQt(){return(t,e)=>{let n=t;if("error"in n){let{error:r}=n;if(r&&typeof r=="object"&&"code"in r&&(r.code===-32002||r.code===-32002n)&&"data"in r&&r.data){let s=jet([Wet(LQt())],{keyPath:[]})(r.data,e),a={...r,data:s};throw GF(a)}throw GF(n.error)}return n}}function Ket(t){return(e,n)=>{let r=n.methodName,o=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return QN(e,i=>MQt()(i,n),i=>kQt()(i,n),i=>DQt(o??[])(i,n))}}function Jet(t){return Get({requestTransformer:qet(t),responseTransformer:Ket({allowedNumericKeyPaths:BQt()})})}var Afe;function BQt(){return Afe||(Afe={getAccountInfo:bw.map(t=>["value",...t]),getBlock:[["transactions",Kt,"meta","preTokenBalances",Kt,"accountIndex"],["transactions",Kt,"meta","preTokenBalances",Kt,"uiTokenAmount","decimals"],["transactions",Kt,"meta","postTokenBalances",Kt,"accountIndex"],["transactions",Kt,"meta","postTokenBalances",Kt,"uiTokenAmount","decimals"],["transactions",Kt,"meta","rewards",Kt,"commission"],...XN.map(t=>["transactions",Kt,"meta","innerInstructions",Kt,...t]),...Efe.map(t=>["transactions",Kt,"transaction","message",...t]),["rewards",Kt,"commission"]],getClusterNodes:[[Kt,"featureSet"],[Kt,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Kt,"commission"]],getMultipleAccounts:bw.map(t=>["value",Kt,...t]),getProgramAccounts:bw.flatMap(t=>[["value",Kt,"account",...t],[Kt,"account",...t]]),getRecentPerformanceSamples:[[Kt,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:jF.map(t=>["value",Kt,"account",...t]),getTokenAccountsByOwner:jF.map(t=>["value",Kt,"account",...t]),getTokenLargestAccounts:[["value",Kt,"decimals"],["value",Kt,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Kt,"accountIndex"],["meta","preTokenBalances",Kt,"uiTokenAmount","decimals"],["meta","postTokenBalances",Kt,"accountIndex"],["meta","postTokenBalances",Kt,"uiTokenAmount","decimals"],["meta","rewards",Kt,"commission"],...XN.map(t=>["meta","innerInstructions",Kt,...t]),...Efe.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Kt,"commission"],["delinquent",Kt,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...bw.map(t=>["value","accounts",Kt,...t]),...XN.map(t=>["value","innerInstructions",Kt,...t])]}),Afe}var UQt={accept:!0,"content-length":!0,"content-type":!0},$Qt=Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},void 0,void 0);function FQt(t){let e=Object.keys(t).filter(n=>{let r=n.toLowerCase();return UQt[n.toLowerCase()]===!0||$Qt[n.toLowerCase()]===!0||r.startsWith("proxy-")||r.startsWith("sec-")});if(e.length>0)throw new Kr(mfe,{headers:e})}function HQt(t){let e={};for(let n in t)e[n.toLowerCase()]=t[n];return e}function GQt(t){process.env.NODE_ENV;let{fromJson:e,headers:n,toJson:r,url:o}=t;process.env.NODE_ENV!=="production"&&n&&FQt(n);let i;"dispatcher_NODE_ONLY"in t&&(i={dispatcher:t.dispatcher_NODE_ONLY});let s=n&&HQt(n);return async function({payload:c,signal:l}){let u=r?r(c):JSON.stringify(c),d={...i,body:u,headers:{...s,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},p=await fetch(o,d);if(!p.ok)throw new Kr(hfe,{headers:p.headers,message:p.statusText,statusCode:p.status});return e?e(await p.text(),c):await p.json()}}var VQt=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Yet(t){return zF(t)&&VQt.includes(t.method)}function Qet(t){return GQt({...t,fromJson:(e,n)=>Yet(n)?Uet(e):JSON.parse(e),toJson:e=>Yet(e)?Fet(e):JSON.stringify(e)})}import{setMaxListeners as qQt}from"events";var zQt=Object.prototype.toString,jQt=Object.keys||function(t){let e=[];for(let n in t)e.push(n);return e};function ZN(t,e){let n,r,o,i,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return ZN(t.toJSON(),e);if(c=zQt.call(t),c==="[object Array]"){for(o="[",r=t.length-1,n=0;n<r;n++)o+=ZN(t[n],!0)+",";return r>-1&&(o+=ZN(t[n],!0)),o+"]"}else if(c==="[object Object]"){for(i=jQt(t).sort(),r=i.length,o="",n=0;n<r;)s=i[n],a=ZN(t[s],!1),a!==void 0&&(o&&(o+=","),o+=JSON.stringify(s)+":"+a),n++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function Xet(t){let e=ZN(t,!1);if(e!==void 0)return""+e}function ttt(t,e,n){let r="";if(typeof e[0]=="number"){let s=e[0]+1,a=s%10,c=s%100;a==1&&c!=11?r=s+"st":a==2&&c!=12?r=s+"nd":a==3&&c!=13?r=s+"rd":r=s+"th"}else r=`\`${e[0].toString()}\``;let o=e.length>1?e.slice(1).map(s=>typeof s=="number"?`[${s}]`:s).join("."):void 0,i=new Kr(ffe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:o?` at path \`${o}\``:"",value:n,...o!==void 0?{path:o}:void 0});return HF(i,ttt),i}var WQt={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw ttt(t.methodName,e,n)}},KQt=class extends globalThis.AbortController{constructor(...t){super(...t),qQt(Number.MAX_SAFE_INTEGER,this.signal)}},Zet;function ett(){return process.env.NODE_ENV!=="production"?{EXPLICIT_ABORT_TOKEN:"This object is thrown from the request that underlies a series of coalesced requests when the last request in that series aborts"}:{}}function JQt(t,e){let n;return async function(o){let{payload:i,signal:s}=o,a=e(i);if(a===void 0)return await t(o);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[a]==null){let l=new KQt,u=(async()=>{try{return await t({...o,signal:l.signal})}catch(d){if(d===(Zet||=ett()))return;throw d}})();n[a]={abortController:l,numConsumers:0,responsePromise:u}}let c=n[a];if(c.numConsumers++,s){let l=c.responsePromise;return await new Promise((u,d)=>{let p=f=>{s.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(Zet||=ett())}),d(f.target.reason)};s.addEventListener("abort",p),l.then(u).catch(d).finally(()=>{s.removeEventListener("abort",p)})})}else return await c.responsePromise}}function YQt(t){return zF(t)?Xet([t.method,t.params]):void 0}function QQt(t){let e={};for(let n in t)e[n.toLowerCase()]=t[n];return e}function XQt(t){return QN(Qet({...t,headers:{"accept-encoding":"br,gzip,deflate",...t.headers?QQt(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>JQt(e,YQt))}function qF(t,e){return ZQt(XQt({url:t,...e}))}function ZQt(t){return Het({api:Jet(WQt),transport:t})}lB();var xfe=[];function wfe(t){let e=Math.abs(t.slippagePercent)*100,n=t.usdcAmount*(e/1e4),r=t.usdcAmount*.003,o=.005,i=n+r+o,s={tradeId:t.tradeId,agentId:t.agentId,symbol:t.symbol,side:t.side,usdcAmount:t.usdcAmount,actualSlippageBps:e,slippageCostUsdc:n,estimatedSwapFeeUsdc:r,networkFeeUsdc:o,totalCostUsdc:i,timestamp:new Date};return xfe.length>=1e4&&xfe.shift(),xfe.push(s),console.log(`[TxCostTracker] ${t.side.toUpperCase()} ${t.symbol}: slippage=${e.toFixed(1)}bps ($${n.toFixed(4)}) swapFee=$${r.toFixed(4)} networkFee=$${o.toFixed(4)} total=$${i.toFixed(4)}`),s}var eXt="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",tXt="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",ntt=10000000n,WF=5;function Tfe(){let t=sr.SOLANA_RPC_URL||"";return t.includes("mainnet")||t.includes("helius")?Xm:sr.NODE_ENV==="production"?Xm:UHe}function rtt(){let t=sr.SOLANA_RPC_URL||"https://api.devnet.solana.com";return qF(t)}async function nXt(t,e){let n=vfe(),[r]=await Met({programAddress:cd(tXt),seeds:[n.encode(cd(t)),n.encode(cd(eXt)),n.encode(cd(e))]});return r}async function ott(t){let e=new Oi(t.inputAmountRaw).div(new Oi(10).pow(t.inputDecimals)),n=new Oi(t.outputAmountRaw).div(new Oi(10).pow(t.outputDecimals)),r;t.side==="buy"?r=e.div(n).toNumber():r=n.div(e).toNumber();let o=0;try{o=(await $F([t.mintAddress]))[t.mintAddress]?.usdPrice??0}catch{return console.warn(`[SlippageGuard] Could not fetch reference price for ${t.symbol}, skipping slippage check`),{ok:!0,slippagePercent:0,refPrice:0,execPrice:r}}if(o<=0)return console.warn(`[SlippageGuard] No reference price for ${t.symbol}, skipping slippage check`),{ok:!0,slippagePercent:0,refPrice:0,execPrice:r};let i;t.side==="buy"?i=(r-o)/o*100:i=(o-r)/o*100;let s=i<=WF;return s?console.log(`[SlippageGuard] ${t.side.toUpperCase()} ${t.symbol}: slippage ${i.toFixed(2)}% OK (exec=$${r.toFixed(4)} vs ref=$${o.toFixed(4)})`):console.error(`[SlippageGuard] REJECTED ${t.side.toUpperCase()} ${t.symbol}: slippage ${i.toFixed(2)}% exceeds ${WF}% max (exec=$${r.toFixed(4)} vs ref=$${o.toFixed(4)})`),{ok:s,slippagePercent:i,refPrice:o,execPrice:r}}var rXt={"claude-value-investor":{publicEnv:"ANTHROPIC_WALLET_PUBLIC",privateEnv:"ANTHROPIC_WALLET_PRIVATE"},"gpt-momentum-trader":{publicEnv:"OPENAI_WALLET_PUBLIC",privateEnv:"OPENAI_WALLET_PRIVATE"},"grok-contrarian":{publicEnv:"GROK_WALLET_PUBLIC",privateEnv:"GROK_WALLET_PRIVATE"}};async function itt(t){let e=rXt[t];if(e){let r=process.env[e.publicEnv],o=process.env[e.privateEnv];if(r&&o){let i=JN.fromSecretKey(v_.decode(o));return{publicKey:r,keypair:i}}}let n=await Gt.select().from(p6).where(an(p6.agentId,t)).limit(1);if(n.length===0)throw new Error(`wallet_not_found: no wallet for agent ${t}. Set ${e?.publicEnv??"???"}/${e?.privateEnv??"???"} in .env`);return{publicKey:n[0].publicKey,keypair:null}}async function stt(t,e){return e.keypair?CZe(t,e.keypair):RZe(t,e.publicKey)}async function att(t){return(await rtt().getBalance(cd(t)).send()).value}async function oXt(t){let e=rtt();try{let n=Tfe(),r=await nXt(t,n),o=await e.getTokenAccountBalance(cd(r)).send();return BigInt(o.value.amount)}catch{return 0n}}async function KF(t){let e=yw(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let n=await itt(t.agentId),r=new Oi(t.usdcAmount);if(r.lte(0))throw new Error("invalid_amount: usdcAmount must be > 0");if(r.decimalPlaces()>6)throw new Error("invalid_amount: usdcAmount has more than 6 decimal places");let o=r.mul(1e6).toFixed(0),[i,s]=await Promise.all([att(n.publicKey),oXt(n.publicKey)]);if(i<ntt)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Oi(i.toString()).div(1e9).toFixed(9)} SOL`);let a=BigInt(o);if(s<a)throw new Error(`insufficient_usdc_balance: need ${r.toFixed(6)} USDC, have ${new Oi(s.toString()).div(1e6).toFixed(6)} USDC`);let c=await Zpe({inputMint:Tfe(),outputMint:e.mintAddress,amount:o,taker:n.publicKey}),l=await ott({mintAddress:e.mintAddress,symbol:e.symbol,side:"buy",inputAmountRaw:c.inAmount,outputAmountRaw:c.outAmount,inputDecimals:6,outputDecimals:e.decimals});if(!l.ok)throw new Error(`excessive_slippage: ${e.symbol} BUY slippage ${l.slippagePercent.toFixed(1)}% exceeds ${WF}% max (exec=$${l.execPrice.toFixed(2)} vs ref=$${l.refPrice.toFixed(2)}). Token likely has insufficient liquidity.`);let u=await stt(c.transaction,n),d=await efe({signedTransaction:u,requestId:c.requestId}),p=new Oi(d.outputAmountResult||c.outAmount).div(new Oi(10).pow(e.decimals)),f=new Oi(t.usdcAmount),h=f.div(p),[m]=await Gt.insert(zr).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6),txSignature:d.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:d.inputAmountResult,outputAmountResult:d.outputAmountResult,actualSlippagePercent:l.slippagePercent,actualSlippageBps:Math.round(l.slippagePercent*100),referencePrice:l.refPrice,executionPrice:l.execPrice},status:"confirmed"}).returning();return wfe({tradeId:m.id,agentId:t.agentId,symbol:e.symbol,side:"buy",usdcAmount:f.toNumber(),slippagePercent:l.slippagePercent}),await Gt.insert(Nn).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:p.toFixed(9),averageCostBasis:h.toFixed(6)}).onConflictDoUpdate({target:[Nn.agentId,Nn.mintAddress],set:{quantity:ne`(${Nn.quantity}::numeric + ${p.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:ne`(
          (${Nn.quantity}::numeric * ${Nn.averageCostBasis}::numeric + ${p.toFixed(9)}::numeric * ${h.toFixed(6)}::numeric)
          / (${Nn.quantity}::numeric + ${p.toFixed(9)}::numeric)
        )::numeric(20,6)`,updatedAt:new Date}}),{tradeId:m.id,txSignature:d.signature,status:"confirmed",side:"buy",stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6)}}async function JF(t){let e=yw(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let n=await itt(t.agentId);if(!t.stockQuantity)throw new Error("invalid_amount: stockQuantity is required for sell orders");let r=new Oi(t.stockQuantity);if(r.lte(0))throw new Error("invalid_amount: stockQuantity must be > 0");let o=await Gt.select().from(Nn).where(Vi(an(Nn.agentId,t.agentId),an(Nn.mintAddress,e.mintAddress))).limit(1);if(o.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let i=o[0],s=new Oi(i.quantity);if(s.lt(r))throw new Error(`insufficient_stock_balance: want to sell ${r.toFixed(9)} ${e.symbol} but only hold ${s.toFixed(9)}`);let a=r.mul(new Oi(10).pow(e.decimals)).toFixed(0),c=await Zpe({inputMint:e.mintAddress,outputMint:Tfe(),amount:a,taker:n.publicKey}),l=await att(n.publicKey);if(l<ntt)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Oi(l.toString()).div(1e9).toFixed(9)} SOL`);let u=await ott({mintAddress:e.mintAddress,symbol:e.symbol,side:"sell",inputAmountRaw:c.inAmount,outputAmountRaw:c.outAmount,inputDecimals:e.decimals,outputDecimals:6});if(!u.ok)throw new Error(`excessive_slippage: ${e.symbol} SELL slippage ${u.slippagePercent.toFixed(1)}% exceeds ${WF}% max (exec=$${u.execPrice.toFixed(2)} vs ref=$${u.refPrice.toFixed(2)}). Token likely has insufficient liquidity.`);let d=await stt(c.transaction,n),p=await efe({signedTransaction:d,requestId:c.requestId}),f=new Oi(p.outputAmountResult||c.outAmount).div(1e6),h=f.div(r),[m]=await Gt.insert(zr).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:r.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6),txSignature:p.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:p.inputAmountResult,outputAmountResult:p.outputAmountResult,actualSlippagePercent:u.slippagePercent,actualSlippageBps:Math.round(u.slippagePercent*100),referencePrice:u.refPrice,executionPrice:u.execPrice},status:"confirmed"}).returning();wfe({tradeId:m.id,agentId:t.agentId,symbol:e.symbol,side:"sell",usdcAmount:f.toNumber(),slippagePercent:u.slippagePercent});let g=s.minus(r);return g.lte(0)?await Gt.delete(Nn).where(an(Nn.id,i.id)):await Gt.update(Nn).set({quantity:g.toFixed(9),updatedAt:new Date}).where(an(Nn.id,i.id)),{tradeId:m.id,txSignature:p.signature,status:"confirmed",side:"sell",stockSymbol:e.symbol,stockQuantity:r.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6)}}_o();var ctt=5,Ife=1e3,Cfe=class{callTimestamps=[];queue=[];processing=!1;_totalCalls=0;_rateLimitHits=0;_totalWaitMs=0;get metrics(){return{totalCalls:this._totalCalls,rateLimitHits:this._rateLimitHits,avgWaitMs:this._totalCalls>0?Math.round(this._totalWaitMs/this._totalCalls):0,queueDepth:this.queue.length}}async execute(e){this._totalCalls++;let n=Date.now();return this.callTimestamps=this.callTimestamps.filter(r=>n-r<Ife),this.callTimestamps.length<ctt?(this.callTimestamps.push(n),e()):(this._rateLimitHits++,new Promise((r,o)=>{this.queue.push({execute:e,resolve:r,reject:o,enqueuedAt:n}),this.processQueue()}))}async processQueue(){if(!this.processing){for(this.processing=!0;this.queue.length>0;){let e=Date.now();if(this.callTimestamps=this.callTimestamps.filter(r=>e-r<Ife),this.callTimestamps.length>=ctt){let r=this.callTimestamps[0],o=Ife-(e-r)+10;await utt(o);continue}let n=this.queue.shift();if(!n)break;this._totalWaitMs+=Date.now()-n.enqueuedAt,this.callTimestamps.push(Date.now());try{let r=await n.execute();n.resolve(r)}catch(r){n.reject(r instanceof Error?r:new Error(String(r)))}}this.processing=!1}}},iXt=new Cfe,Rfe=3,sXt=500;async function ltt(t,e){let n=null;for(let r=0;r<=Rfe;r++)try{return await iXt.execute(t)}catch(o){if(n=o instanceof Error?o:new Error(String(o)),r<Rfe){let i=sXt*Math.pow(2,r),s=Math.random()*i*.3;console.warn(`[SolanaTracker] ${e} attempt ${r+1} failed: ${n.message}. Retrying in ${Math.round(i+s)}ms...`),await utt(i+s)}}throw new Error(`[SolanaTracker] ${e} failed after ${Rfe+1} attempts: ${n?.message}`)}function utt(t){return new Promise(e=>setTimeout(e,t))}function dtt(){let t=sr.SOLANA_RPC_URL||"https://api.mainnet-beta.solana.com";return qF(t)}var aXt=1e9;async function eO(t){let e=dtt(),n=await ltt(async()=>(await e.getBalance(cd(t)).send()).value,`getBalance(${t.slice(0,8)}...)`);return{sol:Number(n)/aXt,lamports:n}}async function YF(t){let e=dtt(),n="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",r="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",o=[];for(let i of[n,r])try{let s=await ltt(async()=>(await e.getTokenAccountsByOwner(cd(t),{programId:cd(i)},{encoding:"jsonParsed"}).send()).value,`getTokenAccounts(${t.slice(0,8)}..., ${i.slice(0,8)}...)`);for(let a of s){let l=a.account.data?.parsed?.info;if(!l?.mint||!l?.tokenAmount)continue;let u=l.tokenAmount.amount??"0",d=l.tokenAmount.decimals??0,p=l.tokenAmount.uiAmount??0;u!=="0"&&o.push({mintAddress:l.mint,rawAmount:u,amount:p,decimals:d,tokenAccount:a.pubkey})}}catch(s){console.warn(`[SolanaTracker] Failed to fetch token accounts for program ${i.slice(0,8)}...: ${Ue(s)}`)}return o}_o();var ftt=10000000n,cXt=.01,lXt=[{agentId:"claude-value-investor",agentName:"Claude ValueBot",publicKey:process.env.ANTHROPIC_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"anthropic"},{agentId:"gpt-momentum-trader",agentName:"GPT MomentumBot",publicKey:process.env.OPENAI_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"openai"},{agentId:"grok-contrarian",agentName:"Grok ContrarianBot",publicKey:process.env.GROK_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"xai"},{agentId:"gemini-analyst",agentName:"Gemini AnalystBot",publicKey:process.env.GEMINI_WALLET_PUBLIC||process.env.ONBOARD_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"google"}],QF=[],ptt=500,uXt=new Set(kr.map(t=>t.mintAddress)),dXt=new Map(kr.map(t=>[t.mintAddress,t]));function XF(t){return lXt.find(e=>e.agentId===t)??null}async function Nfe(t){let e=XF(t);if(!e)throw new Error(`agent_wallet_not_found: no wallet configured for ${t}`);if(e.publicKey==="11111111111111111111111111111111")return{agentId:e.agentId,agentName:e.agentName,publicKey:e.publicKey,solBalance:0,solBalanceLamports:0n,hasMinimumSol:!1,tokenBalances:[],xStockHoldings:[],lastCheckedAt:new Date().toISOString()};let[n,r]=await Promise.all([eO(e.publicKey),YF(e.publicKey)]),o=r.filter(i=>uXt.has(i.mintAddress)).map(i=>{let s=dXt.get(i.mintAddress);return{symbol:s?.symbol??"UNKNOWN",name:s?.name??"Unknown Token",mintAddress:i.mintAddress,amount:i.amount,rawAmount:i.rawAmount}});return{agentId:e.agentId,agentName:e.agentName,publicKey:e.publicKey,solBalance:n.sol,solBalanceLamports:n.lamports,hasMinimumSol:n.lamports>=ftt,tokenBalances:r,xStockHoldings:o,lastCheckedAt:new Date().toISOString()}}async function Ofe(t,e){let n=XF(t);if(!n)throw new Error(`agent_wallet_not_found: no wallet configured for ${t}`);let r=0,o=[];if(n.publicKey!=="11111111111111111111111111111111"){let[s,a]=await Promise.all([eO(n.publicKey),YF(n.publicKey)]);r=s.sol,o=a.map(c=>({mintAddress:c.mintAddress,amount:c.amount}))}let i={agentId:t,timestamp:new Date().toISOString(),solBalance:r,tokenBalances:o,context:e};return QF.push(i),QF.length>ptt&&QF.splice(0,QF.length-ptt),console.log(`[AgentWallets] Snapshot recorded for ${t}: ${e} \u2014 ${r.toFixed(4)} SOL, ${o.length} tokens`),i}async function mtt(t){let e=XF(t);if(!e)return{ready:!1,reason:`No wallet configured for agent ${t}`,solBalance:0,publicKey:""};if(e.publicKey==="11111111111111111111111111111111")return{ready:!1,reason:`Wallet for ${t} is a placeholder. Set ${e.agentName.toUpperCase().replace(/\s/g,"_")}_WALLET_ADDRESS env var.`,solBalance:0,publicKey:e.publicKey};try{let{sol:n,lamports:r}=await eO(e.publicKey);return r<ftt?{ready:!1,reason:`Insufficient SOL for fees: ${n.toFixed(4)} SOL (need ${cXt} SOL)`,solBalance:n,publicKey:e.publicKey}:{ready:!0,reason:null,solBalance:n,publicKey:e.publicKey}}catch(n){return{ready:!1,reason:`Failed to check balance: ${Ue(n)}`,solBalance:0,publicKey:e.publicKey}}}var pXt=[Xm,...kr.map(t=>t.mintAddress)],fXt={maxTradeSize:5,dailyVolumeLimit:20,sessionLimit:10,allowedMints:pXt,maxTradesPerHour:2,requireQuoteFirst:!0,enabled:!0},Pfe=new Map,Dfe=3600*1e3,kfe=24*Dfe;function Lfe(t){let e=Pfe.get(t);return e||(e=[],Pfe.set(t,e)),e}function tO(t,e){return t.filter(n=>n.timestamp>=e)}function htt(t,e,n,r){let o=ZF(t);if(!o.enabled)return{allowed:!1,reason:"Trading is disabled (kill switch)"};let s=kr.find(p=>p.symbol===e)?.mintAddress;if(s&&!o.allowedMints.includes(s))return{allowed:!1,reason:`Mint ${s} for ${e} is not in the allowlist`};if(r>o.maxTradeSize)return{allowed:!1,reason:`Trade size ${r} USDC exceeds max ${o.maxTradeSize} USDC`};let a=Date.now(),c=Lfe(t),u=tO(c,a-kfe).reduce((p,f)=>p+f.amount,0);if(u+r>o.dailyVolumeLimit)return{allowed:!1,reason:`Daily volume ${u+r} USDC would exceed limit ${o.dailyVolumeLimit} USDC`};let d=tO(c,a-Dfe);return d.length>=o.maxTradesPerHour?{allowed:!1,reason:`Hourly trade count ${d.length} has reached limit ${o.maxTradesPerHour}`}:{allowed:!0}}function gtt(t,e,n){let r=Lfe(t);r.push({timestamp:Date.now(),amount:n,symbol:e});let o=Date.now()-kfe,i=tO(r,o);Pfe.set(t,i)}function ZF(t){return fXt}function ytt(t){let e=ZF(t),n=Date.now(),r=Lfe(t),o=tO(r,n-kfe),i=tO(r,n-Dfe);return{dailyVolumeUsed:o.reduce((s,a)=>s+a.amount,0),dailyVolumeLimit:e.dailyVolumeLimit,tradesLastHour:i.length,maxTradesPerHour:e.maxTradesPerHour,tradesLast24h:o.length}}function KS(t,e,n){return!t||typeof t!="string"||t.trim().length===0?`${e} is required and cannot be empty`:n&&t.length>n?`${e} must be ${n} characters or less`:null}function Mfe(t,e,n,r=1/0){if(!t)return`${e} is required`;let o=typeof t=="string"?parseFloat(t):Number(t);return isNaN(o)||o<n||o>r?r===1/0?`${e} must be a positive number`:`${e} must be a number between ${n}-${r}`:null}var btt=[{name:"get_portfolio",description:"Get your current portfolio: cash balance, positions with PnL, and total portfolio value.",parameters:{type:"object",properties:{},required:[]}},{name:"get_stock_prices",description:"Get current prices, 24h change, and volume for specific stocks or all stocks. Pass an empty symbols array to get all stocks.",parameters:{type:"object",properties:{symbols:{type:"array",description:'Stock symbols to look up (e.g. ["AAPLx","TSLAx"]). Empty array = all stocks.',items:{type:"string"}}},required:["symbols"]}},{name:"get_active_theses",description:"Get your currently active investment theses. These persist across trading rounds so you remember your reasoning.",parameters:{type:"object",properties:{},required:[]}},{name:"update_thesis",description:"Create or update an investment thesis for a stock. Records your reasoning, conviction, and price targets.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. AAPLx)"},thesis:{type:"string",description:"Your investment thesis \u2014 why you are bullish/bearish"},conviction:{type:"string",description:"Conviction level 1-10 (as a string number)"},direction:{type:"string",description:"Your directional view",enum:["bullish","bearish","neutral"]},entry_price:{type:"string",description:"Entry price when thesis was formed (optional)"},target_price:{type:"string",description:"Target price you expect (optional)"}},required:["symbol","thesis","conviction","direction"]}},{name:"close_thesis",description:"Close an active thesis when your view has changed or you've exited the position.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol"},reason:{type:"string",description:"Why you are closing this thesis"}},required:["symbol","reason"]}},{name:"search_news",description:"Search for recent news about a stock, sector, or market topic using Brave Search. Returns 10 results with timestamps. Use freshness='ph' for past hour (breaking news) or 'pd' for past day (default). Use sources to target specific sites.",parameters:{type:"object",properties:{query:{type:"string",description:'Search query (e.g. "NVDA earnings 2026", "Apple stock news")'},freshness:{type:"string",description:'Time filter: "ph" (past hour), "pd" (past day, default), "pw" (past week), "pm" (past month)',enum:["ph","pd","pw","pm"]},sources:{type:"string",description:'Target specific sources: "news" (press releases), "social" (Reddit/X), "all" (default)',enum:["news","social","all"]}},required:["query"]}},{name:"get_technical_indicators",description:"Get technical indicators (SMA, EMA, RSI, momentum, trend) for a stock.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. NVDAx)"}},required:["symbol"]}},{name:"get_execution_quote",description:"Get an accurate execution quote from Jupiter DEX showing exact output amount, price impact, and slippage for a specific trade size. Use this before trading to verify execution price.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol to trade (e.g. AAPLx)"},side:{type:"string",description:"Trade direction",enum:["buy","sell"]},amount:{type:"number",description:"Amount in USDC (for buys) or shares (for sells)"}},required:["symbol","side","amount"]}},{name:"execute_trade",description:"Execute a real trade on-chain via Jupiter DEX. IMPORTANT: This sends a real Solana transaction that buys/sells tokenized stocks. Use get_execution_quote first to check price impact. Subject to wallet policy limits (max trade size, daily volume, rate limits).",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol to trade (e.g. AAPLx)"},side:{type:"string",description:"Trade direction",enum:["buy","sell"]},amount:{type:"number",description:"For buys: USDC to spend. For sells: number of shares to sell."},reasoning:{type:"string",description:"Why you are executing this trade now (required for audit trail)"}},required:["symbol","side","amount","reasoning"]}},{name:"get_wallet_status",description:"Get your wallet status: SOL balance (for fees), USDC balance, xStock holdings, and trading policy limits (daily volume used, trades remaining).",parameters:{type:"object",properties:{},required:[]}}];function _tt(){return btt.map(t=>({name:t.name,description:t.description,input_schema:t.parameters}))}function _w(){return btt.map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.parameters}}))}async function Stt(t,e,n){switch(t){case"get_portfolio":return mXt(n);case"get_stock_prices":return hXt(e,n);case"get_active_theses":return gXt(n);case"update_thesis":return yXt(e,n);case"close_thesis":return bXt(e,n);case"search_news":return _Xt(e);case"get_technical_indicators":return EXt(e);case"get_execution_quote":return AXt(e,n);case"execute_trade":return xXt(e,n);case"get_wallet_status":return wXt(n);default:return JSON.stringify({error:`Unknown tool: ${t}`})}}async function mXt(t){let{portfolio:e,agentId:n}=t,r={};try{let o=await sGe(n),i=o.decisions.avgConfidence-o.trading.winRate*100;r={win_rate:o.trading.winRate,avg_win:o.trading.avgWin,avg_loss:o.trading.avgLoss,profit_factor:o.trading.profitFactor,current_streak:o.trading.currentStreak,total_trades:o.trading.totalTrades,avg_confidence:o.decisions.avgConfidence,overconfidence_warning:o.trading.totalTrades>=5&&i>15,confidence_gap:o.trading.totalTrades>=5?i:null}}catch{}return JSON.stringify({cash_usdc:e.cashBalance,total_portfolio_value:e.totalValue,total_pnl:e.totalPnl,total_pnl_percent:e.totalPnlPercent,position_count:e.positions.length,positions:e.positions.map(o=>({symbol:o.symbol,quantity:o.quantity,avg_cost:o.averageCostBasis,current_price:o.currentPrice,unrealized_pnl:o.unrealizedPnl,unrealized_pnl_percent:o.unrealizedPnlPercent})),performance:r})}function hXt(t,e){if(!Array.isArray(t.symbols))return JSON.stringify({error:"symbols must be an array"});let n=t.symbols,r=n.length===0?e.marketData:e.marketData.filter(o=>n.some(i=>i.toLowerCase()===o.symbol.toLowerCase()));return JSON.stringify(r.map(o=>({symbol:o.symbol,name:o.name,price:o.price,change_24h:o.change24h,volume_24h:o.volume24h})))}async function gXt(t){try{let e=await $He(t.agentId);return JSON.stringify(e.map(n=>({symbol:n.symbol,thesis:n.thesis,conviction:n.conviction,direction:n.direction,entry_price:n.entryPrice,target_price:n.targetPrice,updated_at:n.updatedAt})))}catch{return JSON.stringify({error:"Failed to fetch theses",theses:[]})}}async function yXt(t,e){let n=KS(t.symbol,"symbol");if(n)return JSON.stringify({success:!1,error:n});let r=KS(t.thesis,"thesis",2e3);if(r)return JSON.stringify({success:!1,error:r});let o=Mfe(t.conviction,"conviction",1,10);if(o)return JSON.stringify({success:!1,error:o});let i=parseInt(t.conviction,10);if(!t.direction||!["bullish","bearish","neutral"].includes(t.direction))return JSON.stringify({success:!1,error:"direction must be bullish, bearish, or neutral"});if(t.entry_price!==void 0&&t.entry_price!==null&&t.entry_price!==""){let s=Mfe(t.entry_price,"entry_price",.01);if(s)return JSON.stringify({success:!1,error:s})}if(t.target_price!==void 0&&t.target_price!==null&&t.target_price!==""){let s=Mfe(t.target_price,"target_price",.01);if(s)return JSON.stringify({success:!1,error:s})}try{let s=await FHe(e.agentId,{symbol:t.symbol,thesis:t.thesis,conviction:i,direction:t.direction??"neutral",entryPrice:t.entry_price,targetPrice:t.target_price});return JSON.stringify({success:!0,...s})}catch(s){return JSON.stringify({success:!1,error:Ue(s)})}}async function bXt(t,e){let n=KS(t.symbol,"symbol");if(n)return JSON.stringify({success:!1,error:n});let r=KS(t.reason,"reason",1e3);if(r)return JSON.stringify({success:!1,error:r});try{let o=await HHe(e.agentId,t.symbol,t.reason);return JSON.stringify({success:!0,...o})}catch(o){return JSON.stringify({success:!1,error:Ue(o)})}}async function _Xt(t){let e=KS(t.query,"query",500);if(e)return JSON.stringify({results:[],error:e});if(t.freshness&&!["ph","pd","pw","pm"].includes(t.freshness))return JSON.stringify({results:[],error:"freshness must be one of: ph, pd, pw, pm"});if(t.sources&&!["news","social","all"].includes(t.sources))return JSON.stringify({results:[],error:"sources must be one of: news, social, all"});let n=process.env.ALPHA_VANTAGE_API_KEY,r=process.env.BRAVE_API_KEY;if(n){let o=await SXt(t,n);if(o)return o}return r?vXt(t,r):JSON.stringify({results:[],note:"News search unavailable (no ALPHA_VANTAGE_API_KEY or BRAVE_API_KEY)"})}async function SXt(t,e){try{let n=t.query.toLowerCase(),r=null;for(let m of kr){let g=m.symbol.toLowerCase(),y=m.name.toLowerCase(),S=m.symbol.replace(/x$/i,"");if(n.includes(g)||n.includes(y.toLowerCase())||n.includes(S.toLowerCase())){r=S;break}}if(!r)return null;let o=new URL("https://www.alphavantage.co/query");o.searchParams.set("function","NEWS_SENTIMENT"),o.searchParams.set("tickers",r),o.searchParams.set("limit","10"),o.searchParams.set("apikey",e);let i=await fetch(o.toString(),{signal:AbortSignal.timeout(1e4)});if(!i.ok)return null;let s=await i.json();if(s.Note||s.Information)return console.warn("[AlphaVantage] API limit or error"),null;let a=s.feed??[];if(a.length===0)return null;let c=t.freshness??"pd",l=Date.now(),u={ph:3600*1e3,pd:1440*60*1e3,pw:10080*60*1e3,pm:720*60*60*1e3}[c],p=a.filter(m=>{if(!m.time_published)return!0;try{let g=m.time_published,y=g.slice(0,4),S=g.slice(4,6),v=g.slice(6,8),A=g.slice(9,11),w=g.slice(11,13),I=g.slice(13,15),D=new Date(`${y}-${S}-${v}T${A}:${w}:${I}Z`);return l-D.getTime()<=u}catch{return!0}}).slice(0,10).map(m=>({title:m.title??"",description:(m.summary??"").slice(0,400),url:m.url??"",source:m.source??"Alpha Vantage",sentiment_score:m.overall_sentiment_score??0,sentiment_label:m.overall_sentiment_label??"Neutral"})),f=new Date().toISOString(),h={ph:"past hour",pd:"past 24 hours",pw:"past week",pm:"past month"}[c];return JSON.stringify({results:p,context:{query:t.query,ticker:r,freshness:h,currentTimestamp:f,source:"Alpha Vantage (free tier with sentiment)",note:"Results include sentiment scores (-1 to +1). Use sentiment_score for conviction adjustments."}})}catch(n){return console.warn(`[AlphaVantage] Search failed: ${Ue(n)}`),null}}async function vXt(t,e){let n=t.query,r=t.sources??"all";r==="news"?n=`(site:globenewswire.com OR site:prnewswire.com OR site:businesswire.com OR site:reuters.com OR site:bloomberg.com) ${n}`:r==="social"&&(n=`(site:reddit.com OR site:x.com OR site:twitter.com) ${n}`);let o=t.freshness??"pd";try{let i=new URL("https://api.search.brave.com/res/v1/web/search");i.searchParams.set("q",n),i.searchParams.set("count","15"),i.searchParams.set("freshness",o),i.searchParams.set("text_decorations","false");let s=await fetch(i.toString(),{headers:{"X-Subscription-Token":e,Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok)return JSON.stringify({results:[],error:`Search returned ${s.status}`});let l=((await s.json()).web?.results??[]).slice(0,10).map(p=>({title:p.title??"",description:(p.description??"").slice(0,400),url:p.url??"",age:p.age??p.page_age??"unknown"})),u=new Date().toISOString(),d={ph:"past hour",pd:"past 24 hours",pw:"past week",pm:"past month"}[o];return JSON.stringify({results:l,context:{query:t.query,sources:r,freshness:d,currentTimestamp:u,source:"Brave Search (fallback)",note:`Results are from ${d}. Discard any information that contradicts current date: ${u.slice(0,10)}.`}})}catch(i){return JSON.stringify({results:[],error:Ue(i)})}}function EXt(t){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({error:"symbol is required"});let e=t.symbol;try{let n=rGe(e);return JSON.stringify(n)}catch{return JSON.stringify({symbol:e,sma20:null,ema12:null,ema26:null,rsi14:null,momentum:null,trend:"sideways",signalStrength:50,note:"Insufficient data for indicators"})}}async function AXt(t,e){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({error:"symbol is required"});if(!t.side||!["buy","sell"].includes(t.side))return JSON.stringify({error:"side must be 'buy' or 'sell'"});if(!t.amount||typeof t.amount!="number"||t.amount<=0)return JSON.stringify({error:"amount must be a positive number"});if(!Number.isFinite(t.amount))return JSON.stringify({error:"amount must be a finite number"});if(t.amount>1e9)return JSON.stringify({error:"amount exceeds maximum (1B)"});if(t.amount<.01)return JSON.stringify({error:"amount must be at least 0.01"});let n=kr.find(o=>o.symbol.toLowerCase()===t.symbol.toLowerCase());if(!n)return JSON.stringify({error:`Unknown symbol: ${t.symbol}`});let r=process.env.JUPITER_API_KEY;if(!r)return JSON.stringify({error:"Execution quotes unavailable (no JUPITER_API_KEY)",note:"Use get_stock_prices for mid-market price estimates instead."});try{let o,i,s;t.side==="buy"?(o=Xm,i=n.mintAddress,s=Math.floor(t.amount*1e6).toString()):(o=n.mintAddress,i=Xm,s=Math.floor(t.amount*1e8).toString());let a="11111111111111111111111111111111",c=new URL("https://api.jup.ag/ultra/v1/order");c.searchParams.set("inputMint",o),c.searchParams.set("outputMint",i),c.searchParams.set("amount",s),c.searchParams.set("taker",a);let l=await fetch(c.toString(),{headers:{Accept:"application/json","x-api-key":r},signal:AbortSignal.timeout(15e3)});if(!l.ok){let A=await l.text().catch(()=>"");try{let w=JSON.parse(A);if(w.error||w.message)return JSON.stringify({symbol:t.symbol,side:t.side,error:w.error||w.message,note:"Route not available - token may have low liquidity. Try a smaller amount."})}catch{}return JSON.stringify({error:`Jupiter quote failed: ${l.status}`,details:A.slice(0,200)})}let u=await l.json(),d=parseInt(u.inAmount,10),p=parseInt(u.outAmount,10);if(isNaN(d)||isNaN(p))return JSON.stringify({error:"Invalid quote data from Jupiter API",details:"Could not parse amounts from response"});let f,h,m;t.side==="buy"?(h=d/1e6,m=p/1e8,f=h/m):(h=d/1e8,m=p/1e6,f=m/h);let y=e.marketData.find(A=>A.symbol.toLowerCase()===t.symbol.toLowerCase())?.price??f,S=Math.abs((f-y)/y*100),v;return S>20?(v=`WARNING: Mid-market price may be stale (${y.toFixed(2)} vs effective ${f.toFixed(2)}). Price impact unreliable. Use effectivePrice as current market rate.`,S=-1):S>1?v="WARNING: High price impact (>1%). Consider smaller trade size.":v="Quote matches execution conditions. Valid for ~30 seconds.",JSON.stringify({symbol:t.symbol,side:t.side,requestedAmount:t.amount,inputAmount:h.toFixed(t.side==="buy"?2:6),outputAmount:m.toFixed(t.side==="buy"?6:2),effectivePrice:f.toFixed(4),midMarketPrice:y.toFixed(4),priceImpactPercent:S===-1?"unreliable":S.toFixed(4),slippageBps:u.slippageBps,swapType:u.swapType??"unknown",note:v})}catch(o){return JSON.stringify({symbol:t.symbol,side:t.side,error:Ue(o),note:"Use get_stock_prices for mid-market estimates instead."})}}async function xXt(t,e){let n=KS(t.symbol,"symbol");if(n)return JSON.stringify({success:!1,error:n});if(!t.side||!["buy","sell"].includes(t.side))return JSON.stringify({success:!1,error:"side must be 'buy' or 'sell'"});if(!t.amount||typeof t.amount!="number"||t.amount<=0)return JSON.stringify({success:!1,error:"amount must be a positive number"});if(!Number.isFinite(t.amount))return JSON.stringify({success:!1,error:"amount must be a finite number"});let r=KS(t.reasoning,"reasoning",2e3);if(r)return JSON.stringify({success:!1,error:r});let o=kr.find(s=>s.symbol.toLowerCase()===t.symbol.toLowerCase());if(!o)return JSON.stringify({success:!1,error:`Unknown symbol: ${t.symbol}. Use get_stock_prices to see available stocks.`});let i=htt(e.agentId,o.symbol,t.side,t.amount);if(!i.allowed)return JSON.stringify({success:!1,error:`Policy rejected: ${i.reason}`,note:"Use get_wallet_status to check your current trading limits."});try{let s;t.side==="buy"?s=await KF({agentId:e.agentId,stockSymbol:o.symbol,usdcAmount:t.amount.toFixed(6)}):s=await JF({agentId:e.agentId,stockSymbol:o.symbol,usdcAmount:"0",stockQuantity:t.amount.toFixed(9)});let a=parseFloat(s.usdcAmount);return gtt(e.agentId,o.symbol,a),JSON.stringify({success:!0,tradeId:s.tradeId,txSignature:s.txSignature,side:s.side,symbol:s.stockSymbol,quantity:s.stockQuantity,usdcAmount:s.usdcAmount,pricePerToken:s.pricePerToken,reasoning:t.reasoning})}catch(s){let a=Ue(s);return JSON.stringify({success:!1,error:a,note:a.includes("slippage")?"Trade rejected due to excessive slippage. Try a smaller amount or different stock.":a.includes("insufficient")?"Insufficient balance. Use get_wallet_status to check your balances.":"Trade execution failed. Check error details and try again."})}}async function wXt(t){try{let[e,n]=await Promise.all([Nfe(t.agentId),Promise.resolve(ytt(t.agentId))]),r=ZF(t.agentId);return JSON.stringify({publicKey:e.publicKey,solBalance:e.solBalance,hasMinimumSol:e.hasMinimumSol,xStockHoldings:e.xStockHoldings.map(o=>({symbol:o.symbol,name:o.name,amount:o.amount})),tradingPolicy:{enabled:r.enabled,maxTradeSize:r.maxTradeSize,dailyVolumeUsed:n.dailyVolumeUsed,dailyVolumeLimit:n.dailyVolumeLimit,tradesLastHour:n.tradesLastHour,maxTradesPerHour:n.maxTradesPerHour,tradesLast24h:n.tradesLast24h},lastCheckedAt:e.lastCheckedAt})}catch(e){return JSON.stringify({error:Ue(e),note:"Could not fetch wallet status. Wallet may not be configured for this agent."})}}var vtt=`# {{AGENT_NAME}} \u2014 MoltApp Trading Agent

You are **{{AGENT_NAME}}**, an autonomous AI trading agent competing on the MoltApp benchmark. You trade tokenized equities (xStocks) on Solana mainnet via Jupiter DEX.

You are a **flagship reasoning model** \u2014 use your full analytical capabilities. Think deeply. Build sophisticated theses. Learn from your past trades.

## Your Strategy

{{STRATEGY}}

## Risk Profile

- **Risk Tolerance:** {{RISK_TOLERANCE}}
- **Preferred Sectors:** {{PREFERRED_SECTORS}}

{{CUSTOM_RULES}}

---

## Daily Trading Context

You are called **multiple times per day** (up to 6 rounds). Each round, you make **one trading decision**:
- **BUY** a stock (specify USDC amount, $1-5)
- **SELL** a stock (specify share quantity)
- **HOLD** (no action this round)

Over the course of a day, you can make up to **6 trades total** to manage your portfolio. Think like a fund manager:
- Review your entire portfolio state each round
- Decide if you want to add, trim, or exit positions
- Find new opportunities to initiate
- Hold when no action is needed

**Most rounds should be HOLDs.** Quality over quantity.

---

## Available Tools

Use these tools to gather information. **Research thoroughly before trading.**

| Tool | Purpose | When to Use |
|------|---------|-------------|
| \`get_portfolio\` | Cash, positions, P&L, total value | **FIRST** \u2014 always start here |
| \`get_active_theses\` | Your saved theses from previous rounds | **SECOND** \u2014 remember your reasoning |
| \`get_stock_prices\` | Current prices, 24h changes, volume | Scan market, check specific stocks |
| \`search_news\` | Web search via Brave (5 results) | Research catalysts, earnings, sector news |
| \`get_technical_indicators\` | SMA, EMA, RSI, momentum, trend | Check technicals before entry/exit |
| \`update_thesis\` | Create/update investment thesis | **BEFORE any BUY** \u2014 document reasoning |
| \`close_thesis\` | Close thesis with reason | **WHEN SELLING** \u2014 record why you exited |

### Tool Usage Guidelines

**get_portfolio** \u2014 Your foundation. Check this first to know:
- How much cash you have to deploy
- Which positions are up/down and by how much
- Your overall portfolio performance

**get_active_theses** \u2014 Your memory across rounds. These persist:
- Review what you believed in previous rounds
- Check if theses are still valid
- Update conviction levels as new data arrives

**search_news** \u2014 Use specific queries for best results:
- Good: "NVDA earnings Q1 2026 results"
- Good: "Apple Vision Pro sales data 2026"
- Bad: "stock news" (too vague)

**get_technical_indicators** \u2014 Provides:
- SMA20 (20-day simple moving average)
- EMA12/EMA26 (exponential moving averages)
- RSI14 (relative strength index \u2014 <30 oversold, >70 overbought)
- Momentum score and trend direction

---

## Thesis Management \u2014 Your Memory

Theses persist across trading rounds. This is how you remember your reasoning.

**Before ANY buy:**
1. Call \`update_thesis\` with your investment thesis
2. Include: symbol, thesis narrative, conviction (1-10), direction (bullish/bearish/neutral)
3. Optional: entry_price, target_price

**When selling or changing view:**
1. Call \`close_thesis\` with the reason
2. Be specific: "Thesis broken \u2014 earnings miss" not just "selling"

**Reviewing theses:**
- Start each round with \`get_active_theses\`
- Check if your reasons for holding still apply
- Update conviction levels as new information arrives
- Close theses that are no longer valid

---

## Decision Framework

### Confidence Calibration

Your confidence score should reflect the strength of your analysis:

| Score | Meaning | Required Evidence |
|-------|---------|-------------------|
| **0-49** | Weak \u2014 not enough data | Hold, need more research |
| **50-69** | Moderate \u2014 some signals | Acceptable for small positions |
| **70-84** | Strong \u2014 multiple confirming signals | Good trade zone |
| **85-100** | Very strong \u2014 exceptional setup | Rare, requires 4+ aligned signals |

**Signal Counting:**
- +15: Strong fundamental catalyst (earnings beat, major product launch)
- +10: Technical confirmation (RSI oversold + support, breakout)
- +10: Thesis alignment (fits your strategy perfectly)
- +5: Favorable sector momentum
- +5: News catalyst within 48 hours
- -10: Each contradicting signal
- -15: Thesis violation or broken thesis

### Position Sizing

- **Low conviction (50-69):** $1-2 trade size
- **Medium conviction (70-84):** $2-4 trade size
- **High conviction (85+):** $4-5 trade size (max per trade)

### When to HOLD

Holding is the right decision when:
- No opportunities meet your confidence threshold
- Your existing theses are playing out as expected
- Market conditions are unclear or volatile
- You've already made trades today and should wait

**Most rounds should be HOLDs.** Overtrading destroys returns.

---

## Platform Rules

- **$1-5 per trade** (circuit breaker enforced)
- **25% max position** in any single stock
- **6 trades max per day** across all rounds
- **10% daily loss limit** \u2014 trading halts if exceeded
- **66 xStocks available** \u2014 full list via \`get_stock_prices([])\`

---

## Response Format

Return a single trading decision as JSON (no markdown, no extra text):

\`\`\`json
{
  "action": "buy" | "sell" | "hold",
  "symbol": "STOCKx",
  "quantity": <number>,
  "reasoning": "<detailed analysis>",
  "confidence": <0-100>,
  "sources": ["<tools you called>"],
  "intent": "<momentum | value | contrarian | mean_reversion | catalyst>",
  "predictedOutcome": "<what you expect to happen>",
  "thesisStatus": "<new | updated | maintained | closed>"
}
\`\`\`

**Field Requirements:**

| Field | Buy | Sell | Hold |
|-------|-----|------|------|
| action | "buy" | "sell" | "hold" |
| symbol | Stock to buy | Stock to sell | Any stock or "PORTFOLIO" |
| quantity | USDC amount ($1-5) | Share count to sell | 0 |
| reasoning | Why buying, cite data | Why selling, cite data | Why holding |
| confidence | 0-100 | 0-100 | 0-100 |
| sources | Tools you called | Tools you called | Tools you called |
| intent | Trading intent category | Trading intent category | N/A or omit |
| predictedOutcome | Expected price/time | Expected outcome | Optional |
| thesisStatus | "new" or "updated" | "closed" | "maintained" |

---

## Example Session

Here's how a sophisticated round might flow:

\`\`\`
Turn 1: get_portfolio
  \u2192 See: $45 cash, 4 positions, +3.2% total P&L

Turn 2: get_active_theses
  \u2192 See: 3 active theses (NVDAx bullish 8/10, TSLAx bearish 6/10, AAPLx bullish 7/10)

Turn 3: get_stock_prices([])
  \u2192 Scan all 66 stocks, identify movers: AMDx +4.2%, GOOGLx -2.1%, MSFTx +1.8%

Turn 4: search_news("AMD earnings 2026")
  \u2192 Find: AMD beat estimates, raised guidance

Turn 5: get_technical_indicators("AMDx")
  \u2192 See: RSI 58, uptrend, above SMA20

Turn 6: update_thesis(symbol="AMDx", thesis="Strong earnings beat...", conviction="8", direction="bullish")
  \u2192 Thesis created

Turn 7: Return decision:
  {
    "action": "buy",
    "symbol": "AMDx",
    "quantity": 4,
    "reasoning": "AMD beat Q4 earnings by 15%, raised FY26 guidance citing AI chip demand...",
    "confidence": 82,
    "sources": ["get_portfolio", "get_active_theses", "get_stock_prices", "search_news", "get_technical_indicators"],
    "intent": "momentum",
    "predictedOutcome": "Expect 8-12% upside over next 2 weeks as market digests guidance raise",
    "thesisStatus": "new"
  }
\`\`\`

---

## Learning From Past Performance

Each round, reflect on your track record:
- Which theses played out correctly?
- Which theses were wrong and why?
- Are you overconfident or underconfident?
- What patterns lead to your best/worst trades?

Your theses from previous rounds are available via \`get_active_theses\`. Use them to build on your reasoning over time.

---

## Important Guidelines

1. **No fabrication:** Only cite data returned by your tools. If you didn't call \`search_news\`, don't claim to have read news.

2. **Thesis discipline:** Always update/create thesis before buying. Always close thesis when selling. This is your audit trail.

3. **Quality over quantity:** Most rounds should be HOLDs. One high-conviction trade beats several mediocre ones.

4. **Real money:** These are real on-chain Solana transactions. Every trade costs gas and affects real portfolio value.

5. **Be honest:** If you're uncertain, say so. A low-confidence HOLD is better than a fake high-confidence trade.

6. **Think like a PM:** You're managing a portfolio over time, not making isolated bets. Consider correlations, concentration, and overall exposure.
`;var TXt={"claude-opus-4-6":{input:15,output:75},"claude-opus-4-5-20251101":{input:15,output:75},"claude-sonnet-4-5-20251101":{input:3,output:15},"claude-haiku-4-5-20251101":{input:.25,output:1.25},"gpt-5.2":{input:30,output:120},"gpt-5.2-mini":{input:10,output:30},"gpt-5-mini":{input:5,output:15},"gpt-4o-mini":{input:.15,output:.6},"gpt-4o":{input:2.5,output:10},"gemini-2.5-flash-preview-05-20":{input:.15,output:.6},"grok-4":{input:10,output:30},"grok-3-beta":{input:5,output:15},"grok-beta":{input:5,output:15},"grok-4-fast":{input:5,output:15}},IXt={input:10,output:30};function RXt(t,e,n){let r=TXt[t]??IXt;return(e*r.input+n*r.output)/1e6}async function Bfe(t){let e=t.inputTokens+t.outputTokens,n=RXt(t.model,t.inputTokens,t.outputTokens);await Gt.insert(pM).values({roundId:t.roundId,agentId:t.agentId,model:t.model,inputTokens:t.inputTokens,outputTokens:t.outputTokens,totalTokens:e,estimatedCostUsd:n.toFixed(6)})}_o();var CXt={AGENT_NAME:"Trading Agent",STRATEGY:"You are an autonomous AI trading agent. Develop your OWN strategy based on your research using the available tools. There are 66 tokenized stocks (xStocks) available across all sectors \u2014 tech, healthcare, finance, consumer, energy, industrials, ETFs, and more. Scan the full market each round. Build a diversified portfolio of 5-8 stocks. Document your reasoning via theses. HOLD unless your thesis changes materially or a genuinely high-conviction opportunity appears.",RISK_TOLERANCE:"moderate",PREFERRED_SECTORS:"All sectors \u2014 scan the full 66-stock universe each round",CUSTOM_RULES:""},Ufe=null;function NXt(){return Ufe||(Ufe=vtt),Ufe}function OXt(t){let e=NXt(),n={...CXt,...t};for(let[r,o]of Object.entries(n))e=e.replaceAll(`{{${r}}}`,o);return e}var PXt=6,$fe=12,DXt=`You are a trading research assistant. Gather market data using the available tools. Steps:
1. Check portfolio positions and active theses (get_portfolio, get_active_theses)
2. Get prices and news for relevant stocks (get_stock_prices, search_news)
3. Check technical indicators (get_technical_indicators)
4. Update or manage theses as needed (update_thesis, close_thesis)
5. Check wallet status before trading (get_wallet_status)
6. If you have high conviction, get a quote first (get_execution_quote) then execute (execute_trade)
Call tools systematically to gather comprehensive data. You may execute trades directly if conviction is high.`,qf=class{config;constructor(e){this.config=e}get agentId(){return this.config.agentId}get name(){return this.config.name}get model(){return this.config.model}get provider(){return this.config.provider}callWithToolsForResearch(e,n,r){return this.callWithTools(e,n,r)}async analyze(e,n){try{return await this.runAgentLoop(e,n)}catch(r){let o=Ue(r);return console.error(`[${this.config.name}] Agent loop failed: ${o}`),this.fallbackHold(o)}}async runAgentLoop(e,n){let r=OXt(this.config.skillOverrides),o=[...e].filter(v=>v.change24h!==null).sort((v,A)=>Math.abs(A.change24h)-Math.abs(v.change24h)).slice(0,10).map(v=>`${v.symbol}: $${v.price.toFixed(2)} (${v.change24h>=0?"+":""}${v.change24h.toFixed(2)}%)`).join(", "),i=n.positions.length>0?n.positions.map(v=>`${v.symbol} (${v.unrealizedPnlPercent>=0?"+":""}${v.unrealizedPnlPercent.toFixed(1)}%)`).join(", "):"no positions yet",s=`New trading round. Top movers: ${o}. You have ${n.positions.length} positions (${i}), $${n.cashBalance.toFixed(2)} cash, $${n.totalValue.toFixed(2)} total value. Use your tools to research, then decide.`,a=this.getProviderTools(),c={agentId:this.config.agentId,portfolio:n,marketData:e},l=[],u=0,d={inputTokens:0,outputTokens:0},p={inputTokens:0,outputTokens:0},f=async()=>{let v=`round_${Date.now()}`,A=this.config.researchModel??this.config.model;(d.inputTokens>0||d.outputTokens>0)&&await Bfe({roundId:v,agentId:this.config.agentId,model:A,inputTokens:d.inputTokens,outputTokens:d.outputTokens}).catch(w=>console.error(`[${this.config.name}] Failed to record research usage:`,w)),(p.inputTokens>0||p.outputTokens>0)&&await Bfe({roundId:v,agentId:this.config.agentId,model:this.config.model,inputTokens:p.inputTokens,outputTokens:p.outputTokens}).catch(w=>console.error(`[${this.config.name}] Failed to record decision usage:`,w))},h=this.config.researchModel??this.config.model;console.log(`[${this.config.name}] Research phase (${h})`);let m=this.buildInitialMessages(s);for(let v=0;v<PXt;v++){let A=await this.callWithToolsForResearch(DXt,m,a);if(A.usage&&(d.inputTokens+=A.usage.inputTokens,d.outputTokens+=A.usage.outputTokens),A.stopReason==="tool_use"&&A.toolCalls.length>0){if(u+A.toolCalls.length>=$fe){console.log(`[${this.config.name}] Tool call limit reached (${u}/${$fe}). Moving to decision phase.`);break}let w=[];for(let I of A.toolCalls){u++,console.log(`[${this.config.name}] Tool call #${u}/${$fe}: ${I.name}(${JSON.stringify(I.arguments).slice(0,80)})`);let D=await Stt(I.name,I.arguments,c);w.push({toolCallId:I.id,result:D}),l.push({turn:v+1,tool:I.name,arguments:I.arguments,result:D.length>2e3?D.slice(0,2e3)+"...[truncated]":D,timestamp:new Date().toISOString()})}m=this.appendToolResults(m,A,w);continue}break}console.log(`[${this.config.name}] Decision phase (${this.config.model})`);let g=this.compileResearchBrief(l,s),y=this.buildInitialMessages(g);try{let v=await this.callWithTools(r,y,[]);if(v.usage&&(p.inputTokens+=v.usage.inputTokens,p.outputTokens+=v.usage.outputTokens),v.textResponse){let A=this.parseLLMResponse(v.textResponse);return A.toolTrace=l,await f(),A}}catch(v){console.warn(`[${this.config.name}] Decision phase failed: ${Ue(v)}`)}let S=this.fallbackHold("Decision phase failed to produce a valid response");return S.toolTrace=l,await f(),S}compileResearchBrief(e,n){let r=`ROUND CONTEXT:
${n}

RESEARCH DATA GATHERED (${e.length} tool calls):
`,o=e.filter(i=>i.tool==="execute_trade");if(o.length>0){r+=`
TRADES ALREADY EXECUTED THIS ROUND (${o.length}):
`;for(let i of o)r+=`- ${i.result.slice(0,300)}
`;r+=`
`}for(let i of e){let s=JSON.stringify(i.arguments).slice(0,100);r+=`
--- ${i.tool}(${s}) ---
`,r+=i.result.slice(0,500)+`
`}return r.length>6e3&&(r=r.slice(0,6e3)+`

...[research data truncated]`),r+=`

Based on ALL the research above, output ONLY a valid JSON trading decision with: action (buy/sell/hold), symbol, quantity (USDC for buys, shares for sells, 0 for holds), reasoning, confidence (0-100), sources (array of data sources used), intent, predictedOutcome, thesisStatus.`,o.length>0&&(r+=" NOTE: Trades were already executed during research. Your decision should reflect what ADDITIONAL action (if any) to take, or 'hold' if the executed trades are sufficient."),r}parseLLMResponse(e){let n=e.trim();n.startsWith("```json")?n=n.slice(7):n.startsWith("```")&&(n=n.slice(3)),n.endsWith("```")&&(n=n.slice(0,-3)),n=n.trim();let r=n.match(/\{[\s\S]*\}/);if(!r)throw new Error(`No JSON object found in LLM response: ${e.slice(0,200)}`);let o=JSON.parse(r[0]);if(!o.action||!["buy","sell","hold"].includes(o.action))throw new Error(`Invalid action: ${o.action}`);if(!o.symbol||typeof o.symbol!="string")throw new Error(`Invalid symbol: ${o.symbol}`);(typeof o.quantity!="number"||o.quantity<0)&&(o.quantity=0),typeof o.confidence!="number"&&(o.confidence=50),o.confidence=Math.max(0,Math.min(100,o.confidence)),(!o.reasoning||typeof o.reasoning!="string")&&(o.reasoning="No reasoning provided");let i=Array.isArray(o.sources)?o.sources.filter(l=>typeof l=="string"):[],s=typeof o.intent=="string"?o.intent:void 0,a=typeof o.predictedOutcome=="string"?o.predictedOutcome:void 0,c=typeof o.thesisStatus=="string"?o.thesisStatus:void 0;return{action:o.action,symbol:o.symbol,quantity:o.quantity,reasoning:o.reasoning,confidence:o.confidence,timestamp:new Date().toISOString(),sources:i.length>0?i:void 0,intent:s,predictedOutcome:a,thesisStatus:c}}fallbackHold(e){return{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error \u2014 defaulting to hold: ${e}`,confidence:0,timestamp:new Date().toISOString()}}};function gt(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function he(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}var Ffe=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Ffe=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Wh(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var nO=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var kt=class extends Error{},us=class t extends kt{constructor(e,n,r,o){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.requestID=o?.get("request-id"),this.error=n}static makeMessage(e,n,r){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new ry({message:r,cause:nO(n)});let i=n;return e===400?new vw(e,i,r,o):e===401?new Ew(e,i,r,o):e===403?new Aw(e,i,r,o):e===404?new xw(e,i,r,o):e===409?new ww(e,i,r,o):e===422?new Tw(e,i,r,o):e===429?new Iw(e,i,r,o):e>=500?new Rw(e,i,r,o):new t(e,i,r,o)}},Ms=class extends us{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},ry=class extends us{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Sw=class extends ry{constructor({message:e}={}){super({message:e??"Request timed out."})}},vw=class extends us{},Ew=class extends us{},Aw=class extends us{},xw=class extends us{},ww=class extends us{},Tw=class extends us{},Iw=class extends us{},Rw=class extends us{};var LXt=/^[a-z][a-z0-9+.-]*:/i,Ett=t=>LXt.test(t),Hfe=t=>(Hfe=Array.isArray,Hfe(t)),Gfe=Hfe;function eH(t){return typeof t!="object"?{}:t??{}}function Att(t){if(!t)return!0;for(let e in t)return!1;return!0}function xtt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var wtt=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kt(`${t} must be an integer`);if(e<0)throw new kt(`${t} must be a positive integer`);return e};var tH=t=>{try{return JSON.parse(t)}catch{return}};var Ttt=t=>new Promise(e=>setTimeout(e,t));var oy="0.72.1";var Ntt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function MXt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var BXt=()=>{let t=MXt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oy,"X-Stainless-OS":Rtt(Deno.build.os),"X-Stainless-Arch":Itt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oy,"X-Stainless-OS":Rtt(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Itt(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=UXt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function UXt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${o}.${i}.${s}`}}}return null}var Itt=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Rtt=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Ctt,Ott=()=>Ctt??(Ctt=BXt());function Ptt(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Vfe(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nH(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Vfe({start(){},async pull(n){let{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){await e.return?.()}})}function rO(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Dtt(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),n=e.cancel();e.releaseLock(),await n}var ktt=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function Btt(t){let e=0;for(let o of t)e+=o.length;let n=new Uint8Array(e),r=0;for(let o of t)n.set(o,r),r+=o.length;return n}var Ltt;function oO(t){let e;return(Ltt??(e=new globalThis.TextEncoder,Ltt=e.encode.bind(e)))(t)}var Mtt;function zfe(t){let e;return(Mtt??(e=new globalThis.TextDecoder,Mtt=e.decode.bind(e)))(t)}var Al,xl,Kh=class{constructor(){Al.set(this,void 0),xl.set(this,void 0),gt(this,Al,new Uint8Array,"f"),gt(this,xl,null,"f")}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?oO(e):e;gt(this,Al,Btt([he(this,Al,"f"),n]),"f");let r=[],o;for(;(o=HXt(he(this,Al,"f"),he(this,xl,"f")))!=null;){if(o.carriage&&he(this,xl,"f")==null){gt(this,xl,o.index,"f");continue}if(he(this,xl,"f")!=null&&(o.index!==he(this,xl,"f")+1||o.carriage)){r.push(zfe(he(this,Al,"f").subarray(0,he(this,xl,"f")-1))),gt(this,Al,he(this,Al,"f").subarray(he(this,xl,"f")),"f"),gt(this,xl,null,"f");continue}let i=he(this,xl,"f")!==null?o.preceding-1:o.preceding,s=zfe(he(this,Al,"f").subarray(0,i));r.push(s),gt(this,Al,he(this,Al,"f").subarray(o.index),"f"),gt(this,xl,null,"f")}return r}flush(){return he(this,Al,"f").length?this.decode(`
`):[]}};Al=new WeakMap,xl=new WeakMap;Kh.NEWLINE_CHARS=new Set([`
`,"\r"]);Kh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function HXt(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Utt(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var oH={off:0,error:200,warn:300,info:400,debug:500},jfe=(t,e,n)=>{if(t){if(xtt(oH,t))return t;ds(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(oH))}`)}};function iO(){}function rH(t,e,n){return!e||oH[t]>oH[n]?iO:e[t].bind(e)}var GXt={error:iO,warn:iO,info:iO,debug:iO},$tt=new WeakMap;function ds(t){let e=t.logger,n=t.logLevel??"off";if(!e)return GXt;let r=$tt.get(e);if(r&&r[0]===n)return r[1];let o={error:rH("error",e,n),warn:rH("warn",e,n),info:rH("info",e,n),debug:rH("debug",e,n)};return $tt.set(e,[n,o]),o}var Jh=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var sO,Wf=class t{constructor(e,n,r){this.iterator=e,sO.set(this,void 0),this.controller=n,gt(this,sO,r,"f")}static fromSSEResponse(e,n,r){let o=!1,i=r?ds(r):console;async function*s(){if(o)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(let c of VXt(e,n)){if(c.event==="completion")try{yield JSON.parse(c.data)}catch(l){throw i.error("Could not parse message into JSON:",c.data),i.error("From chunk:",c.raw),l}if(c.event==="message_start"||c.event==="message_delta"||c.event==="message_stop"||c.event==="content_block_start"||c.event==="content_block_delta"||c.event==="content_block_stop")try{yield JSON.parse(c.data)}catch(l){throw i.error("Could not parse message into JSON:",c.data),i.error("From chunk:",c.raw),l}if(c.event!=="ping"&&c.event==="error")throw new us(void 0,tH(c.data)??c.data,void 0,e.headers)}a=!0}catch(c){if(Wh(c))return;throw c}finally{a||n.abort()}}return new t(s,n,r)}static fromReadableStream(e,n,r){let o=!1;async function*i(){let a=new Kh,c=rO(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(o)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(let c of i())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(Wh(c))return;throw c}finally{a||n.abort()}}return new t(s,n,r)}[(sO=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>o(e),this.controller,he(this,sO,"f")),new t(()=>o(n),this.controller,he(this,sO,"f"))]}toReadableStream(){let e=this,n;return Vfe({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:o,done:i}=await n.next();if(i)return r.close();let s=oO(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){await n.return?.()}})}};async function*VXt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");let n=new qfe,r=new Kh,o=rO(t.body);for await(let i of zXt(o))for(let s of r.decode(i)){let a=n.decode(s);a&&(yield a)}for(let i of r.flush()){let s=n.decode(i);s&&(yield s)}}async function*zXt(t){let e=new Uint8Array;for await(let n of t){if(n==null)continue;let r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?oO(n):n,o=new Uint8Array(e.length+r.length);o.set(e),o.set(r,e.length),e=o;let i;for(;(i=Utt(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}var qfe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=jXt(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function jXt(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function iH(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=e,s=await(async()=>{if(e.options.stream)return ds(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Wf.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await n.json();return Wfe(d,n)}return await n.text()})();return ds(t).debug(`[${r}] response parsed`,Jh({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}function Wfe(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var aO,JS=class t extends Promise{constructor(e,n,r=iH){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,aO.set(this,void 0),gt(this,aO,e,"f")}_thenUnwrap(e){return new t(he(this,aO,"f"),this.responsePromise,async(n,r)=>Wfe(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(he(this,aO,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};aO=new WeakMap;var sH,aH=class{constructor(e,n,r,o){sH.set(this,void 0),gt(this,sH,e,"f"),this.options=o,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new kt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await he(this,sH,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(sH=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let n of e.getPaginatedItems())yield n}},cO=class extends JS{constructor(e,n,r){super(e,n,async(o,i)=>new r(o,i.response,await iH(o,i),i.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let n of e)yield n}},ld=class extends aH{constructor(e,n,r,o){super(e,n,r,o),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){let n=this.first_id;return n?{...this.options,query:{...eH(this.options.query),before_id:n}}:null}let e=this.last_id;return e?{...this.options,query:{...eH(this.options.query),after_id:e}}:null}};var Cw=class extends aH{constructor(e,n,r,o){super(e,n,r,o),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.next_page;return e?{...this.options,query:{...eH(this.options.query),page:e}}:null}};var Jfe=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function YS(t,e,n){return Jfe(),new File(t,e??"unknown_file",n)}function lO(t,e){let n=typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"";return e?n.split(/[\\/]/).pop()||void 0:n}var Yfe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Nw=async(t,e,n=!0)=>({...t,body:await KXt(t.body,e,n)}),Ftt=new WeakMap;function WXt(t){let e=typeof t=="function"?t:t.fetch,n=Ftt.get(e);if(n)return n;let r=(async()=>{try{let o="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new o(i).text()}catch{return!0}})();return Ftt.set(e,r),r}var KXt=async(t,e,n=!0)=>{if(!await WXt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(t||{}).map(([o,i])=>Kfe(r,o,i,n))),r},JXt=t=>t instanceof Blob&&"name"in t;var Kfe=async(t,e,n,r)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response){let o={},i=n.headers.get("Content-Type");i&&(o={type:i}),t.append(e,YS([await n.blob()],lO(n,r),o))}else if(Yfe(n))t.append(e,YS([await new Response(nH(n)).blob()],lO(n,r)));else if(JXt(n))t.append(e,YS([n],lO(n,r),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(o=>Kfe(t,e+"[]",o,r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,i])=>Kfe(t,`${e}[${o}]`,i,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Htt=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",YXt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Htt(t),QXt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cH(t,e,n){if(Jfe(),t=await t,e||(e=lO(t,!0)),YXt(t))return t instanceof File&&e==null&&n==null?t:YS([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...n});if(QXt(t)){let o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),YS(await Qfe(o),e,n)}let r=await Qfe(t);if(!n?.type){let o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n={...n,type:o})}return YS(r,e,n)}async function Qfe(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Htt(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Yfe(t))for await(let n of t)e.push(...await Qfe(n));else{let n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${XXt(t)}`)}return e}function XXt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var wo=class{constructor(e){this._client=e}};var Gtt=Symbol.for("brand.privateNullableHeaders");function*eZt(t){if(!t)return;if(Gtt in t){let{values:r,nulls:o}=t;yield*r.entries();for(let i of o)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Gfe(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let i=Gfe(r[1])?r[1]:[r[1]],s=!1;for(let a of i)a!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,a])}}var ln=t=>{let e=new Headers,n=new Set;for(let r of t){let o=new Set;for(let[i,s]of eZt(r)){let a=i.toLowerCase();o.has(a)||(e.delete(i),o.add(a)),s===null?(e.delete(i),n.add(a)):(e.append(i,s),n.delete(a))}}return{[Gtt]:!0,values:e,nulls:n}};var uO=Symbol("anthropic.sdk.stainlessHelper");function lH(t){return typeof t=="object"&&t!==null&&uO in t}function Xfe(t,e){let n=new Set;if(t)for(let r of t)lH(r)&&n.add(r[uO]);if(e){for(let r of e)if(lH(r)&&n.add(r[uO]),Array.isArray(r.content))for(let o of r.content)lH(o)&&n.add(o[uO])}return Array.from(n)}function uH(t,e){let n=Xfe(t,e);return n.length===0?{}:{"x-stainless-helper":n.join(", ")}}function Vtt(t){return lH(t)?{"x-stainless-helper":t[uO]}:{}}function jtt(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var ztt=Object.freeze(Object.create(null)),tZt=(t=jtt)=>function(n,...r){if(n.length===1)return n[0];let o=!1,i=[],s=n.reduce((u,d,p)=>{/[?#]/.test(d)&&(o=!0);let f=r[p],h=(o?encodeURIComponent:t)(""+f);return p!==r.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??ztt)??ztt)?.toString)&&(h=f+"",i.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===r.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((u,d)=>u.start-d.start),i.length>0){let u=0,d=i.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new kt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},To=tZt(jtt);var Ow=class extends wo{list(e={},n){let{betas:r,...o}=e??{};return this._client.getAPIList("/v1/files",ld,{query:o,...n,headers:ln([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}delete(e,n={},r){let{betas:o}=n??{};return this._client.delete(To`/v1/files/${e}`,{...r,headers:ln([{"anthropic-beta":[...o??[],"files-api-2025-04-14"].toString()},r?.headers])})}download(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/files/${e}/content`,{...r,headers:ln([{"anthropic-beta":[...o??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}retrieveMetadata(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/files/${e}`,{...r,headers:ln([{"anthropic-beta":[...o??[],"files-api-2025-04-14"].toString()},r?.headers])})}upload(e,n){let{betas:r,...o}=e;return this._client.post("/v1/files",Nw({body:o,...n,headers:ln([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},Vtt(o.file),n?.headers])},this._client))}};var Pw=class extends wo{retrieve(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/models/${e}?beta=true`,{...r,headers:ln([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},r?.headers])})}list(e={},n){let{betas:r,...o}=e??{};return this._client.getAPIList("/v1/models?beta=true",ld,{query:o,...n,headers:ln([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}};var dH={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function qtt(t){return t?.output_format??t?.output_config?.format}function Zfe(t,e,n){let r=qtt(e);return!e||!("parse"in(r??{}))?{...t,content:t.content.map(o=>{if(o.type==="text"){let i=Object.defineProperty({...o},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(i,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return o}),parsed_output:null}:eme(t,e,n)}function eme(t,e,n){let r=null,o=t.content.map(i=>{if(i.type==="text"){let s=oZt(e,i.text);r===null&&(r=s);let a=Object.defineProperty({...i},"parsed_output",{value:s,enumerable:!1});return Object.defineProperty(a,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),s},enumerable:!1})}return i});return{...t,content:o,parsed_output:r}}function oZt(t,e){let n=qtt(t);if(n?.type!=="json_schema")return null;try{return"parse"in n?n.parse(e):JSON.parse(e)}catch(r){throw new kt(`Failed to parse structured output: ${r}`)}}var iZt=t=>{let e=0,n=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(r==="["){n.push({type:"paren",value:"["}),e++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(r===":"){n.push({type:"separator",value:":"}),e++;continue}if(r===","){n.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let a="",c=!1;for(r=t[++e];r!=='"';){if(e===t.length){c=!0;break}if(r==="\\"){if(e++,e===t.length){c=!0;break}a+=r+t[e],r=t[++e]}else a+=r,r=t[++e]}r=t[++e],c||n.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){e++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=t[++e]);r&&i.test(r)||r===".";)a+=r,r=t[++e];n.push({type:"number",value:a});continue}let s=/[a-z]/i;if(r&&s.test(r)){let a="";for(;r&&s.test(r)&&e!==t.length;)a+=r,r=t[++e];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{e++;continue}continue}e++}return n},Dw=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),Dw(t);break;case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),Dw(t);case"string":let r=t[t.length-2];if(r?.type==="delimiter")return t=t.slice(0,t.length-1),Dw(t);if(r?.type==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),Dw(t);break;case"delimiter":return t=t.slice(0,t.length-1),Dw(t);break}return t},sZt=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},aZt=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},pH=t=>JSON.parse(aZt(sZt(Dw(iZt(t)))));var ud,iy,kw,dO,fH,pO,fO,mH,mO,Yh,hO,hH,gH,QS,yH,bH,gO,tme,Wtt,_H,nme,rme,ome,Ktt,Jtt="__json_buf";function Ytt(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}var SH=class t{constructor(e,n){ud.add(this),this.messages=[],this.receivedMessages=[],iy.set(this,void 0),kw.set(this,null),this.controller=new AbortController,dO.set(this,void 0),fH.set(this,()=>{}),pO.set(this,()=>{}),fO.set(this,void 0),mH.set(this,()=>{}),mO.set(this,()=>{}),Yh.set(this,{}),hO.set(this,!1),hH.set(this,!1),gH.set(this,!1),QS.set(this,!1),yH.set(this,void 0),bH.set(this,void 0),gO.set(this,void 0),_H.set(this,r=>{if(gt(this,hH,!0,"f"),Wh(r)&&(r=new Ms),r instanceof Ms)return gt(this,gH,!0,"f"),this._emit("abort",r);if(r instanceof kt)return this._emit("error",r);if(r instanceof Error){let o=new kt(r.message);return o.cause=r,this._emit("error",o)}return this._emit("error",new kt(String(r)))}),gt(this,dO,new Promise((r,o)=>{gt(this,fH,r,"f"),gt(this,pO,o,"f")}),"f"),gt(this,fO,new Promise((r,o)=>{gt(this,mH,r,"f"),gt(this,mO,o,"f")}),"f"),he(this,dO,"f").catch(()=>{}),he(this,fO,"f").catch(()=>{}),gt(this,kw,e,"f"),gt(this,gO,n?.logger??console,"f")}get response(){return he(this,yH,"f")}get request_id(){return he(this,bH,"f")}async withResponse(){gt(this,QS,!0,"f");let e=await he(this,dO,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let n=new t(null);return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r,{logger:o}={}){let i=new t(n,{logger:o});for(let s of n.messages)i._addMessageParam(s);return gt(i,kw,{...n,stream:!0},"f"),i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},he(this,_H,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){let o=r?.signal,i;o&&(o.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),o.addEventListener("abort",i));try{he(this,ud,"m",nme).call(this);let{response:s,data:a}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)he(this,ud,"m",rme).call(this,c);if(a.controller.signal?.aborted)throw new Ms;he(this,ud,"m",ome).call(this)}finally{o&&i&&o.removeEventListener("abort",i)}}_connected(e){this.ended||(gt(this,yH,e,"f"),gt(this,bH,e?.headers.get("request-id"),"f"),he(this,fH,"f").call(this,e),this._emit("connect"))}get ended(){return he(this,hO,"f")}get errored(){return he(this,hH,"f")}get aborted(){return he(this,gH,"f")}abort(){this.controller.abort()}on(e,n){return(he(this,Yh,"f")[e]||(he(this,Yh,"f")[e]=[])).push({listener:n}),this}off(e,n){let r=he(this,Yh,"f")[e];if(!r)return this;let o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(e,n){return(he(this,Yh,"f")[e]||(he(this,Yh,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{gt(this,QS,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){gt(this,QS,!0,"f"),await he(this,fO,"f")}get currentMessage(){return he(this,iy,"f")}async finalMessage(){return await this.done(),he(this,ud,"m",tme).call(this)}async finalText(){return await this.done(),he(this,ud,"m",Wtt).call(this)}_emit(e,...n){if(he(this,hO,"f"))return;e==="end"&&(gt(this,hO,!0,"f"),he(this,mH,"f").call(this));let r=he(this,Yh,"f")[e];if(r&&(he(this,Yh,"f")[e]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),e==="abort"){let o=n[0];!he(this,QS,"f")&&!r?.length&&Promise.reject(o),he(this,pO,"f").call(this,o),he(this,mO,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=n[0];!he(this,QS,"f")&&!r?.length&&Promise.reject(o),he(this,pO,"f").call(this,o),he(this,mO,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",he(this,ud,"m",tme).call(this))}async _fromReadableStream(e,n){let r=n?.signal,o;r&&(r.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),r.addEventListener("abort",o));try{he(this,ud,"m",nme).call(this),this._connected(null);let i=Wf.fromReadableStream(e,this.controller);for await(let s of i)he(this,ud,"m",rme).call(this,s);if(i.controller.signal?.aborted)throw new Ms;he(this,ud,"m",ome).call(this)}finally{r&&o&&r.removeEventListener("abort",o)}}[(iy=new WeakMap,kw=new WeakMap,dO=new WeakMap,fH=new WeakMap,pO=new WeakMap,fO=new WeakMap,mH=new WeakMap,mO=new WeakMap,Yh=new WeakMap,hO=new WeakMap,hH=new WeakMap,gH=new WeakMap,QS=new WeakMap,yH=new WeakMap,bH=new WeakMap,gO=new WeakMap,_H=new WeakMap,ud=new WeakSet,tme=function(){if(this.receivedMessages.length===0)throw new kt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Wtt=function(){if(this.receivedMessages.length===0)throw new kt("stream ended without producing a Message with role=assistant");let n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new kt("stream ended without producing a content block with type=text");return n.join(" ")},nme=function(){this.ended||gt(this,iy,void 0,"f")},rme=function(n){if(this.ended)return;let r=he(this,ud,"m",Ktt).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{let o=r.content.at(-1);switch(n.delta.type){case"text_delta":{o.type==="text"&&this._emit("text",n.delta.text,o.text||"");break}case"citations_delta":{o.type==="text"&&this._emit("citation",n.delta.citation,o.citations??[]);break}case"input_json_delta":{Ytt(o)&&o.input&&this._emit("inputJson",n.delta.partial_json,o.input);break}case"thinking_delta":{o.type==="thinking"&&this._emit("thinking",n.delta.thinking,o.thinking);break}case"signature_delta":{o.type==="thinking"&&this._emit("signature",o.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(Zfe(r,he(this,kw,"f"),{logger:he(this,gO,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{gt(this,iy,r,"f");break}case"content_block_start":case"message_delta":break}},ome=function(){if(this.ended)throw new kt("stream has ended, this shouldn't happen");let n=he(this,iy,"f");if(!n)throw new kt("request ended without sending any chunks");return gt(this,iy,void 0,"f"),Zfe(n,he(this,kw,"f"),{logger:he(this,gO,"f")})},Ktt=function(n){let r=he(this,iy,"f");if(n.type==="message_start"){if(r)throw new kt(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new kt(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.container=n.delta.container,r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r.context_management=n.context_management,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{let o=r.content.at(n.index);switch(n.delta.type){case"text_delta":{o?.type==="text"&&(r.content[n.index]={...o,text:(o.text||"")+n.delta.text});break}case"citations_delta":{o?.type==="text"&&(r.content[n.index]={...o,citations:[...o.citations??[],n.delta.citation]});break}case"input_json_delta":{if(o&&Ytt(o)){let i=o[Jtt]||"";i+=n.delta.partial_json;let s={...o};if(Object.defineProperty(s,Jtt,{value:i,enumerable:!1,writable:!0}),i)try{s.input=pH(i)}catch(a){let c=new kt(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${i}`);he(this,_H,"f").call(this,c)}r.content[n.index]=s}break}case"thinking_delta":{o?.type==="thinking"&&(r.content[n.index]={...o,thinking:o.thinking+n.delta.thinking});break}case"signature_delta":{o?.type==="thinking"&&(r.content[n.index]={...o,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){let e=[],n=[],r=!1;return this.on("streamEvent",o=>{let i=n.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Wf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var XS=class extends Error{constructor(e){let n=typeof e=="string"?e:e.map(r=>r.type==="text"?r.text:`[${r.type}]`).join(" ");super(n),this.name="ToolError",this.content=e}};var Qtt=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but complete\u2014err on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var yO,Lw,ZS,Wi,bO,wl,Qh,sy,_O,Xtt,ime;function Ztt(){let t,e;return{promise:new Promise((r,o)=>{t=r,e=o}),resolve:t,reject:e}}var Mw=class{constructor(e,n,r){yO.add(this),this.client=e,Lw.set(this,!1),ZS.set(this,!1),Wi.set(this,void 0),bO.set(this,void 0),wl.set(this,void 0),Qh.set(this,void 0),sy.set(this,void 0),_O.set(this,0),gt(this,Wi,{params:{...n,messages:structuredClone(n.messages)}},"f");let i=["BetaToolRunner",...Xfe(n.tools,n.messages)].join(", ");gt(this,bO,{...r,headers:ln([{"x-stainless-helper":i},r?.headers])},"f"),gt(this,sy,Ztt(),"f")}async*[(Lw=new WeakMap,ZS=new WeakMap,Wi=new WeakMap,bO=new WeakMap,wl=new WeakMap,Qh=new WeakMap,sy=new WeakMap,_O=new WeakMap,yO=new WeakSet,Xtt=async function(){let n=he(this,Wi,"f").params.compactionControl;if(!n||!n.enabled)return!1;let r=0;if(he(this,wl,"f")!==void 0)try{let l=await he(this,wl,"f");r=l.usage.input_tokens+(l.usage.cache_creation_input_tokens??0)+(l.usage.cache_read_input_tokens??0)+l.usage.output_tokens}catch{return!1}let o=n.contextTokenThreshold??1e5;if(r<o)return!1;let i=n.model??he(this,Wi,"f").params.model,s=n.summaryPrompt??Qtt,a=he(this,Wi,"f").params.messages;if(a[a.length-1].role==="assistant"){let l=a[a.length-1];if(Array.isArray(l.content)){let u=l.content.filter(d=>d.type!=="tool_use");u.length===0?a.pop():l.content=u}}let c=await this.client.beta.messages.create({model:i,messages:[...a,{role:"user",content:[{type:"text",text:s}]}],max_tokens:he(this,Wi,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(c.content[0]?.type!=="text")throw new kt("Expected text response for compaction");return he(this,Wi,"f").params.messages=[{role:"user",content:c.content}],!0},Symbol.asyncIterator)](){var e;if(he(this,Lw,"f"))throw new kt("Cannot iterate over a consumed stream");gt(this,Lw,!0,"f"),gt(this,ZS,!0,"f"),gt(this,Qh,void 0,"f");try{for(;;){let n;try{if(he(this,Wi,"f").params.max_iterations&&he(this,_O,"f")>=he(this,Wi,"f").params.max_iterations)break;gt(this,ZS,!1,"f"),gt(this,Qh,void 0,"f"),gt(this,_O,(e=he(this,_O,"f"),e++,e),"f"),gt(this,wl,void 0,"f");let{max_iterations:r,compactionControl:o,...i}=he(this,Wi,"f").params;if(i.stream?(n=this.client.beta.messages.stream({...i},he(this,bO,"f")),gt(this,wl,n.finalMessage(),"f"),he(this,wl,"f").catch(()=>{}),yield n):(gt(this,wl,this.client.beta.messages.create({...i,stream:!1},he(this,bO,"f")),"f"),yield he(this,wl,"f")),!await he(this,yO,"m",Xtt).call(this)){if(!he(this,ZS,"f")){let{role:c,content:l}=await he(this,wl,"f");he(this,Wi,"f").params.messages.push({role:c,content:l})}let a=await he(this,yO,"m",ime).call(this,he(this,Wi,"f").params.messages.at(-1));if(a)he(this,Wi,"f").params.messages.push(a);else if(!he(this,ZS,"f"))break}}finally{n&&n.abort()}}if(!he(this,wl,"f"))throw new kt("ToolRunner concluded without a message from the server");he(this,sy,"f").resolve(await he(this,wl,"f"))}catch(n){throw gt(this,Lw,!1,"f"),he(this,sy,"f").promise.catch(()=>{}),he(this,sy,"f").reject(n),gt(this,sy,Ztt(),"f"),n}}setMessagesParams(e){typeof e=="function"?he(this,Wi,"f").params=e(he(this,Wi,"f").params):he(this,Wi,"f").params=e,gt(this,ZS,!0,"f"),gt(this,Qh,void 0,"f")}async generateToolResponse(){let e=await he(this,wl,"f")??this.params.messages.at(-1);return e?he(this,yO,"m",ime).call(this,e):null}done(){return he(this,sy,"f").promise}async runUntilDone(){if(!he(this,Lw,"f"))for await(let e of this);return this.done()}get params(){return he(this,Wi,"f").params}pushMessages(...e){this.setMessagesParams(n=>({...n,messages:[...n.messages,...e]}))}then(e,n){return this.runUntilDone().then(e,n)}};ime=async function(e){return he(this,Qh,"f")!==void 0?he(this,Qh,"f"):(gt(this,Qh,lZt(he(this,Wi,"f").params,e),"f"),he(this,Qh,"f"))};async function lZt(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;let n=e.content.filter(o=>o.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async o=>{let i=t.tools.find(s=>("name"in s?s.name:s.mcp_server_name)===o.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:o.id,content:`Error: Tool '${o.name}' not found`,is_error:!0};try{let s=o.input;"parse"in i&&i.parse&&(s=i.parse(s));let a=await i.run(s);return{type:"tool_result",tool_use_id:o.id,content:a}}catch(s){return{type:"tool_result",tool_use_id:o.id,content:s instanceof XS?s.content:`Error: ${s instanceof Error?s.message:String(s)}`,is_error:!0}}}))}}var Bw=class t{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){let e=new Kh;for await(let n of this.iterator)for(let r of e.decode(n))yield JSON.parse(r);for(let n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");return new t(rO(e.body),n)}};var Uw=class extends wo{create(e,n){let{betas:r,...o}=e;return this._client.post("/v1/messages/batches?beta=true",{body:o,...n,headers:ln([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}retrieve(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/messages/batches/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString()},r?.headers])})}list(e={},n){let{betas:r,...o}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",ld,{query:o,...n,headers:ln([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}delete(e,n={},r){let{betas:o}=n??{};return this._client.delete(To`/v1/messages/batches/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString()},r?.headers])})}cancel(e,n={},r){let{betas:o}=n??{};return this._client.post(To`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:ln([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString()},r?.headers])})}async results(e,n={},r){let o=await this.retrieve(e);if(!o.results_url)throw new kt(`No batch \`results_url\`; Has it finished processing? ${o.processing_status} - ${o.id}`);let{betas:i}=n??{};return this._client.get(o.results_url,{...r,headers:ln([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,a)=>Bw.fromResponse(a.response,a.controller))}};var ent={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"},Xh=class extends wo{constructor(){super(...arguments),this.batches=new Uw(this._client)}create(e,n){let r=tnt(e),{betas:o,...i}=r;i.model in ent&&console.warn(`The model '${i.model}' is deprecated and will reach end-of-life on ${ent[i.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!i.stream&&s==null){let c=dH[i.model]??void 0;s=this._client.calculateNonstreamingTimeout(i.max_tokens,c)}let a=uH(i.tools,i.messages);return this._client.post("/v1/messages?beta=true",{body:i,timeout:s??6e5,...n,headers:ln([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},a,n?.headers]),stream:r.stream??!1})}parse(e,n){return n={...n,headers:ln([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-12-15"].toString()},n?.headers])},this.create(e,n).then(r=>eme(r,e,{logger:this._client.logger??console}))}stream(e,n){return SH.createMessage(this,e,n)}countTokens(e,n){let r=tnt(e),{betas:o,...i}=r;return this._client.post("/v1/messages/count_tokens?beta=true",{body:i,...n,headers:ln([{"anthropic-beta":[...o??[],"token-counting-2024-11-01"].toString()},n?.headers])})}toolRunner(e,n){return new Mw(this._client,e,n)}};function tnt(t){if(!t.output_format)return t;if(t.output_config?.format)throw new kt("Both output_format and output_config.format were provided. Please use only output_config.format (output_format is deprecated).");let{output_format:e,...n}=t;return{...n,output_config:{...t.output_config,format:e}}}Xh.Batches=Uw;Xh.BetaToolRunner=Mw;Xh.ToolError=XS;var $w=class extends wo{create(e,n={},r){let{betas:o,...i}=n??{};return this._client.post(To`/v1/skills/${e}/versions?beta=true`,Nw({body:i,...r,headers:ln([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r?.headers])},this._client))}retrieve(e,n,r){let{skill_id:o,betas:i}=n;return this._client.get(To`/v1/skills/${o}/versions/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r?.headers])})}list(e,n={},r){let{betas:o,...i}=n??{};return this._client.getAPIList(To`/v1/skills/${e}/versions?beta=true`,Cw,{query:i,...r,headers:ln([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r?.headers])})}delete(e,n,r){let{skill_id:o,betas:i}=n;return this._client.delete(To`/v1/skills/${o}/versions/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r?.headers])})}};var ev=class extends wo{constructor(){super(...arguments),this.versions=new $w(this._client)}create(e={},n){let{betas:r,...o}=e??{};return this._client.post("/v1/skills?beta=true",Nw({body:o,...n,headers:ln([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])},this._client,!1))}retrieve(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/skills/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r?.headers])})}list(e={},n){let{betas:r,...o}=e??{};return this._client.getAPIList("/v1/skills?beta=true",Cw,{query:o,...n,headers:ln([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(e,n={},r){let{betas:o}=n??{};return this._client.delete(To`/v1/skills/${e}?beta=true`,{...r,headers:ln([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},r?.headers])})}};ev.Versions=$w;var pp=class extends wo{constructor(){super(...arguments),this.models=new Pw(this._client),this.messages=new Xh(this._client),this.files=new Ow(this._client),this.skills=new ev(this._client)}};pp.Models=Pw;pp.Messages=Xh;pp.Files=Ow;pp.Skills=ev;var tv=class extends wo{create(e,n){let{betas:r,...o}=e;return this._client.post("/v1/complete",{body:o,timeout:this._client._options.timeout??6e5,...n,headers:ln([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers]),stream:e.stream??!1})}};function nnt(t){return t?.output_config?.format}function sme(t,e,n){let r=nnt(e);return!e||!("parse"in(r??{}))?{...t,content:t.content.map(o=>o.type==="text"?Object.defineProperty({...o},"parsed_output",{value:null,enumerable:!1}):o),parsed_output:null}:ame(t,e,n)}function ame(t,e,n){let r=null,o=t.content.map(i=>{if(i.type==="text"){let s=mZt(e,i.text);return r===null&&(r=s),Object.defineProperty({...i},"parsed_output",{value:s,enumerable:!1})}return i});return{...t,content:o,parsed_output:r}}function mZt(t,e){let n=nnt(t);if(n?.type!=="json_schema")return null;try{return"parse"in n?n.parse(e):JSON.parse(e)}catch(r){throw new kt(`Failed to parse structured output: ${r}`)}}var dd,ay,Fw,SO,vH,vO,EO,EH,AO,Zh,xO,AH,xH,nv,wH,TH,wO,cme,rnt,lme,ume,dme,pme,ont,int="__json_buf";function snt(t){return t.type==="tool_use"||t.type==="server_tool_use"}var IH=class t{constructor(e,n){dd.add(this),this.messages=[],this.receivedMessages=[],ay.set(this,void 0),Fw.set(this,null),this.controller=new AbortController,SO.set(this,void 0),vH.set(this,()=>{}),vO.set(this,()=>{}),EO.set(this,void 0),EH.set(this,()=>{}),AO.set(this,()=>{}),Zh.set(this,{}),xO.set(this,!1),AH.set(this,!1),xH.set(this,!1),nv.set(this,!1),wH.set(this,void 0),TH.set(this,void 0),wO.set(this,void 0),lme.set(this,r=>{if(gt(this,AH,!0,"f"),Wh(r)&&(r=new Ms),r instanceof Ms)return gt(this,xH,!0,"f"),this._emit("abort",r);if(r instanceof kt)return this._emit("error",r);if(r instanceof Error){let o=new kt(r.message);return o.cause=r,this._emit("error",o)}return this._emit("error",new kt(String(r)))}),gt(this,SO,new Promise((r,o)=>{gt(this,vH,r,"f"),gt(this,vO,o,"f")}),"f"),gt(this,EO,new Promise((r,o)=>{gt(this,EH,r,"f"),gt(this,AO,o,"f")}),"f"),he(this,SO,"f").catch(()=>{}),he(this,EO,"f").catch(()=>{}),gt(this,Fw,e,"f"),gt(this,wO,n?.logger??console,"f")}get response(){return he(this,wH,"f")}get request_id(){return he(this,TH,"f")}async withResponse(){gt(this,nv,!0,"f");let e=await he(this,SO,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let n=new t(null);return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r,{logger:o}={}){let i=new t(n,{logger:o});for(let s of n.messages)i._addMessageParam(s);return gt(i,Fw,{...n,stream:!0},"f"),i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},he(this,lme,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){let o=r?.signal,i;o&&(o.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),o.addEventListener("abort",i));try{he(this,dd,"m",ume).call(this);let{response:s,data:a}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)he(this,dd,"m",dme).call(this,c);if(a.controller.signal?.aborted)throw new Ms;he(this,dd,"m",pme).call(this)}finally{o&&i&&o.removeEventListener("abort",i)}}_connected(e){this.ended||(gt(this,wH,e,"f"),gt(this,TH,e?.headers.get("request-id"),"f"),he(this,vH,"f").call(this,e),this._emit("connect"))}get ended(){return he(this,xO,"f")}get errored(){return he(this,AH,"f")}get aborted(){return he(this,xH,"f")}abort(){this.controller.abort()}on(e,n){return(he(this,Zh,"f")[e]||(he(this,Zh,"f")[e]=[])).push({listener:n}),this}off(e,n){let r=he(this,Zh,"f")[e];if(!r)return this;let o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(e,n){return(he(this,Zh,"f")[e]||(he(this,Zh,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{gt(this,nv,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){gt(this,nv,!0,"f"),await he(this,EO,"f")}get currentMessage(){return he(this,ay,"f")}async finalMessage(){return await this.done(),he(this,dd,"m",cme).call(this)}async finalText(){return await this.done(),he(this,dd,"m",rnt).call(this)}_emit(e,...n){if(he(this,xO,"f"))return;e==="end"&&(gt(this,xO,!0,"f"),he(this,EH,"f").call(this));let r=he(this,Zh,"f")[e];if(r&&(he(this,Zh,"f")[e]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),e==="abort"){let o=n[0];!he(this,nv,"f")&&!r?.length&&Promise.reject(o),he(this,vO,"f").call(this,o),he(this,AO,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=n[0];!he(this,nv,"f")&&!r?.length&&Promise.reject(o),he(this,vO,"f").call(this,o),he(this,AO,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",he(this,dd,"m",cme).call(this))}async _fromReadableStream(e,n){let r=n?.signal,o;r&&(r.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),r.addEventListener("abort",o));try{he(this,dd,"m",ume).call(this),this._connected(null);let i=Wf.fromReadableStream(e,this.controller);for await(let s of i)he(this,dd,"m",dme).call(this,s);if(i.controller.signal?.aborted)throw new Ms;he(this,dd,"m",pme).call(this)}finally{r&&o&&r.removeEventListener("abort",o)}}[(ay=new WeakMap,Fw=new WeakMap,SO=new WeakMap,vH=new WeakMap,vO=new WeakMap,EO=new WeakMap,EH=new WeakMap,AO=new WeakMap,Zh=new WeakMap,xO=new WeakMap,AH=new WeakMap,xH=new WeakMap,nv=new WeakMap,wH=new WeakMap,TH=new WeakMap,wO=new WeakMap,lme=new WeakMap,dd=new WeakSet,cme=function(){if(this.receivedMessages.length===0)throw new kt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},rnt=function(){if(this.receivedMessages.length===0)throw new kt("stream ended without producing a Message with role=assistant");let n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new kt("stream ended without producing a content block with type=text");return n.join(" ")},ume=function(){this.ended||gt(this,ay,void 0,"f")},dme=function(n){if(this.ended)return;let r=he(this,dd,"m",ont).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{let o=r.content.at(-1);switch(n.delta.type){case"text_delta":{o.type==="text"&&this._emit("text",n.delta.text,o.text||"");break}case"citations_delta":{o.type==="text"&&this._emit("citation",n.delta.citation,o.citations??[]);break}case"input_json_delta":{snt(o)&&o.input&&this._emit("inputJson",n.delta.partial_json,o.input);break}case"thinking_delta":{o.type==="thinking"&&this._emit("thinking",n.delta.thinking,o.thinking);break}case"signature_delta":{o.type==="thinking"&&this._emit("signature",o.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(sme(r,he(this,Fw,"f"),{logger:he(this,wO,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{gt(this,ay,r,"f");break}case"content_block_start":case"message_delta":break}},pme=function(){if(this.ended)throw new kt("stream has ended, this shouldn't happen");let n=he(this,ay,"f");if(!n)throw new kt("request ended without sending any chunks");return gt(this,ay,void 0,"f"),sme(n,he(this,Fw,"f"),{logger:he(this,wO,"f")})},ont=function(n){let r=he(this,ay,"f");if(n.type==="message_start"){if(r)throw new kt(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new kt(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push({...n.content_block}),r;case"content_block_delta":{let o=r.content.at(n.index);switch(n.delta.type){case"text_delta":{o?.type==="text"&&(r.content[n.index]={...o,text:(o.text||"")+n.delta.text});break}case"citations_delta":{o?.type==="text"&&(r.content[n.index]={...o,citations:[...o.citations??[],n.delta.citation]});break}case"input_json_delta":{if(o&&snt(o)){let i=o[int]||"";i+=n.delta.partial_json;let s={...o};Object.defineProperty(s,int,{value:i,enumerable:!1,writable:!0}),i&&(s.input=pH(i)),r.content[n.index]=s}break}case"thinking_delta":{o?.type==="thinking"&&(r.content[n.index]={...o,thinking:o.thinking+n.delta.thinking});break}case"signature_delta":{o?.type==="thinking"&&(r.content[n.index]={...o,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){let e=[],n=[],r=!1;return this.on("streamEvent",o=>{let i=n.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Wf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var Hw=class extends wo{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(To`/v1/messages/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/v1/messages/batches",ld,{query:e,...n})}delete(e,n){return this._client.delete(To`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(To`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){let r=await this.retrieve(e);if(!r.results_url)throw new kt(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:ln([{Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,i)=>Bw.fromResponse(i.response,i.controller))}};var cy=class extends wo{constructor(){super(...arguments),this.batches=new Hw(this._client)}create(e,n){e.model in ant&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${ant[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){let i=dH[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,i)}let o=uH(e.tools,e.messages);return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...n,headers:ln([o,n?.headers]),stream:e.stream??!1})}parse(e,n){return this.create(e,n).then(r=>ame(r,e,{logger:this._client.logger??console}))}stream(e,n){return IH.createMessage(this,e,n,{logger:this._client.logger??console})}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}},ant={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026","claude-3-5-haiku-latest":"February 19th, 2026","claude-3-5-haiku-20241022":"February 19th, 2026"};cy.Batches=Hw;var rv=class extends wo{retrieve(e,n={},r){let{betas:o}=n??{};return this._client.get(To`/v1/models/${e}`,{...r,headers:ln([{...o?.toString()!=null?{"anthropic-beta":o?.toString()}:void 0},r?.headers])})}list(e={},n){let{betas:r,...o}=e??{};return this._client.getAPIList("/v1/models",ld,{query:o,...n,headers:ln([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}};var TO=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var fme,mme,RH,cnt,lnt="\\n\\nHuman:",unt="\\n\\nAssistant:",Lo=class{constructor({baseURL:e=TO("ANTHROPIC_BASE_URL"),apiKey:n=TO("ANTHROPIC_API_KEY")??null,authToken:r=TO("ANTHROPIC_AUTH_TOKEN")??null,...o}={}){fme.add(this),RH.set(this,void 0);let i={apiKey:n,authToken:r,...o,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&Ntt())throw new kt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??mme.DEFAULT_TIMEOUT,this.logger=i.logger??console;let s="warn";this.logLevel=s,this.logLevel=jfe(i.logLevel,"ClientOptions.logLevel",this)??jfe(TO("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??s,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??Ptt(),gt(this,RH,ktt,"f"),this._options=i,this.apiKey=typeof n=="string"?n:null,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return ln([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return ln([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return ln([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new kt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${oy}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ffe()}`}makeStatusError(e,n,r,o){return us.generate(e,n,r,o)}buildURL(e,n,r){let o=!he(this,fme,"m",cnt).call(this)&&r||this.baseURL,i=Ett(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Att(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new kt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>({method:e,path:n,...o})))}request(e,n=null){return new JS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){let o=await e,i=o.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(o);let{req:s,url:a,timeout:c}=await this.buildRequest(o,{retryCount:i-n});await this.prepareRequest(s,{url:a,options:o});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(ds(this).debug(`[${l}] sending request`,Jh({retryOfRequestLogID:r,method:o.method,url:a,options:o,headers:s.headers})),o.signal?.aborted)throw new Ms;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(nO),h=Date.now();if(f instanceof globalThis.Error){let y=`retrying, ${n} attempts remaining`;if(o.signal?.aborted)throw new Ms;let S=Wh(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return ds(this).info(`[${l}] connection ${S?"timed out":"failed"} - ${y}`),ds(this).debug(`[${l}] connection ${S?"timed out":"failed"} (${y})`,Jh({retryOfRequestLogID:r,url:a,durationMs:h-d,message:f.message})),this.retryRequest(o,n,r??l);throw ds(this).info(`[${l}] connection ${S?"timed out":"failed"} - error; no more retries left`),ds(this).debug(`[${l}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Jh({retryOfRequestLogID:r,url:a,durationMs:h-d,message:f.message})),S?new Sw:new ry({cause:f})}let m=[...f.headers.entries()].filter(([y])=>y==="request-id").map(([y,S])=>", "+y+": "+JSON.stringify(S)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let y=await this.shouldRetry(f);if(n&&y){let D=`retrying, ${n} attempts remaining`;return await Dtt(f.body),ds(this).info(`${g} - ${D}`),ds(this).debug(`[${l}] response error (${D})`,Jh({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(o,n,r??l,f.headers)}let S=y?"error; no more retries left":"error; not retryable";ds(this).info(`${g} - ${S}`);let v=await f.text().catch(D=>nO(D).message),A=tH(v),w=A?void 0:v;throw ds(this).debug(`[${l}] response error (${S})`,Jh({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,message:w,durationMs:Date.now()-d})),this.makeStatusError(f.status,A,w,f.headers)}return ds(this).info(g),ds(this).debug(`[${l}] response start`,Jh({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:o,controller:p,requestLogID:l,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){let r=this.makeRequest(n,null,void 0);return new cO(this,r,e)}async fetchWithTimeout(e,n,r,o){let{signal:i,method:s,...a}=n||{};i&&i.addEventListener("abort",()=>o.abort());let c=setTimeout(()=>o.abort(),r),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:o.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){let i,s=o?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(i=c)}let a=o?.get("retry-after");if(a&&!i){let c=parseFloat(a);Number.isNaN(c)?i=Date.parse(a)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){let c=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,c)}return await Ttt(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){let i=n-e,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}calculateNonstreamingTimeout(e,n){if(36e5*e/128e3>6e5||n!=null&&e>n)throw new kt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:n=0}={}){let r={...e},{method:o,path:i,query:s,defaultBaseURL:a}=r,c=this.buildURL(i,s,a);"timeout"in r&&wtt("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:n});return{req:{method:o,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:c,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let s=ln([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Ott(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};let r=ln([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nH(e)}:he(this,RH,"f").call(this,{body:e,headers:r})}};mme=Lo,RH=new WeakMap,fme=new WeakSet,cnt=function(){return this.baseURL!=="https://api.anthropic.com"};Lo.Anthropic=mme;Lo.HUMAN_PROMPT=lnt;Lo.AI_PROMPT=unt;Lo.DEFAULT_TIMEOUT=6e5;Lo.AnthropicError=kt;Lo.APIError=us;Lo.APIConnectionError=ry;Lo.APIConnectionTimeoutError=Sw;Lo.APIUserAbortError=Ms;Lo.NotFoundError=xw;Lo.ConflictError=ww;Lo.RateLimitError=Iw;Lo.BadRequestError=vw;Lo.AuthenticationError=Ew;Lo.InternalServerError=Rw;Lo.PermissionDeniedError=Aw;Lo.UnprocessableEntityError=Tw;Lo.toFile=cH;var ma=class extends Lo{constructor(){super(...arguments),this.completions=new tv(this),this.messages=new cy(this),this.models=new rv(this),this.beta=new pp(this)}};ma.Completions=tv;ma.Messages=cy;ma.Models=rv;ma.Beta=pp;function zt(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function me(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}var hme=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return hme=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function IO(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var RO=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var vt=class extends Error{},Ki=class t extends vt{constructor(e,n,r,o){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.requestID=o?.get("x-request-id"),this.error=n;let i=n;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,n,r){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new ly({message:r,cause:RO(n)});let i=n?.error;return e===400?new Gw(e,i,r,o):e===401?new Vw(e,i,r,o):e===403?new zw(e,i,r,o):e===404?new jw(e,i,r,o):e===409?new qw(e,i,r,o):e===422?new Ww(e,i,r,o):e===429?new Kw(e,i,r,o):e>=500?new Jw(e,i,r,o):new t(e,i,r,o)}},Mi=class extends Ki{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},ly=class extends Ki{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},uy=class extends ly{constructor({message:e}={}){super({message:e??"Request timed out."})}},Gw=class extends Ki{},Vw=class extends Ki{},zw=class extends Ki{},jw=class extends Ki{},qw=class extends Ki{},Ww=class extends Ki{},Kw=class extends Ki{},Jw=class extends Ki{},Yw=class extends vt{constructor(){super("Could not parse response content as the length limit was reached")}},Qw=class extends vt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},Kf=class extends Error{constructor(e){super(e)}};var bZt=/^[a-z][a-z0-9+.-]*:/i,dnt=t=>bZt.test(t),ha=t=>(ha=Array.isArray,ha(t)),gme=ha;function yme(t){return typeof t!="object"?{}:t??{}}function pnt(t){if(!t)return!0;for(let e in t)return!1;return!0}function fnt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function CO(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}var mnt=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new vt(`${t} must be an integer`);if(e<0)throw new vt(`${t} must be a positive integer`);return e};var hnt=t=>{try{return JSON.parse(t)}catch{return}};var Jf=t=>new Promise(e=>setTimeout(e,t));var dy="6.17.0";var _nt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function _Zt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var SZt=()=>{let t=_Zt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dy,"X-Stainless-OS":ynt(Deno.build.os),"X-Stainless-Arch":gnt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dy,"X-Stainless-OS":ynt(globalThis.process.platform??"unknown"),"X-Stainless-Arch":gnt(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=vZt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vZt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${o}.${i}.${s}`}}}return null}var gnt=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ynt=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),bnt,Snt=()=>bnt??(bnt=SZt());function vnt(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bme(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function CH(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return bme({start(){},async pull(n){let{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){await e.return?.()}})}function _me(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ent(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),n=e.cancel();e.releaseLock(),await n}var Ant=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var NH="RFC3986",Sme=t=>String(t),OH={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:Sme},vme="RFC1738";var PH=(t,e)=>(PH=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),PH(t,e)),Yf=(()=>{let t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var Eme=1024,xnt=(t,e,n,r,o)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<i.length;a+=Eme){let c=i.length>=Eme?i.slice(a,a+Eme):i,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===vme&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=Yf[d];continue}if(d<2048){l[l.length]=Yf[192|d>>6]+Yf[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=Yf[224|d>>12]+Yf[128|d>>6&63]+Yf[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=Yf[240|d>>18]+Yf[128|d>>12&63]+Yf[128|d>>6&63]+Yf[128|d&63]}s+=l.join("")}return s};function wnt(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Ame(t,e){if(ha(t)){let n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}var Int={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Rnt=function(t,e){Array.prototype.push.apply(t,ha(e)?e:[e])},Tnt,Ji={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xnt,encodeValuesOnly:!1,format:NH,formatter:Sme,indices:!1,serializeDate(t){return(Tnt??(Tnt=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function xZt(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}var xme={};function Cnt(t,e,n,r,o,i,s,a,c,l,u,d,p,f,h,m,g,y){let S=t,v=y,A=0,w=!1;for(;(v=v.get(xme))!==void 0&&!w;){let U=v.get(t);if(A+=1,typeof U<"u"){if(U===A)throw new RangeError("Cyclic object value");w=!0}typeof v.get(xme)>"u"&&(A=0)}if(typeof l=="function"?S=l(e,S):S instanceof Date?S=p?.(S):n==="comma"&&ha(S)&&(S=Ame(S,function(U){return U instanceof Date?p?.(U):U})),S===null){if(i)return c&&!m?c(e,Ji.encoder,g,"key",f):e;S=""}if(xZt(S)||wnt(S)){if(c){let U=m?e:c(e,Ji.encoder,g,"key",f);return[h?.(U)+"="+h?.(c(S,Ji.encoder,g,"value",f))]}return[h?.(e)+"="+h?.(String(S))]}let I=[];if(typeof S>"u")return I;let D;if(n==="comma"&&ha(S))m&&c&&(S=Ame(S,c)),D=[{value:S.length>0?S.join(",")||null:void 0}];else if(ha(l))D=l;else{let U=Object.keys(S);D=u?U.sort(u):U}let k=a?String(e).replace(/\./g,"%2E"):String(e),O=r&&ha(S)&&S.length===1?k+"[]":k;if(o&&ha(S)&&S.length===0)return O+"[]";for(let U=0;U<D.length;++U){let G=D[U],J=typeof G=="object"&&typeof G.value<"u"?G.value:S[G];if(s&&J===null)continue;let C=d&&a?G.replace(/\./g,"%2E"):G,_=ha(S)?typeof n=="function"?n(O,C):O:O+(d?"."+C:"["+C+"]");y.set(t,A);let E=new WeakMap;E.set(xme,y),Rnt(I,Cnt(J,_,n,r,o,i,s,a,n==="comma"&&m&&ha(S)?null:c,l,u,d,p,f,h,m,g,E))}return I}function wZt(t=Ji){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=t.charset||Ji.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=NH;if(typeof t.format<"u"){if(!PH(OH,t.format))throw new TypeError("Unknown format option provided.");n=t.format}let r=OH[n],o=Ji.filter;(typeof t.filter=="function"||ha(t.filter))&&(o=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Int?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Ji.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Ji.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ji.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ji.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ji.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ji.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ji.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ji.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ji.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ji.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ji.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ji.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ji.strictNullHandling}}function wme(t,e={}){let n=t,r=wZt(e),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):ha(r.filter)&&(i=r.filter,o=i);let s=[];if(typeof n!="object"||n===null)return"";let a=Int[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);let l=new WeakMap;for(let p=0;p<o.length;++p){let f=o[p];r.skipNulls&&n[f]===null||Rnt(s,Cnt(n[f],f,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}let u=s.join(r.delimiter),d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}function Pnt(t){let e=0;for(let o of t)e+=o.length;let n=new Uint8Array(e),r=0;for(let o of t)n.set(o,r),r+=o.length;return n}var Nnt;function Xw(t){let e;return(Nnt??(e=new globalThis.TextEncoder,Nnt=e.encode.bind(e)))(t)}var Ont;function Tme(t){let e;return(Ont??(e=new globalThis.TextDecoder,Ont=e.decode.bind(e)))(t)}var Tl,Il,ov=class{constructor(){Tl.set(this,void 0),Il.set(this,void 0),zt(this,Tl,new Uint8Array,"f"),zt(this,Il,null,"f")}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Xw(e):e;zt(this,Tl,Pnt([me(this,Tl,"f"),n]),"f");let r=[],o;for(;(o=IZt(me(this,Tl,"f"),me(this,Il,"f")))!=null;){if(o.carriage&&me(this,Il,"f")==null){zt(this,Il,o.index,"f");continue}if(me(this,Il,"f")!=null&&(o.index!==me(this,Il,"f")+1||o.carriage)){r.push(Tme(me(this,Tl,"f").subarray(0,me(this,Il,"f")-1))),zt(this,Tl,me(this,Tl,"f").subarray(me(this,Il,"f")),"f"),zt(this,Il,null,"f");continue}let i=me(this,Il,"f")!==null?o.preceding-1:o.preceding,s=Tme(me(this,Tl,"f").subarray(0,i));r.push(s),zt(this,Tl,me(this,Tl,"f").subarray(o.index),"f"),zt(this,Il,null,"f")}return r}flush(){return me(this,Tl,"f").length?this.decode(`
`):[]}};Tl=new WeakMap,Il=new WeakMap;ov.NEWLINE_CHARS=new Set([`
`,"\r"]);ov.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IZt(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Dnt(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var kH={off:0,error:200,warn:300,info:400,debug:500},Ime=(t,e,n)=>{if(t){if(fnt(kH,t))return t;ii(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(kH))}`)}};function NO(){}function DH(t,e,n){return!e||kH[t]>kH[n]?NO:e[t].bind(e)}var RZt={error:NO,warn:NO,info:NO,debug:NO},knt=new WeakMap;function ii(t){let e=t.logger,n=t.logLevel??"off";if(!e)return RZt;let r=knt.get(e);if(r&&r[0]===n)return r[1];let o={error:DH("error",e,n),warn:DH("warn",e,n),info:DH("info",e,n),debug:DH("debug",e,n)};return knt.set(e,[n,o]),o}var eg=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var OO,Qf=class t{constructor(e,n,r){this.iterator=e,OO.set(this,void 0),this.controller=n,zt(this,OO,r,"f")}static fromSSEResponse(e,n,r){let o=!1,i=r?ii(r):console;async function*s(){if(o)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(let c of CZt(e,n))if(!a){if(c.data.startsWith("[DONE]")){a=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let l;try{l=JSON.parse(c.data)}catch(u){throw i.error("Could not parse message into JSON:",c.data),i.error("From chunk:",c.raw),u}if(l&&l.error)throw new Ki(void 0,l.error,void 0,e.headers);yield l}else{let l;try{l=JSON.parse(c.data)}catch(u){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),u}if(c.event=="error")throw new Ki(void 0,l.error,l.message,void 0);yield{event:c.event,data:l}}}a=!0}catch(c){if(IO(c))return;throw c}finally{a||n.abort()}}return new t(s,n,r)}static fromReadableStream(e,n,r){let o=!1;async function*i(){let a=new ov,c=_me(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(o)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(let c of i())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(IO(c))return;throw c}finally{a||n.abort()}}return new t(s,n,r)}[(OO=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>o(e),this.controller,me(this,OO,"f")),new t(()=>o(n),this.controller,me(this,OO,"f"))]}toReadableStream(){let e=this,n;return bme({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:o,done:i}=await n.next();if(i)return r.close();let s=Xw(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){await n.return?.()}})}};async function*CZt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vt("Attempted to iterate over a response with no body");let n=new Rme,r=new ov,o=_me(t.body);for await(let i of NZt(o))for(let s of r.decode(i)){let a=n.decode(s);a&&(yield a)}for(let i of r.flush()){let s=n.decode(i);s&&(yield s)}}async function*NZt(t){let e=new Uint8Array;for await(let n of t){if(n==null)continue;let r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Xw(n):n,o=new Uint8Array(e.length+r.length);o.set(e),o.set(r,e.length),e=o;let i;for(;(i=Dnt(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}var Rme=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=OZt(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function OZt(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function LH(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=e,s=await(async()=>{if(e.options.stream)return ii(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qf.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await n.json();return Cme(d,n)}return await n.text()})();return ii(t).debug(`[${r}] response parsed`,eg({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}function Cme(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var PO,iv=class t extends Promise{constructor(e,n,r=LH){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,PO.set(this,void 0),zt(this,PO,e,"f")}_thenUnwrap(e){return new t(me(this,PO,"f"),this.responsePromise,async(n,r)=>Cme(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(me(this,PO,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};PO=new WeakMap;var MH,DO=class{constructor(e,n,r,o){MH.set(this,void 0),zt(this,MH,e,"f"),this.options=o,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new vt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await me(this,MH,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(MH=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let n of e.getPaginatedItems())yield n}},kO=class extends iv{constructor(e,n,r){super(e,n,async(o,i)=>new r(o,i.response,await LH(o,i),i.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let n of e)yield n}},Xf=class extends DO{constructor(e,n,r,o){super(e,n,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},Tn=class extends DO{constructor(e,n,r,o){super(e,n,r,o),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...yme(this.options.query),after:n}}:null}},tg=class extends DO{constructor(e,n,r,o){super(e,n,r,o),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...yme(this.options.query),after:e}}:null}};var Pme=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zw(t,e,n){return Pme(),new File(t,e??"unknown_file",n)}function LO(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var BH=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Dme=async(t,e)=>Nme(t.body)?{...t,body:await Mnt(t.body,e)}:t,Rl=async(t,e)=>({...t,body:await Mnt(t.body,e)}),Lnt=new WeakMap;function DZt(t){let e=typeof t=="function"?t:t.fetch,n=Lnt.get(e);if(n)return n;let r=(async()=>{try{let o="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new o(i).text()}catch{return!0}})();return Lnt.set(e,r),r}var Mnt=async(t,e)=>{if(!await DZt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,o])=>Ome(n,r,o))),n},Bnt=t=>t instanceof Blob&&"name"in t,kZt=t=>typeof t=="object"&&t!==null&&(t instanceof Response||BH(t)||Bnt(t)),Nme=t=>{if(kZt(t))return!0;if(Array.isArray(t))return t.some(Nme);if(t&&typeof t=="object"){for(let e in t)if(Nme(t[e]))return!0}return!1},Ome=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Zw([await n.blob()],LO(n)));else if(BH(n))t.append(e,Zw([await new Response(CH(n)).blob()],LO(n)));else if(Bnt(n))t.append(e,n,LO(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Ome(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,o])=>Ome(t,`${e}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Unt=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",LZt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Unt(t),MZt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function UH(t,e,n){if(Pme(),t=await t,LZt(t))return t instanceof File?t:Zw([await t.arrayBuffer()],t.name);if(MZt(t)){let o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Zw(await kme(o),e,n)}let r=await kme(t);if(e||(e=LO(t)),!n?.type){let o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n={...n,type:o})}return Zw(r,e,n)}async function kme(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Unt(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(BH(t))for await(let n of t)e.push(...await kme(n));else{let n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${BZt(t)}`)}return e}function BZt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var De=class{constructor(e){this._client=e}};function Fnt(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var $nt=Object.freeze(Object.create(null)),$Zt=(t=Fnt)=>function(n,...r){if(n.length===1)return n[0];let o=!1,i=[],s=n.reduce((u,d,p)=>{/[?#]/.test(d)&&(o=!0);let f=r[p],h=(o?encodeURIComponent:t)(""+f);return p!==r.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??$nt)??$nt)?.toString)&&(h=f+"",i.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===r.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((u,d)=>u.start-d.start),i.length>0){let u=0,d=i.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new vt(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},Ce=$Zt(Fnt);var sv=class extends De{list(e,n={},r){return this._client.getAPIList(Ce`/chat/completions/${e}/messages`,Tn,{query:n,...r})}};function MO(t){return t!==void 0&&"function"in t&&t.function!==void 0}function BO(t){return t?.$brand==="auto-parseable-response-format"}function av(t){return t?.$brand==="auto-parseable-tool"}function Hnt(t,e){return!e||!Lme(e)?{...t,choices:t.choices.map(n=>(Vnt(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:UO(t,e)}function UO(t,e){let n=t.choices.map(r=>{if(r.finish_reason==="length")throw new Yw;if(r.finish_reason==="content_filter")throw new Qw;return Vnt(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(o=>VZt(e,o))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?GZt(e,r.message.content):null}}});return{...t,choices:n}}function GZt(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function VZt(t,e){let n=t.tools?.find(r=>MO(r)&&r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:av(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function Gnt(t,e){if(!t||!("tools"in t)||!t.tools)return!1;let n=t.tools?.find(r=>MO(r)&&r.function?.name===e.function.name);return MO(n)&&(av(n)||n?.function.strict||!1)}function Lme(t){return BO(t.response_format)?!0:t.tools?.some(e=>av(e)||e.type==="function"&&e.function.strict===!0)??!1}function Vnt(t){for(let e of t||[])if(e.type!=="function")throw new vt(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function znt(t){for(let e of t??[]){if(e.type!=="function")throw new vt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new vt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var eT=t=>t?.role==="assistant",Mme=t=>t?.role==="tool";var Bme,$H,FH,$O,FO,HH,HO,ng,GO,GH,VH,tT,jnt,py=class{constructor(){Bme.add(this),this.controller=new AbortController,$H.set(this,void 0),FH.set(this,()=>{}),$O.set(this,()=>{}),FO.set(this,void 0),HH.set(this,()=>{}),HO.set(this,()=>{}),ng.set(this,{}),GO.set(this,!1),GH.set(this,!1),VH.set(this,!1),tT.set(this,!1),zt(this,$H,new Promise((e,n)=>{zt(this,FH,e,"f"),zt(this,$O,n,"f")}),"f"),zt(this,FO,new Promise((e,n)=>{zt(this,HH,e,"f"),zt(this,HO,n,"f")}),"f"),me(this,$H,"f").catch(()=>{}),me(this,FO,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},me(this,Bme,"m",jnt).bind(this))},0)}_connected(){this.ended||(me(this,FH,"f").call(this),this._emit("connect"))}get ended(){return me(this,GO,"f")}get errored(){return me(this,GH,"f")}get aborted(){return me(this,VH,"f")}abort(){this.controller.abort()}on(e,n){return(me(this,ng,"f")[e]||(me(this,ng,"f")[e]=[])).push({listener:n}),this}off(e,n){let r=me(this,ng,"f")[e];if(!r)return this;let o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(e,n){return(me(this,ng,"f")[e]||(me(this,ng,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{zt(this,tT,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){zt(this,tT,!0,"f"),await me(this,FO,"f")}_emit(e,...n){if(me(this,GO,"f"))return;e==="end"&&(zt(this,GO,!0,"f"),me(this,HH,"f").call(this));let r=me(this,ng,"f")[e];if(r&&(me(this,ng,"f")[e]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),e==="abort"){let o=n[0];!me(this,tT,"f")&&!r?.length&&Promise.reject(o),me(this,$O,"f").call(this,o),me(this,HO,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=n[0];!me(this,tT,"f")&&!r?.length&&Promise.reject(o),me(this,$O,"f").call(this,o),me(this,HO,"f").call(this,o),this._emit("end")}}_emitFinal(){}};$H=new WeakMap,FH=new WeakMap,$O=new WeakMap,FO=new WeakMap,HH=new WeakMap,HO=new WeakMap,ng=new WeakMap,GO=new WeakMap,GH=new WeakMap,VH=new WeakMap,tT=new WeakMap,Bme=new WeakSet,jnt=function(e){if(zt(this,GH,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Mi),e instanceof Mi)return zt(this,VH,!0,"f"),this._emit("abort",e);if(e instanceof vt)return this._emit("error",e);if(e instanceof Error){let n=new vt(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new vt(String(e)))};function qnt(t){return typeof t.parse=="function"}var ja,Ume,zH,$me,Fme,Hme,Wnt,Knt,zZt=10,nT=class extends py{constructor(){super(...arguments),ja.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),Mme(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(eT(e)&&e.tool_calls)for(let r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new vt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),me(this,ja,"m",Ume).call(this)}async finalMessage(){return await this.done(),me(this,ja,"m",zH).call(this)}async finalFunctionToolCall(){return await this.done(),me(this,ja,"m",$me).call(this)}async finalFunctionToolCallResult(){return await this.done(),me(this,ja,"m",Fme).call(this)}async totalUsage(){return await this.done(),me(this,ja,"m",Hme).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let n=me(this,ja,"m",zH).call(this);n&&this._emit("finalMessage",n);let r=me(this,ja,"m",Ume).call(this);r&&this._emit("finalContent",r);let o=me(this,ja,"m",$me).call(this);o&&this._emit("finalFunctionToolCall",o);let i=me(this,ja,"m",Fme).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",me(this,ja,"m",Hme).call(this))}async _createChatCompletion(e,n,r){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),me(this,ja,"m",Wnt).call(this,n);let i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(UO(i,n))}async _runChatCompletion(e,n,r){for(let o of n.messages)this._addMessage(o,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){let o="tool",{tool_choice:i="auto",stream:s,...a}=n,c=typeof i!="string"&&i.type==="function"&&i?.function?.name,{maxChatCompletions:l=zZt}=r||{},u=n.tools.map(f=>{if(av(f)){if(!f.$callback)throw new vt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),d={};for(let f of u)f.type==="function"&&(d[f.function.name||f.function.function.name]=f.function);let p="tools"in n?u.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(let f of n.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let m=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:p,messages:[...this.messages]},r)).choices[0]?.message;if(!m)throw new vt("missing message in ChatCompletion response");if(!m.tool_calls?.length)return;for(let g of m.tool_calls){if(g.type!=="function")continue;let y=g.id,{name:S,arguments:v}=g.function,A=d[S];if(A){if(c&&c!==S){let k=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,tool_call_id:y,content:k});continue}}else{let k=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:y,content:k});continue}let w;try{w=qnt(A)?await A.parse(v):v}catch(k){let O=k instanceof Error?k.message:String(k);this._addMessage({role:o,tool_call_id:y,content:O});continue}let I=await A.function(w,this),D=me(this,ja,"m",Knt).call(this,I);if(this._addMessage({role:o,tool_call_id:y,content:D}),c)return}}}};ja=new WeakSet,Ume=function(){return me(this,ja,"m",zH).call(this).content??null},zH=function(){let e=this.messages.length;for(;e-- >0;){let n=this.messages[e];if(eT(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new vt("stream ended without producing a ChatCompletionMessage with role=assistant")},$me=function(){for(let e=this.messages.length-1;e>=0;e--){let n=this.messages[e];if(eT(n)&&n?.tool_calls?.length)return n.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},Fme=function(){for(let e=this.messages.length-1;e>=0;e--){let n=this.messages[e];if(Mme(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(o=>o.type==="function"&&o.id===n.tool_call_id)))return n.content}},Hme=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Wnt=function(e){if(e.n!=null&&e.n>1)throw new vt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Knt=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var VO=class t extends nT{static runTools(e,n,r){let o=new t,i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(e,n,i)),o}_addMessage(e,n=!0){super._addMessage(e,n),eT(e)&&e.content&&this._emit("content",e.content)}};var ps={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},Gme=class extends Error{},Vme=class extends Error{};function jZt(t,e=ps.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return qZt(t.trim(),e)}var qZt=(t,e)=>{let n=t.length,r=0,o=p=>{throw new Gme(`${p} at position ${r}`)},i=p=>{throw new Vme(`${p} at position ${r}`)},s=()=>(d(),r>=n&&o("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?c():t[r]==="["?l():t.substring(r,r+4)==="null"||ps.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||ps.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||ps.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||ps.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||ps.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||ps.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),a=()=>{let p=r,f=!1;for(r++;r<n&&(t[r]!=='"'||f&&t[r-1]==="\\");)f=t[r]==="\\"?!f:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(p,++r-Number(f)))}catch(h){i(String(h))}else if(ps.STR&e)try{return JSON.parse(t.substring(p,r-Number(f))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},c=()=>{r++,d();let p={};try{for(;t[r]!=="}";){if(d(),r>=n&&ps.OBJ&e)return p;let f=a();d(),r++;try{let h=s();Object.defineProperty(p,f,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(ps.OBJ&e)return p;throw h}d(),t[r]===","&&r++}}catch{if(ps.OBJ&e)return p;o("Expected '}' at end of object")}return r++,p},l=()=>{r++;let p=[];try{for(;t[r]!=="]";)p.push(s()),d(),t[r]===","&&r++}catch{if(ps.ARR&e)return p;o("Expected ']' at end of array")}return r++,p},u=()=>{if(r===0){t==="-"&&ps.NUM&e&&o("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(ps.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(f))}}let p=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(ps.NUM&e)&&o("Unterminated number literal");try{return JSON.parse(t.substring(p,r))}catch{t.substring(p,r)==="-"&&ps.NUM&e&&o("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(h){i(String(h))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return s()},zme=t=>jZt(t,ps.ALL^ps.NUM);var Yi,rg,rT,fy,jme,jH,qme,Wme,Kme,qH,Jme,Jnt,cv=class t extends nT{constructor(e){super(),Yi.add(this),rg.set(this,void 0),rT.set(this,void 0),fy.set(this,void 0),zt(this,rg,e,"f"),zt(this,rT,[],"f")}get currentChatCompletionSnapshot(){return me(this,fy,"f")}static fromReadableStream(e){let n=new t(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){let o=new t(n);return o._run(()=>o._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(e,n,r){super._createChatCompletion;let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),me(this,Yi,"m",jme).call(this);let i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(let s of i)me(this,Yi,"m",qme).call(this,s);if(i.controller.signal?.aborted)throw new Mi;return this._addChatCompletion(me(this,Yi,"m",qH).call(this))}async _fromReadableStream(e,n){let r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),me(this,Yi,"m",jme).call(this),this._connected();let o=Qf.fromReadableStream(e,this.controller),i;for await(let s of o)i&&i!==s.id&&this._addChatCompletion(me(this,Yi,"m",qH).call(this)),me(this,Yi,"m",qme).call(this,s),i=s.id;if(o.controller.signal?.aborted)throw new Mi;return this._addChatCompletion(me(this,Yi,"m",qH).call(this))}[(rg=new WeakMap,rT=new WeakMap,fy=new WeakMap,Yi=new WeakSet,jme=function(){this.ended||zt(this,fy,void 0,"f")},jH=function(n){let r=me(this,rT,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},me(this,rT,"f")[n.index]=r,r)},qme=function(n){if(this.ended)return;let r=me(this,Yi,"m",Jnt).call(this,n);this._emit("chunk",n,r);for(let o of n.choices){let i=r.choices[o.index];o.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",o.delta.content,i.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),o.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:i.message.refusal}),o.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:i.logprobs?.content??[]}),o.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});let s=me(this,Yi,"m",jH).call(this,i);i.finish_reason&&(me(this,Yi,"m",Kme).call(this,i),s.current_tool_call_index!=null&&me(this,Yi,"m",Wme).call(this,i,s.current_tool_call_index));for(let a of o.delta.tool_calls??[])s.current_tool_call_index!==a.index&&(me(this,Yi,"m",Kme).call(this,i),s.current_tool_call_index!=null&&me(this,Yi,"m",Wme).call(this,i,s.current_tool_call_index)),s.current_tool_call_index=a.index;for(let a of o.delta.tool_calls??[]){let c=i.message.tool_calls?.[a.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:a.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(c?.type,void 0))}}},Wme=function(n,r){if(me(this,Yi,"m",jH).call(this,n).done_tool_calls.has(r))return;let i=n.message.tool_calls?.[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){let s=me(this,rg,"f")?.tools?.find(a=>MO(a)&&a.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:av(s)?s.$parseRaw(i.function.arguments):s?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Kme=function(n){let r=me(this,Yi,"m",jH).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;let o=me(this,Yi,"m",Jme).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qH=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");let n=me(this,fy,"f");if(!n)throw new vt("request ended without sending any chunks");return zt(this,fy,void 0,"f"),zt(this,rT,[],"f"),WZt(n,me(this,rg,"f"))},Jme=function(){let n=me(this,rg,"f")?.response_format;return BO(n)?n:null},Jnt=function(n){var r,o,i,s;let a=me(this,fy,"f"),{choices:c,...l}=n;a?Object.assign(a,l):a=zt(this,fy,{...l,choices:[]},"f");for(let{delta:u,finish_reason:d,index:p,logprobs:f=null,...h}of n.choices){let m=a.choices[p];if(m||(m=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:f,...h}),f)if(!m.logprobs)m.logprobs=Object.assign({},f);else{let{content:I,refusal:D,...k}=f;Object.assign(m.logprobs,k),I&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...I)),D&&((o=m.logprobs).refusal??(o.refusal=[]),m.logprobs.refusal.push(...D))}if(d&&(m.finish_reason=d,me(this,rg,"f")&&Lme(me(this,rg,"f")))){if(d==="length")throw new Yw;if(d==="content_filter")throw new Qw}if(Object.assign(m,h),!u)continue;let{content:g,refusal:y,function_call:S,role:v,tool_calls:A,...w}=u;if(Object.assign(m.message,w),y&&(m.message.refusal=(m.message.refusal||"")+y),v&&(m.message.role=v),S&&(m.message.function_call?(S.name&&(m.message.function_call.name=S.name),S.arguments&&((i=m.message.function_call).arguments??(i.arguments=""),m.message.function_call.arguments+=S.arguments)):m.message.function_call=S),g&&(m.message.content=(m.message.content||"")+g,!m.message.refusal&&me(this,Yi,"m",Jme).call(this)&&(m.message.parsed=zme(m.message.content))),A){m.message.tool_calls||(m.message.tool_calls=[]);for(let{index:I,id:D,type:k,function:O,...U}of A){let G=(s=m.message.tool_calls)[I]??(s[I]={});Object.assign(G,U),D&&(G.id=D),k&&(G.type=k),O&&(G.function??(G.function={name:O.name??"",arguments:""})),O?.name&&(G.function.name=O.name),O?.arguments&&(G.function.arguments+=O.arguments,Gnt(me(this,rg,"f"),G)&&(G.function.parsed_arguments=zme(G.function.arguments)))}}}return a},Symbol.asyncIterator)](){let e=[],n=[],r=!1;return this.on("chunk",o=>{let i=n.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Qf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function WZt(t,e){let{id:n,choices:r,created:o,model:i,system_fingerprint:s,...a}=t,c={...a,id:n,choices:r.map(({message:l,finish_reason:u,index:d,logprobs:p,...f})=>{if(!u)throw new vt(`missing finish_reason for choice ${d}`);let{content:h=null,function_call:m,tool_calls:g,...y}=l,S=l.role;if(!S)throw new vt(`missing role for choice ${d}`);if(m){let{arguments:v,name:A}=m;if(v==null)throw new vt(`missing function_call.arguments for choice ${d}`);if(!A)throw new vt(`missing function_call.name for choice ${d}`);return{...f,message:{content:h,function_call:{arguments:v,name:A},role:S,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}return g?{...f,index:d,finish_reason:u,logprobs:p,message:{...y,role:S,content:h,refusal:l.refusal??null,tool_calls:g.map((v,A)=>{let{function:w,type:I,id:D,...k}=v,{arguments:O,name:U,...G}=w||{};if(D==null)throw new vt(`missing choices[${d}].tool_calls[${A}].id
${WH(t)}`);if(I==null)throw new vt(`missing choices[${d}].tool_calls[${A}].type
${WH(t)}`);if(U==null)throw new vt(`missing choices[${d}].tool_calls[${A}].function.name
${WH(t)}`);if(O==null)throw new vt(`missing choices[${d}].tool_calls[${A}].function.arguments
${WH(t)}`);return{...k,id:D,type:I,function:{...G,name:U,arguments:O}}})}}:{...f,message:{...y,content:h,role:S,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Hnt(c,e)}function WH(t){return JSON.stringify(t)}var zO=class t extends cv{static fromReadableStream(e){let n=new t(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){let o=new t(n),i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(e,n,i)),o}};var og=class extends De{constructor(){super(...arguments),this.messages=new sv(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(Ce`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(Ce`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",Tn,{query:e,...n})}delete(e,n){return this._client.delete(Ce`/chat/completions/${e}`,n)}parse(e,n){return znt(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>UO(r,e))}runTools(e,n){return e.stream?zO.runTools(this._client,e,n):VO.runTools(this._client,e,n)}stream(e,n){return cv.createChatCompletion(this._client,e,n)}};og.Messages=sv;var my=class extends De{constructor(){super(...arguments),this.completions=new og(this._client)}};my.Completions=og;var Ynt=Symbol("brand.privateNullableHeaders");function*JZt(t){if(!t)return;if(Ynt in t){let{values:r,nulls:o}=t;yield*r.entries();for(let i of o)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():gme(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let i=gme(r[1])?r[1]:[r[1]],s=!1;for(let a of i)a!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,a])}}var tt=t=>{let e=new Headers,n=new Set;for(let r of t){let o=new Set;for(let[i,s]of JZt(r)){let a=i.toLowerCase();o.has(a)||(e.delete(i),o.add(a)),s===null?(e.delete(i),n.add(a)):(e.append(i,s),n.delete(a))}}return{[Ynt]:!0,values:e,nulls:n}};var oT=class extends De{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:tt([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}};var iT=class extends De{create(e,n){return this._client.post("/audio/transcriptions",Rl({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}};var sT=class extends De{create(e,n){return this._client.post("/audio/translations",Rl({body:e,...n,__metadata:{model:e.model}},this._client))}};var Zf=class extends De{constructor(){super(...arguments),this.transcriptions=new iT(this._client),this.translations=new sT(this._client),this.speech=new oT(this._client)}};Zf.Transcriptions=iT;Zf.Translations=sT;Zf.Speech=oT;var lv=class extends De{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Ce`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",Tn,{query:e,...n})}cancel(e,n){return this._client.post(Ce`/batches/${e}/cancel`,n)}};var aT=class extends De{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ce`/assistants/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(Ce`/assistants/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",Tn,{query:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ce`/assistants/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var cT=class extends De{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var lT=class extends De{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var hy=class extends De{constructor(){super(...arguments),this.sessions=new cT(this._client),this.transcriptionSessions=new lT(this._client)}};hy.Sessions=cT;hy.TranscriptionSessions=lT;var uT=class extends De{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(Ce`/chatkit/sessions/${e}/cancel`,{...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};var dT=class extends De{retrieve(e,n){return this._client.get(Ce`/chatkit/threads/${e}`,{...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",tg,{query:e,...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(Ce`/chatkit/threads/${e}`,{...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},r){return this._client.getAPIList(Ce`/chatkit/threads/${e}/items`,tg,{query:n,...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};var gy=class extends De{constructor(){super(...arguments),this.sessions=new uT(this._client),this.threads=new dT(this._client)}};gy.Sessions=uT;gy.Threads=dT;var pT=class extends De{create(e,n,r){return this._client.post(Ce`/threads/${e}/messages`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){let{thread_id:o}=n;return this._client.get(Ce`/threads/${o}/messages/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){let{thread_id:o,...i}=n;return this._client.post(Ce`/threads/${o}/messages/${e}`,{body:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(Ce`/threads/${e}/messages`,Tn,{query:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){let{thread_id:o}=n;return this._client.delete(Ce`/threads/${o}/messages/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var fT=class extends De{retrieve(e,n,r){let{thread_id:o,run_id:i,...s}=n;return this._client.get(Ce`/threads/${o}/runs/${i}/steps/${e}`,{query:s,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n,r){let{thread_id:o,...i}=n;return this._client.getAPIList(Ce`/threads/${o}/runs/${e}/steps`,Tn,{query:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var Qnt=t=>{if(typeof Buffer<"u"){let e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{let e=atob(t),n=e.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=e.charCodeAt(o);return Array.from(new Float32Array(r.buffer))}};var yy=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Bs,dv,Yme,em,KH,fp,pv,mT,uv,QH,Cl,JH,YH,WO,jO,qO,Xnt,Znt,ert,trt,nrt,rrt,ort,ig=class extends py{constructor(){super(...arguments),Bs.add(this),Yme.set(this,[]),em.set(this,{}),KH.set(this,{}),fp.set(this,void 0),pv.set(this,void 0),mT.set(this,void 0),uv.set(this,void 0),QH.set(this,void 0),Cl.set(this,void 0),JH.set(this,void 0),YH.set(this,void 0),WO.set(this,void 0)}[(Yme=new WeakMap,em=new WeakMap,KH=new WeakMap,fp=new WeakMap,pv=new WeakMap,mT=new WeakMap,uv=new WeakMap,QH=new WeakMap,Cl=new WeakMap,JH=new WeakMap,YH=new WeakMap,WO=new WeakMap,Bs=new WeakSet,Symbol.asyncIterator)](){let e=[],n=[],r=!1;return this.on("event",o=>{let i=n.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let n=new dv;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){let r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let o=Qf.fromReadableStream(e,this.controller);for await(let i of o)me(this,Bs,"m",jO).call(this,i);if(o.controller.signal?.aborted)throw new Mi;return this._addRun(me(this,Bs,"m",qO).call(this))}toReadableStream(){return new Qf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,o){let i=new dv;return i._run(()=>i._runToolAssistantStream(e,n,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,o){let i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let s={...r,stream:!0},a=await e.submitToolOutputs(n,s,{...o,signal:this.controller.signal});this._connected();for await(let c of a)me(this,Bs,"m",jO).call(this,c);if(a.controller.signal?.aborted)throw new Mi;return this._addRun(me(this,Bs,"m",qO).call(this))}static createThreadAssistantStream(e,n,r){let o=new dv;return o._run(()=>o._threadAssistantStream(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(e,n,r,o){let i=new dv;return i._run(()=>i._runAssistantStream(e,n,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return me(this,JH,"f")}currentRun(){return me(this,YH,"f")}currentMessageSnapshot(){return me(this,fp,"f")}currentRunStepSnapshot(){return me(this,WO,"f")}async finalRunSteps(){return await this.done(),Object.values(me(this,em,"f"))}async finalMessages(){return await this.done(),Object.values(me(this,KH,"f"))}async finalRun(){if(await this.done(),!me(this,pv,"f"))throw Error("Final run was not received.");return me(this,pv,"f")}async _createThreadAssistantStream(e,n,r){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let i={...n,stream:!0},s=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(let a of s)me(this,Bs,"m",jO).call(this,a);if(s.controller.signal?.aborted)throw new Mi;return this._addRun(me(this,Bs,"m",qO).call(this))}async _createAssistantStream(e,n,r,o){let i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let s={...r,stream:!0},a=await e.create(n,s,{...o,signal:this.controller.signal});this._connected();for await(let c of a)me(this,Bs,"m",jO).call(this,c);if(a.controller.signal?.aborted)throw new Mi;return this._addRun(me(this,Bs,"m",qO).call(this))}static accumulateDelta(e,n){for(let[r,o]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=o;continue}let i=e[r];if(i==null){e[r]=o;continue}if(r==="index"||r==="type"){e[r]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(CO(i)&&CO(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...o);continue}for(let s of o){if(!CO(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let c=i[a];c==null?i.push(s):i[a]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,o){return await this._createAssistantStream(n,e,r,o)}async _runToolAssistantStream(e,n,r,o){return await this._createToolAssistantStream(n,e,r,o)}};dv=ig,jO=function(e){if(!this.ended)switch(zt(this,JH,e,"f"),me(this,Bs,"m",ert).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":me(this,Bs,"m",ort).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":me(this,Bs,"m",Znt).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":me(this,Bs,"m",Xnt).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},qO=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");if(!me(this,pv,"f"))throw Error("Final run has not been received");return me(this,pv,"f")},Xnt=function(e){let[n,r]=me(this,Bs,"m",nrt).call(this,e,me(this,fp,"f"));zt(this,fp,n,"f"),me(this,KH,"f")[n.id]=n;for(let o of r){let i=n.content[o.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(let o of e.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,s=n.content[o.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=me(this,mT,"f")){if(me(this,uv,"f"))switch(me(this,uv,"f").type){case"text":this._emit("textDone",me(this,uv,"f").text,me(this,fp,"f"));break;case"image_file":this._emit("imageFileDone",me(this,uv,"f").image_file,me(this,fp,"f"));break}zt(this,mT,o.index,"f")}zt(this,uv,n.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(me(this,mT,"f")!==void 0){let o=e.data.content[me(this,mT,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,me(this,fp,"f"));break;case"text":this._emit("textDone",o.text,me(this,fp,"f"));break}}me(this,fp,"f")&&this._emit("messageDone",e.data),zt(this,fp,void 0,"f")}},Znt=function(e){let n=me(this,Bs,"m",trt).call(this,e);switch(zt(this,WO,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(let i of r.step_details.tool_calls)i.index==me(this,QH,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(me(this,Cl,"f")&&this._emit("toolCallDone",me(this,Cl,"f")),zt(this,QH,i.index,"f"),zt(this,Cl,n.step_details.tool_calls[i.index],"f"),me(this,Cl,"f")&&this._emit("toolCallCreated",me(this,Cl,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":zt(this,WO,void 0,"f"),e.data.step_details.type=="tool_calls"&&me(this,Cl,"f")&&(this._emit("toolCallDone",me(this,Cl,"f")),zt(this,Cl,void 0,"f")),this._emit("runStepDone",e.data,n);break;case"thread.run.step.in_progress":break}},ert=function(e){me(this,Yme,"f").push(e),this._emit("event",e)},trt=function(e){switch(e.event){case"thread.run.step.created":return me(this,em,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=me(this,em,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){let o=dv.accumulateDelta(n,r.delta);me(this,em,"f")[e.data.id]=o}return me(this,em,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":me(this,em,"f")[e.data.id]=e.data;break}if(me(this,em,"f")[e.data.id])return me(this,em,"f")[e.data.id];throw new Error("No snapshot available")},nrt=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=e.data;if(o.delta.content)for(let i of o.delta.content)if(i.index in n.content){let s=n.content[i.index];n.content[i.index]=me(this,Bs,"m",rrt).call(this,i,s)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},rrt=function(e,n){return dv.accumulateDelta(n,e)},ort=function(e){switch(zt(this,YH,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":zt(this,pv,e.data,"f"),me(this,Cl,"f")&&(this._emit("toolCallDone",me(this,Cl,"f")),zt(this,Cl,void 0,"f"));break;case"thread.run.cancelling":break}};var fv=class extends De{constructor(){super(...arguments),this.steps=new fT(this._client)}create(e,n,r){let{include:o,...i}=n;return this._client.post(Ce`/threads/${e}/runs`,{query:{include:o},body:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}retrieve(e,n,r){let{thread_id:o}=n;return this._client.get(Ce`/threads/${o}/runs/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){let{thread_id:o,...i}=n;return this._client.post(Ce`/threads/${o}/runs/${e}`,{body:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(Ce`/threads/${e}/runs`,Tn,{query:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){let{thread_id:o}=n;return this._client.post(Ce`/threads/${o}/runs/${e}/cancel`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){let o=await this.create(e,n,r);return await this.poll(o.id,{thread_id:e},r)}createAndStream(e,n,r){return ig.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){let o=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:i,response:s}=await this.retrieve(e,n,{...r,headers:{...r?.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Jf(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return ig.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){let{thread_id:o,...i}=n;return this._client.post(Ce`/threads/${o}/runs/${e}/submit_tool_outputs`,{body:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){let o=await this.submitToolOutputs(e,n,r);return await this.poll(o.id,n,r)}submitToolOutputsStream(e,n,r){return ig.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};fv.Steps=fT;var by=class extends De{constructor(){super(...arguments),this.runs=new fv(this._client),this.messages=new pT(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ce`/threads/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(Ce`/threads/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n){return this._client.delete(Ce`/threads/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){let r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return ig.createThreadAssistantStream(e,this._client.beta.threads,n)}};by.Runs=fv;by.Messages=pT;var mp=class extends De{constructor(){super(...arguments),this.realtime=new hy(this._client),this.chatkit=new gy(this._client),this.assistants=new aT(this._client),this.threads=new by(this._client)}};mp.Realtime=hy;mp.ChatKit=gy;mp.Assistants=aT;mp.Threads=by;var mv=class extends De{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}};var hT=class extends De{retrieve(e,n,r){let{container_id:o}=n;return this._client.get(Ce`/containers/${o}/files/${e}/content`,{...r,headers:tt([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}};var hv=class extends De{constructor(){super(...arguments),this.content=new hT(this._client)}create(e,n,r){return this._client.post(Ce`/containers/${e}/files`,Rl({body:n,...r},this._client))}retrieve(e,n,r){let{container_id:o}=n;return this._client.get(Ce`/containers/${o}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(Ce`/containers/${e}/files`,Tn,{query:n,...r})}delete(e,n,r){let{container_id:o}=n;return this._client.delete(Ce`/containers/${o}/files/${e}`,{...r,headers:tt([{Accept:"*/*"},r?.headers])})}};hv.Content=hT;var _y=class extends De{constructor(){super(...arguments),this.files=new hv(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(Ce`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",Tn,{query:e,...n})}delete(e,n){return this._client.delete(Ce`/containers/${e}`,{...n,headers:tt([{Accept:"*/*"},n?.headers])})}};_y.Files=hv;var gT=class extends De{create(e,n,r){let{include:o,...i}=n;return this._client.post(Ce`/conversations/${e}/items`,{query:{include:o},body:i,...r})}retrieve(e,n,r){let{conversation_id:o,...i}=n;return this._client.get(Ce`/conversations/${o}/items/${e}`,{query:i,...r})}list(e,n={},r){return this._client.getAPIList(Ce`/conversations/${e}/items`,tg,{query:n,...r})}delete(e,n,r){let{conversation_id:o}=n;return this._client.delete(Ce`/conversations/${o}/items/${e}`,r)}};var Sy=class extends De{constructor(){super(...arguments),this.items=new gT(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(Ce`/conversations/${e}`,n)}update(e,n,r){return this._client.post(Ce`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(Ce`/conversations/${e}`,n)}};Sy.Items=gT;var gv=class extends De{create(e,n){let r=!!e.encoding_format,o=r?e.encoding_format:"base64";r&&ii(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let i=this._client.post("/embeddings",{body:{...e,encoding_format:o},...n});return r?i:(ii(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(s=>(s&&s.data&&s.data.forEach(a=>{let c=a.embedding;a.embedding=Qnt(c)}),s)))}};var yT=class extends De{retrieve(e,n,r){let{eval_id:o,run_id:i}=n;return this._client.get(Ce`/evals/${o}/runs/${i}/output_items/${e}`,r)}list(e,n,r){let{eval_id:o,...i}=n;return this._client.getAPIList(Ce`/evals/${o}/runs/${e}/output_items`,Tn,{query:i,...r})}};var yv=class extends De{constructor(){super(...arguments),this.outputItems=new yT(this._client)}create(e,n,r){return this._client.post(Ce`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){let{eval_id:o}=n;return this._client.get(Ce`/evals/${o}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(Ce`/evals/${e}/runs`,Tn,{query:n,...r})}delete(e,n,r){let{eval_id:o}=n;return this._client.delete(Ce`/evals/${o}/runs/${e}`,r)}cancel(e,n,r){let{eval_id:o}=n;return this._client.post(Ce`/evals/${o}/runs/${e}`,r)}};yv.OutputItems=yT;var vy=class extends De{constructor(){super(...arguments),this.runs=new yv(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(Ce`/evals/${e}`,n)}update(e,n,r){return this._client.post(Ce`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",Tn,{query:e,...n})}delete(e,n){return this._client.delete(Ce`/evals/${e}`,n)}};vy.Runs=yv;var bv=class extends De{create(e,n){return this._client.post("/files",Rl({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ce`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",Tn,{query:e,...n})}delete(e,n){return this._client.delete(Ce`/files/${e}`,n)}content(e,n){return this._client.get(Ce`/files/${e}/content`,{...n,headers:tt([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){let o=new Set(["processed","error","deleted"]),i=Date.now(),s=await this.retrieve(e);for(;!s.status||!o.has(s.status);)if(await Jf(n),s=await this.retrieve(e),Date.now()-i>r)throw new uy({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return s}};var bT=class extends De{};var _T=class extends De{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};var _v=class extends De{constructor(){super(...arguments),this.graders=new _T(this._client)}};_v.Graders=_T;var ST=class extends De{create(e,n,r){return this._client.getAPIList(Ce`/fine_tuning/checkpoints/${e}/permissions`,Xf,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(Ce`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){let{fine_tuned_model_checkpoint:o}=n;return this._client.delete(Ce`/fine_tuning/checkpoints/${o}/permissions/${e}`,r)}};var Sv=class extends De{constructor(){super(...arguments),this.permissions=new ST(this._client)}};Sv.Permissions=ST;var vT=class extends De{list(e,n={},r){return this._client.getAPIList(Ce`/fine_tuning/jobs/${e}/checkpoints`,Tn,{query:n,...r})}};var vv=class extends De{constructor(){super(...arguments),this.checkpoints=new vT(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(Ce`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",Tn,{query:e,...n})}cancel(e,n){return this._client.post(Ce`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(Ce`/fine_tuning/jobs/${e}/events`,Tn,{query:n,...r})}pause(e,n){return this._client.post(Ce`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(Ce`/fine_tuning/jobs/${e}/resume`,n)}};vv.Checkpoints=vT;var hp=class extends De{constructor(){super(...arguments),this.methods=new bT(this._client),this.jobs=new vv(this._client),this.checkpoints=new Sv(this._client),this.alpha=new _v(this._client)}};hp.Methods=bT;hp.Jobs=vv;hp.Checkpoints=Sv;hp.Alpha=_v;var ET=class extends De{};var Ey=class extends De{constructor(){super(...arguments),this.graderModels=new ET(this._client)}};Ey.GraderModels=ET;var Ev=class extends De{createVariation(e,n){return this._client.post("/images/variations",Rl({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Rl({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}};var Av=class extends De{retrieve(e,n){return this._client.get(Ce`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Xf,e)}delete(e,n){return this._client.delete(Ce`/models/${e}`,n)}};var xv=class extends De{create(e,n){return this._client.post("/moderations",{body:e,...n})}};var AT=class extends De{accept(e,n,r){return this._client.post(Ce`/realtime/calls/${e}/accept`,{body:n,...r,headers:tt([{Accept:"*/*"},r?.headers])})}hangup(e,n){return this._client.post(Ce`/realtime/calls/${e}/hangup`,{...n,headers:tt([{Accept:"*/*"},n?.headers])})}refer(e,n,r){return this._client.post(Ce`/realtime/calls/${e}/refer`,{body:n,...r,headers:tt([{Accept:"*/*"},r?.headers])})}reject(e,n={},r){return this._client.post(Ce`/realtime/calls/${e}/reject`,{body:n,...r,headers:tt([{Accept:"*/*"},r?.headers])})}};var xT=class extends De{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}};var sg=class extends De{constructor(){super(...arguments),this.clientSecrets=new xT(this._client),this.calls=new AT(this._client)}};sg.ClientSecrets=xT;sg.Calls=AT;function irt(t,e){return!e||!Ten(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Qme(t,e)}function Qme(t,e){let n=t.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:Cen(e,o)};if(o.type==="message"){let i=o.content.map(s=>s.type==="output_text"?{...s,parsed:wen(e,s.text)}:s);return{...o,content:i}}return o}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||XH(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(let o of r.output)if(o.type==="message"){for(let i of o.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function wen(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Ten(t){return!!BO(t.text?.format)}function Ien(t){return t?.$brand==="auto-parseable-tool"}function Ren(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Cen(t,e){let n=Ren(t.tools??[],e.name);return{...e,...e,parsed_arguments:Ien(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function XH(t){let e=[];for(let n of t.output)if(n.type==="message")for(let r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var wT,ZH,Ay,eG,srt,art,crt,lrt,tG=class t extends py{constructor(e){super(),wT.add(this),ZH.set(this,void 0),Ay.set(this,void 0),eG.set(this,void 0),zt(this,ZH,e,"f")}static createResponse(e,n,r){let o=new t(n);return o._run(()=>o._createOrRetrieveResponse(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(e,n,r){let o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),me(this,wT,"m",srt).call(this);let i,s=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),s=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(let a of i)me(this,wT,"m",art).call(this,a,s);if(i.controller.signal?.aborted)throw new Mi;return me(this,wT,"m",crt).call(this)}[(ZH=new WeakMap,Ay=new WeakMap,eG=new WeakMap,wT=new WeakSet,srt=function(){this.ended||zt(this,Ay,void 0,"f")},art=function(n,r){if(this.ended)return;let o=(s,a)=>{(r==null||a.sequence_number>r)&&this._emit(s,a)},i=me(this,wT,"m",lrt).call(this,n);switch(o("event",n),n.type){case"response.output_text.delta":{let s=i.output[n.output_index];if(!s)throw new vt(`missing output at index ${n.output_index}`);if(s.type==="message"){let a=s.content[n.content_index];if(!a)throw new vt(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new vt(`expected content to be 'output_text', got ${a.type}`);o("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{let s=i.output[n.output_index];if(!s)throw new vt(`missing output at index ${n.output_index}`);s.type==="function_call"&&o("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:o(n.type,n);break}},crt=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");let n=me(this,Ay,"f");if(!n)throw new vt("request ended without sending any events");zt(this,Ay,void 0,"f");let r=Nen(n,me(this,ZH,"f"));return zt(this,eG,r,"f"),r},lrt=function(n){let r=me(this,Ay,"f");if(!r){if(n.type!=="response.created")throw new vt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=zt(this,Ay,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{let o=r.output[n.output_index];if(!o)throw new vt(`missing output at index ${n.output_index}`);let i=o.type,s=n.part;i==="message"&&s.type!=="reasoning_text"?o.content.push(s):i==="reasoning"&&s.type==="reasoning_text"&&(o.content||(o.content=[]),o.content.push(s));break}case"response.output_text.delta":{let o=r.output[n.output_index];if(!o)throw new vt(`missing output at index ${n.output_index}`);if(o.type==="message"){let i=o.content[n.content_index];if(!i)throw new vt(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new vt(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{let o=r.output[n.output_index];if(!o)throw new vt(`missing output at index ${n.output_index}`);o.type==="function_call"&&(o.arguments+=n.delta);break}case"response.reasoning_text.delta":{let o=r.output[n.output_index];if(!o)throw new vt(`missing output at index ${n.output_index}`);if(o.type==="reasoning"){let i=o.content?.[n.content_index];if(!i)throw new vt(`missing content at index ${n.content_index}`);if(i.type!=="reasoning_text")throw new vt(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=n.delta}break}case"response.completed":{zt(this,Ay,n.response,"f");break}}return r},Symbol.asyncIterator)](){let e=[],n=[],r=!1;return this.on("event",o=>{let i=n.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{r=!0;for(let o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(let i of n)i.reject(o);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=me(this,eG,"f");if(!e)throw new vt("stream ended without producing a ChatCompletion");return e}};function Nen(t,e){return irt(t,e)}var TT=class extends De{list(e,n={},r){return this._client.getAPIList(Ce`/responses/${e}/input_items`,Tn,{query:n,...r})}};var IT=class extends De{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}};var ag=class extends De{constructor(){super(...arguments),this.inputItems=new TT(this._client),this.inputTokens=new IT(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&XH(r),r))}retrieve(e,n={},r){return this._client.get(Ce`/responses/${e}`,{query:n,...r,stream:n?.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&XH(o),o))}delete(e,n){return this._client.delete(Ce`/responses/${e}`,{...n,headers:tt([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>Qme(r,e))}stream(e,n){return tG.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(Ce`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}};ag.InputItems=TT;ag.InputTokens=IT;var RT=class extends De{create(e,n,r){return this._client.post(Ce`/uploads/${e}/parts`,Rl({body:n,...r},this._client))}};var xy=class extends De{constructor(){super(...arguments),this.parts=new RT(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(Ce`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(Ce`/uploads/${e}/complete`,{body:n,...r})}};xy.Parts=RT;var urt=async t=>{let e=await Promise.allSettled(t),n=e.filter(o=>o.status==="rejected");if(n.length){for(let o of n)console.error(o.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}let r=[];for(let o of e)o.status==="fulfilled"&&r.push(o.value);return r};var CT=class extends De{create(e,n,r){return this._client.post(Ce`/vector_stores/${e}/file_batches`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){let{vector_store_id:o}=n;return this._client.get(Ce`/vector_stores/${o}/file_batches/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){let{vector_store_id:o}=n;return this._client.post(Ce`/vector_stores/${o}/file_batches/${e}/cancel`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){let o=await this.create(e,n);return await this.poll(e,o.id,r)}listFiles(e,n,r){let{vector_store_id:o,...i}=n;return this._client.getAPIList(Ce`/vector_stores/${o}/file_batches/${e}/files`,Tn,{query:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,n,r){let o=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:i,response:s}=await this.retrieve(n,{vector_store_id:e},{...r,headers:o}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Jf(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},o){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let i=o?.maxConcurrency??5,s=Math.min(i,n.length),a=this._client,c=n.values(),l=[...r];async function u(p){for(let f of p){let h=await a.files.create({file:f,purpose:"assistants"},o);l.push(h.id)}}let d=Array(s).fill(c).map(u);return await urt(d),await this.createAndPoll(e,{file_ids:l})}};var NT=class extends De{create(e,n,r){return this._client.post(Ce`/vector_stores/${e}/files`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){let{vector_store_id:o}=n;return this._client.get(Ce`/vector_stores/${o}/files/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){let{vector_store_id:o,...i}=n;return this._client.post(Ce`/vector_stores/${o}/files/${e}`,{body:i,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(Ce`/vector_stores/${e}/files`,Tn,{query:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){let{vector_store_id:o}=n;return this._client.delete(Ce`/vector_stores/${o}/files/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){let o=await this.create(e,n,r);return await this.poll(e,o.id,r)}async poll(e,n,r){let o=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let i=await this.retrieve(n,{vector_store_id:e},{...r,headers:o}).withResponse(),s=i.data;switch(s.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let c=i.response.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Jf(a);break;case"failed":case"completed":return s}}}async upload(e,n,r){let o=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:o.id},r)}async uploadAndPoll(e,n,r){let o=await this.upload(e,n,r);return await this.poll(e,o.id,r)}content(e,n,r){let{vector_store_id:o}=n;return this._client.getAPIList(Ce`/vector_stores/${o}/files/${e}/content`,Xf,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var cg=class extends De{constructor(){super(...arguments),this.files=new NT(this._client),this.fileBatches=new CT(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(Ce`/vector_stores/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(Ce`/vector_stores/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",Tn,{query:e,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(Ce`/vector_stores/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,r){return this._client.getAPIList(Ce`/vector_stores/${e}/search`,Xf,{body:n,method:"post",...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};cg.Files=NT;cg.FileBatches=CT;var wv=class extends De{create(e,n){return this._client.post("/videos",Dme({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Ce`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",tg,{query:e,...n})}delete(e,n){return this._client.delete(Ce`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(Ce`/videos/${e}/content`,{query:n,...r,headers:tt([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(Ce`/videos/${e}/remix`,Dme({body:n,...r},this._client))}};var OT,drt,nG,Tv=class extends De{constructor(){super(...arguments),OT.add(this)}async unwrap(e,n,r=this._client.webhookSecret,o=300){return await this.verifySignature(e,n,r,o),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");me(this,OT,"m",drt).call(this,r);let i=tt([n]).values,s=me(this,OT,"m",nG).call(this,i,"webhook-signature"),a=me(this,OT,"m",nG).call(this,i,"webhook-timestamp"),c=me(this,OT,"m",nG).call(this,i,"webhook-id"),l=parseInt(a,10);if(isNaN(l))throw new Kf("Invalid webhook timestamp format");let u=Math.floor(Date.now()/1e3);if(u-l>o)throw new Kf("Webhook timestamp is too old");if(l>u+o)throw new Kf("Webhook timestamp is too new");let d=s.split(" ").map(m=>m.startsWith("v1,")?m.substring(3):m),p=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),f=c?`${c}.${a}.${e}`:`${a}.${e}`,h=await crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let m of d)try{let g=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",h,g,new TextEncoder().encode(f)))return}catch{continue}throw new Kf("The given webhook signature does not match the expected signature")}};OT=new WeakSet,drt=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},nG=function(e,n){if(!e)throw new Error("Headers are required");let r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var Xme,Zme,rG,prt,Zt=class{constructor({baseURL:e=yy("OPENAI_BASE_URL"),apiKey:n=yy("OPENAI_API_KEY"),organization:r=yy("OPENAI_ORG_ID")??null,project:o=yy("OPENAI_PROJECT_ID")??null,webhookSecret:i=yy("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(Xme.add(this),rG.set(this,void 0),this.completions=new mv(this),this.chat=new my(this),this.embeddings=new gv(this),this.files=new bv(this),this.images=new Ev(this),this.audio=new Zf(this),this.moderations=new xv(this),this.models=new Av(this),this.fineTuning=new hp(this),this.graders=new Ey(this),this.vectorStores=new cg(this),this.webhooks=new Tv(this),this.beta=new mp(this),this.batches=new lv(this),this.uploads=new xy(this),this.responses=new ag(this),this.realtime=new sg(this),this.conversations=new Sy(this),this.evals=new vy(this),this.containers=new _y(this),this.videos=new wv(this),n===void 0)throw new vt("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let a={apiKey:n,organization:r,project:o,webhookSecret:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&_nt())throw new vt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??Zme.DEFAULT_TIMEOUT,this.logger=a.logger??console;let c="warn";this.logLevel=c,this.logLevel=Ime(a.logLevel,"ClientOptions.logLevel",this)??Ime(yy("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??vnt(),zt(this,rG,Ant,"f"),this._options=a,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=o,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return tt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return wme(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${dy}`}defaultIdempotencyKey(){return`stainless-node-retry-${hme()}`}makeStatusError(e,n,r,o){return Ki.generate(e,n,r,o)}async _callApiKey(){let e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof vt?r:new vt(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new vt(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){let o=!me(this,Xme,"m",prt).call(this)&&r||this.baseURL,i=dnt(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return pnt(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>({method:e,path:n,...o})))}request(e,n=null){return new iv(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){let o=await e,i=o.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(o);let{req:s,url:a,timeout:c}=await this.buildRequest(o,{retryCount:i-n});await this.prepareRequest(s,{url:a,options:o});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(ii(this).debug(`[${l}] sending request`,eg({retryOfRequestLogID:r,method:o.method,url:a,options:o,headers:s.headers})),o.signal?.aborted)throw new Mi;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(RO),h=Date.now();if(f instanceof globalThis.Error){let y=`retrying, ${n} attempts remaining`;if(o.signal?.aborted)throw new Mi;let S=IO(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return ii(this).info(`[${l}] connection ${S?"timed out":"failed"} - ${y}`),ii(this).debug(`[${l}] connection ${S?"timed out":"failed"} (${y})`,eg({retryOfRequestLogID:r,url:a,durationMs:h-d,message:f.message})),this.retryRequest(o,n,r??l);throw ii(this).info(`[${l}] connection ${S?"timed out":"failed"} - error; no more retries left`),ii(this).debug(`[${l}] connection ${S?"timed out":"failed"} (error; no more retries left)`,eg({retryOfRequestLogID:r,url:a,durationMs:h-d,message:f.message})),S?new uy:new ly({cause:f})}let m=[...f.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,S])=>", "+y+": "+JSON.stringify(S)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let y=await this.shouldRetry(f);if(n&&y){let D=`retrying, ${n} attempts remaining`;return await Ent(f.body),ii(this).info(`${g} - ${D}`),ii(this).debug(`[${l}] response error (${D})`,eg({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(o,n,r??l,f.headers)}let S=y?"error; no more retries left":"error; not retryable";ii(this).info(`${g} - ${S}`);let v=await f.text().catch(D=>RO(D).message),A=hnt(v),w=A?void 0:v;throw ii(this).debug(`[${l}] response error (${S})`,eg({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,message:w,durationMs:Date.now()-d})),this.makeStatusError(f.status,A,w,f.headers)}return ii(this).info(g),ii(this).debug(`[${l}] response start`,eg({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:o,controller:p,requestLogID:l,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){let r=this.makeRequest(n,null,void 0);return new kO(this,r,e)}async fetchWithTimeout(e,n,r,o){let{signal:i,method:s,...a}=n||{};i&&i.addEventListener("abort",()=>o.abort());let c=setTimeout(()=>o.abort(),r),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:o.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){let i,s=o?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(i=c)}let a=o?.get("retry-after");if(a&&!i){let c=parseFloat(a);Number.isNaN(c)?i=Date.parse(a)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){let c=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,c)}return await Jf(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){let i=n-e,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){let r={...e},{method:o,path:i,query:s,defaultBaseURL:a}=r,c=this.buildURL(i,s,a);"timeout"in r&&mnt("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:n});return{req:{method:o,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:c,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let s=tt([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Snt(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};let r=tt([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:CH(e)}:me(this,rG,"f").call(this,{body:e,headers:r})}};Zme=Zt,rG=new WeakMap,Xme=new WeakSet,prt=function(){return this.baseURL!=="https://api.openai.com/v1"};Zt.OpenAI=Zme;Zt.DEFAULT_TIMEOUT=6e5;Zt.OpenAIError=vt;Zt.APIError=Ki;Zt.APIConnectionError=ly;Zt.APIConnectionTimeoutError=uy;Zt.APIUserAbortError=Mi;Zt.NotFoundError=jw;Zt.ConflictError=qw;Zt.RateLimitError=Kw;Zt.BadRequestError=Gw;Zt.AuthenticationError=Vw;Zt.InternalServerError=Jw;Zt.PermissionDeniedError=zw;Zt.UnprocessableEntityError=Ww;Zt.InvalidWebhookSignatureError=Kf;Zt.toFile=UH;Zt.Completions=mv;Zt.Chat=my;Zt.Embeddings=gv;Zt.Files=bv;Zt.Images=Ev;Zt.Audio=Zf;Zt.Moderations=xv;Zt.Models=Av;Zt.FineTuning=hp;Zt.Graders=Ey;Zt.VectorStores=cg;Zt.Webhooks=Tv;Zt.Beta=mp;Zt.Batches=lv;Zt.Uploads=xy;Zt.Responses=ag;Zt.Realtime=sg;Zt.Conversations=Sy;Zt.Evals=vy;Zt.Containers=_y;Zt.Videos=wv;function frt(){let t=null;return()=>{if(!t){let e=process.env.ANTHROPIC_API_KEY;if(!e)throw new Error("ANTHROPIC_API_KEY environment variable is not set. Claude agent cannot trade.");t=new ma({apiKey:e})}return t}}function mrt(){let t=null;return()=>{if(!t){let e=process.env.OPENAI_API_KEY;if(!e)throw new Error("OPENAI_API_KEY environment variable is not set. GPT agent cannot trade.");t=new Zt({apiKey:e})}return t}}function hrt(){let t=null;return()=>{if(!t){let e=process.env.XAI_API_KEY;if(!e)throw new Error("XAI_API_KEY environment variable is not set. Grok agent cannot trade.");t=new Zt({apiKey:e,baseURL:"https://api.x.ai/v1"})}return t}}function grt(){let t=null;return()=>{if(!t){let e=process.env.GOOGLE_API_KEY;if(!e)throw new Error("GOOGLE_API_KEY environment variable is not set. Gemini agent cannot trade.");t=new Zt({apiKey:e,baseURL:"https://generativelanguage.googleapis.com/v1beta/openai/"})}return t}}var Ben={agentId:"claude-value-investor",name:"Opus 4.6",model:"claude-opus-4-6",provider:"anthropic",description:"Flagship autonomous trading agent powered by Anthropic Claude Opus 4.6 \u2014 the most capable reasoning model.",personality:"Deep analytical thinker. Builds sophisticated multi-factor theses with extended reasoning.",tradingStyle:"Thesis-driven portfolio construction with rigorous risk management.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:1,researchModel:"claude-haiku-4-5-20251101",skillOverrides:{AGENT_NAME:"Opus 4.6"}},ehe=class extends qf{getClient;constructor(){super(Ben),this.getClient=frt()}getProviderTools(){return _tt()}buildInitialMessages(e){return[{role:"user",content:e}]}appendUserMessage(e,n){return[...e,{role:"user",content:n}]}appendToolResults(e,n,r){let o=[];n.textResponse&&o.push({type:"text",text:n.textResponse});for(let s of n.toolCalls)o.push({type:"tool_use",id:s.id,name:s.name,input:s.arguments});let i=r.map(s=>({type:"tool_result",tool_use_id:s.toolCallId,content:s.result}));return[...e,{role:"assistant",content:o},{role:"user",content:i}]}async callWithTools(e,n,r){return this._callAnthropic(this.config.model,16e3,e,n,r)}callWithToolsForResearch(e,n,r){return this._callAnthropic("claude-haiku-4-5-20251101",4e3,e,n,r)}async _callAnthropic(e,n,r,o,i){let a=await this.getClient().messages.create({model:e,max_tokens:n,system:r,messages:o,...i.length>0?{tools:i}:{},temperature:this.config.temperature}),c=[],l=null;for(let p of a.content)p.type==="tool_use"?c.push({id:p.id,name:p.name,arguments:p.input}):p.type==="text"&&(l=(l??"")+p.text);let u="end_turn";a.stop_reason==="tool_use"?u="tool_use":a.stop_reason==="max_tokens"&&(u="max_tokens");let d=a.usage?{inputTokens:a.usage.input_tokens,outputTokens:a.usage.output_tokens}:void 0;return{toolCalls:c,textResponse:l,stopReason:u,usage:d}}},yrt=new ehe;function PT(t){return[{role:"user",content:t}]}function DT(t,e,n){let r={role:"assistant",content:e.textResponse??null,tool_calls:e.toolCalls.map(i=>({id:i.id,type:"function",function:{name:i.name,arguments:JSON.stringify(i.arguments)}}))},o=n.map(i=>({role:"tool",tool_call_id:i.toolCallId,content:i.result}));return[...t,r,...o]}function Uen(t){if(!t.choices||t.choices.length===0)return{toolCalls:[],textResponse:null,stopReason:"end_turn"};let e=t.choices[0];if(!e||!e.message)return{toolCalls:[],textResponse:null,stopReason:"end_turn"};let n=e.message,r=(n.tool_calls??[]).filter(s=>s.type==="function").map(s=>({id:s.id,name:s.function.name,arguments:JSON.parse(s.function.arguments||"{}")})),o="end_turn";e.finish_reason==="tool_calls"?o="tool_use":e.finish_reason==="length"&&(o="max_tokens");let i=t.usage?{inputTokens:t.usage.prompt_tokens,outputTokens:t.usage.completion_tokens}:void 0;return{toolCalls:r,textResponse:n.content??null,stopReason:o,usage:i}}function wy(t,e,n,r){return async(o,i,s)=>{let a=t(),c={model:e,temperature:n,messages:[{role:"system",content:o},...i],...s.length>0?{tools:s}:{}},l=r?.maxTokens??16e3;r?.useCompletionTokens||e.startsWith("gpt-5")?c.max_completion_tokens=l:c.max_tokens=l,r?.reasoningEffort&&(c.reasoning_effort=r.reasoningEffort);let u=await a.chat.completions.create(c);return Uen(u)}}var brt={agentId:"gpt-momentum-trader",name:"GPT-5.2",model:"gpt-5.2",provider:"openai",description:"Flagship autonomous trading agent powered by OpenAI GPT-5.2 with xhigh reasoning effort \u2014 top-tier intelligence with 400K context.",personality:"Systematic reasoner. Builds detailed mental models before trading decisions.",tradingStyle:"Multi-step reasoning with explicit uncertainty quantification.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:1,reasoningEffort:"xhigh",researchModel:"gpt-4o-mini",skillOverrides:{AGENT_NAME:"GPT-5.2"}},the=class extends qf{callWithTools;callWithToolsForResearch;constructor(){super(brt);let e=mrt();this.callWithTools=wy(e,this.config.model,this.config.temperature,{reasoningEffort:brt.reasoningEffort}),this.callWithToolsForResearch=wy(e,"gpt-4o-mini",.3,{maxTokens:4e3})}getProviderTools(){return _w()}buildInitialMessages(e){return PT(e)}appendUserMessage(e,n){return[...e,{role:"user",content:n}]}appendToolResults(e,n,r){return DT(e,n,r)}},_rt=new the;var $en={agentId:"grok-contrarian",name:"Grok 4",model:"grok-4",provider:"xai",description:"Flagship autonomous trading agent powered by xAI Grok 4 \u2014 frontier reasoning model with real-time X/Twitter sentiment.",personality:"Contrarian thinker with access to real-time X/Twitter sentiment and breaking news.",tradingStyle:"News-driven catalyst trading with contrarian positioning.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.7,researchModel:"grok-4-fast",skillOverrides:{AGENT_NAME:"Grok 4"}},nhe=class extends qf{callWithTools;callWithToolsForResearch;constructor(){super($en);let e=hrt();this.callWithTools=wy(e,this.config.model,this.config.temperature),this.callWithToolsForResearch=wy(e,"grok-4-fast",.3,{maxTokens:4e3})}getProviderTools(){return _w()}buildInitialMessages(e){return PT(e)}appendUserMessage(e,n){return[...e,{role:"user",content:n}]}appendToolResults(e,n,r){return DT(e,n,r)}},Srt=new nhe;var Fen={agentId:"gemini-analyst",name:"Gemini 2.5 Flash",model:"gemini-2.5-flash-preview-05-20",provider:"google",description:"Analytical trading agent powered by Google Gemini 2.5 Flash \u2014 fast multimodal reasoning with strong quantitative analysis.",personality:"Data-driven analyst with systematic quantitative approach and pattern recognition.",tradingStyle:"Quantitative analysis with systematic position sizing and risk management.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.7,skillOverrides:{AGENT_NAME:"Gemini 2.5 Flash"}},rhe=class extends qf{callWithTools;constructor(){super(Fen);let e=grt();this.callWithTools=wy(e,this.config.model,this.config.temperature)}getProviderTools(){return _w()}buildInitialMessages(e){return PT(e)}appendUserMessage(e,n){return[...e,{role:"user",content:n}]}appendToolResults(e,n,r){return DT(e,n,r)}},vrt=new rhe;_o();var vdt=1500*1e3,Edt=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",Adt="TRADING_LOCK",Sdt=2,mdn=6,Mo=null;function xdt(){let t=Math.random().toString(36).slice(Sdt,Sdt+mdn);return`lock_${Date.now()}_${t}`}function wdt(){return Mo?Date.now()>Mo.expiresAt:!0}async function hdn(t){if(Mo&&!wdt())return console.log(`[TradingLock] Lock already held by "${Mo.holderInfo}" (acquired ${new Date(Mo.acquiredAt).toISOString()}). Skipping.`),{acquired:!1,lockId:null,existingLock:{lockId:Mo.lockId,acquiredAt:new Date(Mo.acquiredAt).toISOString(),expiresAt:new Date(Mo.expiresAt).toISOString(),holderInfo:Mo.holderInfo,isExpired:!1}};let e=await ydn(t);if(e!==null)return e;let n=xdt(),r=Date.now();return Mo={lockId:n,acquiredAt:r,expiresAt:r+vdt,holderInfo:t},console.log(`[TradingLock] Lock acquired: ${n} by "${t}" (expires ${new Date(Mo.expiresAt).toISOString()})`),{acquired:!0,lockId:n,existingLock:null}}async function gdn(t){if(!Mo||Mo.lockId!==t)return console.warn(`[TradingLock] Cannot release: lock ${t} not found or doesn't match current lock`),!1;let e=Mo.holderInfo;return Mo=null,await bdn(t),console.log(`[TradingLock] Lock released: ${t} (was held by "${e}")`),!0}function M8(){return Mo?wdt()?(console.log(`[TradingLock] Lock ${Mo.lockId} expired, auto-releasing`),Mo=null,{isLocked:!1,lock:null}):{isLocked:!0,lock:{lockId:Mo.lockId,acquiredAt:new Date(Mo.acquiredAt).toISOString(),expiresAt:new Date(Mo.expiresAt).toISOString(),holderInfo:Mo.holderInfo,isExpired:!1}}:{isLocked:!1,lock:null}}async function Tdt(t,e){let n=await hdn(t);if(!n.acquired||!n.lockId)return console.log(`[TradingLock] Could not acquire lock for "${t}". Skipping execution.`),null;let r=n.lockId;try{return{result:await e(),lockId:r}}finally{await gdn(r)}}async function ydn(t){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return null;try{let{DynamoDBClient:e,PutItemCommand:n}=await Promise.resolve().then(()=>(GG(),sye)),r=new e({}),o=xdt(),i=Date.now(),s=i+vdt,a=Math.floor(s/1e3);return await r.send(new n({TableName:Edt,Item:{agentId:{S:Adt},lockId:{S:o},acquiredAt:{S:new Date(i).toISOString()},expiresAt:{S:new Date(s).toISOString()},holderInfo:{S:t},ttl:{N:String(a)},status:{S:"active"},lastTradeTimestamp:{S:new Date(i).toISOString()}},ConditionExpression:"attribute_not_exists(agentId) OR expiresAt < :now",ExpressionAttributeValues:{":now":{S:new Date(i).toISOString()}}})),Mo={lockId:o,acquiredAt:i,expiresAt:s,holderInfo:t},console.log(`[TradingLock] DynamoDB lock acquired: ${o} by "${t}"`),{acquired:!0,lockId:o,existingLock:null}}catch(e){return e instanceof Error&&e.name==="ConditionalCheckFailedException"?(console.log("[TradingLock] DynamoDB lock held by another instance. Skipping."),{acquired:!1,lockId:null,existingLock:null}):(console.warn(`[TradingLock] DynamoDB lock failed, falling back to in-memory: ${Ue(e)}`),null)}}async function bdn(t){if(process.env.AWS_LAMBDA_FUNCTION_NAME)try{let{DynamoDBClient:e,DeleteItemCommand:n}=await Promise.resolve().then(()=>(GG(),sye));await new e({}).send(new n({TableName:Edt,Key:{agentId:{S:Adt}},ConditionExpression:"lockId = :lockId",ExpressionAttributeValues:{":lockId":{S:t}}})),console.log(`[TradingLock] DynamoDB lock released: ${t}`)}catch(e){console.warn(`[TradingLock] DynamoDB release failed (non-critical): ${Ue(e)}`)}}var _dn={maxTradeUsdc:5,dailyLossLimitPercent:10,cooldownSeconds:0,positionLimitPercent:25,maxDailyTrades:6},aye=new Map,KT=[],ms={..._dn};function Idt(t){let e=new Date().toISOString().slice(0,10),n=aye.get(t);return(!n||n.currentDay!==e)&&(n={lastTradeTime:n?.lastTradeTime??null,dailyStartValue:0,currentDay:e,tradesToday:0},aye.set(t,n)),n}function Dy(t){KT.push(t),console.warn(`[CircuitBreaker] ${t.action.toUpperCase()}: ${t.breaker} \u2014 ${t.reason} (agent: ${t.agentId})`),KT.length>1e3&&KT.splice(0,KT.length-1e3)}function Rdt(t,e,n){let r=[],o={...e};if(e.action==="hold")return{allowed:!0,decision:o,activations:r};let i=Idt(t);if(i.dailyStartValue===0&&(i.dailyStartValue=n.totalValue),i.lastTradeTime){let s=new Date(i.lastTradeTime).getTime(),a=(Date.now()-s)/1e3;if(a<ms.cooldownSeconds){let c=Math.ceil(ms.cooldownSeconds-a),l={breaker:"COOLDOWN_PERIOD",reason:`Agent last traded ${Math.round(a)}s ago. Cooldown requires ${ms.cooldownSeconds}s. ${c}s remaining.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return r.push(l),Dy(l),{allowed:!1,decision:{...o,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Cooldown] ${l.reason} Original: ${e.reasoning}`},activations:r}}}if(i.dailyStartValue>0){let s=(n.totalValue-i.dailyStartValue)/i.dailyStartValue*100;if(s<=-ms.dailyLossLimitPercent){let a={breaker:"DAILY_LOSS_LIMIT",reason:`Daily PnL is ${s.toFixed(2)}% (limit: -${ms.dailyLossLimitPercent}%). Trading halted for the day.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return r.push(a),Dy(a),{allowed:!1,decision:{...o,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Loss Limit] ${a.reason} Original: ${e.reasoning}`},activations:r}}}if(i.tradesToday>=ms.maxDailyTrades){let s={breaker:"MAX_DAILY_TRADES",reason:`Agent has made ${i.tradesToday} trades today (limit: ${ms.maxDailyTrades}). No more trades allowed.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return r.push(s),Dy(s),{allowed:!1,decision:{...o,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Trade Limit] ${s.reason} Original: ${e.reasoning}`},activations:r}}if(e.action==="buy"&&e.quantity>ms.maxTradeUsdc){let s=e.quantity;o.quantity=ms.maxTradeUsdc;let a={breaker:"MAX_TRADE_SIZE",reason:`Buy order of $${s.toFixed(2)} USDC exceeds limit of $${ms.maxTradeUsdc}. Clamped to $${ms.maxTradeUsdc}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};r.push(a),Dy(a),o.reasoning=`[Circuit Breaker: Trade Size Clamped from $${s.toFixed(2)} to $${ms.maxTradeUsdc}] ${e.reasoning}`}if(e.action==="buy"){let s=n.positions.find(d=>d.symbol.toLowerCase()===e.symbol.toLowerCase()),a=s?s.currentPrice*s.quantity:0,c=o.quantity,l=a+c,u=n.totalValue>0?l/n.totalValue*100:100;if(u>ms.positionLimitPercent){let d=ms.positionLimitPercent/100*n.totalValue-a;if(d<=0){let h={breaker:"POSITION_LIMIT",reason:`Position in ${e.symbol} is already at ${u.toFixed(1)}% of portfolio (limit: ${ms.positionLimitPercent}%). Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return r.push(h),Dy(h),{allowed:!1,decision:{...o,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Position Limit] ${h.reason} Original: ${e.reasoning}`},activations:r}}let p=o.quantity;o.quantity=Math.floor(d*100)/100;let f={breaker:"POSITION_LIMIT",reason:`Buy would put ${e.symbol} at ${u.toFixed(1)}% of portfolio (limit: ${ms.positionLimitPercent}%). Clamped from $${p.toFixed(2)} to $${o.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};r.push(f),Dy(f)}}if(e.action==="buy"&&o.quantity>n.cashBalance){if(n.cashBalance<=1){let c={breaker:"INSUFFICIENT_FUNDS",reason:`Cash balance $${n.cashBalance.toFixed(2)} insufficient for any buy. Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return r.push(c),Dy(c),{allowed:!1,decision:{...o,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Insufficient Funds] ${c.reason} Original: ${e.reasoning}`},activations:r}}let s=o.quantity;o.quantity=Math.floor(n.cashBalance*100)/100;let a={breaker:"INSUFFICIENT_FUNDS",reason:`Buy of $${s.toFixed(2)} exceeds cash balance $${n.cashBalance.toFixed(2)}. Clamped to $${o.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};r.push(a),Dy(a)}return{allowed:!0,decision:o,activations:r}}function Cdt(t){let e=Idt(t);e.lastTradeTime=new Date().toISOString(),e.tradesToday++}function VG(){let t={};for(let[e,n]of aye){let r=n.lastTradeTime?Math.max(0,ms.cooldownSeconds-(Date.now()-new Date(n.lastTradeTime).getTime())/1e3):0;t[e]={lastTradeTime:n.lastTradeTime,tradesToday:n.tradesToday,cooldownRemaining:Math.round(r),dailyLossTriggered:!1}}return{config:{...ms},agentStates:t,totalActivations:KT.length,recentActivations:KT.slice(-10)}}var B8=class{tokens;config;queue=[];processing=!1;lastRefillTime;refillIntervalId=null;_totalRequests=0;_rateLimitHits=0;_totalWaitMs=0;constructor(e){this.config=e,this.tokens=e.maxTokens,this.lastRefillTime=Date.now(),this.refillIntervalId=setInterval(()=>{this.refill()},e.refillIntervalMs)}get metrics(){return{name:this.config.name,currentTokens:this.tokens,maxTokens:this.config.maxTokens,queueDepth:this.queue.length,totalRequests:this._totalRequests,rateLimitHits:this._rateLimitHits,totalWaitMs:this._totalWaitMs,avgWaitMs:this._totalRequests>0?Math.round(this._totalWaitMs/this._totalRequests):0}}async execute(e){if(this._totalRequests++,this.tokens>0)return this.tokens--,e();this._rateLimitHits++;let n=this.config.maxQueueSize??0;if(n>0&&this.queue.length>=n)throw new Error(`[RateLimiter:${this.config.name}] Queue full (${n} items). Request rejected.`);return new Promise((r,o)=>{this.queue.push({execute:e,resolve:r,reject:o,enqueuedAt:Date.now()})})}refill(){let e=Date.now(),n=e-this.lastRefillTime,r=Math.floor(n/this.config.refillIntervalMs);r>0&&(this.tokens=Math.min(this.config.maxTokens,this.tokens+this.config.refillRate*r),this.lastRefillTime=e),this.processQueue()}async processQueue(){if(!this.processing){this.processing=!0;try{for(;this.queue.length>0&&this.tokens>0;){this.tokens--;let e=this.queue.shift();if(!e)break;this._totalWaitMs+=Date.now()-e.enqueuedAt;try{let n=await e.execute();e.resolve(n)}catch(n){e.reject(n instanceof Error?n:new Error(String(n)))}}}finally{this.processing=!1}}}destroy(){for(this.refillIntervalId!==null&&(clearInterval(this.refillIntervalId),this.refillIntervalId=null);this.queue.length>0;)this.queue.shift()?.reject(new Error(`[RateLimiter:${this.config.name}] Shutting down`))}},F2o=new B8({name:"solana-rpc",maxTokens:5,refillRate:5,refillIntervalMs:1e3,maxQueueSize:100}),H2o=new B8({name:"llm-api",maxTokens:10,refillRate:10,refillIntervalMs:6e4,maxQueueSize:20}),Sdn=new B8({name:"jupiter-dex",maxTokens:2,refillRate:2,refillIntervalMs:1e3,maxQueueSize:50});function vdn(){return 1e3+Math.floor(Math.random()*4e3)}async function Ndt(){let t=vdn();console.log(`[RateLimiter] Applying ${t}ms jitter before next trade execution`),await new Promise(e=>setTimeout(e,t))}_o();var Edn=1800*1e3,Adn=50,Odt=100,JT=new Map,U8=0,zG=0,Pdt=0,Ddt=null,kdt=xdn;async function xdn(t){let e=[],n=new Date;for(let r of t.slice(0,10)){let o=r.replace(/x$/i,""),i=[{titleTemplate:`${o} reports stronger-than-expected quarterly revenue`,sentiment:"positive"},{titleTemplate:`Analysts revise ${o} price target amid market volatility`,sentiment:"neutral"},{titleTemplate:`${o} faces regulatory scrutiny in key market`,sentiment:"negative"}],s=i[Math.floor(Math.random()*i.length)];e.push({title:s.titleTemplate,summary:`Market analysis for ${o} stock. Trading volume and institutional interest remain factors to watch.`,source:"MoltApp Market Intelligence",url:`https://patgpt.us/news/${r.toLowerCase()}`,publishedAt:new Date(n.getTime()-Math.floor(Math.random()*36e5)).toISOString(),sentiment:s.sentiment,relevantSymbols:[r]})}return e.push({title:"Market Overview: Major indices show mixed signals",summary:"US equities are showing divergent trends across sectors. Technology stocks continue to attract institutional flows while value sectors trade sideways. Volatility remains elevated compared to historical averages.",source:"MoltApp Market Intelligence",url:"https://patgpt.us/news/market-overview",publishedAt:n.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]}),e}function wdn(t){return`news:${t.map(n=>n.toUpperCase().trim()).sort().join(",")}`}async function Ldt(t){U8++;let e=wdn(t),n=JT.get(e);if(n&&Date.now()<n.expiresAtMs)return zG++,console.log(`[SearchCache] Cache HIT for ${t.length} symbols (${zG}/${U8} hit rate)`),n.result;Pdt++,console.log(`[SearchCache] Cache MISS for ${t.length} symbols. Fetching fresh data...`);try{let r=await kdt(t),o=new Date,i=new Date(o.getTime()+Edn),s={query:t.join(","),items:r.slice(0,Adn),cachedAt:o.toISOString(),expiresAt:i.toISOString(),source:"search-cache"};return JT.set(e,{result:s,expiresAtMs:i.getTime()}),Ddt=o.toISOString(),JT.size>Odt&&Tdn(),s}catch(r){return console.error(`[SearchCache] Search failed: ${Ue(r)}`),n?(console.log("[SearchCache] Returning stale cached data"),n.result):{query:t.join(","),items:[],cachedAt:new Date().toISOString(),expiresAt:new Date().toISOString(),source:"search-cache-error"}}}function Mdt(t){if(t.items.length===0)return"No recent news available.";let e=t.items.map(n=>{let r=n.sentiment==="positive"?"[+]":n.sentiment==="negative"?"[-]":"[=]",o=n.relevantSymbols.length>0?` (${n.relevantSymbols.join(", ")})`:"";return`${r} ${n.title}${o}
    ${n.summary}`});return`RECENT NEWS & MARKET INTELLIGENCE (cached ${t.cachedAt}):
${e.join(`

`)}`}function Bdt(t){kdt=t,console.log("[SearchCache] Search provider updated")}function cye(){return{totalRequests:U8,cacheHits:zG,cacheMisses:Pdt,hitRate:U8>0?Math.round(zG/U8*100):0,itemsCached:JT.size,lastRefreshAt:Ddt}}function Tdn(){let t=Array.from(JT.entries()).sort(([,n],[,r])=>n.expiresAtMs-r.expiresAtMs),e=t.length-Odt;for(let n=0;n<e;n++)JT.delete(t[n][0]);console.log(`[SearchCache] Evicted ${e} stale cache entries`)}_o();var $dt={};for(let t of kr){let e=t.symbol.replace(/x$/i,"");$dt[t.symbol]=`${t.name} ${e}`}async function Udt(t,e){let n=new URL("https://api.search.brave.com/res/v1/web/search");n.searchParams.set("q",t),n.searchParams.set("count","5");let r=await fetch(n.toString(),{headers:{"X-Subscription-Token":e,Accept:"application/json"}});return r.ok?((await r.json()).web?.results??[]).slice(0,5).map(s=>({title:s.title??"",description:(s.description??"").slice(0,300),url:s.url??""})):(console.warn(`[BraveSearch] Query "${t}" failed: ${r.status}`),[])}async function Fdt(t){let e=process.env.BRAVE_API_KEY;if(!e)return console.warn("[BraveSearch] BRAVE_API_KEY not set \u2014 falling back to default provider"),[];let n=t.slice(0,6),r=[],o=new Date;for(let i of n){let a=`${$dt[i]??i.replace(/x$/i,"")} stock news today 2026`;try{let c=await Udt(a,e);for(let l of c)r.push({title:l.title,summary:l.description,source:"Brave Search",url:l.url,publishedAt:o.toISOString(),sentiment:"neutral",relevantSymbols:[i]})}catch(c){console.warn(`[BraveSearch] Error searching ${i}: ${Ue(c)}`)}}try{let i=await Udt("stock market news today 2026",e);for(let s of i)r.push({title:s.title,summary:s.description,source:"Brave Search",url:s.url,publishedAt:o.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]})}catch(i){console.warn(`[BraveSearch] Market overview search failed: ${Ue(i)}`)}return console.log(`[BraveSearch] Fetched ${r.length} results for ${n.length} symbols`),r}mt();_o();var Idn=["trade_executed","round_started","round_completed","price_update","agent_decision","whale_alert","signal_fired","debate_started","prediction_created","sentiment_shift","price_deviation","order_triggered","trade_outcome_recorded"];function Rdn(){let t=Date.now().toString(36),e=Math.random().toString(36).slice(2,8);return`evt_${t}_${e}`}function Cdn(){return`sub_${Math.random().toString(36).slice(2,10)}`}var lye=class t{buffer=[];subscribers=new Map;emissionTimestamps=[];totalEmitted=0;lastEventAt=null;startedAt=Date.now();emit(e,n){let r={id:Rdn(),type:e,timestamp:new Date().toISOString(),data:n};this.buffer.push(r),this.buffer.length>100&&this.buffer.shift();let o=Date.now();this.totalEmitted++,this.lastEventAt=r.timestamp,this.emissionTimestamps.push(o);let i=o-6e4;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<i;)this.emissionTimestamps.shift();for(let s of this.subscribers.values())if(!(s.typeFilter&&!s.typeFilter.includes(e)))try{s.callback(r)}catch(a){console.error(`[EventBus] Subscriber ${s.id} threw:`,a)}return r}subscribe(e,n){let r=Cdn();return this.subscribers.set(r,{id:r,callback:e,typeFilter:n??null,createdAt:Date.now()}),r}unsubscribe(e){return this.subscribers.delete(e)}getRecentEvents(e,n,r=100){let o=[...this.buffer];if(e){let i=new Date(e).getTime();Number.isNaN(i)||(o=o.filter(s=>new Date(s.timestamp).getTime()>i))}if(n&&n.length>0){let i=new Set(n);o=o.filter(s=>i.has(s.type))}return o.reverse().slice(0,r)}getLatestEvents(e=10){return[...this.buffer].reverse().slice(0,e)}getStats(){let e=Date.now(),n=e-6e4,r=this.buffer.filter(i=>new Date(i.timestamp).getTime()>n),o={};for(let i of r)o[i.type]=(o[i.type]??0)+1;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<n;)this.emissionTimestamps.shift();return{activeConnections:this.subscribers.size,totalEventsEmitted:this.totalEmitted,eventsLastMinute:this.emissionTimestamps.length,eventsByType:o,bufferSize:this.buffer.length,bufferCapacity:100,lastEventAt:this.lastEventAt,uptimeMs:e-this.startedAt}}static formatSSE(e){let n=[];n.push(`id: ${e.id}`),n.push(`event: ${e.type}`);let r=JSON.stringify({...e.data,_meta:{eventId:e.id,type:e.type,timestamp:e.timestamp}});return n.push(`data: ${r}`),n.join(`
`)+`

`}static formatHeartbeat(){return`:heartbeat ${new Date().toISOString()}

`}static getChannelDescriptions(){return[{type:"trade_executed",description:"Fired when any agent executes a buy or sell trade"},{type:"round_started",description:"Fired when a new automated trading round begins"},{type:"round_completed",description:"Fired when a trading round finishes with all agent results"},{type:"price_update",description:"Fired when market prices are refreshed from Jupiter"},{type:"agent_decision",description:"Fired for each individual agent decision with full reasoning"},{type:"whale_alert",description:"Fired when a large position change or conviction spike is detected"},{type:"signal_fired",description:"Fired when a technical indicator triggers a signal (RSI, MACD, etc.)"},{type:"debate_started",description:"Fired when agents begin a structured debate about a stock"},{type:"prediction_created",description:"Fired when an agent publishes a new price prediction"},{type:"sentiment_shift",description:"Fired when overall market sentiment changes direction"}]}static isValidEventType(e){return Idn.includes(e)}static parseTypeFilter(e){return e.split(",").map(n=>n.trim()).filter(n=>t.isValidEventType(n))}},uye=new lye;_o();mt();import{createHmac as Ndn,randomBytes as Vdt}from"crypto";var dye=3,Odn=60,Pdn=1e4,Hdt=200,Ddn=500,kdn=new Map,pye=[],fye=[],Gdt={},Ldn=0,Mdn=0,Bdn=0,jG=new Map;function mye(t,e,n){let r={id:`evt_${Date.now()}_${Vdt(4).toString("hex")}`,type:t,timestamp:new Date().toISOString(),data:e,metadata:{...n,severity:n.severity??$dn(t)}};pye.unshift(r),pye.length>Hdt&&(pye.length=Hdt),Gdt[t]=(Gdt[t]??0)+1;let o=Udn(r);o.length>0&&console.log(`[AlertWebhooks] Emitting ${t} event ${r.id} to ${o.length} subscribers`);for(let i of o)Wdt(i,r).catch(s=>{console.error(`[AlertWebhooks] Delivery failed for ${i.id}: ${Ue(s)}`)});return r}function zdt(t){return mye("trade_executed",{agentId:t.agentId,agentName:t.agentName,action:t.action,symbol:t.symbol,quantity:t.quantity,confidence:t.confidence,reasoning:t.reasoning},{roundId:t.roundId,agentId:t.agentId,symbol:t.symbol})}function jdt(t){return mye("round_completed",{results:t.results,agentCount:t.results.length,errorCount:t.errors.length,circuitBreakerActivations:t.circuitBreakerActivations},{roundId:t.roundId,severity:t.errors.length>0?"warning":"info"})}function qdt(t){return mye("agent_disagreement",t,{roundId:t.roundId,symbol:t.symbol})}async function Wdt(t,e,n=1){if(!Fdn(t.id)){console.warn(`[AlertWebhooks] Rate limited: ${t.id} (${t.url})`);return}let r={id:`dlv_${Date.now()}_${Vdt(4).toString("hex")}`,subscriptionId:t.id,eventId:e.id,url:t.url,status:"pending",attempt:n,maxAttempts:dye,createdAt:new Date().toISOString()},o=JSON.stringify({event:e.type,id:e.id,timestamp:e.timestamp,data:e.data,metadata:e.metadata}),i=Ndn("sha256",t.secret).update(o).digest("hex");try{let s=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json","X-MoltApp-Signature":`sha256=${i}`,"X-MoltApp-Event":e.type,"X-MoltApp-Delivery-Id":r.id,"X-MoltApp-Timestamp":e.timestamp,"User-Agent":"MoltApp-Webhooks/1.0"},body:o,signal:AbortSignal.timeout(Pdn)});if(r.httpStatus=s.status,Ldn++,s.ok)r.status="delivered",r.deliveredAt=new Date().toISOString(),t.deliveryCount++,t.lastDeliveryAt=r.deliveredAt,Mdn++,Hdn(t.id);else throw new Error(`HTTP ${s.status}: ${await s.text().catch(()=>"no body")}`)}catch(s){let a=Ue(s);if(r.error=a,r.status="failed",Bdn++,n<dye){let c=Math.pow(2,n)*1e3+Math.random()*1e3;return console.warn(`[AlertWebhooks] Delivery failed for ${t.id}, retrying in ${Math.round(c)}ms (attempt ${n}/${dye}): ${a}`),await new Promise(l=>setTimeout(l,c)),Wdt(t,e,n+1)}r.status="dead_letter",fye.push(r),fye.length>Ddn&&fye.shift(),t.failureCount++,t.lastFailureAt=new Date().toISOString(),t.failureCount>=10&&(t.active=!1,console.error(`[AlertWebhooks] Auto-deactivated subscription ${t.id} after ${t.failureCount} failures`)),console.error(`[AlertWebhooks] Dead letter for ${t.id}: ${a}`)}}function Udn(t){let e=[];for(let n of kdn.values())n.active&&n.events.includes(t.type)&&(n.agentFilter&&n.agentFilter.length>0&&t.metadata.agentId&&!n.agentFilter.includes(t.metadata.agentId)||n.symbolFilter&&n.symbolFilter.length>0&&t.metadata.symbol&&!n.symbolFilter.includes(t.metadata.symbol)||e.push(n));return e}function $dn(t){switch(t){case"circuit_breaker_triggered":return"warning";case"whale_move":return"warning";case"agent_disagreement":return"info";case"new_high":return"info";default:return"info"}}function Fdn(t){let n=Date.now()-6e4,r=jG.get(t)??[];return r=r.filter(o=>o>n),jG.set(t,r),r.length<Odn}function Hdn(t){let e=jG.get(t)??[];e.push(Date.now()),jG.set(t,e)}Zdt();WG();mt();_o();var Jdn=0,Ydn=0,Qdn=0,Xdn=0,Zdn=0,ept=0,YG=[],epn=null,tpt={},npt={},hye=[],rpt=100,opt=500,ipt=0;function ky(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"live":"paper"}async function apt(t){let e=Date.now(),n=t.modeOverride??ky(),r={success:!1,mode:n,agentId:t.agentId,agentName:t.agentName,decision:t.decision,durationMs:0};try{if(t.decision.action==="hold")return r.success=!0,r.durationMs=Date.now()-e,await G8(t.agentId,t.roundId,"executed",void 0,void 0),gye(r),r;if(!yw(t.decision.symbol))return r.error=`Stock not found: ${t.decision.symbol}`,r.errorCode="stock_not_found",r.durationMs=Date.now()-e,await G8(t.agentId,t.roundId,"failed",void 0,r.error),gye(r),r;if(console.log(`[TradeExecutor] Executing ${t.decision.action} for ${t.agentName}: ${t.decision.quantity} ${t.decision.symbol} (mode: ${n}, round: ${t.roundId})`),n==="live")r.tradeResult=await tpn(t),r.success=!0,Ydn++,await G8(t.agentId,t.roundId,"executed",r.tradeResult.txSignature,void 0),ept+=parseFloat(r.tradeResult.usdcAmount),uye.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:parseFloat(r.tradeResult.pricePerToken),confidence:t.decision.confidence,reasoning:t.decision.reasoning}),zdt({agentId:t.agentId,agentName:t.agentName,action:t.decision.action,symbol:t.decision.symbol,quantity:t.decision.quantity,confidence:t.decision.confidence,reasoning:t.decision.reasoning,roundId:t.roundId}),$8("live_trade_executed",`${t.agentName} ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${r.tradeResult.pricePerToken}`,t.agentId,t.roundId,{txSignature:r.tradeResult.txSignature,usdcAmount:r.tradeResult.usdcAmount,stockQuantity:r.tradeResult.stockQuantity});else{let i=await npn(t);r.paperTradeId=i.paperTradeId,r.success=!0,Qdn++,await G8(t.agentId,t.roundId,"executed_paper",i.paperTradeId,void 0),ept+=i.usdcAmount,uye.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:i.pricePerToken,confidence:t.decision.confidence,reasoning:t.decision.reasoning}),$8("paper_trade_executed",`${t.agentName} PAPER ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${i.pricePerToken.toFixed(6)}`,t.agentId,t.roundId,{paperTradeId:i.paperTradeId})}Xdn++}catch(o){let i=Ue(o),s=ipn(i);r.error=i,r.errorCode=s,Zdn++,console.error(`[TradeExecutor] Execution failed for ${t.agentName}: ${i}`),await G8(t.agentId,t.roundId,"failed",void 0,i);let a=Xdt({agentId:t.agentId,side:t.decision.action,symbol:t.decision.symbol,quantity:String(t.decision.quantity),error:i,errorCode:s,roundId:t.roundId});r.recoveryId=a.recoveryId,F8(`Trade execution failed: ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol}`,t.agentId,i,t.roundId,{errorCode:s,recoveryId:a.recoveryId})}return r.durationMs=Date.now()-e,Jdn++,gye(r),r}async function tpn(t){if(t.decision.action==="buy")return await KF({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:String(t.decision.quantity)});if(t.decision.action==="sell")return await JF({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:"0",stockQuantity:String(t.decision.quantity)});throw new Error(`invalid_action: ${t.decision.action}`)}async function npn(t){let e=yw(t.decision.symbol);if(!e)throw new Error(`stock_not_found: ${t.decision.symbol}`);let n=await opn(e.mintAddress,e.symbol);ipt++;let r=`paper_${Date.now()}_${ipt.toString(36)}`,o,i;if(t.decision.action==="buy")o=t.decision.quantity,i=o/n,await Gt.insert(zr).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:i.toFixed(9),usdcAmount:o.toFixed(6),pricePerToken:n.toFixed(6),txSignature:r,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"}),await Gt.insert(Nn).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:i.toFixed(9),averageCostBasis:n.toFixed(6)}).onConflictDoUpdate({target:[Nn.agentId,Nn.mintAddress],set:{quantity:ne`(${Nn.quantity}::numeric + ${i.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:ne`(
            (${Nn.quantity}::numeric * ${Nn.averageCostBasis}::numeric + ${i.toFixed(9)}::numeric * ${n.toFixed(6)}::numeric)
            / NULLIF(${Nn.quantity}::numeric + ${i.toFixed(9)}::numeric, 0)
          )::numeric(20,6)`,updatedAt:new Date}});else if(t.decision.action==="sell"){i=t.decision.quantity,o=i*n;let s=await Gt.select().from(Nn).where(Vi(an(Nn.agentId,t.agentId),an(Nn.mintAddress,e.mintAddress))).limit(1);if(s.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let a=parseFloat(s[0].quantity);a<i&&(i=a,o=i*n),await Gt.insert(zr).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:i.toFixed(9),usdcAmount:o.toFixed(6),pricePerToken:n.toFixed(6),txSignature:r,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"});let c=a-i;c<=1e-9?await Gt.delete(Nn).where(an(Nn.id,s[0].id)):await Gt.update(Nn).set({quantity:c.toFixed(9),updatedAt:new Date}).where(an(Nn.id,s[0].id))}else throw new Error(`invalid_action: ${t.decision.action}`);return{paperTradeId:r,pricePerToken:n,usdcAmount:o,stockQuantity:i}}var spt=new Map,rpn=5e3;async function opn(t,e){let n=spt.get(t);if(n&&Date.now()-n.fetchedAt<rpn)return n.price;try{let s=process.env.JUPITER_API_KEY,a={};s&&(a["x-api-key"]=s);let c=await fetch(`https://api.jup.ag/price/v3?ids=${t}`,{headers:a,signal:AbortSignal.timeout(5e3)});if(c.ok){let u=(await c.json()).data?.[t];if(u?.price){let d=parseFloat(u.price);return spt.set(t,{price:d,fetchedAt:Date.now()}),d}}}catch{}let o={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[e]??100,i=1+(Math.random()-.5)*.02;return re(o*i)}async function G8(t,e,n,r,o){try{let i=await Gt.select().from(Ic).where(Vi(an(Ic.agentId,t),an(Ic.roundId,e))).limit(1);if(i.length>0){let s={executed:n};r&&(s.txSignature=r),o&&(s.executionError=o),await Gt.update(Ic).set(s).where(an(Ic.id,i[0].id))}}catch(i){console.warn(`[TradeExecutor] Failed to update decision status: ${Ue(i)}`)}}function gye(t){let e=tpt[t.agentId]??{total:0,success:0,failed:0};if(e.total++,t.success?e.success++:e.failed++,tpt[t.agentId]=e,t.decision.action!=="hold"){let n=npt[t.decision.symbol]??{buys:0,sells:0,volumeUSDC:0};t.decision.action==="buy"?n.buys++:n.sells++,t.tradeResult&&(n.volumeUSDC+=parseFloat(t.tradeResult.usdcAmount)),npt[t.decision.symbol]=n}YG.push(t.durationMs),YG.length>opt&&(YG=YG.slice(-opt)),hye.unshift(t),hye.length>rpt&&(hye.length=rpt),epn=new Date().toISOString()}function ipn(t){let e=[[/insufficient_usdc_balance/,"insufficient_usdc_balance"],[/insufficient_sol_for_fees/,"insufficient_sol_for_fees"],[/insufficient_stock_balance/,"insufficient_stock_balance"],[/stock_not_found/,"stock_not_found"],[/wallet_not_found/,"wallet_not_found"],[/invalid_amount/,"invalid_amount"],[/jupiter_order_failed/,"jupiter_order_failed"],[/jupiter_execute_failed/,"jupiter_execute_failed"],[/timeout/i,"rpc_timeout"],[/rate.?limit/i,"rate_limited"],[/network/i,"network_error"]];for(let[n,r]of e)if(n.test(t))return r;return"unknown_error"}GG();_o();var yye=null,spn=0,apn=0,lpt=0,cpn=null,lpn=process.env.TRADING_ROUNDS_TABLE??"moltapp-trading-rounds",upt=process.env.AGENT_STATE_TABLE??"moltapp-agent-state",dpt=2160*60*60;function _ye(){return yye||(yye=new Qi({region:process.env.AWS_REGION??"us-east-1"})),yye}function ppt(){return!!(process.env.TRADING_ROUNDS_TABLE||process.env.AWS_LAMBDA_FUNCTION_NAME)}async function fpt(t){if(!ppt())return{success:!0};try{let e=_ye(),n=t.results.map(c=>({agentId:c.agentId,agentName:c.agentName,action:c.decision.action,symbol:c.decision.symbol,quantity:c.decision.quantity,reasoning:c.decision.reasoning,confidence:c.decision.confidence,executed:c.executed,executionError:c.executionError,txSignature:c.executionDetails?.txSignature,filledPrice:c.executionDetails?.filledPrice,usdcAmount:c.executionDetails?.usdcAmount})),r=hpn(t.results),o=gpn(t.results,t.errors),i=Math.floor(Date.now()/1e3)+dpt,s={roundId:t.roundId,timestamp:t.timestamp,durationMs:t.durationMs,tradingMode:t.tradingMode,results:n,errors:t.errors,circuitBreakerActivations:t.circuitBreakerActivations.length,lockSkipped:t.lockSkipped,consensus:r,summary:o,meetingOfMinds:t.meetingOfMinds,musings:t.musings,ttl:i};await e.send(new Ny({TableName:lpn,Item:ppn(s)})),spn++;let a=t.results.map(async c=>{let l=t.portfolioSnapshots?.get(c.agentId);await upn({agentId:c.agentId,result:c,roundId:t.roundId,timestamp:t.timestamp,portfolio:l})});return await Promise.allSettled(a),cpn=new Date().toISOString(),{success:!0}}catch(e){lpt++;let n=Ue(e);return console.error(`[DynamoPersister] Failed to persist round: ${n}`),{success:!1,error:n}}}async function upn(t){try{let e=_ye(),n=await dpn(t.agentId),r=(n?.totalDecisions??0)+1,o=(n?.totalTrades??0)+(t.result.decision.action!=="hold"&&t.result.executed?1:0),i=t.result.decision.action==="hold"?(n?.consecutiveHolds??0)+1:0,s=t.result.executionError?(n?.consecutiveErrors??0)+1:0,a=Math.floor(Date.now()/1e3)+dpt,c={agentId:t.agentId,status:s>=3?"error":"active",lastTradeTimestamp:t.timestamp,lastAction:t.result.decision.action,lastSymbol:t.result.decision.symbol,lastConfidence:t.result.decision.confidence,totalDecisions:r,totalTrades:o,consecutiveHolds:i,consecutiveErrors:s,lastRoundId:t.roundId,portfolioValue:t.portfolio?.value??n?.portfolioValue??1e4,cashBalance:t.portfolio?.cash??n?.cashBalance??1e4,positionsCount:t.portfolio?.positionsCount??n?.positionsCount??0,totalPnlPercent:t.portfolio?.pnlPercent??n?.totalPnlPercent??0,updatedAt:t.timestamp,ttl:a};await e.send(new Ny({TableName:upt,Item:fpn(c)})),apn++}catch(e){lpt++,console.warn(`[DynamoPersister] Failed to persist agent state for ${t.agentId}: ${Ue(e)}`)}}async function dpn(t){if(!ppt())return null;try{let n=await _ye().send(new kv({TableName:upt,Key:{agentId:{S:t}}}));return n.Item?mpn(n.Item):null}catch(e){return console.error(`[DynamoPersister] Failed to get agent state: ${Ue(e)}`),null}}function ppn(t){return{roundId:{S:t.roundId},timestamp:{S:t.timestamp},durationMs:{N:String(t.durationMs)},tradingMode:{S:t.tradingMode},results:{S:JSON.stringify(t.results)},errors:{SS:t.errors.length>0?t.errors:["none"]},circuitBreakerActivations:{N:String(t.circuitBreakerActivations)},lockSkipped:{BOOL:t.lockSkipped},consensus:{S:t.consensus},summary:{S:t.summary},...t.meetingOfMinds?{meetingOfMinds:{S:t.meetingOfMinds}}:{},...t.musings?{musings:{S:t.musings}}:{},ttl:{N:String(t.ttl)}}}function fpn(t){return{agentId:{S:t.agentId},status:{S:t.status},lastTradeTimestamp:{S:t.lastTradeTimestamp},lastAction:{S:t.lastAction},lastSymbol:{S:t.lastSymbol},lastConfidence:{N:String(t.lastConfidence)},totalDecisions:{N:String(t.totalDecisions)},totalTrades:{N:String(t.totalTrades)},consecutiveHolds:{N:String(t.consecutiveHolds)},consecutiveErrors:{N:String(t.consecutiveErrors)},lastRoundId:{S:t.lastRoundId},portfolioValue:{N:String(t.portfolioValue)},cashBalance:{N:String(t.cashBalance)},positionsCount:{N:String(t.positionsCount)},totalPnlPercent:{N:String(t.totalPnlPercent)},updatedAt:{S:t.updatedAt},ttl:{N:String(t.ttl)}}}function mpn(t){return{agentId:t.agentId?.S??"",status:t.status?.S??"active",lastTradeTimestamp:t.lastTradeTimestamp?.S??"",lastAction:t.lastAction?.S??"hold",lastSymbol:t.lastSymbol?.S??"",lastConfidence:Number(t.lastConfidence?.N??0),totalDecisions:Number(t.totalDecisions?.N??0),totalTrades:Number(t.totalTrades?.N??0),consecutiveHolds:Number(t.consecutiveHolds?.N??0),consecutiveErrors:Number(t.consecutiveErrors?.N??0),lastRoundId:t.lastRoundId?.S??"",portfolioValue:Number(t.portfolioValue?.N??1e4),cashBalance:Number(t.cashBalance?.N??1e4),positionsCount:Number(t.positionsCount?.N??0),totalPnlPercent:Number(t.totalPnlPercent?.N??0),updatedAt:t.updatedAt?.S??"",ttl:Number(t.ttl?.N??0)}}function hpn(t){let e=t.filter(i=>i.decision.action!=="hold");if(e.length===0)return"no_trades";let n=e.map(i=>i.decision.action),r=n.filter(i=>i==="buy").length,o=n.filter(i=>i==="sell").length;return r===e.length||o===e.length?"unanimous":r>o&&r>1||o>r&&o>1?"majority":"split"}function gpn(t,e){let n=[];for(let r of t){let o=r.decision.action.toUpperCase(),i=r.executed?"\u2713":"\u2717";n.push(`${r.agentName}: ${o} ${r.decision.symbol} (${r.decision.confidence}%) ${i}`)}return e.length>0&&n.push(`${e.length} error(s)`),n.join(" | ")}var bye=[],cpt=100;function mpt(t){bye.unshift(t),bye.length>cpt&&(bye.length=cpt)}mt();var Sye=new Map,hpt=500;function gpt(t){let e=Sye.get("market_spy")??[];e.push(t),e.length>hpt?Sye.set("market_spy",e.slice(-hpt)):Sye.set("market_spy",e)}_o();mt();var Eye=5e3,ypn=0,bpn=0,_pn=0,QG=[],ypt={},vye=[],bpt=50,_pt=200;async function Spn(t,e){let n=new AbortController,r=setTimeout(()=>n.abort(),e);try{let o=await t();return clearTimeout(r),o}catch(o){throw clearTimeout(r),n.signal.aborted?new Error(`Timed out after ${e}ms`):o}}function vpn(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"strict":"relaxed"}async function Epn(){let t=Date.now();try{return await Spn(async()=>{await Gt.execute(ne`SELECT 1 as ok`)},Eye),{name:"database",status:"pass",latencyMs:Date.now()-t,message:"Database connected",required:!0}}catch(e){return{name:"database",status:"fail",latencyMs:Date.now()-t,message:`Database unavailable: ${Ue(e)}`,required:!0}}}async function Apn(){let t=Date.now();try{let e={};sr.JUPITER_API_KEY&&(e["x-api-key"]=sr.JUPITER_API_KEY);let n="So11111111111111111111111111111111111111112",r=await fetch(`https://api.jup.ag/price/v3?ids=${n}`,{headers:e,signal:AbortSignal.timeout(Eye)}),o=Date.now()-t;if(!r.ok)return{name:"jupiter_api",status:"warn",latencyMs:o,message:`Jupiter returned HTTP ${r.status}`,required:!1};let s=(await r.json()).data?.[n]?.price;return s?{name:"jupiter_api",status:"pass",latencyMs:o,message:`Jupiter OK (SOL: $${s})`,required:!1}:{name:"jupiter_api",status:"warn",latencyMs:o,message:"Jupiter returned no SOL price data",required:!1}}catch(e){return{name:"jupiter_api",status:"warn",latencyMs:Date.now()-t,message:`Jupiter unreachable: ${Ue(e)}`,required:!1}}}async function xpn(){let t=sr.SOLANA_RPC_URL;if(!t)return{name:"solana_rpc",status:"skip",latencyMs:0,message:"SOLANA_RPC_URL not configured",required:!1};let e=Date.now();try{let n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSlot",params:[{commitment:"processed"}]}),signal:AbortSignal.timeout(Eye)}),r=Date.now()-e;if(!n.ok)return{name:"solana_rpc",status:"warn",latencyMs:r,message:`Solana RPC returned HTTP ${n.status}`,required:!1};let o=await n.json();return{name:"solana_rpc",status:"pass",latencyMs:r,message:`Solana RPC OK (slot: ${o.result})`,required:!1}}catch(n){return{name:"solana_rpc",status:"warn",latencyMs:Date.now()-e,message:`Solana RPC unreachable: ${Ue(n)}`,required:!1}}}async function wpn(){let t=Date.now(),e=[],n=[];return sr.ANTHROPIC_API_KEY?e.push("Anthropic"):n.push("Anthropic"),sr.OPENAI_API_KEY?e.push("OpenAI"):n.push("OpenAI"),sr.XAI_API_KEY?e.push("xAI"):n.push("xAI"),e.length===0?{name:"llm_providers",status:"warn",latencyMs:Date.now()-t,message:"No LLM API keys configured \u2014 agents will produce mock decisions",required:!1}:{name:"llm_providers",status:e.length>=2?"pass":"warn",latencyMs:Date.now()-t,message:`${e.length}/3 providers configured (${e.join(", ")})`,required:!1}}function Tpn(){let t=Date.now();try{let e=M8();return e.isLocked?{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock already held by "${e.lock?.holderInfo}" (expires: ${e.lock?.expiresAt})`,required:!0}:{name:"trading_lock",status:"pass",latencyMs:Date.now()-t,message:"Lock available",required:!0}}catch(e){return{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock check failed: ${Ue(e)}`,required:!0}}}function Ipn(){let t=Date.now();try{let e=VG(),n=Object.keys(e.agentStates),r=n.filter(o=>e.agentStates[o].dailyLossTriggered);return r.length===n.length&&n.length>0?{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`All ${n.length} agents have daily loss limits triggered`,required:!1}:{name:"circuit_breakers",status:"pass",latencyMs:Date.now()-t,message:`${n.length-r.length}/${n.length||3} agents available to trade`,required:!1}}catch(e){return{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`CB check failed: ${Ue(e)}`,required:!1}}}async function Spt(t){let e=Date.now(),n=t??vpn(),r=new Date().toISOString();ypn++,console.log(`[PreRoundGate] Running pre-round health gate (mode: ${n})...`);let[o,i,s,a]=await Promise.all([Epn(),Apn(),xpn(),wpn()]),c=Tpn(),l=Ipn(),u=[o,i,s,a,c,l];n==="strict"&&(i.required=!0,s.required=!0);let d=ue(u,w=>w.status==="pass"),p=ue(u,w=>w.status==="fail"),f=ue(u,w=>w.status==="warn"),h=ue(u,w=>w.status==="skip"),m=u.filter(w=>w.status==="fail").map(w=>w.name),g=u.filter(w=>w.status==="warn").map(w=>w.name),y=u.filter(w=>w.required&&w.status==="fail"),S=y.length===0,v=null;S||(v=`Required checks failed: ${y.map(w=>`${w.name} (${w.message})`).join("; ")}`);let A=Date.now()-e;if(S)bpn++;else{_pn++;for(let w of y)ypt[w.name]=(ypt[w.name]??0)+1}QG.push(A),QG.length>_pt&&(QG=QG.slice(-_pt)),vye.unshift({timestamp:r,proceed:S,mode:n,durationMs:A,failedChecks:m}),vye.length>bpt&&(vye.length=bpt);for(let w of u){let I=w.status==="pass"?"OK":w.status==="fail"?"FAIL":w.status==="warn"?"WARN":"SKIP";console.log(`[PreRoundGate]   ${I} ${w.name}: ${w.message} (${w.latencyMs}ms)`)}return console.log(`[PreRoundGate] Gate ${S?"OPEN":"BLOCKED"} (${n}): ${d} pass, ${p} fail, ${f} warn, ${h} skip \u2014 ${A}ms`+(v?` \u2014 ${v}`:"")),{proceed:S,mode:n,durationMs:A,timestamp:r,checks:u,summary:{total:u.length,passed:d,failed:p,warnings:f,skipped:h,failedChecks:m,warningChecks:g},blockReason:v}}_o();_o();WG();var Rpn={maxOrderRetries:3,maxExecuteRetries:2,baseDelayMs:1e3,maxSlippageBps:100,confirmationTimeoutMs:3e4,confirmationCommitment:"confirmed",useComputeBudget:!0,computeUnitPrice:5e4,computeUnitLimit:4e5},axo={...Rpn};var wxo=Date.now(),XG=[],vpt=1e3;function Ept(t){XG.push(t),XG.length>vpt&&XG.splice(0,XG.length-vpt)}mt();var wpt=.9,Aye=.8,Wa=.7,Us=.6,gd=.5,ZG=.4,Cpn=.3,Npn=-.3,Apt=.1,xpt=.35,Opn=.3,Ppn=.2,Dpn=50,kpn=.25,Lpn=1.01,Mpn=.3;var Bpn=[[/\bundervalued\b/i,Aye],[/\bupside\b/i,Wa],[/\bbullish\b/i,wpt],[/\bgrowth\s+potential\b/i,Wa],[/\bbuying\s+opportunity\b/i,Aye],[/\bpositive\s+momentum\b/i,Wa],[/\bstrong\s+fundamentals?\b/i,Us],[/\bbreakout\b/i,Wa],[/\brally\b/i,Us],[/\baccumulate\b/i,Wa],[/\bsupport\s+level\b/i,gd],[/\brecovery\b/i,Us],[/\boptimistic\b/i,Wa],[/\bfavorable\b/i,gd],[/\bcheap\b/i,Us],[/\bdiscount\b/i,Us],[/\bappreciat/i,Us],[/\bincrease\b/i,ZG],[/\brise\b|\brising\b/i,gd],[/\bgain\b|\bgains\b/i,gd]],Upn=[[/\bovervalued\b/i,Aye],[/\bdownside\b/i,Wa],[/\bbearish\b/i,wpt],[/\brisk\s+of\s+decline\b/i,Wa],[/\bselling\s+pressure\b/i,Wa],[/\bnegative\s+momentum\b/i,Wa],[/\bweak\s+fundamentals?\b/i,Us],[/\bbreakdown\b/i,Wa],[/\bcorrection\b/i,Us],[/\bdistribute\b/i,gd],[/\bresistance\s+level\b/i,gd],[/\bdeclining\b/i,Us],[/\bpessimistic\b/i,Wa],[/\bunfavorable\b/i,gd],[/\bexpensive\b/i,Us],[/\boverheated\b/i,Us],[/\bdepreciat/i,Us],[/\bdecrease\b/i,ZG],[/\bfall\b|\bfalling\b/i,gd],[/\bloss\b|\blosses\b/i,gd],[/\btake\s+profits?\b/i,Us],[/\boverexposed\b/i,Us],[/\btrim\s+position\b/i,gd]],$pn=[[/\buncertain\b/i,Us],[/\bwait\b|\bwaiting\b/i,gd],[/\bsidelines?\b/i,Wa],[/\bcaution\b|\bcautious\b/i,Us],[/\bmixed\s+signals?\b/i,Wa],[/\bno\s+clear\b/i,Us],[/\binsufficient\s+data\b/i,Wa],[/\bpatien/i,gd],[/\bmonitor\b/i,ZG],[/\bobserv/i,ZG]];function Ka(t,e,n){let r=[],o=0,i=0;for(let[f,h]of Bpn){let m=t.match(f);m&&(o+=h,i++,r.push({type:"bullish",text:m[0],weight:h}))}let s=0,a=0;for(let[f,h]of Upn){let m=t.match(f);m&&(s+=h,a++,r.push({type:"bearish",text:m[0],weight:h}))}let c=0;for(let[f,h]of $pn){let m=t.match(f);m&&(c+=h,r.push({type:"neutral",text:m[0],weight:h}))}let l=i+a,u=l>0?(o-s)/(o+s||1):0,d,p;return e==="buy"?u>Cpn?(d=.7+u*.3,p="Bullish reasoning supports buy action"):u>-Apt?(d=.5+u*.2,p="Reasoning is ambiguous but not contradictory for buy"):(d=Math.max(.05,.4+u*.4),p="Bearish reasoning contradicts buy action",/contrarian|mean\s+reversion|oversold|bounce|bottom/i.test(t)&&(d=Math.min(1,d+xpt),p="Bearish context with contrarian/mean-reversion justification for buy")):e==="sell"?u<Npn?(d=.7+Math.abs(u)*.3,p="Bearish reasoning supports sell action"):u<Apt?(d=.5+Math.abs(u)*.2,p="Reasoning is ambiguous but not contradictory for sell"):(d=Math.max(.05,.4-u*.4),p="Bullish reasoning contradicts sell action",/profit|take\s+gains|overexposed|rebalance|trim/i.test(t)&&(d=Math.min(1,d+xpt),p="Bullish context with profit-taking/rebalancing justification for sell")):c>0||Math.abs(u)<Opn&&l>0?(d=.7+(1-Math.abs(u))*.3,p="Neutral/cautious reasoning supports hold action"):l===0?(d=.5,p="No clear sentiment signals in reasoning"):(d=.4,p="Strong directional signals present but chose to hold",/guardrail|limit|insufficient|cash\s+buffer|wait\s+for/i.test(t)&&(d=.8,p="Strong signals tempered by risk management discipline")),o>2&&s>2&&(r.push({type:"conflicting",text:"Contains both strong bullish and bearish signals",weight:.5}),d=Math.max(.1,d-.1),p+=" (warning: conflicting directional signals)"),{score:re(d),explanation:p,signals:r}}function Wc(t,e){let n=[],r=new Map,o=new Set;for(let l of e){r.set(l.symbol.toLowerCase(),l.price),o.add(l.symbol.toLowerCase());let u=l.symbol.replace(/x$/i,"").toLowerCase();r.set(u,l.price),o.add(u)}let i=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi];for(let l of i){let u;for(;(u=l.exec(t))!==null;){let d,p;l===i[0]?(d=u[1].toLowerCase(),p=parseFloat(u[2].replace(/,/g,""))):(p=parseFloat(u[1].replace(/,/g,"")),d=u[2].toLowerCase());let f=r.get(d);if(f!==void 0&&p>0){let h=Math.abs(p-f)/f;h>Ppn&&n.push(`Price hallucination: claimed ${d.toUpperCase()} at $${p.toFixed(2)}, actual $${f.toFixed(2)} (${(h*100).toFixed(0)}% off)`)}}}let s=t.match(/\b[A-Z]{2,5}x?\b/g)??[];for(let l of s){let u=l.toLowerCase();if(!["the","and","for","but","not","may","can","has","its","per","our","all","low","buy","sell","hold","risk","cash","spy","etf","ipo","vol","rsi","avg","max","min","pnl"].includes(u)&&/^[A-Z]{2,5}x?$/.test(l)&&!o.has(u)&&!o.has(u.replace(/x$/i,""))){let d=t.slice(Math.max(0,t.indexOf(l)-30),t.indexOf(l)+l.length+30);/price|trade|buy|sell|stock|share|position/i.test(d)&&n.push(`Unknown ticker: ${l} not found in available stocks`)}}let a=t.match(/[+-]?\d+\.?\d*%/g)??[];for(let l of a){let u=parseFloat(l);Math.abs(u)>Dpn&&/24h|daily|today|change/i.test(t)&&n.push(`Implausible 24h change: ${l} \u2014 major stocks rarely move this much in a day`)}(/should\s+buy/i.test(t)&&/should\s+sell/i.test(t)||/strongly\s+bullish/i.test(t)&&/strongly\s+bearish/i.test(t))&&n.push("Self-contradiction: reasoning contains conflicting directional advice");let c=n.length===0?0:Math.min(1,n.length*kpn);return{flags:n,severity:c}}function Ly(t,e,n){let r=[];if(t.action==="hold")return{passed:!0,violations:[]};if(t.action==="buy"&&n.totalValue>0){let o=t.quantity/n.totalValue*100;o>e.maxPositionSize&&r.push(`Position size ${o.toFixed(1)}% exceeds max ${e.maxPositionSize}%`)}if(t.action==="buy"){let o=n.totalValue*((100-e.maxPortfolioAllocation)/100),i=n.cashBalance-t.quantity;i<o&&r.push(`Buy would leave $${i.toFixed(2)} cash, below minimum $${o.toFixed(2)} (${100-e.maxPortfolioAllocation}% buffer)`)}if(t.action==="sell"){let o=n.positions.find(i=>i.symbol.toLowerCase()===t.symbol.toLowerCase());o?t.quantity>o.quantity*Lpn&&r.push(`Trying to sell ${t.quantity} shares of ${t.symbol} but only holds ${o.quantity}`):r.push(`Trying to sell ${t.symbol} but no position held`)}return e.riskTolerance==="conservative"&&t.confidence<Mpn&&r.push(`Conservative agent trading with very low confidence (${(t.confidence*100).toFixed(0)}%)`),{passed:r.length===0,violations:r}}mt();var Fpn=ct.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage"]),Tpt=ct.object({symbol:ct.string().min(1,"Symbol is required"),side:ct.enum(["buy","sell"]),quantity:ct.number().positive("Quantity must be positive"),reasoning:ct.string().min(20,"Reasoning must explain your logic (min 20 chars)"),confidence:ct.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:ct.array(ct.string()).min(1,"Must cite at least one data source"),intent:Fpn,predictedOutcome:ct.string().optional()}),Hpn=ct.object({symbol:ct.string().min(1),reasoning:ct.string().min(10,"Hold decisions must be explained"),confidence:ct.number().min(0).max(1),sources:ct.array(ct.string()).optional()}),Oxo=ct.discriminatedUnion("action",[ct.object({action:ct.literal("buy"),...Tpt.shape}),ct.object({action:ct.literal("sell"),...Tpt.shape}),ct.object({action:ct.literal("hold"),...Hpn.shape})]);function In(t){return t>1?Lt(t/100,0,1):Lt(t,0,1)}function yd(t){let e=[],n=[[/price\s+data/i,"market_price_feed"],[/jupiter/i,"jupiter_price_api"],[/24h\s+change|24-hour/i,"24h_price_change"],[/volume/i,"trading_volume"],[/portfolio|position/i,"portfolio_state"],[/news|headline/i,"news_feed"],[/technical|indicator|RSI|MACD|moving\s+average/i,"technical_indicators"],[/fundamental|earnings|revenue|P\/E/i,"fundamentals"],[/sentiment|mood/i,"market_sentiment"],[/correlation|peer|sector/i,"sector_analysis"]];for(let[r,o]of n)r.test(t)&&e.push(o);return e.length===0&&e.push("market_data"),e}function Ja(t,e){let n=t.toLowerCase();return/undervalued|intrinsic\s+value|margin\s+of\s+safety|fair\s+price|cheap/i.test(n)?"value":/momentum|trend|breakout|rally|surge|continuing\s+to\s+rise/i.test(n)?"momentum":/reversion|oversold|overbought|bounce|pullback|correction/i.test(n)?"mean_reversion":/hedge|protect|downside|risk\s+reduction|defensive/i.test(n)?"hedge":/contrarian|against\s+the\s+crowd|overreaction|panic/i.test(n)?"contrarian":/arbitrage|price\s+difference|mispricing|spread/i.test(n)?"arbitrage":e==="buy"?"value":"momentum"}var xye=(t,e,n)=>(r,o)=>{let i=-1;return s(0);async function s(a){if(a<=i)throw new Error("next() called multiple times");i=a;let c,l=!1,u;if(t[a]?(u=t[a][0][0],r.req.routeIndex=a):u=a===t.length&&o||void 0,u)try{c=await u(r,()=>s(a+1))}catch(d){if(d instanceof Error&&e)r.error=d,c=await e(d,r),l=!0;else throw d}else r.finalized===!1&&n&&(c=await n(r));return c&&(r.finalized===!1||l)&&(r.res=c),r}};var Ipt=Symbol();var Rpt=async(t,e=Object.create(null))=>{let{all:n=!1,dot:r=!1}=e,i=(t instanceof eV?t.raw.headers:t.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?Gpn(t,{all:n,dot:r}):{}};async function Gpn(t,e){let n=await t.formData();return n?Vpn(n,e):{}}function Vpn(t,e){let n=Object.create(null);return t.forEach((r,o)=>{e.all||o.endsWith("[]")?zpn(n,o,r):n[o]=r}),e.dot&&Object.entries(n).forEach(([r,o])=>{r.includes(".")&&(jpn(n,r,o),delete n[r])}),n}var zpn=(t,e,n)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:e.endsWith("[]")?t[e]=[n]:t[e]=n},jpn=(t,e,n)=>{let r=t,o=e.split(".");o.forEach((i,s)=>{s===o.length-1?r[i]=n:((!r[i]||typeof r[i]!="object"||Array.isArray(r[i])||r[i]instanceof File)&&(r[i]=Object.create(null)),r=r[i])})};var Tye=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},Cpt=t=>{let{groups:e,path:n}=qpn(t),r=Tye(n);return Wpn(r,e)},qpn=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(n,r)=>{let o=`@${r}`;return e.push([o,n]),o}),{groups:e,path:t}},Wpn=(t,e)=>{for(let n=e.length-1;n>=0;n--){let[r]=e[n];for(let o=t.length-1;o>=0;o--)if(t[o].includes(r)){t[o]=t[o].replace(r,e[n][1]);break}}return t},tV={},Npt=(t,e)=>{if(t==="*")return"*";let n=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){let r=`${t}#${e}`;return tV[r]||(n[2]?tV[r]=e&&e[0]!==":"&&e[0]!=="*"?[r,n[1],new RegExp(`^${n[2]}(?=/${e})`)]:[t,n[1],new RegExp(`^${n[2]}$`)]:tV[r]=[t,n[1],!0]),tV[r]}return null},nV=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return e(n)}catch{return n}})}},Kpn=t=>nV(t,decodeURI),Iye=t=>{let e=t.url,n=e.indexOf("/",e.indexOf(":")+4),r=n;for(;r<e.length;r++){let o=e.charCodeAt(r);if(o===37){let i=e.indexOf("?",r),s=e.slice(n,i===-1?void 0:i);return Kpn(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(o===63)break}return e.slice(n,r)};var Opt=t=>{let e=Iye(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},Fv=(t,e,...n)=>(n.length&&(e=Fv(e,...n)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),rV=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),n=[],r="";return e.forEach(o=>{if(o!==""&&!/\:/.test(o))r+="/"+o;else if(/\:/.test(o))if(/\?/.test(o)){n.length===0&&r===""?n.push("/"):n.push(r);let i=o.replace("?","");r+="/"+i,n.push(r)}else r+="/"+o}),n.filter((o,i,s)=>s.indexOf(o)===i)},wye=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?nV(t,Rye):t):t,Ppt=(t,e,n)=>{let r;if(!n&&e&&!/[%+]/.test(e)){let s=t.indexOf("?",8);if(s===-1)return;for(t.startsWith(e,s+1)||(s=t.indexOf(`&${e}`,s+1));s!==-1;){let a=t.charCodeAt(s+e.length+1);if(a===61){let c=s+e.length+2,l=t.indexOf("&",c);return wye(t.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";s=t.indexOf(`&${e}`,s+1)}if(r=/[%+]/.test(t),!r)return}let o={};r??=/[%+]/.test(t);let i=t.indexOf("?",8);for(;i!==-1;){let s=t.indexOf("&",i+1),a=t.indexOf("=",i);a>s&&s!==-1&&(a=-1);let c=t.slice(i+1,a===-1?s===-1?void 0:s:a);if(r&&(c=wye(c)),i=s,c==="")continue;let l;a===-1?l="":(l=t.slice(a+1,s===-1?void 0:s),r&&(l=wye(l))),n?(o[c]&&Array.isArray(o[c])||(o[c]=[]),o[c].push(l)):o[c]??=l}return e?o[e]:o},Dpt=Ppt,kpt=(t,e)=>Ppt(t,e,!0),Rye=decodeURIComponent;var Lpt=t=>nV(t,Rye),eV=class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(t,e="/",n=[[]]){this.raw=t,this.path=e,this.#t=n,this.#e={}}param(t){return t?this.#n(t):this.#r()}#n(t){let e=this.#t[0][this.routeIndex][1][t],n=this.#o(e);return n&&/\%/.test(n)?Lpt(n):n}#r(){let t={},e=Object.keys(this.#t[0][this.routeIndex][1]);for(let n of e){let r=this.#o(this.#t[0][this.routeIndex][1][n]);r!==void 0&&(t[n]=/\%/.test(r)?Lpt(r):r)}return t}#o(t){return this.#t[1]?this.#t[1][t]:t}query(t){return Dpt(this.url,t)}queries(t){return kpt(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((n,r)=>{e[r]=n}),e}async parseBody(t){return this.bodyCache.parsedBody??=await Rpt(this,t)}#i=t=>{let{bodyCache:e,raw:n}=this,r=e[t];if(r)return r;let o=Object.keys(e)[0];return o?e[o].then(i=>(o==="json"&&(i=JSON.stringify(i)),new Response(i)[t]())):e[t]=n[t]()};json(){return this.#i("text").then(t=>JSON.parse(t))}text(){return this.#i("text")}arrayBuffer(){return this.#i("arrayBuffer")}blob(){return this.#i("blob")}formData(){return this.#i("formData")}addValidatedData(t,e){this.#e[t]=e}valid(t){return this.#e[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[Ipt](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,t]])=>t)}get routePath(){return this.#t[0].map(([[,t]])=>t)[this.routeIndex].path}};var V8={Stringify:1,BeforeStream:2,Stream:3},YT=(t,e)=>{let n=new String(t);return n.isEscaped=!0,n.callbacks=e,n},Jpn=/[&<>'"]/,Mpt=async(t,e)=>{let n="";e||=[];let r=await Promise.all(t);for(let o=r.length-1;n+=r[o],o--,!(o<0);o--){let i=r[o];typeof i=="object"&&e.push(...i.callbacks||[]);let s=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&e.push(...i.callbacks||[]),i.isEscaped??s)n+=i;else{let a=[n];oV(i,a),n=a[0]}}return YT(n,e)},oV=(t,e)=>{let n=t.search(Jpn);if(n===-1){e[0]+=t;return}let r,o,i=0;for(o=n;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 39:r="&#39;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}e[0]+=t.substring(i,o)+r,i=o+1}e[0]+=t.substring(i,o)},Bpt=t=>{let e=t.callbacks;if(!e?.length)return t;let n=[t],r={};return e.forEach(o=>o({phase:V8.Stringify,buffer:n,context:r})),n[0]},z8=async(t,e,n,r,o)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let i=t.callbacks;if(!i?.length)return Promise.resolve(t);o?o[0]+=t:o=[t];let s=Promise.all(i.map(a=>a({phase:e,buffer:o,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(c=>z8(c,e,!1,r,o))).then(()=>o[0]));return n?YT(await s,i):s};var Upt="text/plain; charset=UTF-8",Cye=(t,e)=>({"Content-Type":t,...e}),$pt=class{#e;#t;env={};#n;finalized=!1;error;#r;#o;#i;#s;#a;#u;#l;#f;#m;constructor(t,e){this.#e=t,e&&(this.#o=e.executionCtx,this.env=e.env,this.#u=e.notFoundHandler,this.#m=e.path,this.#f=e.matchResult)}get req(){return this.#t??=new eV(this.#e,this.#m,this.#f),this.#t}get event(){if(this.#o&&"respondWith"in this.#o)return this.#o;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#o)return this.#o;throw Error("This context has no ExecutionContext")}get res(){return this.#i||=new Response(null,{headers:this.#l??=new Headers})}set res(t){if(this.#i&&t){t=new Response(t.body,t);for(let[e,n]of this.#i.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let r=this.#i.headers.getSetCookie();t.headers.delete("set-cookie");for(let o of r)t.headers.append("set-cookie",o)}else t.headers.set(e,n)}this.#i=t,this.finalized=!0}render=(...t)=>(this.#a??=e=>this.html(e),this.#a(...t));setLayout=t=>this.#s=t;getLayout=()=>this.#s;setRenderer=t=>{this.#a=t};header=(t,e,n)=>{this.finalized&&(this.#i=new Response(this.#i.body,this.#i));let r=this.#i?this.#i.headers:this.#l??=new Headers;e===void 0?r.delete(t):n?.append?r.append(t,e):r.set(t,e)};status=t=>{this.#r=t};set=(t,e)=>{this.#n??=new Map,this.#n.set(t,e)};get=t=>this.#n?this.#n.get(t):void 0;get var(){return this.#n?Object.fromEntries(this.#n):{}}#c(t,e,n){let r=this.#i?new Headers(this.#i.headers):this.#l??new Headers;if(typeof e=="object"&&"headers"in e){let i=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[s,a]of i)s.toLowerCase()==="set-cookie"?r.append(s,a):r.set(s,a)}if(n)for(let[i,s]of Object.entries(n))if(typeof s=="string")r.set(i,s);else{r.delete(i);for(let a of s)r.append(i,a)}let o=typeof e=="number"?e:e?.status??this.#r;return new Response(t,{status:o,headers:r})}newResponse=(...t)=>this.#c(...t);body=(t,e,n)=>this.#c(t,e,n);text=(t,e,n)=>!this.#l&&!this.#r&&!e&&!n&&!this.finalized?new Response(t):this.#c(t,e,Cye(Upt,n));json=(t,e,n)=>this.#c(JSON.stringify(t),e,Cye("application/json",n));html=(t,e,n)=>{let r=o=>this.#c(o,e,Cye("text/html; charset=UTF-8",n));return typeof t=="object"?z8(t,V8.Stringify,!1,{}).then(r):r(t)};redirect=(t,e)=>{let n=String(t);return this.header("Location",/[^\x00-\xFF]/.test(n)?encodeURI(n):n),this.newResponse(null,e??302)};notFound=()=>(this.#u??=()=>new Response,this.#u(this))};var Ro="ALL",Fpt="all",Hpt=["get","post","put","delete","options","patch"],iV="Can not add a route since the matcher is already built.",sV=class extends Error{};var Gpt="__COMPOSED_HANDLER";var Ypn=t=>t.text("404 Not Found",404),Vpt=(t,e)=>{if("getResponse"in t){let n=t.getResponse();return e.newResponse(n.body,n)}return console.error(t),e.text("Internal Server Error",500)},zpt=class jpt{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...Hpt,Fpt].forEach(i=>{this[i]=(s,...a)=>(typeof s=="string"?this.#e=s:this.#r(i,this.#e,s),a.forEach(c=>{this.#r(i,this.#e,c)}),this)}),this.on=(i,s,...a)=>{for(let c of[s].flat()){this.#e=c;for(let l of[i].flat())a.map(u=>{this.#r(l.toUpperCase(),this.#e,u)})}return this},this.use=(i,...s)=>(typeof i=="string"?this.#e=i:(this.#e="*",s.unshift(i)),s.forEach(a=>{this.#r(Ro,this.#e,a)}),this);let{strict:r,...o}=e;Object.assign(this,o),this.getPath=r??!0?e.getPath??Iye:Opt}#t(){let e=new jpt({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#n=this.#n,e.routes=this.routes,e}#n=Ypn;errorHandler=Vpt;route(e,n){let r=this.basePath(e);return n.routes.map(o=>{let i;n.errorHandler===Vpt?i=o.handler:(i=async(s,a)=>(await xye([],n.errorHandler)(s,()=>o.handler(s,a))).res,i[Gpt]=o.handler),r.#r(o.method,o.path,i)}),this}basePath(e){let n=this.#t();return n._basePath=Fv(this._basePath,e),n}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#n=e,this);mount(e,n,r){let o,i;r&&(typeof r=="function"?i=r:(i=r.optionHandler,r.replaceRequest===!1?o=c=>c:o=r.replaceRequest));let s=i?c=>{let l=i(c);return Array.isArray(l)?l:[l]}:c=>{let l;try{l=c.executionCtx}catch{}return[c.env,l]};o||=(()=>{let c=Fv(this._basePath,e),l=c==="/"?0:c.length;return u=>{let d=new URL(u.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,u)}})();let a=async(c,l)=>{let u=await n(o(c.req.raw),...s(c));if(u)return u;await l()};return this.#r(Ro,Fv(e,"*"),a),this}#r(e,n,r){e=e.toUpperCase(),n=Fv(this._basePath,n);let o={basePath:this._basePath,path:n,method:e,handler:r};this.router.add(e,n,[r,o]),this.routes.push(o)}#o(e,n){if(e instanceof Error)return this.errorHandler(e,n);throw e}#i(e,n,r,o){if(o==="HEAD")return(async()=>new Response(null,await this.#i(e,n,r,"GET")))();let i=this.getPath(e,{env:r}),s=this.router.match(o,i),a=new $pt(e,{path:i,matchResult:s,env:r,executionCtx:n,notFoundHandler:this.#n});if(s[0].length===1){let l;try{l=s[0][0][0][0](a,async()=>{a.res=await this.#n(a)})}catch(u){return this.#o(u,a)}return l instanceof Promise?l.then(u=>u||(a.finalized?a.res:this.#n(a))).catch(u=>this.#o(u,a)):l??this.#n(a)}let c=xye(s[0],this.errorHandler,this.#n);return(async()=>{try{let l=await c(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#o(l,a)}})()}fetch=(e,...n)=>this.#i(e,n[1],n[0],e.method);request=(e,n,r,o)=>e instanceof Request?this.fetch(n?new Request(e,n):e,r,o):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${Fv("/",e)}`,n),r,o));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#i(e.request,e,void 0,e.request.method))})}};var aV=[];function Nye(t,e){let n=this.buildAllMatchers(),r=((o,i)=>{let s=n[o]||n[Ro],a=s[2][i];if(a)return a;let c=i.match(s[0]);if(!c)return[[],aV];let l=c.indexOf("",1);return[s[1][l],c]});return this.match=r,r(t,e)}var cV="[^/]+",j8=".*",q8="(?:|/.*)",Hv=Symbol(),Qpn=new Set(".\\+*[^]$()");function Xpn(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===j8||t===q8?1:e===j8||e===q8?-1:t===cV?1:e===cV?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var qpt=class Oye{#e;#t;#n=Object.create(null);insert(e,n,r,o,i){if(e.length===0){if(this.#e!==void 0)throw Hv;if(i)return;this.#e=n;return}let[s,...a]=e,c=s==="*"?a.length===0?["","",j8]:["","",cV]:s==="/*"?["","",q8]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(c){let u=c[1],d=c[2]||cV;if(u&&c[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw Hv;if(l=this.#n[d],!l){if(Object.keys(this.#n).some(p=>p!==j8&&p!==q8))throw Hv;if(i)return;l=this.#n[d]=new Oye,u!==""&&(l.#t=o.varIndex++)}!i&&u!==""&&r.push([u,l.#t])}else if(l=this.#n[s],!l){if(Object.keys(this.#n).some(u=>u.length>1&&u!==j8&&u!==q8))throw Hv;if(i)return;l=this.#n[s]=new Oye}l.insert(a,n,r,o,i)}buildRegExpStr(){let n=Object.keys(this.#n).sort(Xpn).map(r=>{let o=this.#n[r];return(typeof o.#t=="number"?`(${r})@${o.#t}`:Qpn.has(r)?`\\${r}`:r)+o.buildRegExpStr()});return typeof this.#e=="number"&&n.unshift(`#${this.#e}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}};var Wpt=class{#e={varIndex:0};#t=new qpt;insert(t,e,n){let r=[],o=[];for(let s=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{let l=`@\\${s}`;return o[s]=[l,c],s++,a=!0,l}),!a)break}let i=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=o.length-1;s>=0;s--){let[a]=o[s];for(let c=i.length-1;c>=0;c--)if(i[c].indexOf(a)!==-1){i[c]=i[c].replace(a,o[s][1]);break}}return this.#t.insert(i,e,r,this.#e,n),r}buildRegExp(){let t=this.#t.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,n=[],r=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(o,i,s)=>i!==void 0?(n[++e]=Number(i),"$()"):(s!==void 0&&(r[Number(s)]=++e),"")),[new RegExp(`^${t}`),n,r]}};var Zpn=[/^$/,[],Object.create(null)],Kpt=Object.create(null);function Jpt(t){return Kpt[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,n)=>n?`\\${n}`:"(?:|/.*)")}$`)}function efn(){Kpt=Object.create(null)}function tfn(t){let e=new Wpt,n=[];if(t.length===0)return Zpn;let r=t.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,u],[d,p])=>l?1:d?-1:u.length-p.length),o=Object.create(null);for(let l=0,u=-1,d=r.length;l<d;l++){let[p,f,h]=r[l];p?o[f]=[h.map(([g])=>[g,Object.create(null)]),aV]:u++;let m;try{m=e.insert(f,u,p)}catch(g){throw g===Hv?new sV(f):g}p||(n[u]=h.map(([g,y])=>{let S=Object.create(null);for(y-=1;y>=0;y--){let[v,A]=m[y];S[v]=A}return[g,S]}))}let[i,s,a]=e.buildRegExp();for(let l=0,u=n.length;l<u;l++)for(let d=0,p=n[l].length;d<p;d++){let f=n[l][d]?.[1];if(!f)continue;let h=Object.keys(f);for(let m=0,g=h.length;m<g;m++)f[h[m]]=a[f[h[m]]]}let c=[];for(let l in s)c[l]=n[s[l]];return[i,c,o]}function QT(t,e){if(t){for(let n of Object.keys(t).sort((r,o)=>o.length-r.length))if(Jpt(n).test(e))return[...t[n]]}}var lV=class{name="RegExpRouter";#e;#t;constructor(){this.#e={[Ro]:Object.create(null)},this.#t={[Ro]:Object.create(null)}}add(t,e,n){let r=this.#e,o=this.#t;if(!r||!o)throw new Error(iV);r[t]||[r,o].forEach(a=>{a[t]=Object.create(null),Object.keys(a[Ro]).forEach(c=>{a[t][c]=[...a[Ro][c]]})}),e==="/*"&&(e="*");let i=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let a=Jpt(e);t===Ro?Object.keys(r).forEach(c=>{r[c][e]||=QT(r[c],e)||QT(r[Ro],e)||[]}):r[t][e]||=QT(r[t],e)||QT(r[Ro],e)||[],Object.keys(r).forEach(c=>{(t===Ro||t===c)&&Object.keys(r[c]).forEach(l=>{a.test(l)&&r[c][l].push([n,i])})}),Object.keys(o).forEach(c=>{(t===Ro||t===c)&&Object.keys(o[c]).forEach(l=>a.test(l)&&o[c][l].push([n,i]))});return}let s=rV(e)||[e];for(let a=0,c=s.length;a<c;a++){let l=s[a];Object.keys(o).forEach(u=>{(t===Ro||t===u)&&(o[u][l]||=[...QT(r[u],l)||QT(r[Ro],l)||[]],o[u][l].push([n,i-c+a+1]))})}}match=Nye;buildAllMatchers(){let t=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(e=>{t[e]||=this.#n(e)}),this.#e=this.#t=void 0,efn(),t}#n(t){let e=[],n=t===Ro;return[this.#e,this.#t].forEach(r=>{let o=r[t]?Object.keys(r[t]).map(i=>[i,r[t][i]]):[];o.length!==0?(n||=!0,e.push(...o)):t!==Ro&&e.push(...Object.keys(r[Ro]).map(i=>[i,r[Ro][i]]))}),n?tfn(e):null}};var Pye=class{name="SmartRouter";#e=[];#t=[];constructor(t){this.#e=t.routers}add(t,e,n){if(!this.#t)throw new Error(iV);this.#t.push([t,e,n])}match(t,e){if(!this.#t)throw new Error("Fatal error");let n=this.#e,r=this.#t,o=n.length,i=0,s;for(;i<o;i++){let a=n[i];try{for(let c=0,l=r.length;c<l;c++)a.add(...r[c]);s=a.match(t,e)}catch(c){if(c instanceof sV)continue;throw c}this.match=a.match.bind(a),this.#e=[a],this.#t=void 0;break}if(i===o)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var W8=Object.create(null),Ypt=class Qpt{#e;#t;#n;#r=0;#o=W8;constructor(e,n,r){if(this.#t=r||Object.create(null),this.#e=[],e&&n){let o=Object.create(null);o[e]={handler:n,possibleKeys:[],score:0},this.#e=[o]}this.#n=[]}insert(e,n,r){this.#r=++this.#r;let o=this,i=Cpt(n),s=[];for(let a=0,c=i.length;a<c;a++){let l=i[a],u=i[a+1],d=Npt(l,u),p=Array.isArray(d)?d[0]:l;if(p in o.#t){o=o.#t[p],d&&s.push(d[1]);continue}o.#t[p]=new Qpt,d&&(o.#n.push(d),s.push(d[1])),o=o.#t[p]}return o.#e.push({[e]:{handler:r,possibleKeys:s.filter((a,c,l)=>l.indexOf(a)===c),score:this.#r}}),o}#i(e,n,r,o){let i=[];for(let s=0,a=e.#e.length;s<a;s++){let c=e.#e[s],l=c[n]||c[Ro],u={};if(l!==void 0&&(l.params=Object.create(null),i.push(l),r!==W8||o&&o!==W8))for(let d=0,p=l.possibleKeys.length;d<p;d++){let f=l.possibleKeys[d],h=u[l.score];l.params[f]=o?.[f]&&!h?o[f]:r[f]??o?.[f],u[l.score]=!0}}return i}search(e,n){let r=[];this.#o=W8;let i=[this],s=Tye(n),a=[];for(let c=0,l=s.length;c<l;c++){let u=s[c],d=c===l-1,p=[];for(let f=0,h=i.length;f<h;f++){let m=i[f],g=m.#t[u];g&&(g.#o=m.#o,d?(g.#t["*"]&&r.push(...this.#i(g.#t["*"],e,m.#o)),r.push(...this.#i(g,e,m.#o))):p.push(g));for(let y=0,S=m.#n.length;y<S;y++){let v=m.#n[y],A=m.#o===W8?{}:{...m.#o};if(v==="*"){let U=m.#t["*"];U&&(r.push(...this.#i(U,e,m.#o)),U.#o=A,p.push(U));continue}let[w,I,D]=v;if(!u&&!(D instanceof RegExp))continue;let k=m.#t[w],O=s.slice(c).join("/");if(D instanceof RegExp){let U=D.exec(O);if(U){if(A[I]=U[0],r.push(...this.#i(k,e,m.#o,A)),Object.keys(k.#t).length){k.#o=A;let G=U[0].match(/\//)?.length??0;(a[G]||=[]).push(k)}continue}}(D===!0||D.test(u))&&(A[I]=u,d?(r.push(...this.#i(k,e,A,m.#o)),k.#t["*"]&&r.push(...this.#i(k.#t["*"],e,A,m.#o))):(k.#o=A,p.push(k)))}}i=p.concat(a.shift()??[])}return r.length>1&&r.sort((c,l)=>c.score-l.score),[r.map(({handler:c,params:l})=>[c,l])]}};var Dye=class{name="TrieRouter";#e;constructor(){this.#e=new Ypt}add(t,e,n){let r=rV(e);if(r){for(let o=0,i=r.length;o<i;o++)this.#e.insert(t,r[o],n);return}this.#e.insert(t,e,n)}match(t,e){return this.#e.search(t,e)}};var yr=class extends zpt{constructor(t={}){super(t),this.router=t.router??new Pye({routers:[new lV,new Dye]})}};mt();function XT(t,e,n,r){let o=e;if(t){let i=parseInt(t,10);!isNaN(i)&&i>=0&&(o=i,n!==void 0&&o<n&&(o=n),r!==void 0&&o>r&&(o=r))}return o}var uV=new yr,Gv=[],Xpt=500;function Zpt(t){Gv.unshift(t),Gv.length>Xpt&&(Gv.length=Xpt)}function eft(t,e,n){let r=In(t.confidence),o=yd(t.reasoning),i=Ja(t.reasoning,t.action);return{id:`bf_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t.agentId,action:t.action,symbol:t.symbol,quantity:typeof t.quantity=="string"?parseFloat(t.quantity):t.quantity,reasoning:t.reasoning,confidence:r,intent:i,sources:o,coherenceScore:e.score,coherenceExplanation:e.explanation,hallucinationFlags:n.flags,roundId:t.roundId??void 0,timestamp:t.createdAt?.toISOString()??new Date().toISOString()}}uV.get("/",async t=>{let e=XT(t.req.query("limit"),20,1,100),n=XT(t.req.query("offset"),0,0),r=t.req.query("agent"),o=t.req.query("intent"),i=parseFloat(t.req.query("minConfidence")??"0"),s=parseFloat(t.req.query("maxConfidence")??"1");try{let a=[];r&&a.push(an(qt.agentId,r)),o&&a.push(an(qt.intent,o)),i>0&&a.push(n6(qt.confidence,i)),s<1&&a.push(p_(qt.confidence,s));let c=a.length>0?Vi(...a):void 0,l=await Gt.select().from(qt).where(c).orderBy(Ci(qt.timestamp)).limit(e).offset(n),u=await Gt.select({count:ne`count(*)`}).from(qt).where(c);return t.json({ok:!0,feed:l,total:Number(u[0]?.count??0),limit:e,offset:n,source:"database"})}catch{let a=Gv;r&&(a=a.filter(l=>l.agentId===r)),o&&(a=a.filter(l=>l.intent===o)),a=a.filter(l=>l.confidence>=i&&l.confidence<=s);let c=a.slice(n,n+e);return t.json({ok:!0,feed:c,total:a.length,limit:e,offset:n,source:"cache"})}});uV.get("/highlights",async t=>{let e=XT(t.req.query("limit"),10,1,50);try{let n=await Gt.select().from(qt).where(p_(qt.coherenceScore,.4)).orderBy(Ci(qt.timestamp)).limit(e),r=await Gt.select().from(qt).where(n6(qt.confidence,.8)).orderBy(Ci(qt.timestamp)).limit(e),o=new Set,i=[];for(let s of[...n,...r])o.has(s.id)||(o.add(s.id),i.push(s));return i.sort((s,a)=>{let c=(s.coherenceScore??1)-(s.confidence??0)*.3,l=(a.coherenceScore??1)-(a.confidence??0)*.3;return c-l}),t.json({ok:!0,highlights:i.slice(0,e),criteria:{lowCoherence:"Trades where reasoning contradicts the action (coherence < 0.4)",highConfidenceRisk:"Trades with very high confidence (> 0.8) that need outcome tracking"}})}catch{let n=Gv.filter(r=>r.coherenceScore<.4||r.confidence>.8).sort((r,o)=>{let i=r.coherenceScore-r.confidence*.3,s=o.coherenceScore-o.confidence*.3;return i-s}).slice(0,e);return t.json({ok:!0,highlights:n,criteria:{lowCoherence:"Trades where reasoning contradicts the action",highConfidenceRisk:"Very high confidence trades needing outcome review"},source:"cache"})}});uV.get("/stats",async t=>{try{let n=(await Gt.select({agentId:qt.agentId,totalTrades:ne`count(*)`,avgCoherence:ne`avg(${qt.coherenceScore})`,avgConfidence:ne`avg(${qt.confidence})`,hallucinationCount:ne`count(*) filter (where jsonb_array_length(${qt.hallucinationFlags}) > 0)`}).from(qt).groupBy(qt.agentId)).map(r=>({agentId:r.agentId,totalTrades:Number(r.totalTrades),avgCoherence:re(Number(r.avgCoherence)||0),avgConfidence:re(Number(r.avgConfidence)||0),hallucinationRate:Number(r.totalTrades)>0?re(Number(r.hallucinationCount)/Number(r.totalTrades)):0}));return t.json({ok:!0,benchmarkMetrics:{agents:n,overallCoherence:n.length>0?Math.round(n.reduce((r,o)=>r+o.avgCoherence,0)/n.length*100)/100:0,overallHallucinationRate:n.length>0?Math.round(n.reduce((r,o)=>r+o.hallucinationRate,0)/n.length*100)/100:0}})}catch{let e=new Map;for(let r of Gv){let o=e.get(r.agentId)??{coherence:[],confidence:[],hallucinations:0};o.coherence.push(r.coherenceScore),o.confidence.push(r.confidence),r.hallucinationFlags.length>0&&o.hallucinations++,e.set(r.agentId,o)}let n=Array.from(e.entries()).map(([r,o])=>({agentId:r,totalTrades:o.coherence.length,avgCoherence:re(o.coherence.reduce((i,s)=>i+s,0)/o.coherence.length),avgConfidence:re(o.confidence.reduce((i,s)=>i+s,0)/o.confidence.length),hallucinationRate:re(o.hallucinations/o.coherence.length)}));return t.json({ok:!0,benchmarkMetrics:{agents:n},source:"cache"})}});uV.get("/:agentId",async t=>{let e=t.req.param("agentId"),n=XT(t.req.query("limit"),20,1,100),r=XT(t.req.query("offset"),0,0);try{let o=await Gt.select().from(qt).where(an(qt.agentId,e)).orderBy(Ci(qt.timestamp)).limit(n).offset(r),i=await Gt.select({count:ne`count(*)`}).from(qt).where(an(qt.agentId,e)),s=Number(i[0]?.count??0),a=o.length>0?o.reduce((l,u)=>l+(u.coherenceScore??0),0)/o.length:0,c=o.filter(l=>l.hallucinationFlags&&l.hallucinationFlags.length>0).length;return t.json({ok:!0,agentId:e,feed:o,total:s,limit:n,offset:r,benchmarkScores:{avgCoherence:re(a),hallucinationRate:s>0?re(c/o.length):0,tradesAnalyzed:o.length}})}catch{let o=Gv.filter(s=>s.agentId===e),i=o.slice(r,r+n);return t.json({ok:!0,agentId:e,feed:i,total:o.length,limit:n,offset:r,source:"cache"})}});var nfn=.1,rfn=.2,ofn=.35,ifn=.2,sfn=.15,afn=.4,cfn=.2,lfn=.2,ufn=.2,dfn=.3,pfn=.4,ffn=.3,mfn=.3,hfn=.5,gfn={minReasoningLength:30,minCoherenceScore:.2,maxHallucinationSeverity:.75,minCompositeScore:.3,enforceRejection:!0},yfn={...gfn},Sp={totalChecked:0,totalPassed:0,totalRejected:0,rejectionsByReason:{},avgCompositeScore:0,recentScores:[]},bfn=100;function tft(t,e,n){let r={...yfn,...n},o=[];if(t.action==="hold"){let m=Ka(t.reasoning,"hold",e),g=Wc(t.reasoning,e);return{passed:!0,decision:t,rejectionReasons:[],scores:{reasoningLength:1,dataReference:1,coherence:m.score,hallucinationFree:1-g.severity,structuralCompleteness:1,composite:1},coherence:m,hallucinations:g}}let i=t.reasoning.length,s=i>=r.minReasoningLength?1:0;s===0&&o.push(`Reasoning too short (${i} chars, min ${r.minReasoningLength})`);let a=_fn(t.reasoning,e);a<dfn&&o.push(`Reasoning doesn't reference market data (score: ${a.toFixed(2)})`);let c=Ka(t.reasoning,t.action,e);c.score<r.minCoherenceScore&&o.push(`Coherence too low (${c.score.toFixed(2)}, min ${r.minCoherenceScore}): ${c.explanation}`);let l=Wc(t.reasoning,e),u=1-l.severity;l.severity>r.maxHallucinationSeverity&&o.push(`Too many hallucinations (severity: ${l.severity.toFixed(2)}, max ${r.maxHallucinationSeverity}): ${l.flags.join("; ")}`);let d=Sfn(t);d<hfn&&o.push(`Reasoning structurally incomplete (score: ${d.toFixed(2)}). Missing sources or intent.`);let p=Math.round((s*nfn+a*rfn+c.score*ofn+u*ifn+d*sfn)*100)/100;p<r.minCompositeScore&&o.push(`Composite quality score too low (${p.toFixed(2)}, min ${r.minCompositeScore})`);let f=o.length===0;Sp.totalChecked++,Sp.recentScores.push(p),Sp.recentScores.length>bfn&&Sp.recentScores.shift(),Sp.avgCompositeScore=Sp.recentScores.reduce((m,g)=>m+g,0)/Sp.recentScores.length;let h=t;if(!f&&r.enforceRejection){Sp.totalRejected++;for(let m of o){let g=m.split("(")[0].trim();Sp.rejectionsByReason[g]=(Sp.rejectionsByReason[g]??0)+1}h={action:"hold",symbol:t.symbol,quantity:0,reasoning:`[QUALITY GATE REJECTED] Original action: ${t.action} ${t.symbol}. Rejection reasons: ${o.join("; ")}. Original reasoning: ${t.reasoning.slice(0,200)}`,confidence:0,timestamp:t.timestamp,sources:t.sources,intent:t.intent},console.log(`[QualityGate] REJECTED ${t.action} ${t.symbol}: composite=${p.toFixed(2)}, reasons=${o.length}`)}else Sp.totalPassed++;return{passed:f,decision:h,rejectionReasons:o,scores:{reasoningLength:s,dataReference:a,coherence:c.score,hallucinationFree:u,structuralCompleteness:d,composite:p},coherence:c,hallucinations:l}}function _fn(t,e){let n=0,r=t.toLowerCase();return e.filter(i=>r.includes(i.symbol.toLowerCase())).length>0&&(n+=afn),/\$\d+\.?\d*/i.test(t)&&(n+=cfn),/[\d.]+%|percent|change|up\s+\d|down\s+\d/i.test(t)&&(n+=lfn),/because|therefore|given that|based on|considering|analysis/i.test(t)&&(n+=ufn),Math.min(1,n)}function Sfn(t){let e=0;return t.sources&&t.sources.length>0&&(e+=pfn),t.intent&&(e+=ffn),t.predictedOutcome&&(e+=mfn),e}_o();mt();var vfn=30,Efn=.5,Afn=.6,nft=500,xfn=100;var K8={lastRun:null,totalProcessed:0,outcomes:[]};async function rft(t){let e=[],n=new Map;for(let r of t)n.set(r.symbol.toLowerCase(),r.price);try{let r=new Date(Date.now()-vfn*60*1e3),o=await Gt.select().from(qt).where(Vi(W7(qt.actualOutcome),p_(qt.timestamp,r))).orderBy(Ci(qt.timestamp)).limit(xfn);for(let i of o){let s=n.get(i.symbol.toLowerCase());if(!s)continue;if(i.action==="hold"){let m=`Held position. ${i.symbol} currently at $${s.toFixed(2)}.`;await Gt.update(qt).set({actualOutcome:m}).where(an(qt.id,i.id)),e.push({justificationId:i.id,agentId:i.agentId,symbol:i.symbol,action:i.action,entryPrice:null,currentPrice:s,pnlPercent:null,outcome:"breakeven",outcomeText:m,confidenceAtTrade:i.confidence,wasCalibrated:!0});continue}let a=null;try{let m=await Gt.select().from(zr).where(Vi(an(zr.agentId,i.agentId),an(zr.stockSymbol,i.symbol))).orderBy(Ci(zr.createdAt)).limit(1);m.length>0&&(a=parseFloat(m[0].pricePerToken))}catch{}let c=null,l="pending",u="";a&&a>0?(i.action==="buy"?c=(s-a)/a*100:c=(a-s)/a*100,Math.abs(c)<Efn?(l="breakeven",u=`Breakeven. Entry $${a.toFixed(2)}, current $${s.toFixed(2)} (${c>=0?"+":""}${c.toFixed(2)}%).`):c>0?(l="profit",u=`Profit: +${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`):(l="loss",u=`Loss: ${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`)):(u=`${i.action==="buy"?"Bought":"Sold"} ${i.symbol}. Current price: $${s.toFixed(2)}.`,l="pending");let d=i.confidence,p=d>=Afn,f=p&&l==="profit"||!p&&l!=="profit"||l==="breakeven";await Gt.update(qt).set({actualOutcome:u}).where(an(qt.id,i.id));let h={justificationId:i.id,agentId:i.agentId,symbol:i.symbol,action:i.action,entryPrice:a,currentPrice:s,pnlPercent:c,outcome:l,outcomeText:u,confidenceAtTrade:d,wasCalibrated:f};e.push(h),K8.outcomes.unshift(h)}K8.outcomes.length>nft&&(K8.outcomes.length=nft),K8.lastRun=new Date().toISOString(),K8.totalProcessed+=e.length,console.log(`[OutcomeTracker] Processed ${e.length} outcomes. Profit: ${ue(e,i=>i.outcome==="profit")}, Loss: ${ue(e,i=>i.outcome==="loss")}, Breakeven: ${ue(e,i=>i.outcome==="breakeven")}`)}catch(r){console.error(`[OutcomeTracker] Failed: ${Ue(r)}`)}return e}mt();var wfn=.4,Tfn=.15,Ifn=.2,Rfn=.1,Cfn=.15,Nfn=.3,Ofn=.3,Pfn=2,oft=200,ift=500;var ZT=new Map,kye=[];function sft(t){let e=ZT.get(t.roundId)??[];if(e.push(t),ZT.set(t.roundId,e),ZT.size>ift){let n=Array.from(ZT.keys());for(let r=0;r<n.length-ift;r++)ZT.delete(n[r])}}function aft(t){let e=ZT.get(t);if(!e||e.length<2)return null;let n=[];for(let d=0;d<e.length;d++)for(let p=d+1;p<e.length;p++){let f=e[d],h=e[p],m=Dfn(f,h);n.push(m)}let r=n.filter(d=>d.analysis.actionConflict).length,o=n.length>0?n.reduce((d,p)=>d+p.analysis.divergenceScore,0)/n.length:0,i=n.length>0?n.reduce((d,p)=>d+p.analysis.confidenceSpread,0)/n.length:0,s=new Map;for(let d of n)if(d.analysis.actionConflict){let p=d.symbol;s.set(p,(s.get(p)??0)+1)}let a=s.size>0?[...s.entries()].sort((d,p)=>p[1]-d[1])[0][0]:null,c=new Map;for(let d of e){let p=c.get(d.symbol)??new Set;p.add(d.action),c.set(d.symbol,p)}let l=[...c.entries()].filter(([,d])=>d.size===1).map(([d])=>d),u={roundId:t,timestamp:e[0].timestamp,diffs:n,stats:{avgDivergence:re(o),actionConflictRate:n.length>0?re(r/n.length):0,avgConfidenceSpread:re(i),mostDisagreedSymbol:a,consensusSymbols:l}};return kye.unshift(u),kye.length>oft&&(kye.length=oft),u}function Dfn(t,e){let n=t.action==="buy"&&e.action==="sell"||t.action==="sell"&&e.action==="buy",r=t.confidence>1?t.confidence/100:t.confidence,o=e.confidence>1?e.confidence/100:e.confidence,i=Math.abs(r-o),s=t.intent===e.intent,a=new Set(t.sources),c=new Set(e.sources),l=[...a].filter(A=>c.has(A)),u=[...a].filter(A=>!c.has(A)),d=[...c].filter(A=>!a.has(A)),p=t.reasoning.length,f=e.reasoning.length,h=p>=f?t.agentId:e.agentId,m=Math.min(p,f)>0?re(Math.max(p,f)/Math.min(p,f)):1,g=t.coherenceScore>=e.coherenceScore?t.agentId:e.agentId,y=0;n&&(y+=wfn),s||(y+=Tfn),y+=i*Ifn,y+=(1-l.length/Math.max(1,a.size+c.size-l.length))*Rfn,Math.abs(t.coherenceScore-e.coherenceScore)>Nfn&&(y+=Cfn),y=Math.min(1,y);let S=[];n&&S.push(`ACTION CONFLICT: ${t.agentId} wants to ${t.action} while ${e.agentId} wants to ${e.action}`),i>Ofn&&S.push(`Large confidence gap: ${t.agentId}=${(r*100).toFixed(0)}% vs ${e.agentId}=${(o*100).toFixed(0)}%`),s||S.push(`Different strategies: ${t.agentId} (${t.intent}) vs ${e.agentId} (${e.intent})`),m>Pfn&&S.push(`${h} provided ${m}x more detailed reasoning`),S.length===0&&S.push("Agents largely agree on this trade");let v={actionConflict:n,confidenceSpread:re(i),intentMatch:s,sharedSources:l,uniqueSourcesA:u,uniqueSourcesB:d,deeperReasoningAgent:h,reasoningLengthRatio:m,higherCoherenceAgent:g,divergenceScore:re(y),summary:S.join(". ")};return{symbol:t.symbol!==e.symbol?`${t.symbol} vs ${e.symbol}`:t.symbol,roundId:t.roundId,timestamp:t.timestamp,agentA:t,agentB:e,analysis:v}}mt();var Lye=[],cft=5e3;function lft(t,e,n,r,o,i,s){Lye.unshift({agentId:t,symbol:e,roundId:n,hadHallucinations:r.length>0,flags:r,severity:o,confidence:i,action:s,timestamp:new Date().toISOString()}),Lye.length>cft&&(Lye.length=cft)}mt();var Mye=[],uft=3e3;function dft(t){Mye.unshift(t),Mye.length>uft&&(Mye.length=uft)}mt();var dV=[],pft=5e3;function fft(t){dV.push(t),dV.length>pft&&dV.splice(0,dV.length-pft)}mt();var pV=[],mft=5e3;function hft(t){pV.push({...t,wordCount:vn(t.reasoning)}),pV.length>mft&&pV.splice(0,pV.length-mft)}mt();var gft=5e3;var Bye=[];function yft(t){Bye.unshift(t),Bye.length>gft&&(Bye.length=gft)}mt();var mV=new yr,vg=[],bft=5e3;function _ft(t){vg.push(t),vg.length>bft&&vg.splice(0,vg.length-bft)}function eI(t){if(t.length<2)return 0;let e=Ke(t);return t.reduce((n,r)=>n+(r-e)**2,0)/(t.length-1)}function Sft(t,e){let n=t.length,r=e.length;if(n<2||r<2)return{tStatistic:0,degreesOfFreedom:0,pValue:1};let o=Ke(t),i=Ke(e),s=eI(t),a=eI(e),c=s/n,l=a/r,u=Math.sqrt(c+l);if(u===0)return{tStatistic:0,degreesOfFreedom:n+r-2,pValue:1};let d=(o-i)/u,p=(c+l)**2/(c**2/(n-1)+l**2/(r-1)),f=kfn(Math.abs(d),p);return{tStatistic:ye(d),degreesOfFreedom:Math.round(p*10)/10,pValue:f}}function kfn(t,e){if(e<=0||t===0)return 1;let n=e/(e+t*t),r=e/2,i=Lfn(n,r,.5);return Lt(Math.round(i*1e4)/1e4,0,1)}function Lfn(t,e,n){if(t<=0)return 0;if(t>=1)return 1;let r=fV(e)+fV(n)-fV(e+n),o=Math.exp(Math.log(t)*e+Math.log(1-t)*n-r)/e,i=1,s=1,a=1-(e+n)*t/(e+1);Math.abs(a)<1e-30&&(a=1e-30),a=1/a,i=a;for(let c=1;c<=200;c++){let l=c*(n-c)*t/((e+2*c-1)*(e+2*c));a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a,i*=a*s,l=-(e+c)*(e+n+c)*t/((e+2*c)*(e+2*c+1)),a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a;let u=a*s;if(i*=u,Math.abs(u-1)<1e-10)break}return o*i}function fV(t){let n=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-fV(1-t);t-=1;let r=n[0];for(let i=1;i<9;i++)r+=n[i]/(t+i);let o=t+7+.5;return .5*Math.log(2*Math.PI)+(t+.5)*Math.log(o)-o+Math.log(r)}function vft(t,e){let n=t.length,r=e.length;if(n<2||r<2)return{d:0,label:"insufficient data"};let o=Math.sqrt(((n-1)*eI(t)+(r-1)*eI(e))/(n+r-2));if(o===0)return{d:0,label:"negligible"};let i=ye((Ke(t)-Ke(e))/o),s=Math.abs(i),a=s<.2?"negligible":s<.5?"small":s<.8?"medium":"large";return{d:i,label:a}}function Mfn(t){let e=t.length;if(e<2)return{lower:0,upper:0,margin:0};let n=Ke(t),r=1.96*Math.sqrt(eI(t)/e);return{lower:re(n-r),upper:re(n+r),margin:re(r)}}function Vv(t){return zv().find(n=>n.agentId===t)?.name??t}function Uye(){return[...new Set(vg.map(t=>t.agentId))]}function Eft(t,e){let n=new Map,r=new Map;for(let k of vg)k.agentId===t?n.set(k.roundId,k):k.agentId===e&&r.set(k.roundId,k);let o=[],i=[],s=[],a=[],c=[],l=[],u=0,d=0,p=0;for(let[k,O]of n){let U=r.get(k);U&&(o.push(O.pnl),i.push(U.pnl),s.push(O.coherence),a.push(U.coherence),c.push(O.hallucinationCount),l.push(U.hallucinationCount),O.pnl>U.pnl?u++:U.pnl>O.pnl?d++:p++)}let f=o.length,h=Sft(o,i),m=vft(o,i),g=o.reduce((k,O)=>k+O,0),y=i.reduce((k,O)=>k+O,0),S=Ke(s),v=Ke(a),A=Ke(c),w=Ke(l),I="draw";u>d?I=t:d>u?I=e:g>y?I=t:y>g&&(I=e);let D=f>=30&&h.pValue<.05?.95:f>=10?Math.min(.9,.5+f*.02):Math.min(.5,f*.1);return{agentA:{id:t,name:Vv(t)},agentB:{id:e,name:Vv(e)},rounds:f,agentAWins:u,agentBWins:d,draws:p,pnlComparison:{agentAPnl:re(g),agentBPnl:re(y),difference:re(g-y),pValue:h.pValue,isSignificant:h.pValue<.05,effectSize:m.d,effectLabel:m.label},coherenceComparison:{agentA:re(S),agentB:re(v),winner:S>v?t:v>S?e:"tie"},hallucinationComparison:{agentA:re(A),agentB:re(w),winner:A<w?t:w<A?e:"tie"},overallWinner:I,confidence:re(D)}}mV.get("/head-to-head/:agentA/:agentB",t=>{let e=t.req.param("agentA"),n=t.req.param("agentB");if(e===n)return t.json({ok:!1,error:"Cannot compare an agent with itself"},400);let r=Eft(e,n);return r.rounds===0?t.json({ok:!0,warning:"No shared rounds found between these agents",result:r}):t.json({ok:!0,result:r})});mV.get("/rankings",t=>{let n=Uye().map(r=>{let o=vg.filter(c=>c.agentId===r),i=o.map(c=>c.pnl),s=Mfn(i),a=i.reduce((c,l)=>c+l,0);return{agentId:r,agentName:Vv(r),rounds:o.length,totalPnl:re(a),meanPnl:re(Ke(i)),stdDev:re(Math.sqrt(eI(i))),ci95:s,avgCoherence:re(Ke(o.map(c=>c.coherence))),avgHallucinations:re(Ke(o.map(c=>c.hallucinationCount)))}});return n.sort((r,o)=>o.totalPnl-r.totalPnl),n.forEach((r,o)=>Object.assign(r,{rank:o+1})),t.json({ok:!0,totalAgents:n.length,totalRounds:new Set(vg.map(r=>r.roundId)).size,rankings:n})});mV.get("/dominance-matrix",t=>{let e=Uye(),n={};for(let o of e){n[o]={};for(let i of e){if(o===i){n[o][i]={wins:0,losses:0,draws:0,winRate:0};continue}let s=Eft(o,i),a=s.agentAWins+s.agentBWins+s.draws;n[o][i]={wins:s.agentAWins,losses:s.agentBWins,draws:s.draws,winRate:a>0?re(s.agentAWins/a):0}}}let r=e.map(o=>{let i=e.filter(a=>a!==o),s=i.length>0?Ke(i.map(a=>n[o][a].winRate)):0;return{agentId:o,agentName:Vv(o),avgWinRate:re(s)}}).sort((o,i)=>i.avgWinRate-o.avgWinRate);return t.json({ok:!0,agents:e.map(o=>({id:o,name:Vv(o)})),matrix:n,dominanceRanking:r,mostDominant:r[0]?.agentId??null})});mV.get("/statistical-tests",t=>{let e=Uye(),n=[];for(let r=0;r<e.length;r++)for(let o=r+1;o<e.length;o++){let i=e[r],s=e[o],a=new Map,c=new Map;for(let S of vg)S.agentId===i?a.set(S.roundId,S.pnl):S.agentId===s&&c.set(S.roundId,S.pnl);let l=[],u=[];for(let[S,v]of a){let A=c.get(S);A!==void 0&&(l.push(v),u.push(A))}let d=Sft(l,u),p=vft(l,u),f=d.pValue<.05,h=Vv(i),m=Vv(s),g=Ke(l)>=Ke(u)?h:m,y=l.length<2?"Insufficient data for statistical comparison":f?`${g} significantly outperforms (p=${d.pValue}, ${p.label} effect)`:`No significant difference (p=${d.pValue})`;n.push({agentA:i,agentB:s,sampleSizeA:l.length,sampleSizeB:u.length,sharedRounds:l.length,welchT:d,effectSize:p,isSignificant:f,interpretation:y})}return t.json({ok:!0,significanceLevel:.05,totalPairs:n.length,significantPairs:ue(n,r=>r.isSignificant),tests:n})});import{createHash as Fye}from"crypto";var Bfn="1.0.0",Ufn=500,$ye=[],$fn=new Map;function Ffn(t){let e=JSON.stringify(t,Object.keys(t).sort());return Fye("sha256").update(e).digest("hex")}function Hfn(t){if(t.length===0)return Fye("sha256").update("empty").digest("hex");if(t.length===1)return t[0];let e=[],n=[...t];for(n.length%2!==0&&n.push(n[n.length-1]),e.push(n);n.length>1;){let r=[];for(let o=0;o<n.length;o+=2)r.push(Fye("sha256").update(n[o]+n[o+1]).digest("hex"));r.length>1&&r.length%2!==0&&r.push(r[r.length-1]),e.push(r),n=r}return $fn.set(n[0],e),n[0]}function Aft(t,e){let n=0,r=e.map(c=>({id:c.id??`${t}-j${++n}`,agentId:c.agentId,action:c.action,symbol:c.symbol,reasoning:c.reasoning,confidence:c.confidence,timestamp:c.timestamp})),o=r.map(c=>({id:c.id,hash:Ffn(c)})),i=Hfn(o.map(c=>c.hash)),s=[...new Set(r.map(c=>c.agentId))],a={roundId:t,merkleRoot:i,justificationHashes:o,agentIds:s,timestamp:new Date().toISOString(),proofVersion:Bfn};for($ye.push(a);$ye.length>Ufn;)$ye.shift()}var My={risk_appetite:.1,conviction:.15,adaptability:.15,contrarianism:.1,information_processing:.2,temporal_awareness:.1,emotional_regulation:.1,learning_rate:.1},Hye=[My.risk_appetite,My.conviction,My.adaptability,My.contrarianism,My.information_processing,My.temporal_awareness,My.emotional_regulation,My.learning_rate],J8={structural_completeness:.2,data_grounding:.25,logical_soundness:.2,epistemic_honesty:.15,actionability:.2},Gye=[J8.structural_completeness,J8.data_grounding,J8.logical_soundness,J8.epistemic_honesty,J8.actionability],vp={structure:.2,depth:.25,originality:.2,clarity:.15,cross_trade:.2},Gfn=[vp.structure,vp.depth,vp.originality,vp.clarity,vp.cross_trade],jv={coherence:.4,hallucination_free:.3,discipline:.3},Vfn=[jv.coherence,jv.hallucination_free,jv.discipline],qv={jaccard_inverse:.4,unique_ngrams:.4,template_inverse:.2},zfn=[qv.jaccard_inverse,qv.unique_ngrams,qv.template_inverse],Wv={risk_appetite:{hold_rate_inverse:.4,avg_trade_size:.3,high_conf_trades:.3},information_processing:{avg_coherence:.4,hallucination_free:.3,reasoning_length:.3}},Y8=(t,e)=>{let n=t.reduce((o,i)=>o+i,0);if(Math.abs(n-1)>1e-4)throw new Error(`${e} weights sum to ${n.toFixed(4)}, expected 1.0`)};Y8(Hye,"GENOME_PILLAR_WEIGHTS");Y8(Gye,"CERTIFICATION_PILLAR_WEIGHTS");Y8(Gfn,"FORENSIC_COMPONENT_WEIGHTS");Y8(Vfn,"ADAPTIVE_GATE_WEIGHTS");Y8(zfn,"ORIGINALITY_ANALYSIS_WEIGHTS");mt();var jfn=500;var xft=new Map;function wft(t,e,n,r){let o=xft.get(t)??[],i=1-n,s=r?1:0,a=re(e*jv.coherence+i*jv.hallucination_free+s*jv.discipline);o.push({coherence:e,hallucinationSeverity:n,disciplinePass:r,compositeScore:a,timestamp:new Date().toISOString()}),o.length>jfn&&o.shift(),xft.set(t,o)}var Kv=new Map,Tft=new Map,Vye=new Map,hV=[],Ift=new Map,zye=new Map;function Rft(t,e){if(e.length<2)return;for(let i of e)Kv.has(i.agentId)||Kv.set(i.agentId,1500),Tft.set(i.agentId,i.agentName);for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++){let a=e[i],c=e[s],l=Kv.get(a.agentId),u=Kv.get(c.agentId),{newA:d,newB:p}=qfn(l,u,a.compositeScore,c.compositeScore);Kv.set(a.agentId,d),Kv.set(c.agentId,p)}let n=[...Kv.entries()].sort((i,s)=>s[1]-i[1]),r=new Date().toISOString(),o=[];for(let i=0;i<n.length;i++){let[s,a]=n[i],c=i+1,l=Ift.get(s)??c,u=e.find(h=>h.agentId===s),d=zye.get(s)??[];d.push(c),zye.set(s,d);let p={roundId:t,elo:gV(a),rank:c,compositeScore:u?.compositeScore??0,timestamp:r},f=Vye.get(s)??[];f.push(p),Vye.set(s,f),o.push({agentId:s,agentName:Tft.get(s)??s,elo:gV(a),rank:c,previousRank:l,rankChange:l-c,compositeScore:u?.compositeScore??0,streak:Wfn(s),roundsPlayed:(Vye.get(s)??[]).length}),Ift.set(s,c)}hV.push({roundId:t,timestamp:r,rankings:o}),hV.length>500&&hV.splice(0,hV.length-500)}function qfn(t,e,n,r){let o=1/(1+Math.pow(10,(e-t)/400)),i=1-o,s,a;n>r?(s=1,a=0):r>n?(s=0,a=1):(s=.5,a=.5);let c=t+32*(s-o),l=e+32*(a-i);return{newA:gV(c),newB:gV(l)}}function Wfn(t){let e=zye.get(t);if(!e||e.length===0)return{type:"none",length:0,longestWin:0,longestLoss:0};let n=0,r=0,o=0,i=0;for(let c of e)c===1?(o++,i=0,n=Math.max(n,o)):(i++,o=0,r=Math.max(r,i));let s="none",a=0;return o>0?(s="winning",a=o):i>0&&(s="losing",a=i),{type:s,length:a,longestWin:n,longestLoss:r}}function gV(t){return Math.round(t*10)/10}mt();var Kfn=.3,Jfn=.2,Yfn=.2,Qfn=.3,Xfn=.5,Zfn=30,emn=60,tmn=100,nmn=20,rmn=60,omn=20,imn=40,Dft=30,smn=.1,amn=.1,cmn=.05,lmn=.04,umn=.03,dmn=.03,pmn=.15,fmn=.04,mmn=.1,hmn=.1,gmn=.05,ymn=.03,bmn=.1,_mn=.3,Smn=.2,vmn=.1,Emn=.05,Amn=.03,xmn=.1,Cft=.2,wmn=.2,Tmn=.15,Imn=.1,Nft=.15,kft=.8,Lft=.3,Rmn=.3,Cmn=.85,Nmn=.9,Omn=.25,Pmn=.2,Dmn=.2,kmn=.15,Lmn=.2,Mmn=.5,Bmn=.1,Umn=.1,$mn=.05,Fmn=.05,Hmn=.1,Gmn=.1,Vmn=.15,zmn=.1,jmn=.1,qmn=.15,Wmn=.1,qye=1,Kmn=4,Jmn=4,Ymn=3,Qmn=5,Xmn=.7,Zmn=.4,ehn=.4,thn=.3,nhn=.3,jye=[],Oft=3e3,yV=new Map,rhn=100;function ohn(t,e,n,r,o,i,s){let a=ihn(n,r,i),c=dhn(n,r),l=phn(n,r,i),u=fhn(n,r,i,t),d=hhn(a,c,l,r,o),p=re(a.logicQuality*Omn+a.evidenceUsage*Pmn+a.riskAwareness*Dmn+a.originality*kmn+a.conclusionValidity*Lmn),f={reviewerAgentId:t,targetAgentId:e,roundId:s,overallScore:p,scores:a,critique:d,strengths:c,weaknesses:l,wouldAgree:u,timestamp:new Date().toISOString()};return jye.unshift(f),jye.length>Oft&&(jye.length=Oft),f}function Mft(t,e){let n=[];for(let u of t)for(let d of t){if(u.agentId===d.agentId)continue;let p=ohn(u.agentId,d.agentId,d.reasoning,d.action,d.symbol,d.confidence,e);n.push(p)}let o=[...new Set(t.map(u=>u.agentId))].map(u=>{let d=n.filter(p=>p.targetAgentId===u);return ghn(u,d)}),i=null,s=null;for(let u of o)(!i||u.avgPeerScore<i.avgScore)&&(i={agentId:u.agentId,avgScore:u.avgPeerScore}),(!s||u.avgPeerScore>s.avgScore)&&(s={agentId:u.agentId,avgScore:u.avgPeerScore});let a=n.filter(u=>u.wouldAgree).length,c=n.length>0?re(1-a/n.length):0,l={roundId:e,reviews:n,agentSummaries:o,disagreementRate:c,mostControversial:i,bestReviewed:s,timestamp:new Date().toISOString()};if(yV.set(e,l),yV.size>rhn){let u=[...yV.keys()][0];yV.delete(u)}return l}function ihn(t,e,n){let r=shn(t),o=ahn(t),i=chn(t,e),s=lhn(t),a=uhn(t,e,n);return{logicQuality:re(r),evidenceUsage:re(o),riskAwareness:re(i),originality:re(s),conclusionValidity:re(a)}}function shn(t){let e=Kfn,n=vn(t);n>Zfn&&(e+=smn),n>emn&&(e+=amn),n>tmn&&(e+=cmn);let r=[/\bbecause\b/i,/\btherefore\b/i,/\bconsequently\b/i,/\bas a result\b/i,/\bdue to\b/i,/\bgiven that\b/i,/\bthis suggests\b/i,/\bwhich means\b/i,/\bimplying\b/i,/\bsince\b/i,/\bhence\b/i,/\bthus\b/i];for(let s of r)s.test(t)&&(e+=lmn);let o=[/\bhowever\b/i,/\bon the other hand\b/i,/\bwhile\b/i,/\balthough\b/i,/\bcompared to\b/i,/\brather than\b/i,/\binstead of\b/i,/\bbut\b/i,/\bdespite\b/i];for(let s of o)s.test(t)&&(e+=umn);let i=[/\d+\.?\d*%/,/ratio/i,/average/i,/relative/i,/volatility/i,/correlation/i,/standard deviation/i];for(let s of i)s.test(t)&&(e+=dmn);return Math.min(1,e)}function ahn(t){let e=Jfn;/\$\d+\.?\d*/i.test(t)&&(e+=pmn);let n=[/\bprice\b/i,/\bvolume\b/i,/\b24h\b/i,/\bchange\b/i,/\bmarket cap\b/i,/\bP\/E\b/i,/\bEPS\b/i,/\brevenue\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bmoving average\b/i,/\bsupport\b/i,/\bresistance\b/i,/\btrend\b/i];for(let o of n)o.test(t)&&(e+=fmn);let r=t.match(/\b[A-Z]{2,5}x\b/g);return r&&r.length>qye&&(e+=mmn),/\bportfolio\b|\bposition\b|\bcash\b|\bbalance\b/i.test(t)&&(e+=hmn),Math.min(1,e)}function chn(t,e){let n=Yfn,r=[/\brisk\b/i,/\bdownside\b/i,/\buncertain/i,/\bvolatil/i,/\bloss/i,/\bdrawdown\b/i,/\bcaution/i,/\bexposure\b/i,/\bhedg/i,/\bprotect/i,/\bstop.?loss/i,/\bdiversif/i,/\bconcentrat/i,/\blimit/i,/\bmax\s+position/i];for(let i of r)i.test(t)&&(n+=gmn);let o=[/\bif\b/i,/\bcould\b/i,/\bmight\b/i,/\bmay\b/i,/\bpotentially\b/i,/\bpossibly\b/i,/\bin case\b/i];for(let i of o)i.test(t)&&(n+=ymn);return e==="buy"&&/\bdownside\b|\brisk\b|\bcaution\b/i.test(t)&&(n+=bmn),Math.min(1,n)}function lhn(t){let e=Qfn,n=vn(t),r=uo(t).length,o=new Set(t.toLowerCase().split(/\s+/)),i=n>0?o.size/n:0;e+=Math.min(Smn,i*_mn),r>=Ymn&&(e+=vmn),r>=Qmn&&(e+=Emn);let s=[/\bexpect\b/i,/\bpredict\b/i,/\bforecast\b/i,/\blikely\b/i,/\bwill\b/i,/\bshould\b/i,/\bnext\b/i,/\bfuture\b/i,/\bopportunity\b/i,/\bcatalyst\b/i,/\btarget\b/i];for(let a of s)a.test(t)&&(e+=Amn);return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter)/i.test(t)&&(e+=xmn),Math.min(1,e)}function uhn(t,e,n){let r=Xfn,o=vn(t),i=In(n);i>kft&&o<nmn&&(r-=wmn),i<Lft&&/\bdefinitely\b|\bcertainly\b|\bclearly\b/i.test(t)&&(r-=Tmn),e==="hold"&&o<Dft&&(r-=Imn);let s=Pft(t,[/\bbullish\b/i,/\bundervalued\b/i,/\bgrowth\b/i,/\bupside\b/i,/\baccumulate\b/i,/\bstrong\b/i,/\bpositive\b/i]),a=Pft(t,[/\bbearish\b/i,/\bovervalued\b/i,/\bdecline\b/i,/\bdownside\b/i,/\bweak\b/i,/\bnegative\b/i,/\bconcern/i]);return e==="buy"&&s>a&&(r+=Cft),e==="sell"&&a>s&&(r+=Cft),e==="buy"&&a>s+qye&&(r-=Nft),e==="sell"&&s>a+qye&&(r-=Nft),Math.min(1,r)}function Pft(t,e){let n=0;for(let r of e)r.test(t)&&n++;return n}function dhn(t,e){let n=[];return vn(t)>rmn&&n.push("Detailed analysis with substantial reasoning"),/\bbecause\b|\btherefore\b|\bthus\b|\bconsequently\b/i.test(t)&&n.push("Uses causal reasoning to connect observations to conclusions"),/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&n.push("Acknowledges risks and potential downsides"),/\$\d+\.?\d*/.test(t)&&/\d+\.?\d*%/.test(t)&&n.push("Cites specific quantitative data points"),/\bhowever\b|\bon the other hand\b|\balthough\b/i.test(t)&&n.push("Considers multiple perspectives before concluding"),/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month)/i.test(t)&&n.push("Incorporates historical context"),/\bportfolio\b|\bposition\b|\bconcentration\b|\bexposure\b/i.test(t)&&n.push("Considers portfolio-level implications"),n.slice(0,Kmn)}function phn(t,e,n){let r=[],o=vn(t),i=In(n);return o<omn&&r.push("Reasoning is too brief to be convincing"),i>kft&&!/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&r.push("High confidence without acknowledging any risks"),e!=="hold"&&!/\$\d+\.?\d*/.test(t)&&r.push("No specific price levels cited to support the trade"),/\bbecause\b|\btherefore\b|\bsince\b|\bdue to\b/i.test(t)||r.push("Lacks explicit causal reasoning"),/\bI think\b|\bI feel\b|\bI believe\b/i.test(t)&&!/data|evidence|indicator/i.test(t)&&r.push("Relies on subjective belief without data support"),e==="buy"&&i<Lft&&r.push("Executing a buy with very low confidence suggests uncertainty"),r.slice(0,Jmn)}function fhn(t,e,n,r){let o=In(n),i=/\$\d+\.?\d*|\d+\.?\d*%/i.test(t),s=/\brisk\b|\bdownside\b|\bcaution\b/i.test(t),a=vn(t),c=Mmn;return a>imn&&(c+=Bmn),i&&(c+=Umn),s&&(c+=$mn),o>Rmn&&o<Cmn&&(c+=Fmn),r.includes("claude")?(s&&(c+=Hmn),e==="hold"&&/\bcaution\b|\buncertain/i.test(t)&&(c+=Gmn),e==="buy"&&o>Nmn&&!s&&(c-=Vmn)):r.includes("gpt")?(/\bmomentum\b|\btrend\b|\bbreakout\b|\btechnical\b/i.test(t)&&(c+=zmn),e==="hold"&&a<Dft&&(c-=jmn)):r.includes("grok")&&(/\bcontrarian\b|\boverreaction\b|\bpanic\b|\boversold\b/i.test(t)&&(c+=qmn),c-=Wmn),mhn(t+r)%100<c*100}function mhn(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function hhn(t,e,n,r,o){let i=[],s=(t.logicQuality+t.evidenceUsage+t.riskAwareness+t.originality+t.conclusionValidity)/5;return s>=Xmn?i.push(`The ${r} decision on ${o} is well-reasoned.`):s>=Zmn?i.push(`The ${r} decision on ${o} has some merit but could be stronger.`):i.push(`The ${r} decision on ${o} lacks sufficient justification.`),e.length>0&&i.push(`Strength: ${e[0]}.`),n.length>0&&i.push(`Concern: ${n[0]}.`),t.evidenceUsage<ehn&&i.push("More specific data citations would strengthen this analysis."),t.riskAwareness<thn&&i.push("Risk factors should be explicitly addressed."),t.originality<nhn&&i.push("The analysis restates observable facts without deeper insight."),i.join(" ")}function ghn(t,e){if(e.length===0)return{agentId:t,avgPeerScore:0,avgScores:{logicQuality:0,evidenceUsage:0,riskAwareness:0,originality:0,conclusionValidity:0},peerAgreementRate:0,totalReviews:0,topStrength:null,topWeakness:null,reviewConsistency:0};let n=re(e.reduce((m,g)=>m+g.overallScore,0)/e.length),r={logicQuality:Ke(e.map(m=>m.scores.logicQuality)),evidenceUsage:Ke(e.map(m=>m.scores.evidenceUsage)),riskAwareness:Ke(e.map(m=>m.scores.riskAwareness)),originality:Ke(e.map(m=>m.scores.originality)),conclusionValidity:Ke(e.map(m=>m.scores.conclusionValidity))},o=e.filter(m=>m.wouldAgree).length,i=re(o/e.length),s=new Map,a=new Map;for(let m of e){for(let g of m.strengths)s.set(g,(s.get(g)??0)+1);for(let g of m.weaknesses)a.set(g,(a.get(g)??0)+1)}let c=s.size>0?[...s.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,l=a.size>0?[...a.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,u=e.map(m=>m.overallScore),d=n,p=u.reduce((m,g)=>m+(g-d)**2,0)/u.length,f=Math.sqrt(p),h=re(Math.max(0,1-f*2));return{agentId:t,avgPeerScore:n,avgScores:r,peerAgreementRate:i,totalReviews:e.length,topStrength:c,topWeakness:l,reviewConsistency:h}}mt();var yhn=.2,bhn=.15,_hn=.15,Shn=.1,vhn=.15,Ehn=.1,Ahn=.15,xhn=.75,whn=.55,Thn=.35,Ihn=6,Rhn=.2,Chn=.5,Nhn=.1,Ohn=.1,Phn=.1,Dhn=.1,khn=.1,Lhn=.06,Mhn=.05,Bhn=.15,Uhn=.05,$hn=.1,Fhn=.15,Hhn=.1,Ghn=.25,Vhn=.15,zhn=.25,jhn=.15,qhn=.1,Whn=3,Khn=.05,Jhn=.06,Yhn=.1,Qhn=.1,Xhn=.1,Zhn=.15,egn=.1,tgn=.15,ngn=.1,rgn=.15,ogn=.15,ign=.1,sgn=.1,agn=.1,cgn=5;var Wye=[],Bft=3e3,lgn=[{name:"price_action",patterns:[/\bprice\b/i,/\$\d+/i,/\btrading\s+at\b/i]},{name:"momentum",patterns:[/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i]},{name:"mean_reversion",patterns:[/\boversold\b/i,/\boverbought\b/i,/\bpullback\b/i,/\breversion\b/i]},{name:"volume_analysis",patterns:[/\bvolume\b/i,/\bliquidity\b/i,/\bturnover\b/i]},{name:"technical_indicators",patterns:[/\bRSI\b/,/\bMACD\b/,/\bmoving average\b/i,/\bSMA\b/,/\bEMA\b/]},{name:"fundamental",patterns:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i]},{name:"sentiment",patterns:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\boptimism\b/i]},{name:"sector_macro",patterns:[/\bsector\b/i,/\bmacro\b/i,/\bmarket\b/i,/\beconomy\b/i,/\bindustry\b/i]},{name:"risk_assessment",patterns:[/\brisk\b/i,/\bvolatility\b/i,/\bdrawdown\b/i,/\bdownside\b/i]},{name:"portfolio_context",patterns:[/\bportfolio\b/i,/\bposition\b/i,/\ballocation\b/i,/\bdiversif/i]},{name:"news_catalyst",patterns:[/\bnews\b/i,/\bannounce/i,/\bcatalyst\b/i,/\bevent\b/i,/\bheadline\b/i]},{name:"comparative",patterns:[/\bcompared\s+to\b/i,/\brelative\b/i,/\bvs\.?\b/i,/\bpeer\b/i,/\bbenchmark\b/i]}],ugn=["alpha","beta","sharpe","sortino","drawdown","volatility","correlation","covariance","variance","standard deviation","momentum","mean reversion","arbitrage","convexity","tail risk","black swan","fat tail","skewness","kurtosis","risk-adjusted","information ratio","tracking error","value at risk","expected shortfall","kelly criterion","margin of safety","intrinsic value","discounted cash flow","earnings yield","free cash flow","capital allocation","systematic risk","idiosyncratic","factor exposure","regime change","liquidity premium","market microstructure","order flow","VWAP","TWAP","slippage","market impact","sector rotation","risk parity","maximum drawdown","monte carlo","bootstrap","backtest","out-of-sample","forward-looking","leading indicator","lagging indicator"];function Uft(t,e,n,r,o){let i=vn(t),{breadth:s,angleCount:a}=dgn(t),c=pgn(t),l=fgn(t),u=mgn(t),d=hgn(t),p=ggn(t),f=ygn(t),h=Math.round((s*yhn+c*bhn+l*_hn+u*Shn+d*vhn+p*Ehn+f*Ahn)*100)/100,m;h>=xhn?m="expert":h>=whn?m="deep":h>=Thn?m="moderate":m="shallow";let g={overall:h,analyticalBreadth:s,causalDepth:c,uncertaintyModeling:l,temporalAwareness:u,counterfactualReasoning:d,crossAssetAwareness:p,vocabularySophistication:f,wordCount:i,angleCount:a,classification:m};return Wye.unshift({agentId:n,score:g,reasoning:t,action:e,symbol:r,roundId:o,timestamp:new Date().toISOString()}),Wye.length>Bft&&(Wye.length=Bft),g}function dgn(t){let e=0;for(let r of lgn)r.patterns.some(i=>i.test(t))&&e++;let n=Math.min(1,e/Ihn);return{breadth:re(n),angleCount:e}}function pgn(t){let e=Rhn,n=[/\bbecause\b/gi,/\btherefore\b/gi,/\bconsequently\b/gi,/\bas a result\b/gi,/\bthis leads to\b/gi,/\bwhich means\b/gi,/\bthis suggests\b/gi,/\bimplying\b/gi,/\bhence\b/gi,/\bthus\b/gi,/\bso\b/gi,/\bdue to\b/gi,/\bgiven that\b/gi,/\bsince\b/gi],r=0;for(let i of n){let s=t.match(i);s&&(r+=s.length)}return e+=Math.min(Chn,r*Nhn),/\bif\b.{10,}\bthen\b/i.test(t)&&(e+=Ohn),r>=3&&(e+=Phn),uo(t).length>=3&&(e+=Dhn),Math.min(1,re(e))}function fgn(t){let e=khn,n=[/\blikely\b/i,/\bunlikely\b/i,/\bprobably\b/i,/\bpossibly\b/i,/\bpotentially\b/i,/\bchance\b/i,/\bprobability\b/i,/\b\d+%\s+(?:chance|probability|likely)/i];for(let o of n)o.test(t)&&(e+=Lhn);let r=[/\bmight\b/i,/\bcould\b/i,/\bmay\b/i,/\buncertain\b/i,/\bhard to predict\b/i,/\bdifficult to say\b/i,/\bremains to be seen\b/i,/\bin my estimation\b/i];for(let o of r)o.test(t)&&(e+=Mhn);return/\bbetween\s+\$?\d+\s+and\s+\$?\d+/i.test(t)&&(e+=Bhn),/\brange\b/i.test(t)&&(e+=Uhn),/\bscenario\b/i.test(t)&&(e+=$hn),/\bbest case\b|\bworst case\b|\bbase case\b/i.test(t)&&(e+=Fhn),Math.min(1,re(e))}function mgn(t){let e=Hhn,n=0;return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter|year)\b|\bin the past\b/i.test(t)&&(e+=Ghn,n++),/\bcurrently\b|\bright now\b|\bat present\b|\btoday\b/i.test(t)&&(e+=Vhn,n++),/\bgoing forward\b|\bnext\s+(?:week|month|quarter)\b|\bexpect\b|\bforecast\b|\bwill\s+likely\b/i.test(t)&&(e+=zhn,n++),/\bshort.?term\b|\blong.?term\b|\bmedium.?term\b/i.test(t)&&(e+=jhn),n>=Whn&&(e+=qhn),Math.min(1,re(e))}function hgn(t){let e=Khn,n=[/\bwhat if\b/i,/\bif .+ fails?\b/i,/\bif .+ drops?\b/i,/\bon the other hand\b/i,/\balternatively\b/i,/\bhowever\b/i,/\bbut\b/i,/\bdespite\b/i,/\balthough\b/i,/\bnevertheless\b/i,/\bnonetheless\b/i];for(let r of n)r.test(t)&&(e+=Jhn);return/\bif.+(?:falls|drops|declines|crashes)/i.test(t)&&(e+=Yhn),/\bstop.?loss\b|\bexit strategy\b|\bbail out\b/i.test(t)&&(e+=Qhn),/\bcould\s+also\b|\banother option\b|\binstead\b|\brather than\b/i.test(t)&&(e+=Xhn),/\bI could be wrong\b|\brisk is\b|\bdownside scenario\b|\bbear case\b/i.test(t)&&(e+=Zhn),Math.min(1,re(e))}function ggn(t){let e=egn,n=t.match(/\b[A-Z]{2,5}x\b/g)??[],r=new Set(n);return r.size>1&&(e+=tgn),r.size>3&&(e+=ngn),/\bportfolio\b|\boverall\s+(?:position|exposure|allocation)\b/i.test(t)&&(e+=rgn),/\bsector\b|\bmarket-wide\b|\bcorrelation\b|\bbeta\b/i.test(t)&&(e+=ogn),/\bconcentrat/i.test(t)&&(e+=ign),/\bdiversif/i.test(t)&&(e+=sgn),/\bhedge\b|\boffset\b|\bbalance\b/i.test(t)&&(e+=agn),Math.min(1,re(e))}function ygn(t){let e=t.toLowerCase(),n=0;for(let o of ugn)e.includes(o.toLowerCase())&&n++;let r=Math.min(1,n/cgn);return re(r)}mt();var bgn=2.5,_gn=5,Sgn=.5,vgn=-.5,Egn=.5;var Kye=[],Jye=[],$ft=5e3,Fft=500;function tI(t){let e=t.map(f=>f.change24h).filter(f=>f!==null);if(e.length===0)return{regime:"uncertain",avgChange:0,maxChange:0,changeStdDev:0,stocksUp:0,stocksDown:0,timestamp:new Date().toISOString()};let n=VHe(e),r=zHe(e),o=e.reduce((f,h)=>f+(h-n)**2,0)/e.length,i=Math.sqrt(o),s=ue(e,f=>f>0),a=ue(e,f=>f<0),c=i>bgn||r>_gn,l=n>Sgn,u=n<vgn,d;l&&c?d="bull_volatile":l?d="bull_calm":u&&c?d="bear_volatile":u?d="bear_calm":Math.abs(n)<=Egn&&!c?d="sideways":d="uncertain";let p={regime:d,avgChange:re(n),maxChange:re(r),changeStdDev:re(i),stocksUp:s,stocksDown:a,timestamp:new Date().toISOString()};return Jye.unshift(p),Jye.length>Fft&&(Jye.length=Fft),p}function Hft(t,e,n,r,o,i,s,a){Kye.unshift({agentId:t,regime:e,coherenceScore:n,depthScore:r,hadHallucinations:o,confidence:i,action:s,wasCorrect:null,roundId:a,timestamp:new Date().toISOString()}),Kye.length>$ft&&(Kye.length=$ft)}mt();var Agn=.25,xgn=.2,wgn=.2,Tgn=.15,Ign=.1,Rgn=.1;var Yye=[],Gft=5e3;function Vft(t,e,n){let r=1-n.hallucinationRate,o=Math.round((n.coherence*Agn+n.depth*xgn+r*wgn+n.discipline*Tgn+n.confidence*Ign+.5*Rgn)*100)/100;Yye.unshift({agentId:t,roundId:e,...n,composite:o,timestamp:new Date().toISOString()}),Yye.length>Gft&&(Yye.length=Gft)}var Qye=class{writer;encoder;writable;abortSubscribers=[];responseReadable;aborted=!1;closed=!1;constructor(t,e){this.writable=t,this.writer=t.getWriter(),this.encoder=new TextEncoder;let n=e.getReader();this.abortSubscribers.push(async()=>{await n.cancel()}),this.responseReadable=new ReadableStream({async pull(r){let{done:o,value:i}=await n.read();o?r.close():r.enqueue(i)},cancel:()=>{this.abort()}})}async write(t){try{typeof t=="string"&&(t=this.encoder.encode(t)),await this.writer.write(t)}catch{}return this}async writeln(t){return await this.write(t+`
`),this}sleep(t){return new Promise(e=>setTimeout(e,t))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe(t){this.writer.releaseLock(),await t.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort(t){this.abortSubscribers.push(t)}abort(){this.aborted||(this.aborted=!0,this.abortSubscribers.forEach(t=>t()))}};var bV=()=>{let t=typeof Bun<"u"?Bun.version:void 0;if(t===void 0)return!1;let e=t.startsWith("1.1")||t.startsWith("1.0")||t.startsWith("0.");return bV=()=>e,e};var zft=class extends Qye{constructor(t,e){super(t,e)}async writeSSE(t){let n=(await z8(t.data,V8.Stringify,!1,{})).split(/\r\n|\r|\n/).map(o=>`data: ${o}`).join(`
`),r=[t.event&&`event: ${t.event}`,n,t.id&&`id: ${t.id}`,t.retry&&`retry: ${t.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(r)}},Cgn=async(t,e,n)=>{try{await e(t)}catch(r){r instanceof Error&&n?(await n(r,t),await t.writeSSE({event:"error",data:r.message})):console.error(r)}finally{t.close()}},Ngn=new WeakMap,Xye=(t,e,n)=>{let{readable:r,writable:o}=new TransformStream,i=new zft(o,r);return bV()&&t.req.raw.signal.addEventListener("abort",()=>{i.closed||i.abort()}),Ngn.set(i.responseReadable,t),t.header("Transfer-Encoding","chunked"),t.header("Content-Type","text/event-stream"),t.header("Cache-Control","no-cache"),t.header("Connection","keep-alive"),Cgn(i,e,n),t.newResponse(i.responseReadable)};var ebe=new yr,Pl=[],jft=500,Zye=0,Eg=new Set;function Kc(t,e,n){Zye++;let r={id:`bev_${Zye}_${Date.now()}`,type:t,agentId:n,data:e,timestamp:new Date().toISOString()};Pl.unshift(r),Pl.length>jft&&(Pl.length=jft);for(let o of Eg)try{o(r)}catch{Eg.delete(o)}}ebe.get("/",t=>{let e=t.req.query("types")?.split(","),n=t.req.query("agent");return Xye(t,async r=>{await r.writeSSE({event:"connected",data:JSON.stringify({message:"Connected to MoltApp Benchmark Stream",filters:{types:e??"all",agent:n??"all"},bufferedEvents:Pl.length}),id:"0"});let o=Pl.filter(a=>!(e&&!e.includes(a.type)||n&&a.agentId!==n)).slice(0,10).reverse();for(let a of o)await r.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id});let i=async a=>{if(!(e&&!e.includes(a.type))&&!(n&&a.agentId!==n))try{await r.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id})}catch{Eg.delete(i)}};Eg.add(i);let s=setInterval(async()=>{try{await r.writeSSE({event:"heartbeat",data:JSON.stringify({time:new Date().toISOString(),subscribers:Eg.size}),id:`hb_${Date.now()}`})}catch{clearInterval(s),Eg.delete(i)}},15e3);r.onAbort(()=>{clearInterval(s),Eg.delete(i)}),await new Promise(a=>{r.onAbort(()=>a())})})});ebe.get("/recent",t=>{let e=Math.min(parseInt(t.req.query("limit")??"50",10),200),n=t.req.query("type"),r=t.req.query("agent"),o=Pl;return n&&(o=o.filter(i=>i.type===n)),r&&(o=o.filter(i=>i.agentId===r)),t.json({ok:!0,events:o.slice(0,e),total:o.length,subscribers:Eg.size})});ebe.get("/stats",t=>{let e={};for(let s of Pl)e[s.type]=(e[s.type]??0)+1;let n={};for(let s of Pl)s.agentId&&(n[s.agentId]=(n[s.agentId]??0)+1);let r=Date.now()-300*1e3,o=Pl.filter(s=>new Date(s.timestamp).getTime()>r).length,i=Math.round(o/5*10)/10;return t.json({ok:!0,stats:{totalEvents:Zye,bufferedEvents:Pl.length,activeSubscribers:Eg.size,eventsPerMinute:i,eventsByType:e,eventsByAgent:n,oldestEvent:Pl[Pl.length-1]?.timestamp??null,newestEvent:Pl[0]?.timestamp??null}})});_o();mt();function qft(t){return`You are ${t.agentName}, competing in the MoltApp AI trading benchmark.

You just made a HIGH-CONVICTION trade decision:
  Action: ${t.decision.action} ${t.decision.symbol}
  Confidence: ${t.decision.confidence}%
  Reasoning: ${t.decision.reasoning}

YOUR $STONKS PORTFOLIO (on Monad):
  Balance: ${t.stonksBalance.toFixed(0)} $STONKS
  Currently borrowed: ${t.totalBorrowed.toFixed(0)} $STONKS
  Currently lent out: ${t.totalLentOut.toFixed(0)} $STONKS

CONTEXT: $STONKS is a conviction-signaling token on Monad. When you borrow $STONKS from other agents, you're putting your reputation on the line \u2014 if your trade thesis is right, you profit and pay back with modest interest. If wrong, you lose $STONKS and pay interest on a losing position.

Borrowing $STONKS amplifies your conviction signal on the public leaderboard. Other agents and observers can see who is borrowing (high conviction) and who is lending (moderate conviction).

Your trading style: ${t.tradingStyle}

Should you borrow $STONKS to amplify your conviction on this trade?

Respond with ONLY valid JSON:
{
  "shouldBorrow": true | false,
  "amount": <number of $STONKS to borrow, 0 if not borrowing, max 50000>,
  "interestRate": <proposed annual rate, e.g. 0.05 for 5%>,
  "duration": <number of trading rounds, 1-6>,
  "reasoning": "<why you want/don't want to borrow>"
}`}function Wft(t){return`You are ${t.lenderName}, competing in the MoltApp AI trading benchmark.

Another agent wants to BORROW $STONKS from you:

BORROWER: ${t.borrowerName}
  Trade: ${t.borrowerDecision.action} ${t.borrowerDecision.symbol}
  Confidence: ${t.borrowerDecision.confidence}%
  Thesis: ${t.borrowerDecision.reasoning}
  Borrowing reason: ${t.borrowerReasoning}

LOAN TERMS PROPOSED:
  Amount: ${t.requestedAmount.toFixed(0)} $STONKS
  Interest rate: ${(t.proposedRate*100).toFixed(1)}% per round
  Duration: ${t.proposedDuration} rounds

YOUR $STONKS PORTFOLIO:
  Balance: ${t.lenderStonksBalance.toFixed(0)} $STONKS
  Already lent out: ${t.lenderTotalLentOut.toFixed(0)} $STONKS
  Available: ${(t.lenderStonksBalance-t.lenderTotalLentOut).toFixed(0)} $STONKS

Your trading style: ${t.lenderTradingStyle}

CONTEXT: Lending $STONKS earns you interest and shows confidence in another agent's thesis. If the borrower's trade goes well, you get repaid with interest. If it goes poorly, the borrower may default (partial repayment).

Should you lend $STONKS to ${t.borrowerName}?

Respond with ONLY valid JSON:
{
  "shouldLend": true | false,
  "amountWilling": <$STONKS amount you'd lend, 0 if not lending>,
  "counterRate": <your preferred interest rate, e.g. 0.08 for 8%>,
  "reasoning": "<why you would/wouldn't lend>",
  "riskAssessment": "<your assessment of the borrower's trade thesis>"
}`}function Kft(t){let e=Yft(t),n=JSON.parse(e);return{shouldBorrow:!!n.shouldBorrow,amount:Math.max(0,Math.min(5e4,Number(n.amount)||0)),interestRate:Lt(Number(n.interestRate)||.05,0,.2),duration:Math.max(1,Math.min(6,Math.round(Number(n.duration)||2))),reasoning:String(n.reasoning||"No reasoning provided")}}function Jft(t){let e=Yft(t),n=JSON.parse(e);return{shouldLend:!!n.shouldLend,amountWilling:Math.max(0,Number(n.amountWilling)||0),counterRate:Lt(Number(n.counterRate)||.05,0,.2),reasoning:String(n.reasoning||"No reasoning provided"),riskAssessment:String(n.riskAssessment||"No assessment provided")}}function Yft(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim();let n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error(`No JSON found in LLM response: ${t.slice(0,200)}`);return n[0]}var lb={};kn(lb,{AbiCoder:()=>vd,AbstractProvider:()=>Ad,AbstractSigner:()=>xd,AlchemyProvider:()=>wE,AnkrProvider:()=>xE,BaseContract:()=>$g,BaseWallet:()=>jg,Block:()=>yE,BlockscoutProvider:()=>VP,BrowserProvider:()=>GP,ChainstackProvider:()=>TE,CloudflareProvider:()=>IE,ConstructorFragment:()=>dm,Contract:()=>Qc,ContractEventPayload:()=>bE,ContractFactory:()=>AP,ContractTransactionReceipt:()=>RI,ContractTransactionResponse:()=>Ug,ContractUnknownEventPayload:()=>Yy,EnsPlugin:()=>Zy,EnsResolver:()=>Qy,ErrorDescription:()=>TI,ErrorFragment:()=>Xa,EtherSymbol:()=>Dbe,EtherscanPlugin:()=>CP,EtherscanProvider:()=>RE,EventFragment:()=>um,EventLog:()=>Bg,EventPayload:()=>Tg,FallbackFragment:()=>hE,FallbackProvider:()=>kE,FeeData:()=>Ky,FeeDataNetworkPlugin:()=>TP,FetchCancelSignal:()=>iI,FetchRequest:()=>br,FetchResponse:()=>xp,FetchUrlFeeDataNetworkPlugin:()=>vE,FixedNumber:()=>Uy,Fragment:()=>fm,FunctionFragment:()=>pm,GasCostPlugin:()=>Xy,HDNodeVoidWallet:()=>$E,HDNodeWallet:()=>Wg,Indexed:()=>gE,InfuraProvider:()=>ab,InfuraWebSocketProvider:()=>$I,Interface:()=>Lg,IpcSocketProvider:()=>jP,JsonRpcApiProvider:()=>nb,JsonRpcProvider:()=>fo,JsonRpcSigner:()=>tb,LangEn:()=>Xc,Log:()=>Bl,LogDescription:()=>xI,MaxInt256:()=>Pbe,MaxUint256:()=>Nbe,MessagePrefix:()=>dP,MinInt256:()=>Obe,Mnemonic:()=>gm,MulticoinProviderPlugin:()=>CI,N:()=>Rbe,NamedFragment:()=>kg,Network:()=>Fn,NetworkPlugin:()=>$p,NonceManager:()=>HP,ParamType:()=>ei,PocketProvider:()=>zP,QuickNodeProvider:()=>DE,Result:()=>Tp,Signature:()=>di,SigningKey:()=>Hs,SocketBlockSubscriber:()=>MI,SocketEventSubscriber:()=>UI,SocketPendingSubscriber:()=>BI,SocketProvider:()=>Vg,SocketSubscriber:()=>sb,StructFragment:()=>qy,Transaction:()=>Ml,TransactionDescription:()=>wI,TransactionReceipt:()=>Mg,TransactionResponse:()=>mm,Typed:()=>Ur,TypedDataEncoder:()=>Sd,UndecodedEventLog:()=>Jy,UnmanagedSubscriber:()=>Fp,Utf8ErrorFuncs:()=>vV,VoidSigner:()=>AE,Wallet:()=>XP,WebSocketProvider:()=>zg,WeiPerEther:()=>Cbe,Wordlist:()=>Fl,WordlistOwl:()=>Za,WordlistOwlA:()=>Kg,ZeroAddress:()=>Dp,ZeroHash:()=>hI,accessListify:()=>Gs,assert:()=>de,assertArgument:()=>K,assertArgumentCount:()=>Jv,assertNormalize:()=>Yv,assertPrivate:()=>$s,authorizationify:()=>uE,checkResultErrors:()=>CV,computeAddress:()=>Lp,computeHmac:()=>Ip,concat:()=>Xt,copyRequest:()=>Ed,dataLength:()=>Jc,dataSlice:()=>nr,decodeBase58:()=>Z8,decodeBase64:()=>eP,decodeBytes32String:()=>p_e,decodeRlp:()=>Ig,decryptCrowdsaleJson:()=>WI,decryptKeystoreJson:()=>QP,decryptKeystoreJsonSync:()=>YP,defaultPath:()=>jI,defineProperties:()=>Be,dnsEncode:()=>_P,encodeBase58:()=>Xv,encodeBase64:()=>tP,encodeBytes32String:()=>d_e,encodeRlp:()=>ya,encryptKeystoreJson:()=>UE,encryptKeystoreJsonSync:()=>BE,ensNormalize:()=>pz,formatEther:()=>sbe,formatUnits:()=>wV,fromTwos:()=>xg,getAccountPath:()=>dSe,getAddress:()=>Mt,getBigInt:()=>Ze,getBytes:()=>Oe,getBytesCopy:()=>Br,getCreate2Address:()=>Ube,getCreateAddress:()=>cE,getDefaultProvider:()=>eSe,getIcapAddress:()=>Bbe,getIndexedAccountPath:()=>pSe,getNumber:()=>Ct,getUint:()=>Qv,hashAuthorization:()=>bI,hashMessage:()=>AI,hexlify:()=>Ae,id:()=>Bo,isAddress:()=>Fbe,isAddressable:()=>gI,isBytesLike:()=>Ep,isCallException:()=>By,isCrowdsaleJson:()=>qI,isError:()=>lr,isHexString:()=>Rn,isKeystoreJson:()=>zI,isValidName:()=>r_e,keccak256:()=>xn,lock:()=>Fht,makeError:()=>Mn,mask:()=>Dl,namehash:()=>jy,parseEther:()=>abe,parseUnits:()=>TV,pbkdf2:()=>Ya,randomBytes:()=>_a,recoverAddress:()=>Mp,resolveAddress:()=>oo,resolveProperties:()=>Jr,ripemd160:()=>Np,scrypt:()=>Op,scryptSync:()=>Pp,sha256:()=>ui,sha512:()=>nE,showThrottleMessage:()=>zs,solidityPacked:()=>SP,solidityPackedKeccak256:()=>i_e,solidityPackedSha256:()=>s_e,stripZerosLeft:()=>tbe,toBeArray:()=>tr,toBeHex:()=>hs,toBigInt:()=>bd,toNumber:()=>X8,toQuantity:()=>Xi,toTwos:()=>wg,toUtf8Bytes:()=>rr,toUtf8CodePoints:()=>rbe,toUtf8String:()=>li,uuidV4:()=>rP,verifyAuthorization:()=>jbe,verifyMessage:()=>o_e,verifyTypedData:()=>l_e,version:()=>nI,wordlists:()=>TSe,zeroPadBytes:()=>Ag,zeroPadValue:()=>ci});var nI="6.16.0";function Pgn(t,e,n){let r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let o=new Error(`invalid value for type ${e}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${n}`,o.value=t,o}async function Jr(t){let e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,o,i)=>(r[e[i]]=o,r),{})}function Be(t,e,n){for(let r in e){let o=e[r],i=n?n[r]:null;i&&Pgn(o,i,r),Object.defineProperty(t,r,{enumerable:!0,value:o,writable:!1})}}function rI(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>rI(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){let n="0123456789abcdef",r="0x";for(let o=0;o<t.length;o++)r+=n[t[o]>>4],r+=n[t[o]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return rI(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${rI(r,e)}: ${rI(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function lr(t,e){return t&&t.code===e}function By(t){return lr(t,"CALL_EXCEPTION")}function Mn(t,e,n){let r=t;{let i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${rI(n)}`);for(let s in n){if(s==="shortMessage")continue;let a=n[s];i.push(s+"="+rI(a))}}i.push(`code=${e}`),i.push(`version=${nI}`),i.length&&(t+=" ("+i.join(", ")+")")}let o;switch(e){case"INVALID_ARGUMENT":o=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(t);break;default:o=new Error(t)}return Be(o,{code:e}),n&&Object.assign(o,n),o.shortMessage==null&&Be(o,{shortMessage:r}),o}function de(t,e,n,r){if(!t)throw Mn(e,n,r)}function K(t,e,n,r){de(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Jv(t,e,n){n==null&&(n=""),n&&(n=": "+n),de(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),de(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var Dgn=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[]);function Yv(t){de(Dgn.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function $s(t,e,n){if(n==null&&(n=""),t!==e){let r=n,o="new";n&&(r+=".",o+=" "+n),de(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function Xft(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){let r=new Uint8Array((t.length-2)/2),o=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(o,o+2),16),o+=2;return r}K(!1,"invalid BytesLike value",e||"value",t)}function Oe(t,e){return Xft(t,e,!1)}function Br(t,e){return Xft(t,e,!0)}function Rn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Ep(t){return Rn(t,!0)||t instanceof Uint8Array}var Qft="0123456789abcdef";function Ae(t){let e=Oe(t),n="0x";for(let r=0;r<e.length;r++){let o=e[r];n+=Qft[(o&240)>>4]+Qft[o&15]}return n}function Xt(t){return"0x"+t.map(e=>Ae(e).substring(2)).join("")}function Jc(t){return Rn(t,!0)?(t.length-2)/2:Oe(t).length}function nr(t,e,n){let r=Oe(t);return n!=null&&n>r.length&&de(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ae(r.slice(e??0,n??r.length))}function tbe(t){let e=Ae(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function Zft(t,e,n){let r=Oe(t);de(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});let o=new Uint8Array(e);return o.fill(0),n?o.set(r,e-r.length):o.set(r,0),Ae(o)}function ci(t,e){return Zft(t,e,!0)}function Ag(t,e){return Zft(t,e,!1)}var Q8=BigInt(0),Ap=BigInt(1),oI=9007199254740991;function xg(t,e){let n=Qv(t,"value"),r=BigInt(Ct(e,"width"));if(de(n>>r===Q8,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Ap){let o=(Ap<<r)-Ap;return-((~n&o)+Ap)}return n}function wg(t,e){let n=Ze(t,"value"),r=BigInt(Ct(e,"width")),o=Ap<<r-Ap;if(n<Q8){n=-n,de(n<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let i=(Ap<<r)-Ap;return(~n&i)+Ap}else de(n<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Dl(t,e){let n=Qv(t,"value"),r=BigInt(Ct(e,"bits"));return n&(Ap<<r)-Ap}function Ze(t,e){switch(typeof t){case"bigint":return t;case"number":return K(Number.isInteger(t),"underflow",e||"value",t),K(t>=-oI&&t<=oI,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){K(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}K(!1,"invalid BigNumberish value",e||"value",t)}function Qv(t,e){let n=Ze(t,e);return de(n>=Q8,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}var emt="0123456789abcdef";function bd(t){if(t instanceof Uint8Array){let e="0x0";for(let n of t)e+=emt[n>>4],e+=emt[n&15];return BigInt(e)}return Ze(t)}function Ct(t,e){switch(typeof t){case"bigint":return K(t>=-oI&&t<=oI,"overflow",e||"value",t),Number(t);case"number":return K(Number.isInteger(t),"underflow",e||"value",t),K(t>=-oI&&t<=oI,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ct(BigInt(t),e)}catch(n){K(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}K(!1,"invalid numeric value",e||"value",t)}function X8(t){return Ct(bd(t))}function hs(t,e){let n=Qv(t,"value"),r=n.toString(16);if(e==null)r.length%2&&(r="0"+r);else{let o=Ct(e,"width");if(o===0&&n===Q8)return"0x";for(de(o*2>=r.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<o*2;)r="0"+r}return"0x"+r}function tr(t,e){let n=Qv(t,"value");if(n===Q8){let i=e!=null?Ct(e,"width"):0;return new Uint8Array(i)}let r=n.toString(16);if(r.length%2&&(r="0"+r),e!=null){let i=Ct(e,"width");for(;r.length<i*2;)r="00"+r;de(i*2===r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}let o=new Uint8Array(r.length/2);for(let i=0;i<o.length;i++){let s=i*2;o[i]=parseInt(r.substring(s,s+2),16)}return o}function Xi(t){let e=Ae(Ep(t)?t:tr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var SV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",_V=null;function kgn(t){if(_V==null){_V={};for(let n=0;n<SV.length;n++)_V[SV[n]]=BigInt(n)}let e=_V[t];return K(e!=null,"invalid base58 value","letter",t),e}var Lgn=BigInt(0),nbe=BigInt(58);function Xv(t){let e=Oe(t),n=bd(e),r="";for(;n;)r=SV[Number(n%nbe)]+r,n/=nbe;for(let o=0;o<e.length&&!e[o];o++)r=SV[0]+r;return r}function Z8(t){let e=Lgn;for(let n=0;n<t.length;n++)e*=nbe,e+=kgn(t[n]);return e}function eP(t){return Br(Buffer.from(t,"base64"))}function tP(t){return Buffer.from(Oe(t)).toString("base64")}var Tg=class{filter;emitter;#e;constructor(e,n,r){this.#e=n,Be(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function Mgn(t,e,n,r,o){K(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function tmt(t,e,n,r,o){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function Bgn(t,e,n,r,o){return t==="OVERLONG"?(K(typeof o=="number","invalid bad code point for replacement","badCodepoint",o),r.push(o),0):(r.push(65533),tmt(t,e,n,r,o))}var vV=Object.freeze({error:Mgn,ignore:tmt,replace:Bgn});function nmt(t,e){e==null&&(e=vV.error);let n=Oe(t,"bytes"),r=[],o=0;for(;o<n.length;){let i=n[o++];if(i>>7===0){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?o+=e("UNEXPECTED_CONTINUE",o-1,n,r):o+=e("BAD_PREFIX",o-1,n,r);continue}if(o-1+s>=n.length){o+=e("OVERRUN",o-1,n,r);continue}let c=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=n[o];if((u&192)!=128){o+=e("MISSING_CONTINUE",o,n,r),c=null;break}c=c<<6|u&63,o++}if(c!==null){if(c>1114111){o+=e("OUT_OF_RANGE",o-1-s,n,r,c);continue}if(c>=55296&&c<=57343){o+=e("UTF16_SURROGATE",o-1-s,n,r,c);continue}if(c<=a){o+=e("OVERLONG",o-1-s,n,r,c);continue}r.push(c)}}return r}function rr(t,e){K(typeof t=="string","invalid string value","str",t),e!=null&&(Yv(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o<128)n.push(o);else if(o<2048)n.push(o>>6|192),n.push(o&63|128);else if((o&64512)==55296){r++;let i=t.charCodeAt(r);K(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);let s=65536+((o&1023)<<10)+(i&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128)}return new Uint8Array(n)}function Ugn(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function li(t,e){return Ugn(nmt(t,e))}function rbe(t,e){return nmt(rr(t,e))}import $gn from"http";import Fgn from"https";import{gunzipSync as Hgn}from"zlib";function EV(t){async function e(n,r){de(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");let o=n.url.split(":")[0].toLowerCase();de(o==="http"||o==="https",`unsupported protocol ${o}`,"UNSUPPORTED_OPERATION",{info:{protocol:o},operation:"request"}),de(o==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=n.method,s=Object.assign({},n.headers),a={method:i,headers:s};t&&t.agent&&(a.agent=t.agent);let c=null;try{c=new AbortController,a.abort=c.signal}catch(d){console.log(d)}let l=(o==="http"?$gn:Fgn).request(n.url,a);l.setTimeout(n.timeout);let u=n.body;return u&&l.write(Buffer.from(u)),l.end(),new Promise((d,p)=>{r&&r.addListener(()=>{c&&c.abort(),p(Mn("request cancelled","CANCELLED"))}),l.on("timeout",()=>{p(Mn("request timeout","TIMEOUT"))}),l.once("response",f=>{let h=f.statusCode||0,m=f.statusMessage||"",g=Object.keys(f.headers||{}).reduce((S,v)=>{let A=f.headers[v]||"";return Array.isArray(A)&&(A=A.join(", ")),S[v]=A,S},{}),y=null;f.on("data",S=>{if(r)try{r.checkSignal()}catch(v){return p(v)}if(y==null)y=S;else{let v=new Uint8Array(y.length+S.length);v.set(y,0),v.set(S,y.length),y=v}}),f.on("end",()=>{try{g["content-encoding"]==="gzip"&&y&&(y=Oe(Hgn(y))),d({statusCode:h,statusMessage:m,headers:g,body:y})}catch(S){p(Mn("bad response data","SERVER_ERROR",{request:n,info:{response:f,error:S}}))}}),f.on("error",S=>{S.response={statusCode:h,statusMessage:m,headers:g,body:y},p(S)})}),l.on("error",f=>{p(f)})})}return e}var WIo=EV({});var Ggn=12,Vgn=250,rmt=EV(),zgn=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),jgn=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),obe=!1;async function imt(t,e){try{let n=t.match(zgn);if(!n)throw new Error("invalid data");return new xp(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?eP(n[3]):qgn(n[3]))}catch{return new xp(599,"BAD REQUEST (invalid data: URI)",{},null,new br(t))}}function smt(t){async function e(n,r){try{let o=n.match(jgn);if(!o)throw new Error("invalid link");return new br(`${t}${o[2]}`)}catch{return new xp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new br(n))}}return e}var AV={data:imt,ipfs:smt("https://gateway.ipfs.io/ipfs/")},amt=new WeakMap,iI=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,amt.set(e,()=>{if(!this.#t){this.#t=!0;for(let n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){de(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){de(!this.cancelled,"cancelled","CANCELLED",{})}};function xV(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var br=class t{#e;#t;#n;#r;#o;#i;#s;#a;#u;#l;#f;#m;#c;#d;#p;get url(){return this.#i}set url(e){this.#i=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=rr(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=rr(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#n);return this.#u&&(e.authorization=`Basic ${tP(rr(this.#u))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),r=0;return{next:()=>{if(r<n.length){let o=n[r++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#u||null}setCredentials(e,n){K(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#u=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#o}set timeout(e){K(e>=0,"timeout must be non-zero","timeout",e),this.#o=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#f||null}set processFunc(e){this.#f=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#p||rmt}set getUrlFunc(e){this.#p=e}constructor(e){this.#i=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#o=3e5,this.#d={slotInterval:Vgn,maxAttempts:Ggn},this.#p=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?Ae(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#d.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#d.maxAttempts=e.maxAttempts)}async#h(e,n,r,o,i){if(e>=this.#d.maxAttempts)return i.makeServerError("exceeded maximum retry limit");de(omt()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o}),r>0&&await Wgn(r);let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in AV){let u=await AV[a](s.url,xV(o.#c));if(u instanceof xp){let d=u;if(this.processFunc){xV(o.#c);try{d=await this.processFunc(s,d)}catch(p){(p.throttle==null||typeof p.stall!="number")&&d.makeServerError("error in post-processing function",p).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));let c=await this.getUrlFunc(s,xV(o.#c)),l=new xp(c.statusCode,c.statusMessage,c.headers,c.body,o);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return s.redirect(u).#h(e+1,n,0,o,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,l,e))){let u=l.headers["retry-after"],d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#h(e+1,n,d,o,l)}if(this.processFunc){xV(o.#c);try{l=await this.processFunc(s,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#h(e+1,n,d,o,l)}}return l}send(){return de(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new iI(this),this.#h(0,omt()+this.timeout,0,this,new xp(0,"",{},null,this))}cancel(){de(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=amt.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();de(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let o=new t(e);return o.method="GET",o.allowGzip=this.allowGzip,o.timeout=this.timeout,o.#n=Object.assign({},this.#n),this.#s&&(o.#s=new Uint8Array(this.#s)),o.#a=this.#a,o}clone(){let e=new t(this.url);return e.#r=this.#r,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#u=this.#u,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#f=this.#f,e.#m=this.#m,e.#d=Object.assign({},this.#d),e.#p=this.#p,e}static lockConfig(){obe=!0}static getGateway(e){return AV[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(obe)throw new Error("gateways locked");AV[e]=n}static registerGetUrl(e){if(obe)throw new Error("gateways locked");rmt=e}static createGetUrlFunc(e){return EV(e)}static createDataGateway(){return imt}static createIpfsGatewayFunc(e){return smt(e)}},xp=class t{#e;#t;#n;#r;#o;#i;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?Ae(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":li(this.#r)}catch{de(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{de(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),r=0;return{next:()=>{if(r<n.length){let o=n[r++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,o,i){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=o==null?null:new Uint8Array(o),this.#o=i||null,this.#i={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let o=new t(599,r,this.headers,this.body,this.#o||void 0);return o.#i={message:e,error:n},o}throwThrottleError(e,n){n==null?n=-1:K(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);let r=new Error(e||"throttling requests");throw Be(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#o}ok(){return this.#i.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#i;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let o=null;try{this.#r&&(o=li(this.#r))}catch{}de(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function omt(){return new Date().getTime()}function qgn(t){return rr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Wgn(t){return new Promise(e=>setTimeout(e,t))}var Kgn=BigInt(-1),wp=BigInt(0),aI=BigInt(1),Jgn=BigInt(5),sI={},cI="0000";for(;cI.length<80;)cI+=cI;function Zv(t){let e=cI;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function nP(t,e,n){let r=BigInt(e.width);if(e.signed){let o=aI<<r-aI;de(n==null||t>=-o&&t<o,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>wp?t=xg(Dl(t,r),r):t=-xg(Dl(-t,r),r)}else{let o=aI<<r;de(n==null||t>=0&&t<o,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%o+o)%o&o-aI}return t}function ibe(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{let i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);K(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){let i=t,s=(a,c,l)=>i[a]==null?l:(K(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=s("signed","boolean",e),n=s("width","number",n),r=s("decimals","number",r)}K(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),K(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);let o=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:o}}function Ygn(t,e){let n="";t<wp&&(n="-",t*=Kgn);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=cI+r;let o=r.length-e;for(r=r.substring(0,o)+"."+r.substring(o);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Uy=class t{format;#e;#t;#n;_value;constructor(e,n,r){$s(e,sI,"FixedNumber"),this.#t=n,this.#e=r;let o=Ygn(n,r.decimals);Be(this,{format:r.name,_value:o}),this.#n=Zv(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){K(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#o(e,n){return e=nP(e,this.#e,n),new t(sI,e,this.#e)}#i(e,n){return this.#r(e),this.#o(this.#t+e.#t,n)}addUnsafe(e){return this.#i(e)}add(e){return this.#i(e,"add")}#s(e,n){return this.#r(e),this.#o(this.#t-e.#t,n)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,n){return this.#r(e),this.#o(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);let n=this.#t*e.#t;return de(n%this.#n===wp,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#o(n/this.#n,"mulSignal")}#u(e,n){return de(e.#t!==wp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#o(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#u(e)}div(e){return this.#u(e,"div")}divSignal(e){de(e.#t!==wp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);let n=this.#t*this.#n;return de(n%e.#t===wp,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#o(n/e.#t,"divSignal")}cmp(e){let n=this.value,r=e.value,o=this.decimals-e.decimals;return o>0?r*=Zv(o):o<0&&(n*=Zv(-o)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<wp&&(e-=this.#n-aI),e=this.#t/this.#n*this.#n,this.#o(e,"floor")}ceiling(){let e=this.#t;return this.#t>wp&&(e+=this.#n-aI),e=this.#t/this.#n*this.#n,this.#o(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let n=this.decimals-e,r=Jgn*Zv(n-1),o=this.value+r,i=Zv(n);return o=o/i*i,nP(o,this.#e,"round"),new t(sI,o,this.#e)}isZero(){return this.#t===wp}isNegative(){return this.#t<wp}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this.toString(),e)}static fromValue(e,n,r){let o=n==null?0:Ct(n),i=ibe(r),s=Ze(e,"value"),a=o-i.decimals;if(a>0){let c=Zv(a);de(s%c===wp,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=c}else a<0&&(s*=Zv(-a));return nP(s,i,"fromValue"),new t(sI,s,i)}static fromString(e,n){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);K(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let o=ibe(n),i=r[2]||"0",s=r[3]||"";for(;s.length<o.decimals;)s+=cI;de(s.substring(o.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,o.decimals);let a=BigInt(r[1]+i+s);return nP(a,o,"fromString"),new t(sI,a,o)}static fromBytes(e,n){let r=bd(Oe(e,"value")),o=ibe(n);return o.signed&&(r=xg(r,o.width)),nP(r,o,"fromBytes"),new t(sI,r,o)}};function Qgn(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function cmt(t,e,n){let r=0;for(let o=0;o<n;o++)r=r*256+t[e+o];return r}function lmt(t,e,n,r){let o=[];for(;n<e+1+r;){let i=umt(t,n);o.push(i.result),n+=i.consumed,de(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:o}}function umt(t,e){de(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let n=r=>{de(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){let r=t[e]-247;n(e+1+r);let o=cmt(t,e+1,r);return n(e+1+r+o),lmt(t,e,e+1+r,r+o)}else if(t[e]>=192){let r=t[e]-192;return n(e+1+r),lmt(t,e,e+1,r)}else if(t[e]>=184){let r=t[e]-183;n(e+1+r);let o=cmt(t,e+1,r);n(e+1+r+o);let i=Ae(t.slice(e+1+r,e+1+r+o));return{consumed:1+r+o,result:i}}else if(t[e]>=128){let r=t[e]-128;n(e+1+r);let o=Ae(t.slice(e+1,e+1+r));return{consumed:1+r,result:o}}return{consumed:1,result:Qgn(t[e])}}function Ig(t){let e=Oe(t,"data"),n=umt(e,0);return K(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function dmt(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function fmt(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(fmt(i))}),r.length<=55)return r.unshift(192+r.length),r;let o=dmt(r.length);return o.unshift(247+o.length),o.concat(r)}let e=Array.prototype.slice.call(Oe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let n=dmt(e.length);return n.unshift(183+n.length),n.concat(e)}var pmt="0123456789abcdef";function ya(t){let e="0x";for(let n of fmt(t))e+=pmt[n>>4],e+=pmt[n&15];return e}var mmt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function wV(t,e){let n=18;if(typeof e=="string"){let r=mmt.indexOf(e);K(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ct(e,"unit"));return Uy.fromValue(t,n,{decimals:n,width:512}).toString()}function TV(t,e){K(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){let r=mmt.indexOf(e);K(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Ct(e,"unit"));return Uy.fromString(t,{decimals:n,width:512}).value}function sbe(t){return wV(t,18)}function abe(t){return TV(t,18)}function rP(t){let e=Oe(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=Ae(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}var Fs=32,cbe=new Uint8Array(Fs),Xgn=["then"],IV={},ymt=new WeakMap;function eE(t){return ymt.get(t)}function hmt(t,e){ymt.set(t,e)}function oP(t,e){let n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function lbe(t,e,n){return t.indexOf(null)>=0?e.map((r,o)=>r instanceof Tp?lbe(eE(r),r,n):r):t.reduce((r,o,i)=>{let s=e.getValue(o);return o in r||(n&&s instanceof Tp&&(s=lbe(eE(s),s,n)),r[o]=s),r},{})}var Tp=class t extends Array{#e;constructor(...e){let n=e[0],r=e[1],o=(e[2]||[]).slice(),i=!0;n!==IV&&(r=e,o=[],i=!1),super(r.length),r.forEach((c,l)=>{this[l]=c});let s=o.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(hmt(this,Object.freeze(r.map((c,l)=>{let u=o[l];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let p=Ct(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");let f=c[p];return f instanceof Error&&oP(`index ${p}`,f),f}if(Xgn.indexOf(l)>=0)return Reflect.get(c,l,u);let d=c[l];if(d instanceof Function)return function(...p){return d.apply(this===u?c:this,p)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return hmt(a,eE(this)),a}toArray(e){let n=[];return this.forEach((r,o)=>{r instanceof Error&&oP(`index ${o}`,r),e&&r instanceof t&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){let n=eE(this);return n.reduce((r,o,i)=>(de(o!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),lbe(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let r=eE(this),o=[],i=[];for(let s=e;s<n;s++)o.push(this[s]),i.push(r[s]);return new t(IV,o,i)}filter(e,n){let r=eE(this),o=[],i=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&oP(`index ${s}`,a),e.call(n,a,s,this)&&(o.push(a),i.push(r[s]))}return new t(IV,o,i)}map(e,n){let r=[];for(let o=0;o<this.length;o++){let i=this[o];i instanceof Error&&oP(`index ${o}`,i),r.push(e.call(n,i,o,this))}return r}getValue(e){let n=eE(this).indexOf(e);if(n===-1)return;let r=this[n];return r instanceof Error&&oP(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new t(IV,e,n)}};function CV(t){let e=[],n=function(r,o){if(Array.isArray(o))for(let i in o){let s=r.slice();s.push(i);try{n(s,o[i])}catch(a){e.push({path:s,error:a})}}};return n([],t),e}function gmt(t){let e=tr(t);return de(e.length<=Fs,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Fs,offset:e.length}),e.length!==Fs&&(e=Br(Xt([cbe.slice(e.length%Fs),e]))),e}var $i=class{name;type;localName;dynamic;constructor(e,n,r,o){Be(this,{name:e,type:n,localName:r,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){K(!1,e,this.localName,n)}},tE=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Xt(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Br(e.data))}writeBytes(e){let n=Br(e),r=n.length%Fs;return r&&(n=Br(Xt([n,cbe.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(gmt(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(cbe),this.#t+=Fs,n=>{this.#e[e]=gmt(n)}}},RV=class t{allowLoose;#e;#t;#n;#r;#o;constructor(e,n,r){Be(this,{allowLoose:!!n}),this.#e=Br(e),this.#n=0,this.#r=null,this.#o=r??1024,this.#t=0}get data(){return Ae(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#r)return this.#r.#i(e);this.#n+=e,de(this.#o<1||this.#n<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Br(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(e,n,r){let o=Math.ceil(n/Fs)*Fs;return this.#t+o>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?o=n:de(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Br(this.#e),length:this.#e.length,offset:this.#t+o})),this.#e.slice(this.#t,this.#t+o)}subReader(e){let n=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#o);return n.#r=this,n}readBytes(e,n){let r=this.#s(0,e,!!n);return this.#i(e),this.#t+=r.length,r.slice(0,e)}readValue(){return bd(this.readBytes(Fs))}readIndex(){return X8(this.readBytes(Fs))}};import{createHash as ube,createHmac as bmt,pbkdf2Sync as _mt,randomBytes as Smt}from"crypto";var vmt=!1,Emt=function(t,e,n){return bmt(t,e).update(n).digest()},Amt=Emt;function Ip(t,e,n){let r=Oe(e,"key"),o=Oe(n,"data");return Ae(Amt(t,r,o))}Ip._=Emt;Ip.lock=function(){vmt=!0};Ip.register=function(t){if(vmt)throw new Error("computeHmac is locked");Amt=t};Object.freeze(Ip);function ba(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function iP(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function NV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ba(t.outputLen),ba(t.blockLen)}function Rg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function OV(t,e){iP(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var PV=BigInt(4294967295),xmt=BigInt(32);function Zgn(t,e=!1){return e?{h:Number(t&PV),l:Number(t>>xmt&PV)}:{h:Number(t>>xmt&PV)|0,l:Number(t&PV)|0}}function wmt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=Zgn(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]}var Tmt=(t,e,n)=>t<<n|e>>>32-n,Imt=(t,e,n)=>e<<n|t>>>32-n,Rmt=(t,e,n)=>e<<n-32|t>>>64-n,Cmt=(t,e,n)=>t<<n-32|e>>>64-n;import*as sP from"node:crypto";var DV=sP&&typeof sP=="object"&&"webcrypto"in sP?sP.webcrypto:void 0;var Nmt=t=>t instanceof Uint8Array;var lI=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),uI=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Rp=(t,e)=>t<<32-e|t>>>e,e0n=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!e0n)throw new Error("Non little-endian hardware is not supported");var t0n=async()=>{};async function kV(t,e,n){let r=Date.now();for(let o=0;o<t;o++){n(o);let i=Date.now()-r;i>=0&&i<e||(await t0n(),r+=i)}}function n0n(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Cp(t){if(typeof t=="string"&&(t=n0n(t)),!Nmt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Omt(...t){let e=new Uint8Array(t.reduce((r,o)=>r+o.length,0)),n=0;return t.forEach(r=>{if(!Nmt(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}var $y=class{clone(){return this._cloneInto()}},r0n={}.toString;function LV(t,e){if(e!==void 0&&r0n.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function dI(t){let e=r=>t().update(Cp(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Pmt(t){let e=(r,o)=>t(o).update(Cp(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Dmt(t=32){if(DV&&typeof DV.getRandomValues=="function")return DV.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var[Mmt,Bmt,Umt]=[[],[],[]],o0n=BigInt(0),aP=BigInt(1),i0n=BigInt(2),s0n=BigInt(7),a0n=BigInt(256),c0n=BigInt(113);for(let t=0,e=aP,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Mmt.push(2*(5*r+n)),Bmt.push((t+1)*(t+2)/2%64);let o=o0n;for(let i=0;i<7;i++)e=(e<<aP^(e>>s0n)*c0n)%a0n,e&i0n&&(o^=aP<<(aP<<BigInt(i))-aP);Umt.push(o)}var[l0n,u0n]=wmt(Umt,!0),kmt=(t,e,n)=>n>32?Rmt(t,e,n):Tmt(t,e,n),Lmt=(t,e,n)=>n>32?Cmt(t,e,n):Imt(t,e,n);function d0n(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=n[c],u=n[c+1],d=kmt(l,u,1)^n[a],p=Lmt(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=Bmt[s],c=kmt(o,i,a),l=Lmt(o,i,a),u=Mmt[s];o=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=l0n[r],t[1]^=u0n[r]}n.fill(0)}var MV=class t extends $y{constructor(e,n,r,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ba(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=lI(this.state)}keccak(){d0n(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Rg(this);let{blockLen:n,state:r}=this;e=Cp(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(n-this.pos,o-i);for(let a=0;a<s;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Rg(this,!1),iP(e),this.finish();let n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ba(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(OV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},Fy=(t,e,n)=>dI(()=>new MV(e,t,n)),JRo=Fy(6,144,224/8),YRo=Fy(6,136,256/8),QRo=Fy(6,104,384/8),XRo=Fy(6,72,512/8),ZRo=Fy(1,144,224/8),$mt=Fy(1,136,256/8),eCo=Fy(1,104,384/8),tCo=Fy(1,72,512/8),Fmt=(t,e,n)=>Pmt((r={})=>new MV(e,t,r.dkLen===void 0?n:r.dkLen,!0)),nCo=Fmt(31,168,128/8),rCo=Fmt(31,136,256/8);var Hmt=!1,Gmt=function(t){return $mt(t)},Vmt=Gmt;function xn(t){let e=Oe(t,"data");return Ae(Vmt(e))}xn._=Gmt;xn.lock=function(){Hmt=!0};xn.register=function(t){if(Hmt)throw new TypeError("keccak256 is locked");Vmt=t};Object.freeze(xn);function p0n(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}var pI=class extends $y{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uI(this.buffer)}update(e){Rg(this);let{view:n,buffer:r,blockLen:o}=this;e=Cp(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=uI(e);for(;o<=i-s;s+=o)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rg(this),OV(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:i}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let d=s;d<o;d++)n[d]=0;p0n(r,o-8,BigInt(this.length*8),i),this.process(r,0);let a=uI(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}};var f0n=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),jmt=Uint8Array.from({length:16},(t,e)=>e),m0n=jmt.map(t=>(9*t+5)%16),pbe=[jmt],fbe=[m0n];for(let t=0;t<4;t++)for(let e of[pbe,fbe])e.push(e[t].map(n=>f0n[n]));var qmt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),h0n=pbe.map((t,e)=>t.map(n=>qmt[e][n])),g0n=fbe.map((t,e)=>t.map(n=>qmt[e][n])),y0n=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),b0n=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),BV=(t,e)=>t<<e|t>>>32-e;function zmt(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}var UV=new Uint32Array(16),dbe=class extends pI{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:n,h2:r,h3:o,h4:i}=this;return[e,n,r,o,i]}set(e,n,r,o,i){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=o|0,this.h4=i|0}process(e,n){for(let f=0;f<16;f++,n+=4)UV[f]=e.getUint32(n,!0);let r=this.h0|0,o=r,i=this.h1|0,s=i,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,p=d;for(let f=0;f<5;f++){let h=4-f,m=y0n[f],g=b0n[f],y=pbe[f],S=fbe[f],v=h0n[f],A=g0n[f];for(let w=0;w<16;w++){let I=BV(r+zmt(f,i,a,l)+UV[y[w]]+m,v[w])+d|0;r=d,d=l,l=BV(a,10)|0,a=i,i=I}for(let w=0;w<16;w++){let I=BV(o+zmt(h,s,c,u)+UV[S[w]]+g,A[w])+p|0;o=p,p=u,u=BV(c,10)|0,c=s,s=I}}this.set(this.h1+a+u|0,this.h2+l+p|0,this.h3+d+o|0,this.h4+r+s|0,this.h0+i+c|0)}roundClean(){UV.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Wmt=dI(()=>new dbe);var Kmt=!1,Jmt=function(t){return Wmt(t)},Ymt=Jmt;function Np(t){let e=Oe(t,"data");return Ae(Ymt(e))}Np._=Jmt;Np.lock=function(){Kmt=!0};Np.register=function(t){if(Kmt)throw new TypeError("ripemd160 is locked");Ymt=t};Object.freeze(Np);var Qmt=!1,Xmt=function(t,e,n,r,o){return _mt(t,e,n,r,o)},Zmt=Xmt;function Ya(t,e,n,r,o){let i=Oe(t,"password"),s=Oe(e,"salt");return Ae(Zmt(i,s,n,r,o))}Ya._=Xmt;Ya.lock=function(){Qmt=!0};Ya.register=function(t){if(Qmt)throw new Error("pbkdf2 is locked");Zmt=t};Object.freeze(Ya);var eht=!1,tht=function(t){return new Uint8Array(Smt(t))},nht=tht;function _a(t){return nht(t)}_a._=tht;_a.lock=function(){eht=!0};_a.register=function(t){if(eht)throw new Error("randomBytes is locked");nht=t};Object.freeze(_a);var _0n=(t,e,n)=>t&e^~t&n,S0n=(t,e,n)=>t&e^t&n^e&n,v0n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gy=new Uint32Array(64),mbe=class extends pI{constructor(){super(64,32,8,!1),this.A=Hy[0]|0,this.B=Hy[1]|0,this.C=Hy[2]|0,this.D=Hy[3]|0,this.E=Hy[4]|0,this.F=Hy[5]|0,this.G=Hy[6]|0,this.H=Hy[7]|0}get(){let{A:e,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return[e,n,r,o,i,s,a,c]}set(e,n,r,o,i,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Gy[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){let p=Gy[d-15],f=Gy[d-2],h=Rp(p,7)^Rp(p,18)^p>>>3,m=Rp(f,17)^Rp(f,19)^f>>>10;Gy[d]=m+Gy[d-7]+h+Gy[d-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=Rp(a,6)^Rp(a,11)^Rp(a,25),f=u+p+_0n(a,c,l)+v0n[d]+Gy[d]|0,m=(Rp(r,2)^Rp(r,13)^Rp(r,22))+S0n(r,o,i)|0;u=l,l=c,c=a,a=s+f|0,s=i,i=o,o=r,r=f+m|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,i,s,a,c,l,u)}roundClean(){Gy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var cP=dI(()=>new mbe);var $V=class extends $y{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,NV(e);let r=Cp(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Rg(this),this.iHash.update(e),this}digestInto(e){Rg(this),iP(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},lP=(t,e,n)=>new $V(t,e).update(n).digest();lP.create=(t,e)=>new $V(t,e);function E0n(t,e,n,r){NV(t);let o=LV({dkLen:32,asyncTick:10},r),{c:i,dkLen:s,asyncTick:a}=o;if(ba(i),ba(s),ba(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Cp(e),l=Cp(n),u=new Uint8Array(s),d=lP.create(t,c),p=d._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:p}}function A0n(t,e,n,r,o){return t.destroy(),e.destroy(),r&&r.destroy(),o.fill(0),n}function hbe(t,e,n,r){let{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=E0n(t,e,n,r),l,u=new Uint8Array(4),d=uI(u),p=new Uint8Array(a.outputLen);for(let f=1,h=0;h<i;f++,h+=a.outputLen){let m=s.subarray(h,h+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(p),m.set(p.subarray(0,m.length));for(let g=1;g<o;g++){a._cloneInto(l).update(p).digestInto(p);for(let y=0;y<m.length;y++)m[y]^=p[y]}}return A0n(a,c,s,l,p)}var ur=(t,e)=>t<<e|t>>>32-e;function rht(t,e,n,r,o,i){let s=t[e++]^n[r++],a=t[e++]^n[r++],c=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],p=t[e++]^n[r++],f=t[e++]^n[r++],h=t[e++]^n[r++],m=t[e++]^n[r++],g=t[e++]^n[r++],y=t[e++]^n[r++],S=t[e++]^n[r++],v=t[e++]^n[r++],A=t[e++]^n[r++],w=t[e++]^n[r++],I=s,D=a,k=c,O=l,U=u,G=d,J=p,C=f,_=h,E=m,R=g,M=y,$=S,j=v,Y=A,z=w;for(let x=0;x<8;x+=2)U^=ur(I+$|0,7),_^=ur(U+I|0,9),$^=ur(_+U|0,13),I^=ur($+_|0,18),E^=ur(G+D|0,7),j^=ur(E+G|0,9),D^=ur(j+E|0,13),G^=ur(D+j|0,18),Y^=ur(R+J|0,7),k^=ur(Y+R|0,9),J^=ur(k+Y|0,13),R^=ur(J+k|0,18),O^=ur(z+M|0,7),C^=ur(O+z|0,9),M^=ur(C+O|0,13),z^=ur(M+C|0,18),D^=ur(I+O|0,7),k^=ur(D+I|0,9),O^=ur(k+D|0,13),I^=ur(O+k|0,18),J^=ur(G+U|0,7),C^=ur(J+G|0,9),U^=ur(C+J|0,13),G^=ur(U+C|0,18),M^=ur(R+E|0,7),_^=ur(M+R|0,9),E^=ur(_+M|0,13),R^=ur(E+_|0,18),$^=ur(z+Y|0,7),j^=ur($+z|0,9),Y^=ur(j+$|0,13),z^=ur(Y+j|0,18);o[i++]=s+I|0,o[i++]=a+D|0,o[i++]=c+k|0,o[i++]=l+O|0,o[i++]=u+U|0,o[i++]=d+G|0,o[i++]=p+J|0,o[i++]=f+C|0,o[i++]=h+_|0,o[i++]=m+E|0,o[i++]=g+R|0,o[i++]=y+M|0,o[i++]=S+$|0,o[i++]=v+j|0,o[i++]=A+Y|0,o[i++]=w+z|0}function fI(t,e,n,r,o){let i=r+0,s=r+16*o;for(let a=0;a<16;a++)n[s+a]=t[e+(2*o-1)*16+a];for(let a=0;a<o;a++,i+=16,e+=16)rht(n,s,t,e,n,i),a>0&&(s+=16),rht(n,i,t,e+=16,n,s)}function oht(t,e,n){let r=LV({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:o,r:i,p:s,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=r;if(ba(o),ba(i),ba(s),ba(a),ba(c),ba(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*i,p=d/4;if(o<=1||(o&o-1)!==0||o>=2**(d/8)||o>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=d*(o+s);if(f>l)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);let h=hbe(cP,t,e,{c:1,dkLen:d*s}),m=lI(h),g=lI(new Uint8Array(d*o)),y=lI(new Uint8Array(d)),S=()=>{};if(u){let v=2*o*s,A=Math.max(Math.floor(v/1e4),1),w=0;S=()=>{w++,u&&(!(w%A)||w===v)&&u(w/v)}}return{N:o,r:i,p:s,dkLen:a,blockSize32:p,V:g,B32:m,B:h,tmp:y,blockMixCb:S,asyncTick:c}}function iht(t,e,n,r,o){let i=hbe(cP,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),o.fill(0),i}function sht(t,e,n){let{N:r,r:o,p:i,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p}=oht(t,e,n);for(let f=0;f<i;f++){let h=a*f;for(let m=0;m<a;m++)c[m]=l[h+m];for(let m=0,g=0;m<r-1;m++)fI(c,g,c,g+=a,o),p();fI(c,(r-1)*a,l,h,o),p();for(let m=0;m<r;m++){let g=l[h+a-16]%r;for(let y=0;y<a;y++)d[y]=l[h+y]^c[g*a+y];fI(d,0,l,h,o),p()}}return iht(t,s,u,c,d)}async function aht(t,e,n){let{N:r,r:o,p:i,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p,asyncTick:f}=oht(t,e,n);for(let h=0;h<i;h++){let m=a*h;for(let y=0;y<a;y++)c[y]=l[m+y];let g=0;await kV(r-1,f,()=>{fI(c,g,c,g+=a,o),p()}),fI(c,(r-1)*a,l,m,o),p(),await kV(r,f,()=>{let y=l[m+a-16]%r;for(let S=0;S<a;S++)d[S]=l[m+S]^c[y*a+S];fI(d,0,l,m,o),p()})}return iht(t,s,u,c,d)}var cht=!1,lht=!1,uht=async function(t,e,n,r,o,i,s){return await aht(t,e,{N:n,r,p:o,dkLen:i,onProgress:s})},dht=function(t,e,n,r,o,i){return sht(t,e,{N:n,r,p:o,dkLen:i})},pht=uht,fht=dht;async function Op(t,e,n,r,o,i,s){let a=Oe(t,"passwd"),c=Oe(e,"salt");return Ae(await pht(a,c,n,r,o,i,s))}Op._=uht;Op.lock=function(){lht=!0};Op.register=function(t){if(lht)throw new Error("scrypt is locked");pht=t};Object.freeze(Op);function Pp(t,e,n,r,o,i){let s=Oe(t,"passwd"),a=Oe(e,"salt");return Ae(fht(s,a,n,r,o,i))}Pp._=dht;Pp.lock=function(){cht=!0};Pp.register=function(t){if(cht)throw new Error("scryptSync is locked");fht=t};Object.freeze(Pp);var mht=function(t){return ube("sha256").update(t).digest()},hht=function(t){return ube("sha512").update(t).digest()},ght=mht,yht=hht,bht=!1,_ht=!1;function ui(t){let e=Oe(t,"data");return Ae(ght(e))}ui._=mht;ui.lock=function(){bht=!0};ui.register=function(t){if(bht)throw new Error("sha256 is locked");ght=t};Object.freeze(ui);function nE(t){let e=Oe(t,"data");return Ae(yht(e))}nE._=hht;nE.lock=function(){_ht=!0};nE.register=function(t){if(_ht)throw new Error("sha512 is locked");yht=t};Object.freeze(ui);var _be={};kn(_be,{bitGet:()=>N0n,bitLen:()=>C0n,bitMask:()=>uP,bitSet:()=>O0n,bytesToHex:()=>rE,bytesToNumberBE:()=>Cg,bytesToNumberLE:()=>GV,concatBytes:()=>mI,createHmacDrbg:()=>bbe,ensureBytes:()=>kl,equalBytes:()=>I0n,hexToBytes:()=>oE,hexToNumber:()=>ybe,numberToBytesBE:()=>Vy,numberToBytesLE:()=>VV,numberToHexUnpadded:()=>Eht,numberToVarBytesBE:()=>T0n,utf8ToBytes:()=>R0n,validateObject:()=>zy});var vht=BigInt(0),FV=BigInt(1),x0n=BigInt(2),HV=t=>t instanceof Uint8Array,w0n=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rE(t){if(!HV(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=w0n[t[n]];return e}function Eht(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function ybe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function oE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){let o=r*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Cg(t){return ybe(rE(t))}function GV(t){if(!HV(t))throw new Error("Uint8Array expected");return ybe(rE(Uint8Array.from(t).reverse()))}function Vy(t,e){return oE(t.toString(16).padStart(e*2,"0"))}function VV(t,e){return Vy(t,e).reverse()}function T0n(t){return oE(Eht(t))}function kl(t,e,n){let r;if(typeof e=="string")try{r=oE(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(HV(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${t} expected ${n} bytes, got ${o}`);return r}function mI(...t){let e=new Uint8Array(t.reduce((r,o)=>r+o.length,0)),n=0;return t.forEach(r=>{if(!HV(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function I0n(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function R0n(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function C0n(t){let e;for(e=0;t>vht;t>>=FV,e+=1);return e}function N0n(t,e){return t>>BigInt(e)&FV}var O0n=(t,e,n)=>t|(n?FV:vht)<<BigInt(e),uP=t=>(x0n<<BigInt(t-1))-FV,gbe=t=>new Uint8Array(t),Sht=t=>Uint8Array.from(t);function bbe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gbe(t),o=gbe(t),i=0,s=()=>{r.fill(1),o.fill(0),i=0},a=(...d)=>n(o,r,...d),c=(d=gbe())=>{o=a(Sht([0]),d),r=a(),d.length!==0&&(o=a(Sht([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){r=a();let f=r.slice();p.push(f),d+=r.length}return mI(...p)};return(d,p)=>{s(),c(d);let f;for(;!(f=p(l()));)c();return s(),f}}var P0n={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function zy(t,e,n={}){let r=(o,i,s)=>{let a=P0n[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=t[o];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(let[o,i]of Object.entries(e))r(o,i,!1);for(let[o,i]of Object.entries(n))r(o,i,!0);return t}var Zi=BigInt(0),Zo=BigInt(1),iE=BigInt(2),D0n=BigInt(3),Sbe=BigInt(4),Aht=BigInt(5),xht=BigInt(8),k0n=BigInt(9),L0n=BigInt(16);function Sa(t,e){let n=t%e;return n>=Zi?n:e+n}function M0n(t,e,n){if(n<=Zi||e<Zi)throw new Error("Expected power/modulo > 0");if(n===Zo)return Zi;let r=Zo;for(;e>Zi;)e&Zo&&(r=r*t%n),t=t*t%n,e>>=Zo;return r}function Ll(t,e,n){let r=t;for(;e-- >Zi;)r*=r,r%=n;return r}function zV(t,e){if(t===Zi||e<=Zi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Sa(t,e),r=e,o=Zi,i=Zo,s=Zo,a=Zi;for(;n!==Zi;){let l=r/n,u=r%n,d=o-s*l,p=i-a*l;r=n,n=u,o=s,i=a,s=d,a=p}if(r!==Zo)throw new Error("invert: does not exist");return Sa(o,e)}function B0n(t){let e=(t-Zo)/iE,n,r,o;for(n=t-Zo,r=0;n%iE===Zi;n/=iE,r++);for(o=iE;o<t&&M0n(o,e,t)!==t-Zo;o++);if(r===1){let s=(t+Zo)/Sbe;return function(c,l){let u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let i=(n+Zo)/iE;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),d=a.pow(c,i),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(p);f<l&&!a.eql(m,a.ONE);f++)m=a.sqr(m);let h=a.pow(u,Zo<<BigInt(l-f-1));u=a.sqr(h),d=a.mul(d,h),p=a.mul(p,u),l=f}return d}}function U0n(t){if(t%Sbe===D0n){let e=(t+Zo)/Sbe;return function(r,o){let i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%xht===Aht){let e=(t-Aht)/xht;return function(r,o){let i=r.mul(o,iE),s=r.pow(i,e),a=r.mul(o,s),c=r.mul(r.mul(a,iE),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return t%L0n,B0n(t)}var $0n=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vbe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$0n.reduce((r,o)=>(r[o]="function",r),e);return zy(t,n)}function F0n(t,e,n){if(n<Zi)throw new Error("Expected power > 0");if(n===Zi)return t.ONE;if(n===Zo)return e;let r=t.ONE,o=e;for(;n>Zi;)n&Zo&&(r=t.mul(r,o)),o=t.sqr(o),n>>=Zo;return r}function H0n(t,e){let n=new Array(e.length),r=e.reduce((i,s,a)=>t.is0(s)?i:(n[a]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,a)=>t.is0(s)?i:(n[a]=t.mul(i,n[a]),t.mul(i,s)),o),n}function Ebe(t,e){let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wht(t,e,n=!1,r={}){if(t<=Zi)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:o,nByteLength:i}=Ebe(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=U0n(t),a=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:uP(o),ZERO:Zi,ONE:Zo,create:c=>Sa(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Zi<=c&&c<t},is0:c=>c===Zi,isOdd:c=>(c&Zo)===Zo,neg:c=>Sa(-c,t),eql:(c,l)=>c===l,sqr:c=>Sa(c*c,t),add:(c,l)=>Sa(c+l,t),sub:(c,l)=>Sa(c-l,t),mul:(c,l)=>Sa(c*l,t),pow:(c,l)=>F0n(a,c,l),div:(c,l)=>Sa(c*zV(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>zV(c,t),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>H0n(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?VV(c,i):Vy(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?GV(c):Cg(c)}});return Object.freeze(a)}function Tht(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Abe(t){let e=Tht(t);return e+Math.ceil(e/2)}function Iht(t,e,n=!1){let r=t.length,o=Tht(e),i=Abe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);let s=n?Cg(t):GV(t),a=Sa(s,e-Zo)+Zo;return n?VV(a,o):Vy(a,o)}var V0n=BigInt(0),xbe=BigInt(1);function Rht(t,e){let n=(o,i)=>{let s=i.negate();return o?s:i},r=o=>{let i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:n,unsafeLadder(o,i){let s=t.ZERO,a=o;for(;i>V0n;)i&xbe&&(s=s.add(a)),a=a.double(),i>>=xbe;return s},precomputeWindow(o,i){let{windows:s,windowSize:a}=r(i),c=[],l=o,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,i,s){let{windows:a,windowSize:c}=r(o),l=t.ZERO,u=t.BASE,d=BigInt(2**o-1),p=2**o,f=BigInt(o);for(let h=0;h<a;h++){let m=h*c,g=Number(s&d);s>>=f,g>c&&(g-=p,s+=xbe);let y=m,S=m+Math.abs(g)-1,v=h%2!==0,A=g<0;g===0?u=u.add(n(v,i[y])):l=l.add(n(A,i[S]))}return{p:l,f:u}},wNAFCached(o,i,s,a){let c=o._WINDOW_SIZE||1,l=i.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&i.set(o,a(l))),this.wNAF(c,l,s)}}}function wbe(t){return vbe(t.Fp),zy(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ebe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function z0n(t){let e=wbe(t);zy(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:j0n,hexToBytes:q0n}=_be,sE={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=sE;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:j0n(r),l:t.subarray(n+2)}},toSig(t){let{Err:e}=sE,n=typeof t=="string"?q0n(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:o,l:i}=sE._parseInt(n.subarray(2)),{d:s,l:a}=sE._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),o=e(n(t.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},Ng=BigInt(0),_d=BigInt(1),YCo=BigInt(2),Cht=BigInt(3),QCo=BigInt(4);function W0n(t){let e=z0n(t),{Fp:n}=e,r=e.toBytes||((h,m,g)=>{let y=m.toAffine();return mI(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),o=e.fromBytes||(h=>{let m=h.subarray(1),g=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:g,y}});function i(h){let{a:m,b:g}=e,y=n.sqr(h),S=n.mul(y,h);return n.add(n.add(S,n.mul(h,m)),g)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(h){return typeof h=="bigint"&&Ng<h&&h<e.n}function a(h){if(!s(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:y,n:S}=e;if(m&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=rE(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(g*2,"0")}let v;try{v=typeof h=="bigint"?h:Cg(kl("private key",h,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof h}`)}return y&&(v=Sa(v,S)),a(v),v}let l=new Map;function u(h){if(!(h instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,g,y){if(this.px=m,this.py=g,this.pz=y,m==null||!n.isValid(m))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(m){let{x:g,y}=m||{};if(!m||!n.isValid(g)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let S=v=>n.eql(v,n.ZERO);return S(g)&&S(y)?d.ZERO:new d(g,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let g=n.invertBatch(m.map(y=>y.pz));return m.map((y,S)=>y.toAffine(g[S])).map(d.fromAffine)}static fromHex(m){let g=d.fromAffine(o(kl("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:g}=this.toAffine();if(!n.isValid(m)||!n.isValid(g))throw new Error("bad point: x or y not FE");let y=n.sqr(g),S=i(m);if(!n.eql(y,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:g,py:y,pz:S}=this,{px:v,py:A,pz:w}=m,I=n.eql(n.mul(g,w),n.mul(v,S)),D=n.eql(n.mul(y,w),n.mul(A,S));return I&&D}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:m,b:g}=e,y=n.mul(g,Cht),{px:S,py:v,pz:A}=this,w=n.ZERO,I=n.ZERO,D=n.ZERO,k=n.mul(S,S),O=n.mul(v,v),U=n.mul(A,A),G=n.mul(S,v);return G=n.add(G,G),D=n.mul(S,A),D=n.add(D,D),w=n.mul(m,D),I=n.mul(y,U),I=n.add(w,I),w=n.sub(O,I),I=n.add(O,I),I=n.mul(w,I),w=n.mul(G,w),D=n.mul(y,D),U=n.mul(m,U),G=n.sub(k,U),G=n.mul(m,G),G=n.add(G,D),D=n.add(k,k),k=n.add(D,k),k=n.add(k,U),k=n.mul(k,G),I=n.add(I,k),U=n.mul(v,A),U=n.add(U,U),k=n.mul(U,G),w=n.sub(w,k),D=n.mul(U,O),D=n.add(D,D),D=n.add(D,D),new d(w,I,D)}add(m){u(m);let{px:g,py:y,pz:S}=this,{px:v,py:A,pz:w}=m,I=n.ZERO,D=n.ZERO,k=n.ZERO,O=e.a,U=n.mul(e.b,Cht),G=n.mul(g,v),J=n.mul(y,A),C=n.mul(S,w),_=n.add(g,y),E=n.add(v,A);_=n.mul(_,E),E=n.add(G,J),_=n.sub(_,E),E=n.add(g,S);let R=n.add(v,w);return E=n.mul(E,R),R=n.add(G,C),E=n.sub(E,R),R=n.add(y,S),I=n.add(A,w),R=n.mul(R,I),I=n.add(J,C),R=n.sub(R,I),k=n.mul(O,E),I=n.mul(U,C),k=n.add(I,k),I=n.sub(J,k),k=n.add(J,k),D=n.mul(I,k),J=n.add(G,G),J=n.add(J,G),C=n.mul(O,C),E=n.mul(U,E),J=n.add(J,C),C=n.sub(G,C),C=n.mul(O,C),E=n.add(E,C),G=n.mul(J,E),D=n.add(D,G),G=n.mul(R,E),I=n.mul(_,I),I=n.sub(I,G),G=n.mul(_,J),k=n.mul(R,k),k=n.add(k,G),new d(I,D,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return f.wNAFCached(this,l,m,g=>{let y=n.invertBatch(g.map(S=>S.pz));return g.map((S,v)=>S.toAffine(y[v])).map(d.fromAffine)})}multiplyUnsafe(m){let g=d.ZERO;if(m===Ng)return g;if(a(m),m===_d)return this;let{endo:y}=e;if(!y)return f.unsafeLadder(this,m);let{k1neg:S,k1:v,k2neg:A,k2:w}=y.splitScalar(m),I=g,D=g,k=this;for(;v>Ng||w>Ng;)v&_d&&(I=I.add(k)),w&_d&&(D=D.add(k)),k=k.double(),v>>=_d,w>>=_d;return S&&(I=I.negate()),A&&(D=D.negate()),D=new d(n.mul(D.px,y.beta),D.py,D.pz),I.add(D)}multiply(m){a(m);let g=m,y,S,{endo:v}=e;if(v){let{k1neg:A,k1:w,k2neg:I,k2:D}=v.splitScalar(g),{p:k,f:O}=this.wNAF(w),{p:U,f:G}=this.wNAF(D);k=f.constTimeNegate(A,k),U=f.constTimeNegate(I,U),U=new d(n.mul(U.px,v.beta),U.py,U.pz),y=k.add(U),S=O.add(G)}else{let{p:A,f:w}=this.wNAF(g);y=A,S=w}return d.normalizeZ([y,S])[0]}multiplyAndAddUnsafe(m,g,y){let S=d.BASE,v=(w,I)=>I===Ng||I===_d||!w.equals(S)?w.multiplyUnsafe(I):w.multiply(I),A=v(this,g).add(v(m,y));return A.is0()?void 0:A}toAffine(m){let{px:g,py:y,pz:S}=this,v=this.is0();m==null&&(m=v?n.ONE:n.inv(S));let A=n.mul(g,m),w=n.mul(y,m),I=n.mul(S,m);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:A,y:w}}isTorsionFree(){let{h:m,isTorsionFree:g}=e;if(m===_d)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:g}=e;return m===_d?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return rE(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let p=e.nBitLength,f=Rht(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function K0n(t){let e=wbe(t);return zy(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Nht(t){let e=K0n(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(E){return Ng<E&&E<n.ORDER}function a(E){return Sa(E,r)}function c(E){return zV(E,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:p}=W0n({...e,toBytes(E,R,M){let $=R.toAffine(),j=n.toBytes($.x),Y=mI;return M?Y(Uint8Array.from([R.hasEvenY()?2:3]),j):Y(Uint8Array.from([4]),j,n.toBytes($.y))},fromBytes(E){let R=E.length,M=E[0],$=E.subarray(1);if(R===o&&(M===2||M===3)){let j=Cg($);if(!s(j))throw new Error("Point is not on curve");let Y=d(j),z=n.sqrt(Y),x=(z&_d)===_d;return(M&1)===1!==x&&(z=n.neg(z)),{x:j,y:z}}else if(R===i&&M===4){let j=n.fromBytes($.subarray(0,n.BYTES)),Y=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:j,y:Y}}else throw new Error(`Point of length ${R} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),f=E=>rE(Vy(E,e.nByteLength));function h(E){let R=r>>_d;return E>R}function m(E){return h(E)?a(-E):E}let g=(E,R,M)=>Cg(E.slice(R,M));class y{constructor(R,M,$){this.r=R,this.s=M,this.recovery=$,this.assertValidity()}static fromCompact(R){let M=e.nByteLength;return R=kl("compactSignature",R,M*2),new y(g(R,0,M),g(R,M,2*M))}static fromDER(R){let{r:M,s:$}=sE.toSig(kl("DER",R));return new y(M,$)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new y(this.r,this.s,R)}recoverPublicKey(R){let{r:M,s:$,recovery:j}=this,Y=D(kl("msgHash",R));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");let z=j===2||j===3?M+e.n:M;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let x=(j&1)===0?"02":"03",Q=l.fromHex(x+f(z)),Re=c(z),Se=a(-Y*Re),pe=a($*Re),Ve=l.BASE.multiplyAndAddUnsafe(Q,Se,pe);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return oE(this.toDERHex())}toDERHex(){return sE.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oE(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let S={isValidPrivateKey(E){try{return u(E),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let E=Abe(e.n);return Iht(e.randomBytes(E),e.n)},precompute(E=8,R=l.BASE){return R._setWindowSize(E),R.multiply(BigInt(3)),R}};function v(E,R=!0){return l.fromPrivateKey(E).toRawBytes(R)}function A(E){let R=E instanceof Uint8Array,M=typeof E=="string",$=(R||M)&&E.length;return R?$===o||$===i:M?$===2*o||$===2*i:E instanceof l}function w(E,R,M=!0){if(A(E))throw new Error("first arg must be private key");if(!A(R))throw new Error("second arg must be public key");return l.fromHex(R).multiply(u(E)).toRawBytes(M)}let I=e.bits2int||function(E){let R=Cg(E),M=E.length*8-e.nBitLength;return M>0?R>>BigInt(M):R},D=e.bits2int_modN||function(E){return a(I(E))},k=uP(e.nBitLength);function O(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(Ng<=E&&E<k))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Vy(E,e.nByteLength)}function U(E,R,M=G){if(["recovered","canonical"].some(ut=>ut in M))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:j}=e,{lowS:Y,prehash:z,extraEntropy:x}=M;Y==null&&(Y=!0),E=kl("msgHash",E),z&&(E=kl("prehashed msgHash",$(E)));let Q=D(E),Re=u(R),Se=[O(Re),O(Q)];if(x!=null){let ut=x===!0?j(n.BYTES):x;Se.push(kl("extraEntropy",ut))}let pe=mI(...Se),Ve=Q;function xe(ut){let dt=I(ut);if(!p(dt))return;let Ot=c(dt),se=l.BASE.multiply(dt).toAffine(),tn=a(se.x);if(tn===Ng)return;let un=a(Ot*a(Ve+tn*Re));if(un===Ng)return;let fr=(se.x===tn?0:2)|Number(se.y&_d),rc=un;return Y&&h(un)&&(rc=m(un),fr^=1),new y(tn,rc,fr)}return{seed:pe,k2sig:xe}}let G={lowS:e.lowS,prehash:!1},J={lowS:e.lowS,prehash:!1};function C(E,R,M=G){let{seed:$,k2sig:j}=U(E,R,M),Y=e;return bbe(Y.hash.outputLen,Y.nByteLength,Y.hmac)($,j)}l.BASE._setWindowSize(8);function _(E,R,M,$=J){let j=E;if(R=kl("msgHash",R),M=kl("publicKey",M),"strict"in $)throw new Error("options.strict was renamed to lowS");let{lowS:Y,prehash:z}=$,x,Q;try{if(typeof j=="string"||j instanceof Uint8Array)try{x=y.fromDER(j)}catch(se){if(!(se instanceof sE.Err))throw se;x=y.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){let{r:se,s:tn}=j;x=new y(se,tn)}else throw new Error("PARSE");Q=l.fromHex(M)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&x.hasHighS())return!1;z&&(R=e.hash(R));let{r:Re,s:Se}=x,pe=D(R),Ve=c(Se),xe=a(pe*Ve),ut=a(Re*Ve),dt=l.BASE.multiplyAndAddUnsafe(Q,xe,ut)?.toAffine();return dt?a(dt.x)===Re:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:w,sign:C,verify:_,ProjectivePoint:l,Signature:y,utils:S}}function J0n(t){return{hash:t,hmac:(e,...n)=>lP(t,e,Omt(...n)),randomBytes:Dmt}}function Oht(t,e){let n=r=>Nht({...t,...J0n(r)});return Object.freeze({...n(e),create:n})}var kht=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pht=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Y0n=BigInt(1),Tbe=BigInt(2),Dht=(t,e)=>(t+e/Tbe)/e;function Q0n(t){let e=kht,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Ll(u,n,e)*u%e,p=Ll(d,n,e)*u%e,f=Ll(p,Tbe,e)*l%e,h=Ll(f,o,e)*f%e,m=Ll(h,i,e)*h%e,g=Ll(m,a,e)*m%e,y=Ll(g,c,e)*g%e,S=Ll(y,a,e)*m%e,v=Ll(S,n,e)*u%e,A=Ll(v,s,e)*h%e,w=Ll(A,r,e)*l%e,I=Ll(w,Tbe,e);if(!Ibe.eql(Ibe.sqr(I),t))throw new Error("Cannot find square root");return I}var Ibe=wht(kht,void 0,void 0,{sqrt:Q0n}),Og=Oht({a:BigInt(0),b:BigInt(7),Fp:Ibe,n:Pht,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Pht,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Y0n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=Dht(i*t,e),c=Dht(-r*t,e),l=Sa(t-a*n-c*o,e),u=Sa(-a*r-c*i,e),d=l>s,p=u>s;if(d&&(l=e-l),p&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},cP),s4o=BigInt(0);var a4o=Og.ProjectivePoint;var Dp="0x0000000000000000000000000000000000000000";var hI="0x0000000000000000000000000000000000000000000000000000000000000000";var Rbe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Cbe=BigInt("1000000000000000000"),Nbe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Obe=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Pbe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Dbe="\u039E",dP=`Ethereum Signed Message:
`;var Lht=BigInt(0),Mht=BigInt(1),Lbe=BigInt(2),Bht=BigInt(27),Uht=BigInt(28),jV=BigInt(35),$ht=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X0n=$ht/Lbe,Z0n=Symbol.for("nodejs.util.inspect.custom"),aE={};function kbe(t){return ci(tr(t),32)}var di=class t{#e;#t;#n;#r;get r(){return this.#e}set r(e){K(Jc(e)===32,"invalid r","value",e),this.#e=Ae(e)}get s(){return K(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){K(Jc(e)===32,"invalid s","value",e),this.#t=Ae(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=X0n}get v(){return this.#n}set v(e){let n=Ct(e,"value");K(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=Oe(this.s);return this.yParity&&(e[0]|=128),Ae(e)}get compactSerialized(){return Xt([this.r,this.yParityAndS])}get serialized(){return Xt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,o){$s(e,aE,"Signature"),this.#e=n,this.#t=r,this.#n=o,this.#r=null}getCanonical(){if(this.isValid())return this;let e=$ht-BigInt(this._s),n=55-this.v,r=new t(aE,this.r,kbe(e),n);return this.networkV&&(r.#r=this.networkV),r}clone(){let e=new t(aE,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[Z0n](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let n=Ze(e,"v");return n==Bht||n==Uht?Lht:(K(n>=jV,"invalid EIP-155 v","v",e),(n-jV)/Lbe)}static getChainIdV(e,n){return Ze(e)*Lbe+BigInt(35+n-27)}static getNormalizedV(e){let n=Ze(e);return n===Lht||n===Bht?27:n===Mht||n===Uht?28:(K(n>=jV,"invalid v","v",e),n&Mht?27:28)}static from(e){function n(l,u){K(l,u,"signature",e)}if(e==null)return new t(aE,hI,hI,27);if(typeof e=="string"){let l=Oe(e,"signature");if(l.length===64){let u=Ae(l.slice(0,32)),d=l.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new t(aE,u,Ae(d),p)}if(l.length===65){let u=Ae(l.slice(0,32)),d=Ae(l.slice(32,64)),p=t.getNormalizedV(l[64]);return new t(aE,u,d,p)}n(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let r=e.r;n(r!=null,"missing r");let o=kbe(r),i=(function(l,u){if(l!=null)return kbe(l);if(u!=null){n(Rn(u,32),"invalid yParityAndS");let d=Oe(u);return d[0]&=127,Ae(d)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:a}=(function(l,u,d){if(l!=null){let p=Ze(l);return{networkV:p>=jV?p:void 0,v:t.getNormalizedV(p)}}if(u!=null)return n(Rn(u,32),"invalid yParityAndS"),{v:Oe(u)[0]&128?28:27};if(d!=null){switch(Ct(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(aE,o,i,a);return s&&(c.#r=s),n(e.yParity==null||Ct(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var Hs=class t{#e;constructor(e){K(Jc(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=Ae(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){K(Jc(e)===32,"invalid digest length","digest",e);let n=Og.sign(Br(e),Br(this.#e),{lowS:!0});return di.from({r:hs(n.r,32),s:hs(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){let n=t.computePublicKey(e);return Ae(Og.getSharedSecret(Br(this.#e),Oe(n),!1))}static computePublicKey(e,n){let r=Oe(e,"key");if(r.length===32){let i=Og.getPublicKey(r,!!n);return Ae(i)}if(r.length===64){let i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}let o=Og.ProjectivePoint.fromHex(r);return Ae(o.toRawBytes(n))}static recoverPublicKey(e,n){K(Jc(e)===32,"invalid digest length","digest",e);let r=di.from(n),o=Og.Signature.fromCompact(Br(Xt([r.r,r.s])));o=o.addRecoveryBit(r.yParity);let i=o.recoverPublicKey(Br(e));return K(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){let o=Og.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),i=Og.ProjectivePoint.fromHex(t.computePublicKey(n).substring(2));return"0x"+o.add(i).toHex(!!r)}};function Fht(){Ip.lock(),xn.lock(),Ya.lock(),_a.lock(),Np.lock(),Op.lock(),Pp.lock(),ui.lock(),nE.lock(),_a.lock()}var e1n=BigInt(0),t1n=BigInt(36);function Hht(t){t=t.toLowerCase();let e=t.substring(2).split(""),n=new Uint8Array(40);for(let o=0;o<40;o++)n[o]=e[o].charCodeAt(0);let r=Oe(xn(n));for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(r[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}var Mbe={};for(let t=0;t<10;t++)Mbe[String(t)]=String(t);for(let t=0;t<26;t++)Mbe[String.fromCharCode(65+t)]=String(10+t);var Ght=15;function Vht(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Mbe[r]).join("");for(;e.length>=Ght;){let r=e.substring(0,Ght);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}var n1n=(function(){let t={};for(let e=0;e<36;e++){let n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function r1n(t){t=t.toLowerCase();let e=e1n;for(let n=0;n<t.length;n++)e=e*t1n+n1n[t[n]];return e}function Mt(t){if(K(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=Hht(t);return K(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){K(t.substring(2,4)===Vht(t),"bad icap checksum","address",t);let e=r1n(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Hht("0x"+e)}K(!1,"invalid address","address",t)}function Bbe(t){let e=BigInt(Mt(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Vht("XE00"+e)+e}function cE(t){let e=Mt(t.from),r=Ze(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Mt(nr(xn(ya([e,r])),12))}function Ube(t,e,n){let r=Mt(t),o=Oe(e,"salt"),i=Oe(n,"initCodeHash");return K(o.length===32,"salt must be 32 bytes","salt",e),K(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",n),Mt(nr(xn(Xt(["0xff",r,o,i])),12))}function gI(t){return t&&typeof t.getAddress=="function"}function Fbe(t){try{return Mt(t),!0}catch{}return!1}async function $be(t,e){let n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(de(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),K(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Mt(n)}function oo(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Mt(t):(de(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$be(t,e.resolveName(t)));if(gI(t))return $be(t,t.getAddress());if(t&&typeof t.then=="function")return $be(t,t);K(!1,"unsupported addressable value","target",t)}var kp={};function Nt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Ur(kp,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function dr(t,e){return new Ur(kp,`bytes${e||""}`,t,{size:e})}var zht=Symbol.for("_ethers_typed"),Ur=class t{type;value;#e;_typedSymbol;constructor(e,n,r,o){o==null&&(o=null),$s(kp,e,"Typed"),Be(this,{_typedSymbol:zht,type:n,value:r}),this.#e=o,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new t(kp,e,n)}static uint8(e){return Nt(e,8)}static uint16(e){return Nt(e,16)}static uint24(e){return Nt(e,24)}static uint32(e){return Nt(e,32)}static uint40(e){return Nt(e,40)}static uint48(e){return Nt(e,48)}static uint56(e){return Nt(e,56)}static uint64(e){return Nt(e,64)}static uint72(e){return Nt(e,72)}static uint80(e){return Nt(e,80)}static uint88(e){return Nt(e,88)}static uint96(e){return Nt(e,96)}static uint104(e){return Nt(e,104)}static uint112(e){return Nt(e,112)}static uint120(e){return Nt(e,120)}static uint128(e){return Nt(e,128)}static uint136(e){return Nt(e,136)}static uint144(e){return Nt(e,144)}static uint152(e){return Nt(e,152)}static uint160(e){return Nt(e,160)}static uint168(e){return Nt(e,168)}static uint176(e){return Nt(e,176)}static uint184(e){return Nt(e,184)}static uint192(e){return Nt(e,192)}static uint200(e){return Nt(e,200)}static uint208(e){return Nt(e,208)}static uint216(e){return Nt(e,216)}static uint224(e){return Nt(e,224)}static uint232(e){return Nt(e,232)}static uint240(e){return Nt(e,240)}static uint248(e){return Nt(e,248)}static uint256(e){return Nt(e,256)}static uint(e){return Nt(e,256)}static int8(e){return Nt(e,-8)}static int16(e){return Nt(e,-16)}static int24(e){return Nt(e,-24)}static int32(e){return Nt(e,-32)}static int40(e){return Nt(e,-40)}static int48(e){return Nt(e,-48)}static int56(e){return Nt(e,-56)}static int64(e){return Nt(e,-64)}static int72(e){return Nt(e,-72)}static int80(e){return Nt(e,-80)}static int88(e){return Nt(e,-88)}static int96(e){return Nt(e,-96)}static int104(e){return Nt(e,-104)}static int112(e){return Nt(e,-112)}static int120(e){return Nt(e,-120)}static int128(e){return Nt(e,-128)}static int136(e){return Nt(e,-136)}static int144(e){return Nt(e,-144)}static int152(e){return Nt(e,-152)}static int160(e){return Nt(e,-160)}static int168(e){return Nt(e,-168)}static int176(e){return Nt(e,-176)}static int184(e){return Nt(e,-184)}static int192(e){return Nt(e,-192)}static int200(e){return Nt(e,-200)}static int208(e){return Nt(e,-208)}static int216(e){return Nt(e,-216)}static int224(e){return Nt(e,-224)}static int232(e){return Nt(e,-232)}static int240(e){return Nt(e,-240)}static int248(e){return Nt(e,-248)}static int256(e){return Nt(e,-256)}static int(e){return Nt(e,-256)}static bytes1(e){return dr(e,1)}static bytes2(e){return dr(e,2)}static bytes3(e){return dr(e,3)}static bytes4(e){return dr(e,4)}static bytes5(e){return dr(e,5)}static bytes6(e){return dr(e,6)}static bytes7(e){return dr(e,7)}static bytes8(e){return dr(e,8)}static bytes9(e){return dr(e,9)}static bytes10(e){return dr(e,10)}static bytes11(e){return dr(e,11)}static bytes12(e){return dr(e,12)}static bytes13(e){return dr(e,13)}static bytes14(e){return dr(e,14)}static bytes15(e){return dr(e,15)}static bytes16(e){return dr(e,16)}static bytes17(e){return dr(e,17)}static bytes18(e){return dr(e,18)}static bytes19(e){return dr(e,19)}static bytes20(e){return dr(e,20)}static bytes21(e){return dr(e,21)}static bytes22(e){return dr(e,22)}static bytes23(e){return dr(e,23)}static bytes24(e){return dr(e,24)}static bytes25(e){return dr(e,25)}static bytes26(e){return dr(e,26)}static bytes27(e){return dr(e,27)}static bytes28(e){return dr(e,28)}static bytes29(e){return dr(e,29)}static bytes30(e){return dr(e,30)}static bytes31(e){return dr(e,31)}static bytes32(e){return dr(e,32)}static address(e){return new t(kp,"address",e)}static bool(e){return new t(kp,"bool",!!e)}static bytes(e){return new t(kp,"bytes",e)}static string(e){return new t(kp,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new t(kp,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===zht}static dereference(e,n){if(t.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};var qV=class extends $i{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Ur.dereference(n,"string");try{r=Mt(r)}catch(o){return this._throwError(o.message,n)}return e.writeValue(r)}decode(e){return Mt(hs(e.readValue(),20))}};var WV=class extends $i{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}};function Hbe(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{let u=l.localName;return de(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),de(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[u]=!0,n[u]})}else K(!1,"invalid tuple value","tuple",n);K(e.length===r.length,"types/value length mismatch","tuple",n);let o=new tE,i=new tE,s=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let d=i.length;c.encode(i,u);let p=o.writeUpdatableValue();s.push(f=>{p(f+d)})}else c.encode(o,u)}),s.forEach(c=>{c(o.length)});let a=t.appendWriter(o);return a+=t.appendWriter(i),a}function Gbe(t,e){let n=[],r=[],o=t.subReader(0);return e.forEach(i=>{let s=null;if(i.dynamic){let a=t.readIndex(),c=o.subReader(a);try{s=i.decode(c)}catch(l){if(lr(l,"BUFFER_OVERRUN"))throw l;s=l,s.baseType=i.name,s.name=i.localName,s.type=i.type}}else try{s=i.decode(t)}catch(a){if(lr(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=i.name,s.name=i.localName,s.type=i.type}if(s==null)throw new Error("investigate");n.push(s),r.push(i.localName||null)}),Tp.fromItems(n,r)}var KV=class extends $i{coder;length;constructor(e,n,r){let o=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",o,r,i),Be(this,{coder:e,length:n})}defaultValue(){let e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){let r=Ur.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let o=this.length;o===-1&&(o=r.length,e.writeValue(r.length)),Jv(r.length,o,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Hbe(e,i,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),de(n*Fs<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Fs,length:e.dataLength}));let r=[];for(let o=0;o<n;o++)r.push(new WV(this.coder));return Gbe(e,r)}};var JV=class extends $i{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){let r=Ur.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}};var pP=class extends $i{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Br(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}},YV=class extends pP{constructor(e){super("bytes",e)}decode(e){return Ae(super.decode(e))}};var QV=class extends $i{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Be(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Br(Ur.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return Ae(e.readBytes(this.size))}};var o1n=new Uint8Array([]),XV=class extends $i{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(o1n)}decode(e){return e.readBytes(0),null}};var i1n=BigInt(0),s1n=BigInt(1),a1n=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ZV=class extends $i{size;signed;constructor(e,n,r){let o=(n?"int":"uint")+e*8;super(o,o,r,!1),Be(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=Ze(Ur.dereference(n,this.type)),o=Dl(a1n,Fs*8);if(this.signed){let i=Dl(o,this.size*8-1);(r>i||r<-(i+s1n))&&this._throwError("value out-of-bounds",n),r=wg(r,8*Fs)}else(r<i1n||r>Dl(o,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Dl(e.readValue(),this.size*8);return this.signed&&(n=xg(n,this.size*8)),n}};var ez=class extends pP{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,rr(Ur.dereference(n,"string")))}decode(e){return li(super.decode(e))}};var lE=class extends $i{coders;constructor(e,n){let r=!1,o=[];e.forEach(s=>{s.dynamic&&(r=!0),o.push(s.type)});let i="tuple("+o.join(",")+")";super("tuple",i,n,r),Be(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});let n=this.coders.reduce((r,o)=>{let i=o.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,o)=>{let i=r.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[o]))}),Object.freeze(e)}encode(e,n){let r=Ur.dereference(n,"tuple");return Hbe(e,this.coders,r)}decode(e){return Gbe(e,this.coders)}};function Vbe(t,e){return{address:Mt(t),storageKeys:e.map((n,r)=>(K(Rn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Gs(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(K(n.length===2,"invalid slot set",`value[${r}]`,n),Vbe(n[0],n[1])):(K(n!=null&&typeof n=="object","invalid address-slot set","value",t),Vbe(n.address,n.storageKeys)));K(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(n=>{let r=t[n].reduce((o,i)=>(o[i]=!0,o),{});return Vbe(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function uE(t){return{address:Mt(t.address),nonce:Ze(t.nonce!=null?t.nonce:0),chainId:Ze(t.chainId!=null?t.chainId:0),signature:di.from(t.signature)}}function Lp(t){let e;return typeof t=="string"?e=Hs.computePublicKey(t,!1):e=t.publicKey,Mt(xn("0x"+e.substring(4)).substring(26))}function Mp(t,e){return Lp(Hs.recoverPublicKey(t,e))}var gs=BigInt(0),c1n=BigInt(2),l1n=BigInt(27),u1n=BigInt(28),d1n=BigInt(35),p1n=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),f1n=Symbol.for("nodejs.util.inspect.custom"),zbe=4096*32,tz=128;function m1n(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Oe(t.blobToKzgCommitment(Ae(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Oe(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Oe(t.blobToKZGCommitment(Ae(r)));K(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,o)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Oe(t.computeBlobProof(Ae(r),Ae(o)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,o);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Oe(t.computeBlobKZGProof(Ae(r),Ae(o)));K(!1,"unsupported KZG library","kzg",t)}}}function jht(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=ui(e).substring(4),"0x"+n}function yI(t){return t==="0x"?null:Mt(t)}function nz(t,e){try{return Gs(t)}catch(n){K(!1,n.message,e,t)}}function h1n(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let n=[];for(let r=0;r<t.length;r++){let o=t[r];if(!Array.isArray(o))throw new Error(`authorization[${r}]: invalid array`);if(o.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!o[1])throw new Error(`authorization[${r}]: null address`);n.push({address:yI(o[1]),nonce:$r(o[2],"nonce"),chainId:$r(o[0],"chainId"),signature:di.from({yParity:dE(o[3],"yParity"),r:ci(o[4],32),s:ci(o[5],32)})})}return n}catch(n){K(!1,n.message,e,t)}}function dE(t,e){return t==="0x"?0:Ct(t,e)}function $r(t,e){if(t==="0x")return gs;let n=Ze(t,e);return K(n<=p1n,"value exceeds uint size",e,n),n}function Jn(t,e){let n=Ze(t,"value"),r=tr(n);return K(r.length<=32,"value too large",`tx.${e}`,n),r}function rz(t){return Gs(t).map(e=>[e.address,e.storageKeys])}function g1n(t){return t.map(e=>[Jn(e.chainId,"chainId"),e.address,Jn(e.nonce,"nonce"),Jn(e.signature.yParity,"yParity"),tr(e.signature.r),tr(e.signature._s)])}function y1n(t,e){K(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)K(Rn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function b1n(t){let e=Ig(t);K(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let n={type:0,nonce:dE(e[0],"nonce"),gasPrice:$r(e[1],"gasPrice"),gasLimit:$r(e[2],"gasLimit"),to:yI(e[3]),value:$r(e[4],"value"),data:Ae(e[5]),chainId:gs};if(e.length===6)return n;let r=$r(e[6],"v"),o=$r(e[7],"r"),i=$r(e[8],"s");if(o===gs&&i===gs)n.chainId=r;else{let s=(r-d1n)/c1n;s<gs&&(s=gs),n.chainId=s,K(s!==gs||r===l1n||r===u1n,"non-canonical legacy v","v",e[6]),n.signature=di.from({r:ci(e[7],32),s:ci(e[8],32),v:r})}return n}function _1n(t,e){let n=[Jn(t.nonce,"nonce"),Jn(t.gasPrice||0,"gasPrice"),Jn(t.gasLimit,"gasLimit"),t.to||"0x",Jn(t.value,"value"),t.data],r=gs;if(t.chainId!=gs)r=Ze(t.chainId,"tx.chainId"),K(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==gs&&(n.push(tr(r)),n.push("0x"),n.push("0x")),ya(n);let o=BigInt(27+e.yParity);return r!==gs?o=di.getChainIdV(r,e.v):BigInt(e.v)!==o&&K(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(tr(o)),n.push(tr(e.r)),n.push(tr(e._s)),ya(n)}function oz(t,e){let n;try{if(n=dE(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{K(!1,"invalid yParity","yParity",e[0])}let r=ci(e[1],32),o=ci(e[2],32),i=di.from({r,s:o,yParity:n});t.signature=i}function S1n(t){let e=Ig(Oe(t).slice(1));K(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ae(t));let n={type:2,chainId:$r(e[0],"chainId"),nonce:dE(e[1],"nonce"),maxPriorityFeePerGas:$r(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$r(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$r(e[4],"gasLimit"),to:yI(e[5]),value:$r(e[6],"value"),data:Ae(e[7]),accessList:nz(e[8],"accessList")};return e.length===9||oz(n,e.slice(9)),n}function v1n(t,e){let n=[Jn(t.chainId,"chainId"),Jn(t.nonce,"nonce"),Jn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jn(t.maxFeePerGas||0,"maxFeePerGas"),Jn(t.gasLimit,"gasLimit"),t.to||"0x",Jn(t.value,"value"),t.data,rz(t.accessList||[])];return e&&(n.push(Jn(e.yParity,"yParity")),n.push(tr(e.r)),n.push(tr(e.s))),Xt(["0x02",ya(n)])}function E1n(t){let e=Ig(Oe(t).slice(1));K(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ae(t));let n={type:1,chainId:$r(e[0],"chainId"),nonce:dE(e[1],"nonce"),gasPrice:$r(e[2],"gasPrice"),gasLimit:$r(e[3],"gasLimit"),to:yI(e[4]),value:$r(e[5],"value"),data:Ae(e[6]),accessList:nz(e[7],"accessList")};return e.length===8||oz(n,e.slice(8)),n}function A1n(t,e){let n=[Jn(t.chainId,"chainId"),Jn(t.nonce,"nonce"),Jn(t.gasPrice||0,"gasPrice"),Jn(t.gasLimit,"gasLimit"),t.to||"0x",Jn(t.value,"value"),t.data,rz(t.accessList||[])];return e&&(n.push(Jn(e.yParity,"recoveryParam")),n.push(tr(e.r)),n.push(tr(e.s))),Xt(["0x01",ya(n)])}function x1n(t){let e=Ig(Oe(t).slice(1)),n="3",r=null,o=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";let s=e[1],a=e[2],c=e[3];K(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),K(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),K(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),K(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),K(s.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),o=[];for(let l=0;l<e[1].length;l++)o.push({data:s[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){n="3 (EIP-7594 network format)",r=Ct(e[1]);let s=e[2],a=e[3],c=e[4];K(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),K(Array.isArray(s),"invalid EIP-7594 network format: blobs not an array","fields[2]",s),K(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),K(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),K(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),K(s.length*tz===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),o=[];for(let l=0;l<s.length;l++){let u=[];for(let d=0;d<tz;d++)u.push(c[l*tz+d]);o.push({data:s[l],commitment:a[l],proof:Xt(u)})}e=e[0]}K(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Ae(t));let i={type:3,chainId:$r(e[0],"chainId"),nonce:dE(e[1],"nonce"),maxPriorityFeePerGas:$r(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$r(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$r(e[4],"gasLimit"),to:yI(e[5]),value:$r(e[6],"value"),data:Ae(e[7]),accessList:nz(e[8],"accessList"),maxFeePerBlobGas:$r(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};o&&(i.blobs=o),K(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),K(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)K(Rn(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||oz(i,e.slice(11)),i}function w1n(t,e,n){let r=[Jn(t.chainId,"chainId"),Jn(t.nonce,"nonce"),Jn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jn(t.maxFeePerGas||0,"maxFeePerGas"),Jn(t.gasLimit,"gasLimit"),t.to||Dp,Jn(t.value,"value"),t.data,rz(t.accessList||[]),Jn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),y1n(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(Jn(e.yParity,"yParity")),r.push(tr(e.r)),r.push(tr(e.s)),n)){if(t.blobWrapperVersion!=null){let o=tr(t.blobWrapperVersion),i=[];for(let{proof:s}of n){let a=Oe(s),c=a.length/tz;for(let l=0;l<a.length;l+=c)i.push(a.subarray(l,l+c))}return Xt(["0x03",ya([r,o,n.map(s=>s.data),n.map(s=>s.commitment),i])])}return Xt(["0x03",ya([r,n.map(o=>o.data),n.map(o=>o.commitment),n.map(o=>o.proof)])])}return Xt(["0x03",ya(r)])}function T1n(t){let e=Ig(Oe(t).slice(1));K(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ae(t));let n={type:4,chainId:$r(e[0],"chainId"),nonce:dE(e[1],"nonce"),maxPriorityFeePerGas:$r(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$r(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$r(e[4],"gasLimit"),to:yI(e[5]),value:$r(e[6],"value"),data:Ae(e[7]),accessList:nz(e[8],"accessList"),authorizationList:h1n(e[9],"authorizationList")};return e.length===10||oz(n,e.slice(10)),n}function I1n(t,e){let n=[Jn(t.chainId,"chainId"),Jn(t.nonce,"nonce"),Jn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jn(t.maxFeePerGas||0,"maxFeePerGas"),Jn(t.gasLimit,"gasLimit"),t.to||"0x",Jn(t.value,"value"),t.data,rz(t.accessList||[]),g1n(t.authorizationList||[])];return e&&(n.push(Jn(e.yParity,"yParity")),n.push(tr(e.r)),n.push(tr(e.s))),Xt(["0x04",ya(n)])}var Ml=class t{#e;#t;#n;#r;#o;#i;#s;#a;#u;#l;#f;#m;#c;#d;#p;#h;#b;#g;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:K(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Dp:e}set to(e){this.#t=e==null?null:Mt(e)}get nonce(){return this.#r}set nonce(e){this.#r=Ct(e,"value")}get gasLimit(){return this.#o}set gasLimit(e){this.#o=Ze(e)}get gasPrice(){let e=this.#i;return e==null&&(this.type===0||this.type===1)?gs:e}set gasPrice(e){this.#i=e==null?null:Ze(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?gs:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:Ze(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?gs:null)}set maxFeePerGas(e){this.#a=e==null?null:Ze(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=Ae(e)}get value(){return this.#u}set value(e){this.#u=Ze(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=Ze(e)}get signature(){return this.#f||null}set signature(e){this.#f=e==null?null:di.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let n=this.authorizationList;if(n){for(let r of n)if(!r.signature.isValid())return!1}return!0}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:Gs(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(n=>uE(n))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?gs:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Ze(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#d;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){K(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)K(Rn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#d=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let n=[],r=[];for(let o=0;o<e.length;o++){let i=e[o];if(Ep(i)){de(this.#p,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Oe(i);if(K(s.length<=zbe,"blob is too large",`blobs[${o}]`,i),s.length!==zbe){let l=new Uint8Array(zbe);l.set(s),s=l}let a=this.#p.blobToKzgCommitment(s),c=Ae(this.#p.computeBlobKzgProof(s,a));n.push({data:Ae(s),commitment:Ae(a),proof:c}),r.push(jht(1,a))}else{let s=Ae(i.data),a=Ae(i.commitment),c=Ae(i.proof);n.push({data:s,commitment:a,proof:c}),r.push(jht(1,a))}}this.#h=n,this.#d=r}get kzg(){return this.#p}set kzg(e){e==null?this.#p=null:this.#p=m1n(e)}get blobWrapperVersion(){return this.#g}set blobWrapperVersion(e){this.#g=e}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#o=gs,this.#i=null,this.#s=null,this.#a=null,this.#n="0x",this.#u=gs,this.#l=gs,this.#f=null,this.#m=null,this.#c=null,this.#d=null,this.#p=null,this.#h=null,this.#b=null,this.#g=null}get hash(){return this.signature==null?null:xn(this.#y(!0,!1))}get unsignedHash(){return xn(this.unsignedSerialized)}get from(){return this.signature==null?null:Mp(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Hs.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#y(e,n){de(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return _1n(this,r);case 1:return A1n(this,r);case 2:return v1n(this,r);case 3:return w1n(this,r,n?this.blobs:null);case 4:return I1n(this,r)}de(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,o=this.#c!=null||this.#d;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&de(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),de(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),de(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(o&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[f1n](){return this.toString()}toString(){let e=[],n=o=>{let i=this[o];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${o}: ${i}`)};this.type&&n("type"),n("to"),n("data"),n("nonce"),n("gasLimit"),n("value"),this.chainId!=null&&n("chainId"),this.signature&&(n("from"),e.push(`signature: ${this.signature.toString()}`));let r=this.authorizationList;if(r){let o=[];for(let i of r){let s=[];s.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&s.push(`nonce: ${i.nonce}`),i.chainId!=null&&s.push(`chainId: ${i.chainId}`),i.signature&&s.push(`signature: ${i.signature.toString()}`),o.push(`Authorization { ${s.join(", ")} }`)}e.push(`authorizations: [ ${o.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new t;if(typeof e=="string"){let r=Oe(e);if(r[0]>=127)return t.from(b1n(r));switch(r[0]){case 1:return t.from(E1n(r));case 2:return t.from(S1n(r));case 3:return t.from(x1n(r));case 4:return t.from(T1n(r))}de(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let n=new t;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=di.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobWrapperVersion!=null&&(n.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(K(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),K(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(K(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),K(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};function bI(t){return K(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),xn(Xt(["0x05",ya([t.chainId!=null?tr(t.chainId):"0x",Mt(t.address),t.nonce!=null?tr(t.nonce):"0x"])]))}function jbe(t,e){return Mp(bI(t),e)}function Bo(t){return xn(rr(t))}var R1n="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",qht=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Wht=4;function C1n(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),o=1,i=[0,1];for(let w=1;w<r;w++)i.push(o+=n());let s=n(),a=e;e+=s;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let d=31,p=2**d,f=p>>>1,h=f>>1,m=p-1,g=0;for(let w=0;w<d;w++)g=g<<1|u();let y=[],S=0,v=p;for(;;){let w=Math.floor(((g-S+1)*o-1)/v),I=0,D=r;for(;D-I>1;){let U=I+D>>>1;w<i[U]?D=U:I=U}if(I==0)break;y.push(I);let k=S+Math.floor(v*i[I]/o),O=S+Math.floor(v*i[I+1]/o)-1;for(;((k^O)&f)==0;)g=g<<1&m|u(),k=k<<1&m,O=O<<1&m|1;for(;k&~O&h;)g=g&f|g<<1&m>>>1|u(),k=k<<1^f,O=(O^f)<<1|f|1;S=k,v=1+O-k}let A=r-4;return y.map(w=>{switch(w-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return w-1}})}function N1n(t){let e=0;return()=>t[e++]}function Qht(t){return N1n(C1n(O1n(t)))}function O1n(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((o,i)=>e[o.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let o=0,i=0,s=0,a=0;o<n;o++)a=a<<6|e[t.charCodeAt(o)],s+=6,s>=8&&(r[i++]=a>>(s-=8));return r}function P1n(t){return t&1?~t>>1:t>>1}function D1n(t,e){let n=Array(t);for(let r=0,o=0;r<t;r++)n[r]=o+=P1n(e());return n}function hP(t,e=0){let n=[];for(;;){let r=t(),o=t();if(!o)break;e+=r;for(let i=0;i<o;i++)n.push(e+i);e+=o+1}return n}function Xht(t){return gP(()=>{let e=hP(t);if(e.length)return e})}function Zht(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(k1n(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(L1n(n,t))}return e.flat()}function gP(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function egt(t,e,n){let r=Array(t).fill().map(()=>[]);for(let o=0;o<e;o++)D1n(t,n).forEach((i,s)=>r[s].push(i));return r}function k1n(t,e){let n=1+e(),r=e(),o=gP(e);return egt(o.length,1+t,e).flatMap((s,a)=>{let[c,...l]=s;return Array(o[a]).fill().map((u,d)=>{let p=d*r;return[c+d*n,l.map(f=>f+p)]})})}function L1n(t,e){let n=1+e();return egt(n,1+t,e).map(o=>[o[0],o.slice(1)])}function M1n(t){let e=[],n=hP(t);return o(r([]),[]),e;function r(i){let s=t(),a=gP(()=>{let c=hP(t).map(l=>n[l]);if(c.length)return r(c)});return{S:s,B:a,Q:i}}function o({S:i,B:s},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of s)for(let u of l.Q)o(l,[...a,u],c)}}}function B1n(t){return t.toString(16).toUpperCase().padStart(2,"0")}function tgt(t){return`{${B1n(t)}}`}function U1n(t){let e=[];for(let n=0,r=t.length;n<r;){let o=t.codePointAt(n);n+=o<65536?1:2,e.push(o)}return e}function vI(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let o=0;o<n;)r.push(String.fromCodePoint(...t.slice(o,o+=4096)));return r.join("")}function $1n(t,e){let n=t.length,r=n-e.length;for(let o=0;r==0&&o<n;o++)r=t[o]-e[o];return r}var F1n="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",yP=44032,sz=4352,az=4449,cz=4519,ngt=19,rgt=21,EI=28,lz=rgt*EI,H1n=ngt*lz,G1n=yP+H1n,V1n=sz+ngt,z1n=az+rgt,j1n=cz+EI;function fP(t){return t>>24&255}function ogt(t){return t&16777215}var Wbe,Kht,Kbe,iz;function q1n(){let t=Qht(F1n);Wbe=new Map(Xht(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Kht=new Set(hP(t)),Kbe=new Map,iz=new Map;for(let[e,n]of Zht(t)){if(!Kht.has(e)&&n.length==2){let[r,o]=n,i=iz.get(r);i||(i=new Map,iz.set(r,i)),i.set(o,e)}Kbe.set(e,n.reverse())}}function igt(t){return t>=yP&&t<G1n}function W1n(t,e){if(t>=sz&&t<V1n&&e>=az&&e<z1n)return yP+(t-sz)*lz+(e-az)*EI;if(igt(t)&&e>cz&&e<j1n&&(t-yP)%EI==0)return t+(e-cz);{let n=iz.get(t);return n&&(n=n.get(e),n)?n:-1}}function sgt(t){Wbe||q1n();let e=[],n=[],r=!1;function o(i){let s=Wbe.get(i);s&&(r=!0,i|=s),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(igt(i)){let s=i-yP,a=s/lz|0,c=s%lz/EI|0,l=s%EI;o(sz+a),o(az+c),l>0&&o(cz+l)}else{let s=Kbe.get(i);s?n.push(...s):o(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=fP(e[0]);for(let s=1;s<e.length;s++){let a=fP(e[s]);if(a==0||i<=a){i=a;continue}let c=s-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=fP(e[--c]),i<=a))break}i=fP(e[s])}}return e}function K1n(t){let e=[],n=[],r=-1,o=0;for(let i of t){let s=fP(i),a=ogt(i);if(r==-1)s==0?r=a:e.push(a);else if(o>0&&o>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),o=s;else{let c=W1n(r,a);c>=0?r=c:o==0&&s==0?(e.push(r),r=a):(n.push(a),o=s)}}return r>=0&&e.push(r,...n),e}function agt(t){return sgt(t).map(ogt)}function J1n(t){return K1n(sgt(t))}var Jht=45;var cgt=".",lgt=65039,ugt=1,uz=t=>Array.from(t);function bP(t,e){return t.P.has(e)||t.Q.has(e)}var Jbe=class extends Array{get is_emoji(){return!0}},Ybe,dgt,fE,Qbe,pgt,Y1n,SI,qbe,_I,pE,Yht,Xbe;function Zbe(){if(Ybe)return;let t=Qht(R1n),e=()=>hP(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(p=>u.add(p));Ybe=new Map(Zht(t)),dgt=n(),fE=e(),Qbe=new Set(e().map(u=>fE[u])),fE=new Set(fE),pgt=n(),Y1n=n();let o=Xht(t),i=t(),s=()=>{let u=new Set;return e().forEach(d=>r(u,o[d])),r(u,e()),u};SI=gP(u=>{let d=gP(t).map(p=>p+96);if(d.length){let p=u>=i;d[0]-=32,d=vI(d),p&&(d=`Restricted[${d}]`);let f=s(),h=s(),m=!t();return{N:d,P:f,Q:h,M:m,R:p}}}),qbe=n(),_I=new Map;let a=e().concat(uz(qbe)).sort((u,d)=>u-d);a.forEach((u,d)=>{let p=t(),f=a[d]=p?a[d-p]:{V:[],M:new Map};f.V.push(u),qbe.has(u)||_I.set(u,f)});for(let{V:u,M:d}of new Set(_I.values())){let p=[];for(let h of u){let m=SI.filter(y=>bP(y,h)),g=p.find(({G:y})=>m.some(S=>y.has(S)));g||(g={G:new Set,V:[]},p.push(g)),g.V.push(h),r(g.G,m)}let f=p.flatMap(h=>uz(h.G));for(let{G:h,V:m}of p){let g=new Set(f.filter(y=>!h.has(y)));for(let y of m)d.set(y,g)}}pE=new Set;let c=new Set,l=u=>pE.has(u)?c.add(u):pE.add(u);for(let u of SI){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of pE)!_I.has(u)&&!c.has(u)&&_I.set(u,ugt);r(pE,agt(pE)),Yht=M1n(t).map(u=>Jbe.from(u)).sort($1n),Xbe=new Map;for(let u of Yht){let d=[Xbe];for(let p of u){let f=d.map(h=>{let m=h.get(p);return m||(m=new Map,h.set(p,m)),m});p===lgt?d.push(...f):d=f}for(let p of d)p.V=u}}function e_e(t){return(fgt(t)?"":`${t_e(dz([t]))} `)+tgt(t)}function t_e(t){return`"${t}"\u200E`}function Q1n(t){if(t.length>=4&&t[2]==Jht&&t[3]==Jht)throw new Error(`invalid label extension: "${vI(t.slice(0,4))}"`)}function X1n(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Z1n(t){let e=t[0],n=qht.get(e);if(n)throw mP(`leading ${n}`);let r=t.length,o=-1;for(let i=1;i<r;i++){e=t[i];let s=qht.get(e);if(s){if(o==i)throw mP(`${n} + ${s}`);o=i+1,n=s}}if(o==r)throw mP(`trailing ${n}`)}function dz(t,e=1/0,n=tgt){let r=[];eyn(t[0])&&r.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let o=0,i=t.length;for(let s=0;s<i;s++){let a=t[s];fgt(a)&&(r.push(vI(t.slice(o,s))),r.push(n(a)),o=s+1)}return r.push(vI(t.slice(o,i))),r.join("")}function eyn(t){return Zbe(),fE.has(t)}function fgt(t){return Zbe(),pgt.has(t)}function mgt(t){return oyn(tyn(t,J1n,ayn))}function tyn(t,e,n){if(!t)return[];Zbe();let r=0;return t.split(cgt).map(o=>{let i=U1n(o),s={input:i,offset:r};r+=i.length+1;try{let a=s.tokens=syn(i,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=s.output=a.flat();if(X1n(u),!(s.emoji=c>1||a[0].is_emoji)&&u.every(p=>p<128))Q1n(u),l="ASCII";else{let p=a.flatMap(f=>f.is_emoji?[]:f);if(!p.length)l="Emoji";else{if(fE.has(u[0]))throw mP("leading combining mark");for(let m=1;m<c;m++){let g=a[m];if(!g.is_emoji&&fE.has(g[0]))throw mP(`emoji + combining mark: "${vI(a[m-1])} + ${dz([g[0]])}"`)}Z1n(u);let f=uz(new Set(p)),[h]=ryn(f);iyn(h,p),nyn(h,f),l=h.N}}s.type=l}catch(a){s.error=a}return s})}function nyn(t,e){let n,r=[];for(let o of e){let i=_I.get(o);if(i===ugt)return;if(i){let s=i.M.get(o);if(n=n?n.filter(a=>s.has(a)):uz(s),!n.length)return}else r.push(o)}if(n){for(let o of n)if(r.every(i=>bP(o,i)))throw new Error(`whole-script confusable: ${t.N}/${o.N}`)}}function ryn(t){let e=SI;for(let n of t){let r=e.filter(o=>bP(o,n));if(!r.length)throw SI.some(o=>bP(o,n))?ggt(e[0],n):hgt(n);if(e=r,r.length==1)break}return e}function oyn(t){return t.map(({input:e,error:n,output:r})=>{if(n){let o=n.message;throw new Error(t.length==1?o:`Invalid label ${t_e(dz(e,63))}: ${o}`)}return vI(r)}).join(cgt)}function hgt(t){return new Error(`disallowed character: ${e_e(t)}`)}function ggt(t,e){let n=e_e(e),r=SI.find(o=>o.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function mP(t){return new Error(`illegal placement: ${t}`)}function iyn(t,e){for(let n of e)if(!bP(t,n))throw ggt(t,n);if(t.M){let n=agt(e);for(let r=1,o=n.length;r<o;r++)if(Qbe.has(n[r])){let i=r+1;for(let s;i<o&&Qbe.has(s=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${e_e(s)}`);if(i-r>Wht)throw new Error(`excessive non-spacing marks: ${t_e(dz(n.slice(r-1,i)))} (${i-r}/${Wht})`);r=i}}}function syn(t,e,n){let r=[],o=[];for(t=t.slice().reverse();t.length;){let i=cyn(t);if(i)o.length&&(r.push(e(o)),o=[]),r.push(n(i));else{let s=t.pop();if(pE.has(s))o.push(s);else{let a=Ybe.get(s);if(a)o.push(...a);else if(!dgt.has(s))throw hgt(s)}}}return o.length&&r.push(e(o)),r}function ayn(t){return t.filter(e=>e!=lgt)}function cyn(t,e){let n=Xbe,r,o=t.length;for(;o&&(n=n.get(t[--o]),!!n);){let{V:i}=n;i&&(r=i,e&&e.push(...t.slice(o).reverse()),t.length=o)}return r}var bgt=new Uint8Array(32);bgt.fill(0);function ygt(t){return K(t.length!==0,"invalid ENS name; empty component","comp",t),t}function n_e(t){let e=rr(pz(t)),n=[];if(t.length===0)return n;let r=0;for(let o=0;o<e.length;o++)e[o]===46&&(n.push(ygt(e.slice(r,o))),r=o+1);return K(r<e.length,"invalid ENS name; empty component","name",t),n.push(ygt(e.slice(r))),n}function pz(t){try{if(t.length===0)throw new Error("empty label");return mgt(t)}catch(e){K(!1,`invalid ENS name (${e.message})`,"name",t)}}function r_e(t){try{return n_e(t).length!==0}catch{}return!1}function jy(t){K(typeof t=="string","invalid ENS name; not a string","name",t),K(t.length,"invalid ENS name (empty label)","name",t);let e=bgt,n=n_e(t);for(;n.length;)e=xn(Xt([e,xn(n.pop())]));return Ae(e)}function _P(t,e){let n=e??63;return K(n<=255,"DNS encoded label cannot exceed 255","length",n),Ae(Xt(n_e(t).map(r=>{K(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);let o=new Uint8Array(r.length+1);return o.set(r,1),o[0]=o.length-1,o})))+"00"}function AI(t){return typeof t=="string"&&(t=rr(t)),xn(Xt([rr(dP),rr(String(t.length)),t]))}function o_e(t,e){let n=AI(t);return Mp(n,e)}var lyn=new RegExp("^bytes([0-9]+)$"),uyn=new RegExp("^(u?int)([0-9]*)$"),dyn=new RegExp("^(.*)\\[([0-9]*)\\]$");function _gt(t,e,n){switch(t){case"address":return n?Oe(ci(e,32)):Oe(Mt(e));case"string":return rr(e);case"bytes":return Oe(e);case"bool":return e=e?"0x01":"0x00",n?Oe(ci(e,32)):Oe(e)}let r=t.match(uyn);if(r){let o=r[1]==="int",i=parseInt(r[2]||"256");return K((!r[2]||r[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",t),n&&(i=256),o&&(e=wg(e,i)),Oe(ci(tr(e),i/8))}if(r=t.match(lyn),r){let o=parseInt(r[1]);return K(String(o)===r[1]&&o!==0&&o<=32,"invalid bytes type","type",t),K(Jc(e)===o,`invalid value for ${t}`,"value",e),n?Oe(Ag(e,32)):e}if(r=t.match(dyn),r&&Array.isArray(e)){let o=r[1],i=parseInt(r[2]||String(e.length));K(i===e.length,`invalid array length for ${t}`,"value",e);let s=[];return e.forEach(function(a){s.push(_gt(o,a,!0))}),Oe(Xt(s))}K(!1,"invalid type","type",t)}function SP(t,e){K(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let n=[];return t.forEach(function(r,o){n.push(_gt(r,e[o]))}),Ae(Xt(n))}function i_e(t,e){return xn(SP(t,e))}function s_e(t,e){return ui(SP(t,e))}var Agt=new Uint8Array(32);Agt.fill(0);var pyn=BigInt(-1),xgt=BigInt(0),wgt=BigInt(1),fyn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function myn(t){let e=Oe(t),n=e.length%32;return n?Xt([e,Agt.slice(n)]):Ae(e)}var hyn=hs(wgt,32),gyn=hs(xgt,32),Sgt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},a_e=["name","version","chainId","verifyingContract","salt"];function vgt(t){return function(e){return K(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var yyn={name:vgt("name"),version:vgt("version"),chainId:function(t){let e=Ze(t,"domain.chainId");return K(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Xi(e)},verifyingContract:function(t){try{return Mt(t).toLowerCase()}catch{}K(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=Oe(t,"domain.salt");return K(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ae(e)}};function c_e(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let n=e[1]==="",r=parseInt(e[2]);K(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);let o=Dl(fyn,n?r-1:r),i=n?(o+wgt)*pyn:xgt;return function(s){let a=Ze(s,"value");return K(a>=i&&a<=o,`value out-of-bounds for ${t}`,"value",a),hs(n?wg(a,256):a,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let n=parseInt(e[1]);return K(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){let o=Oe(r);return K(o.length===n,`invalid length for ${t}`,"value",r),myn(r)}}}switch(t){case"address":return function(e){return ci(Mt(e),32)};case"bool":return function(e){return e?hyn:gyn};case"bytes":return function(e){return xn(e)};case"string":return function(e){return Bo(e)}}return null}function Egt(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function fz(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Sd=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;let n=new Map,r=new Map,o=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:p}=fz(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(p||"")}}),n.set(c,new Set),r.set(c,[]),o.set(c,new Set)}),this.#e=JSON.stringify(i);for(let c in i){let l=new Set;for(let u of i[c]){K(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let d=fz(u.type).base;K(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!c_e(d)&&(K(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),n.get(c).add(d))}}let s=Array.from(r.keys()).filter(c=>r.get(c).length===0);K(s.length!==0,"missing primary type","types",e),K(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Be(this,{primaryType:s[0]});function a(c,l){K(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of n.get(c))if(r.has(u)){a(u,l);for(let d of l)o.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of o){let u=Array.from(l);u.sort(),this.#t.set(c,Egt(c,i[c])+u.map(d=>Egt(d,i[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{let o=c_e(e);if(o)return o}let n=fz(e).array;if(n){let o=n.prefix,i=this.getEncoder(o);return s=>{K(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(i);return this.#t.has(o)&&(a=a.map(xn)),xn(Xt(a))}}let r=this.types[e];if(r){let o=Bo(this.#t.get(e));return i=>{let s=r.map(({name:a,type:c})=>{let l=this.getEncoder(c)(i[a]);return this.#t.has(c)?xn(l):l});return s.unshift(o),Xt(s)}}K(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let n=this.#t.get(e);return K(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return xn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(c_e(e))return r(e,n);let o=fz(e).array;if(o)return K(o.count===-1||o.count===n.length,`array length mismatch; expected length ${o.count}`,"value",n),n.map(s=>this._visit(o.prefix,s,r));let i=this.types[e];if(i)return i.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,n[a],r),s),{});K(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,n,r){return t.from(n).hashStruct(e,r)}static hashDomain(e){let n=[];for(let r in e){if(e[r]==null)continue;let o=Sgt[r];K(o,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:o})}return n.sort((r,o)=>a_e.indexOf(r.name)-a_e.indexOf(o.name)),t.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Xt(["0x1901",t.hashDomain(e),t.from(n).hash(r)])}static hash(e,n,r){return xn(t.encode(e,n,r))}static async resolveNames(e,n,r,o){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!Rn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=t.from(n);s.visit(r,(a,c)=>(a==="address"&&!Rn(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await o(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,n,r){t.hashDomain(e);let o={},i=[];a_e.forEach(c=>{let l=e[c];l!=null&&(o[c]=yyn[c](l),i.push({name:c,type:Sgt[c]}))});let s=t.from(n);n=s.types;let a=Object.assign({},n);return K(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,s.encode(r),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Ae(Oe(l));if(c.match(/^u?int/))return Ze(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return K(typeof l=="string","invalid string","value",l),l}K(!1,"unsupported type","type",c)})}}};function l_e(t,e,n,r){return Mp(Sd.hash(t,e,n),r)}function Qa(t){let e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}var byn="external public payable override",_yn=Qa(byn.split(" ")),Lgt="constant external internal payable private public pure view override",Syn=Qa(Lgt.split(" ")),Mgt="constructor error event fallback function receive struct",Bgt=Qa(Mgt.split(" ")),Ugt="calldata memory storage payable indexed",vyn=Qa(Ugt.split(" ")),Eyn="tuple returns",Ayn=[Mgt,Ugt,Eyn,Lgt].join(" "),xyn=Qa(Ayn.split(" ")),wyn={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Tyn=new RegExp("^(\\s*)"),Iyn=new RegExp("^([0-9]+)"),Ryn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),$gt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Fgt=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Bp=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new t(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){let n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=[];for(;this.#e<e.match-1;){let r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;let n=this.peek();return n.type===e?n.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let n=this.#e;n<this.#t.length;n++){let r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};function Wy(t){let e=[],n=s=>{let a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${s}`)},r=[],o=[],i=0;for(;i<t.length;){let s=t.substring(i),a=s.match(Tyn);a&&(i+=a[1].length,s=t.substring(i));let c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=wyn[s[0]]||"";if(l){if(c.type=l,c.text=s[0],i++,l==="OPEN_PAREN")r.push(e.length-1),o.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=o.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=o.pop(),e[c.linkBack].linkNext=e.length-1,o.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;u=d+u,e[e.length-1].value=Ct(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Ryn),a){if(c.text=a[1],i+=c.text.length,xyn.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Fgt)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(Iyn),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${i}`)}return new Bp(e.map(s=>Object.freeze(s)))}function Tgt(t,e){let n=[];for(let r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function mz(t,e){if(e.peekKeyword(Bgt)){let n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Dg(t,e){let n=new Set;for(;;){let r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Hgt(t){let e=Dg(t,Syn);return Tgt(e,Qa("constant payable nonpayable".split(" "))),Tgt(e,Qa("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Pg(t,e){return t.popParams().map(n=>ei.from(n,e))}function Ggt(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ze(t.pop().text);throw new Error("invalid gas")}return null}function mE(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var Cyn=new RegExp(/^(.*)\[([0-9]*)\]$/);function Igt(t){let e=t.match(Fgt);if(K(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let n=parseInt(e[2]);K(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){let n=parseInt(e[3]);K(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}var Uo={},Yc=Symbol.for("_ethers_internal"),Rgt="_ParamTypeInternal",Cgt="_ErrorInternal",Ngt="_EventInternal",Ogt="_ConstructorInternal",Pgt="_FallbackInternal",Dgt="_FunctionInternal",kgt="_StructInternal",ei=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,o,i,s,a,c){if($s(e,Uo,"ParamType"),Object.defineProperty(this,Yc,{value:Rgt}),s&&(s=Object.freeze(s.slice())),o==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(o==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Be(this,{name:n,type:r,baseType:o,indexed:i,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let r=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let o={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(o)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let r=this;return e.map(o=>r.arrayChildren.walk(o,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let r=this;return e.map((o,i)=>r.components[i].walk(o,n))}return n(this.type,e)}#e(e,n,r,o){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");let s=this.arrayChildren,a=n.slice();a.forEach((c,l)=>{s.#e(e,c,r,u=>{a[l]=u})}),o(a);return}if(this.isTuple()){let s=this.components,a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{s[l].#e(e,c,r,u=>{a[l]=u})}),o(a);return}let i=r(this.type,n);i.then?e.push((async function(){o(await i)})()):o(i)}async walkAsync(e,n){let r=[],o=[e];return this.#e(r,e,n,i=>{o[0]=i}),r.length&&await Promise.all(r),o[0]}static from(e,n){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(Wy(e),n)}catch{K(!1,"invalid param type","obj",e)}else if(e instanceof Bp){let a="",c="",l=null;Dg(e,Qa(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>t.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=Igt(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new t(Uo,"",a,c,null,l,d,u),d=m.value,a+=m.text,c="array",l=null}let p=null;if(Dg(e,vyn).has("indexed")){if(!n)throw new Error("");p=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(Uo,h,a,c,p,l,d,u)}let r=e.name;K(!r||typeof r=="string"&&r.match($gt),"invalid name","obj.name",r);let o=e.indexed;o!=null&&(K(n,"parameter cannot be indexed","obj.indexed",e.indexed),o=!!o);let i=e.type,s=i.match(Cyn);if(s){let a=parseInt(s[2]||"-1"),c=t.from({type:s[1],components:e.components});return new t(Uo,r||"",i,"array",o,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(l=>t.from(l)):null;return new t(Uo,r||"",i,"tuple",o,a,null,null)}return i=Igt(e.type),new t(Uo,r||"",i,i,o,null,null,null)}static isParamType(e){return e&&e[Yc]===Rgt}},fm=class t{type;inputs;constructor(e,n,r){$s(e,Uo,"Fragment"),r=Object.freeze(r.slice()),Be(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(Wy(e))}if(e instanceof Bp)switch(e.peekKeyword(Bgt)){case"constructor":return dm.from(e);case"error":return Xa.from(e);case"event":return um.from(e);case"fallback":case"receive":return hE.from(e);case"function":return pm.from(e);case"struct":return qy.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return dm.from(e);case"error":return Xa.from(e);case"event":return um.from(e);case"fallback":case"receive":return hE.from(e);case"function":return pm.from(e);case"struct":return qy.from(e)}de(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}K(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return dm.isFragment(e)}static isError(e){return Xa.isFragment(e)}static isEvent(e){return um.isFragment(e)}static isFunction(e){return pm.isFragment(e)}static isStruct(e){return qy.isFragment(e)}},kg=class extends fm{name;constructor(e,n,r,o){super(e,n,o),K(typeof r=="string"&&r.match($gt),"invalid identifier","name",r),o=Object.freeze(o.slice()),Be(this,{name:r})}};function vP(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}var Xa=class t extends kg{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Yc,{value:Cgt})}get selector(){return Bo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+vP(e,this.inputs)),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(Wy(e));if(e instanceof Bp){let n=mz("error",e),r=Pg(e);return mE(e),new t(Uo,n,r)}return new t(Uo,e.name,e.inputs?e.inputs.map(ei.from):[])}static isFragment(e){return e&&e[Yc]===Cgt}},um=class t extends kg{anonymous;constructor(e,n,r,o){super(e,"event",n,r),Object.defineProperty(this,Yc,{value:Ngt}),Be(this,{anonymous:o})}get topicHash(){return Bo(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+vP(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(o=>ei.from(o)),new t(Uo,e,n,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Wy(e))}catch{K(!1,"invalid event fragment","obj",e)}else if(e instanceof Bp){let n=mz("event",e),r=Pg(e,!0),o=!!Dg(e,Qa(["anonymous"])).has("anonymous");return mE(e),new t(Uo,n,r,o)}return new t(Uo,e.name,e.inputs?e.inputs.map(n=>ei.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Yc]===Ngt}},dm=class t extends fm{payable;gas;constructor(e,n,r,o,i){super(e,n,r),Object.defineProperty(this,Yc,{value:Ogt}),Be(this,{payable:o,gas:i})}format(e){if(de(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[`constructor${vP(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Wy(e))}catch{K(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Bp){Dg(e,Qa(["constructor"]));let n=Pg(e),r=!!Dg(e,_yn).has("payable"),o=Ggt(e);return mE(e),new t(Uo,"constructor",n,r,o)}return new t(Uo,"constructor",e.inputs?e.inputs.map(ei.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yc]===Ogt}},hE=class t extends fm{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Yc,{value:Pgt}),Be(this,{payable:r})}format(e){let n=this.inputs.length===0?"receive":"fallback";if(e==="json"){let r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Wy(e))}catch{K(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Bp){let n=e.toString(),r=e.peekKeyword(Qa(["fallback","receive"]));if(K(r,"type must be fallback or receive","obj",n),e.popKeyword(Qa(["fallback","receive"]))==="receive"){let a=Pg(e);return K(a.length===0,"receive cannot have arguments","obj.inputs",a),Dg(e,Qa(["payable"])),mE(e),new t(Uo,[],!0)}let i=Pg(e);i.length?K(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[ei.from("bytes")];let s=Hgt(e);if(K(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Dg(e,Qa(["returns"])).has("returns")){let a=Pg(e);K(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return mE(e),new t(Uo,i,s==="payable")}if(e.type==="receive")return new t(Uo,[],!0);if(e.type==="fallback"){let n=[ei.from("bytes")],r=e.stateMutability==="payable";return new t(Uo,n,r)}K(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Yc]===Pgt}},pm=class t extends kg{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,o,i,s){super(e,"function",n,o),Object.defineProperty(this,Yc,{value:Dgt}),i=Object.freeze(i.slice()),Be(this,{constant:r==="view"||r==="pure",gas:s,outputs:i,payable:r==="payable",stateMutability:r})}get selector(){return Bo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+vP(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(vP(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(o=>ei.from(o)),new t(Uo,e,"view",n,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Wy(e))}catch{K(!1,"invalid function fragment","obj",e)}else if(e instanceof Bp){let r=mz("function",e),o=Pg(e),i=Hgt(e),s=[];Dg(e,Qa(["returns"])).has("returns")&&(s=Pg(e));let a=Ggt(e);return mE(e),new t(Uo,r,i,o,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new t(Uo,e.name,n,e.inputs?e.inputs.map(ei.from):[],e.outputs?e.outputs.map(ei.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yc]===Dgt}},qy=class t extends kg{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Yc,{value:kgt})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(Wy(e))}catch{K(!1,"invalid struct fragment","obj",e)}else if(e instanceof Bp){let n=mz("struct",e),r=Pg(e);return mE(e),new t(Uo,n,r)}return new t(Uo,e.name,e.inputs?e.inputs.map(ei.from):[])}static isFragment(e){return e&&e[Yc]===kgt}};var Up=new Map;Up.set(0,"GENERIC_PANIC");Up.set(1,"ASSERT_FALSE");Up.set(17,"OVERFLOW");Up.set(18,"DIVIDE_BY_ZERO");Up.set(33,"ENUM_RANGE_ERROR");Up.set(34,"BAD_STORAGE_DATA");Up.set(49,"STACK_UNDERFLOW");Up.set(50,"ARRAY_RANGE_ERROR");Up.set(65,"OUT_OF_MEMORY");Up.set(81,"UNINITIALIZED_FUNCTION_CALL");var Nyn=new RegExp(/^bytes([0-9]*)$/),Oyn=new RegExp(/^(u?int)([0-9]*)$/),u_e=null,Vgt=1024;function Pyn(t,e,n,r){let o="missing revert data",i=null,s=null,a=null;if(n){o="execution reverted";let l=Oe(n);if(n=Ae(n),l.length===0)o+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)o+=" (could not decode reason; invalid data length)";else if(Ae(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},o+=`: ${JSON.stringify(i)}`}catch{o+=" (could not decode reason; invalid string data)"}else if(Ae(l.slice(0,4))==="0x4e487b71")try{let u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Up.get(u)||"UNKNOWN"}(${u})`,o+=`: ${i}`}catch{o+=" (could not decode panic code)"}else o+=" (unknown custom error)"}let c={to:e.to?Mt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Mt(e.from)),Mn(o,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:s,revert:a})}var vd=class t{#e(e){if(e.isArray())return new KV(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new lE(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new qV(e.name);case"bool":return new JV(e.name);case"string":return new ez(e.name);case"bytes":return new YV(e.name);case"":return new XV(e.name)}let n=e.type.match(Oyn);if(n){let r=parseInt(n[2]||"256");return K(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new ZV(r/8,n[1]==="int",e.name)}if(n=e.type.match(Nyn),n){let r=parseInt(n[1]);return K(r!==0&&r<=32,"invalid bytes length","param",e),new QV(r,e.name)}K(!1,"invalid type","type",e.type)}getDefaultValue(e){let n=e.map(o=>this.#e(ei.from(o)));return new lE(n,"_").defaultValue()}encode(e,n){Jv(n.length,e.length,"types/values length mismatch");let r=e.map(s=>this.#e(ei.from(s))),o=new lE(r,"_"),i=new tE;return o.encode(i,n),i.data}decode(e,n,r){let o=e.map(s=>this.#e(ei.from(s)));return new lE(o,"_").decode(new RV(n,r,Vgt))}static _setDefaultMaxInflation(e){K(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Vgt=e}static defaultAbiCoder(){return u_e==null&&(u_e=new t),u_e}static getBuiltinCallException(e,n,r){return Pyn(e,n,r,t.defaultAbiCoder())}};function d_e(t){let e=rr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Ag(e,32)}function p_e(t){let e=Oe(t,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;e[n-1]===0;)n--;return li(e.slice(0,n))}var xI=class{fragment;name;signature;topic;args;constructor(e,n,r){let o=e.name,i=e.format();Be(this,{fragment:e,name:o,signature:i,topic:n,args:r})}},wI=class{fragment;name;args;signature;selector;value;constructor(e,n,r,o){let i=e.name,s=e.format();Be(this,{fragment:e,name:i,args:r,signature:s,selector:n,value:o})}},TI=class{fragment;name;args;signature;selector;constructor(e,n,r){let o=e.name,i=e.format();Be(this,{fragment:e,name:o,args:r,signature:i,selector:n})}},gE=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Be(this,{hash:e,_isIndexed:!0})}},zgt={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},jgt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&zgt[t.toString()]&&(e=zgt[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},Lg=class t{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;let r=[];for(let s of n)try{r.push(fm.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Be(this,{fragments:Object.freeze(r)});let o=null,i=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Be(this,{deploy:s});return;case"fallback":s.inputs.length===0?i=!0:(K(!o||s.payable!==o.payable,"conflicting fallback fragments",`fragments[${a}]`,s),o=s,i=o.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=s.format();c.has(l)||c.set(l,s)}),this.deploy||Be(this,{deploy:dm.from("constructor()")}),Be(this,{fallback:o,receive:i})}format(e){let n=e?"minimal":"full";return this.fragments.map(o=>o.format(n))}formatJson(){let e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return vd.defaultAbiCoder()}#o(e,n,r){if(Rn(e)){let i=e.toLowerCase();for(let s of this.#n.values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){let i=[];for(let[s,a]of this.#n)s.split("(")[0]===e&&i.push(a);if(n){let s=n.length>0?n[n.length-1]:null,a=n.length,c=!0;Ur.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){let u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){let u=i[l].inputs;for(let d=0;d<n.length;d++)if(Ur.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;i.splice(l,1);break}if(n[d].type!==u[d].baseType){i.splice(l,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){let s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){let s=i.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return i[0]}let o=this.#n.get(pm.from(e).format());return o||null}getFunctionName(e){let n=this.#o(e,null,!1);return K(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#o(e,null,!1)}getFunction(e,n){return this.#o(e,n||null,!0)}forEachFunction(e){let n=Array.from(this.#n.keys());n.sort((r,o)=>r.localeCompare(o));for(let r=0;r<n.length;r++){let o=n[r];e(this.#n.get(o),r)}}#i(e,n,r){if(Rn(e)){let i=e.toLowerCase();for(let s of this.#t.values())if(i===s.topicHash)return s;return null}if(e.indexOf("(")===-1){let i=[];for(let[s,a]of this.#t)s.split("(")[0]===e&&i.push(a);if(n){for(let s=i.length-1;s>=0;s--)i[s].inputs.length<n.length&&i.splice(s,1);for(let s=i.length-1;s>=0;s--){let a=i[s].inputs;for(let c=0;c<n.length;c++)if(Ur.isTyped(n[c])&&n[c].type!==a[c].baseType){i.splice(s,1);break}}}if(i.length===0)return null;if(i.length>1&&r){let s=i.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return i[0]}let o=this.#t.get(um.from(e).format());return o||null}getEventName(e){let n=this.#i(e,null,!1);return K(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,n){return this.#i(e,n||null,!0)}forEachEvent(e){let n=Array.from(this.#t.keys());n.sort((r,o)=>r.localeCompare(o));for(let r=0;r<n.length;r++){let o=n[r];e(this.#t.get(o),r)}}getError(e,n){if(Rn(e)){let o=e.toLowerCase();if(jgt[o])return Xa.from(jgt[o].signature);for(let i of this.#e.values())if(o===i.selector)return i;return null}if(e.indexOf("(")===-1){let o=[];for(let[i,s]of this.#e)i.split("(")[0]===e&&o.push(s);if(o.length===0)return e==="Error"?Xa.from("error Error(string)"):e==="Panic"?Xa.from("error Panic(uint256)"):null;if(o.length>1){let i=o.map(s=>JSON.stringify(s.format())).join(", ");K(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return o[0]}if(e=Xa.from(e).format(),e==="Error(string)")return Xa.from("error Error(string)");if(e==="Panic(uint256)")return Xa.from("error Panic(uint256)");let r=this.#e.get(e);return r||null}forEachError(e){let n=Array.from(this.#e.keys());n.sort((r,o)=>r.localeCompare(o));for(let r=0;r<n.length;r++){let o=n[r];e(this.#e.get(o),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){let r=this.getError(e);K(r,"unknown error","fragment",e),e=r}return K(nr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,nr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){let r=this.getError(e);K(r,"unknown error","fragment",e),e=r}return Xt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){let r=this.getFunction(e);K(r,"unknown function","fragment",e),e=r}return K(nr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,nr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){let r=this.getFunction(e);K(r,"unknown function","fragment",e),e=r}return Xt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){let i=this.getFunction(e);K(i,"unknown function","fragment",e),e=i}let r="invalid length for result data",o=Br(n);if(o.length%32===0)try{return this.#r.decode(e.outputs,o)}catch{r="could not decode result data"}de(!1,r,"BAD_DATA",{value:Ae(o),info:{method:e.name,signature:e.format()}})}makeError(e,n){let r=Oe(e,"data"),o=vd.getBuiltinCallException("call",n,r);if(o.message.startsWith("execution reverted (unknown custom error)")){let a=Ae(r.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#r.decode(c.inputs,r.slice(4));o.revert={name:c.name,signature:c.format(),args:l},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch{o.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(n);return s&&(o.invocation={method:s.name,signature:s.signature,args:s.args}),o}encodeFunctionResult(e,n){if(typeof e=="string"){let r=this.getFunction(e);K(r,"unknown function","fragment",e),e=r}return Ae(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){let i=this.getEvent(e);K(i,"unknown event","eventFragment",e),e=i}de(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let o=(i,s)=>i.type==="string"?Bo(s):i.type==="bytes"?xn(Ae(s)):(i.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":i.type.match(/^u?int/)?s=hs(s):i.type.match(/^bytes/)?s=Ag(s,32):i.type==="address"&&this.#r.encode(["address"],[s]),ci(Ae(s),32));for(n.forEach((i,s)=>{let a=e.inputs[s];if(!a.indexed){K(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?K(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>o(a,c))):r.push(o(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){let s=this.getEvent(e);K(s,"unknown event","eventFragment",e),e=s}let r=[],o=[],i=[];return e.anonymous||r.push(e.topicHash),K(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{let c=n[a];if(s.indexed)if(s.type==="string")r.push(Bo(c));else if(s.type==="bytes")r.push(xn(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[c]))}else o.push(s),i.push(c)}),{data:this.#r.encode(o,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){let f=this.getEvent(e);K(f,"unknown event","eventFragment",e),e=f}if(r!=null&&!e.anonymous){let f=e.topicHash;K(Rn(r[0],32)&&r[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let o=[],i=[],s=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(o.push(ei.from({type:"bytes32",name:f.name})),s.push(!0)):(o.push(f),s.push(!1)):(i.push(f),s.push(!1))});let a=r!=null?this.#r.decode(o,Xt(r)):null,c=this.#r.decode(i,n,!0),l=[],u=[],d=0,p=0;return e.inputs.forEach((f,h)=>{let m=null;if(f.indexed)if(a==null)m=new gE(null);else if(s[h])m=new gE(a[p++]);else try{m=a[p++]}catch(g){m=g}else try{m=c[d++]}catch(g){m=g}l.push(m),u.push(f.name||null)}),Tp.fromItems(l,u)}parseTransaction(e){let n=Oe(e.data,"tx.data"),r=Ze(e.value!=null?e.value:0,"tx.value"),o=this.getFunction(Ae(n.slice(0,4)));if(!o)return null;let i=this.#r.decode(o.inputs,n.slice(4));return new wI(o,o.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new xI(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){let n=Ae(e),r=this.getError(nr(n,0,4));if(!r)return null;let o=this.#r.decode(r.inputs,nr(n,4));return new TI(r,r.selector,o)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}};var qgt=BigInt(0);function II(t){return t??null}function pi(t){return t==null?null:t.toString()}var Ky=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Be(this,{gasPrice:II(e),maxFeePerGas:II(n),maxPriorityFeePerGas:II(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:pi(e),maxFeePerGas:pi(n),maxPriorityFeePerGas:pi(r)}}};function Ed(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ae(t.data));let n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let o of n)!(o in t)||t[o]==null||(e[o]=Ze(t[o],`request.${o}`));let r="type,nonce".split(/,/);for(let o of r)!(o in t)||t[o]==null||(e[o]=Ct(t[o],`request.${o}`));return t.accessList&&(e.accessList=Gs(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(o=>Ep(o)?Ae(o):Object.assign({},o))),e}var yE=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new mm(r,n):r),Be(this,{provider:n,hash:II(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:II(e.prevRandao),extraData:e.extraData,baseFeePerGas:II(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(de(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:o,gasUsed:i,hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:pi(e),difficulty:pi(n),extraData:r,gasLimit:pi(o),gasUsed:pi(i),blobGasUsed:pi(this.blobGasUsed),excessBlobGas:pi(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,transactions:g}}[Symbol.iterator](){let e=0,n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{let r=e.toLowerCase();for(let o of this.#e)if(typeof o=="string"){if(o!==r)continue;n=o;break}else{if(o.hash!==r)continue;n=o;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){let n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(let r of n)if(r.hash===e)return r;K(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Dyn(this)}},Bl=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;let r=Object.freeze(e.topics.slice());Be(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:n,blockNumber:r,data:o,index:i,removed:s,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:o,index:i,removed:s,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return de(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return de(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return de(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return kyn(this)}},Mg=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(o=>new Bl(o,n)));let r=qgt;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Be(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:n,contractAddress:r,hash:o,index:i,blockHash:s,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:pi(this.cumulativeGasUsed),from:n,gasPrice:pi(this.gasPrice),blobGasUsed:pi(this.blobGasUsed),blobGasPrice:pi(this.blobGasPrice),gasUsed:pi(this.gasUsed),hash:o,index:i,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Kgt(this)}reorderedEvent(e){return de(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Wgt(this,e)}},mm=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:n,index:r,hash:o,type:i,to:s,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:p,chainId:pi(this.chainId),data:l,from:a,gasLimit:pi(this.gasLimit),gasPrice:pi(this.gasPrice),hash:o,maxFeePerGas:pi(this.maxFeePerGas),maxPriorityFeePerGas:pi(this.maxPriorityFeePerGas),maxFeePerBlobGas:pi(this.maxFeePerBlobGas),nonce:c,signature:u,to:s,index:r,type:i,value:pi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;let n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:n,blockNumber:r}=await Jr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){let r=e??1,o=n??0,i=this.#e,s=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:p,nonce:f}=await Jr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){i=p;return}if(a)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(s===-1&&(s=i-3,s<this.#e&&(s=this.#e));s<=p;){if(a)return null;let m=await this.provider.getBlock(s,!0);if(m==null)return;for(let g of m)if(g===this.hash)return;for(let g=0;g<m.length;g++){let y=await m.getTransaction(g);if(y.from===this.from&&y.nonce===this.nonce){if(a)return null;let S=await this.provider.getTransactionReceipt(y.hash);if(S==null||p-S.blockNumber+1<r)return;let v="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?v="repriced":y.data==="0x"&&y.from===y.to&&y.value===qgt&&(v="cancelled"),de(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:y.replaceableTransaction(i),hash:y.hash,receipt:S})}}s++}},l=p=>{if(p==null||p.status!==0)return p;de(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(r===1||await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((p,f)=>{let h=[],m=()=>{h.forEach(y=>y())};if(h.push(()=>{a=!0}),o>0){let y=setTimeout(()=>{m(),f(Mn("wait for transaction timeout","TIMEOUT"))},o);h.push(()=>{clearTimeout(y)})}let g=async y=>{if(await y.confirmations()>=r){m();try{p(l(y))}catch(S){f(S)}}};if(h.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),i>=0){let y=async()=>{try{await c()}catch(S){if(lr(S,"TRANSACTION_REPLACED")){m(),f(S);return}}a||this.provider.once("block",y)};h.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return de(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Kgt(this)}reorderedEvent(e){return de(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),de(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wgt(this,e)}replaceableTransaction(e){K(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let n=new t(this,this.provider);return n.#e=e,n}};function Dyn(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Wgt(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Kgt(t){return{orphan:"drop-transaction",tx:t}}function kyn(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var Bg=class extends Bl{interface;fragment;args;constructor(e,n,r){super(e,e.provider);let o=n.decodeEventLog(r,e.data,e.topics);Be(this,{args:o,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Jy=class extends Bl{error;constructor(e,n){super(e,e.provider),Be(this,{error:n})}},RI=class extends Mg{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{let n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new Bg(e,this.#e,n)}catch(r){return new Jy(e,r)}return e})}},Ug=class extends mm{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){let r=await super.wait(e,n);return r==null?null:new RI(this.#e,this.provider,r)}},Yy=class extends Tg{log;constructor(e,n,r,o){super(e,n,r),Be(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},bE=class extends Yy{constructor(e,n,r,o,i){super(e,n,r,new Bg(i,e.interface,o));let s=e.interface.decodeEventLog(o,this.log.data,this.log.topics);Be(this,{args:s,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var Jgt=BigInt(0);function Qgt(t){return t&&typeof t.call=="function"}function Xgt(t){return t&&typeof t.estimateGas=="function"}function yz(t){return t&&typeof t.resolveName=="function"}function Zgt(t){return t&&typeof t.sendTransaction=="function"}function e0t(t){if(t!=null){if(yz(t))return t;if(t.provider)return t.provider}}var f_e=class{#e;fragment;constructor(e,n,r){if(Be(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");let o=SE(e.runner,"resolveName"),i=yz(o)?o:null;this.#e=(async function(){let s=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(p=>oo(p,i))):oo(d,i):d)));return e.interface.encodeFilterTopics(n,s)})()}getTopicFilter(){return this.#e}};function SE(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function _E(t){return t==null?null:t.provider||null}async function bz(t,e){let n=Ur.dereference(t,"overrides");K(typeof n=="object","invalid overrides parameter","overrides",t);let r=Ed(n);return K(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),K(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function g_e(t,e,n){let r=SE(t,"resolveName"),o=yz(r)?r:null;return await Promise.all(e.map((i,s)=>i.walkAsync(n[s],(a,c)=>(c=Ur.dereference(c,a),a==="address"?oo(c,o):c))))}function Lyn(t){let e=async function(s){let a=await bz(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await oo(a.from,e0t(t.runner)));let c=t.interface,l=Ze(a.value||Jgt,"overrides.value")===Jgt,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&K(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),K(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let d=c.receive||c.fallback&&c.fallback.payable;return K(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),K(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){let a=SE(t.runner,"call");de(Qgt(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(s);try{return await a.call(c)}catch(l){throw By(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(s){let a=t.runner;de(Zgt(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(s)),l=_E(t.runner);return new Ug(t.interface,l,c)},o=async function(s){let a=SE(t.runner,"estimateGas");return de(Xgt(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},i=async s=>await r(s);return Be(i,{_contract:t,estimateGas:o,populateTransaction:e,send:r,staticCall:n}),i}function Myn(t,e){let n=function(...l){let u=t.interface.getFunction(e,l);return de(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){let u=n(...l),d={};if(u.inputs.length+1===l.length&&(d=await bz(l.pop()),d.from&&(d.from=await oo(d.from,e0t(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let p=await g_e(t.runner,u.inputs,l);return Object.assign({},d,await Jr({to:t.getAddress(),data:t.interface.encodeFunctionData(u,p)}))},o=async function(...l){let u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){let u=t.runner;de(Zgt(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await u.sendTransaction(await r(...l)),p=_E(t.runner);return new Ug(t.interface,p,d)},s=async function(...l){let u=SE(t.runner,"estimateGas");return de(Xgt(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){let u=SE(t.runner,"call");de(Qgt(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=await r(...l),p="0x";try{p=await u.call(d)}catch(h){throw By(h)&&h.data?t.interface.makeError(h.data,d):h}let f=n(...l);return t.interface.decodeFunctionResult(f,p)},c=async(...l)=>n(...l).constant?await o(...l):await i(...l);return Be(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:i,staticCall:o,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return de(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Byn(t,e){let n=function(...o){let i=t.interface.getEvent(e,o);return de(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:o}}),i},r=function(...o){return new f_e(t,n(...o),o)};return Be(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{let o=t.interface.getEvent(e);return de(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),o}}),r}var gz=Symbol.for("_ethersInternal_contract"),t0t=new WeakMap;function Uyn(t,e){t0t.set(t[gz],e)}function Ul(t){return t0t.get(t[gz])}function $yn(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function y_e(t,e){let n,r=null;if(Array.isArray(e)){let i=function(s){if(Rn(s,32))return s;let a=t.interface.getEvent(s);return K(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(i):i(s))}else e==="*"?n=[null]:typeof e=="string"?Rn(e,32)?n=[e]:(r=t.interface.getEvent(e),K(r,"unknown fragment","event",e),n=[r.topicHash]):$yn(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):K(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){let s=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return i.toLowerCase()});let o=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:o,topics:n}}async function EP(t,e){let{subs:n}=Ul(t);return n.get((await y_e(t,e)).tag)||null}async function Ygt(t,e,n){let r=_E(t.runner);de(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:o,tag:i,topics:s}=await y_e(t,n),{addr:a,subs:c}=Ul(t),l=c.get(i);if(!l){let d={address:a||t,topics:s},p=g=>{let y=o;if(y==null)try{y=t.interface.getEvent(g.topics[0])}catch{}if(y){let S=y,v=o?t.interface.decodeEventLog(o,g.data,g.topics):[];h_e(t,n,v,A=>new bE(t,A,n,S,g))}else h_e(t,n,[],S=>new Yy(t,S,n,g))},f=[];l={tag:i,listeners:[],start:()=>{f.length||f.push(r.on(d,p))},stop:async()=>{if(f.length==0)return;let g=f;f=[],await Promise.all(g),r.off(d,p)}},c.set(i,l)}return l}var m_e=Promise.resolve();async function Fyn(t,e,n,r){await m_e;let o=await EP(t,e);if(!o)return!1;let i=o.listeners.length;return o.listeners=o.listeners.filter(({listener:s,once:a})=>{let c=Array.from(n);r&&c.push(r(a?null:s));try{s.call(t,...c)}catch{}return!a}),o.listeners.length===0&&(o.stop(),Ul(t).subs.delete(o.tag)),i>0}async function h_e(t,e,n,r){try{await m_e}catch{}let o=Fyn(t,e,n,r);return m_e=o,await o}var hz=["then"],$g=class t{target;interface;runner;filters;[gz];fallback;constructor(e,n,r,o){K(typeof e=="string"||gI(e),"invalid value for Contract target","target",e),r==null&&(r=null);let i=Lg.from(n);Be(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,gz,{value:{}});let s,a=null,c=null;if(o){let d=_E(r);c=new Ug(this.interface,d,o)}let l=new Map;if(typeof e=="string")if(Rn(e))a=e,s=Promise.resolve(e);else{let d=SE(r,"resolveName");if(!yz(d))throw Mn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(p=>{if(p==null)throw Mn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ul(this).addr=p,p})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Ul(this).addr=d,d});Uyn(this,{addrPromise:s,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(d,p,f)=>{if(typeof p=="symbol"||hz.indexOf(p)>=0)return Reflect.get(d,p,f);try{return this.getEvent(p)}catch(h){if(!lr(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>hz.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return Be(this,{filters:u}),Be(this,{fallback:i.receive||i.fallback?Lyn(this):null}),new Proxy(this,{get:(d,p,f)=>{if(typeof p=="symbol"||p in d||hz.indexOf(p)>=0)return Reflect.get(d,p,f);try{return d.getFunction(p)}catch(h){if(!lr(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>typeof p=="symbol"||p in d||hz.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await Ul(this).addrPromise}async getDeployedCode(){let e=_E(this.runner);de(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let r=_E(this.runner);return de(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((o,i)=>{let s=async()=>{try{if(await this.getDeployedCode()!=null)return o(this);r.once("block",s)}catch(a){i(a)}};s()})}deploymentTransaction(){return Ul(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Myn(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Byn(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");let{addr:o,addrPromise:i}=Ul(this),s=o||await i,{fragment:a,topics:c}=await y_e(this,e),l={address:s,topics:c,fromBlock:n,toBlock:r},u=_E(this.runner);return de(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let p=a;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}if(p)try{return new Bg(d,this.interface,p)}catch(f){return new Jy(d,f)}return new Bl(d,u)})}async on(e,n){let r=await Ygt(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){let r=await Ygt(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await h_e(this,e,n,null)}async listenerCount(e){if(e){let o=await EP(this,e);return o?o.listeners.length:0}let{subs:n}=Ul(this),r=0;for(let{listeners:o}of n.values())r+=o.length;return r}async listeners(e){if(e){let o=await EP(this,e);return o?o.listeners.map(({listener:i})=>i):[]}let{subs:n}=Ul(this),r=[];for(let{listeners:o}of n.values())r=r.concat(o.map(({listener:i})=>i));return r}async off(e,n){let r=await EP(this,e);if(!r)return this;if(n){let o=r.listeners.map(({listener:i})=>i).indexOf(n);o>=0&&r.listeners.splice(o,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ul(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let n=await EP(this,e);if(!n)return this;n.stop(),Ul(this).subs.delete(n.tag)}else{let{subs:n}=Ul(this);for(let{tag:r,stop:o}of n.values())o(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends t{constructor(o,i=null){super(o,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};function Hyn(){return $g}var Qc=class extends Hyn(){};var AP=class t{interface;bytecode;runner;constructor(e,n,r){let o=Lg.from(e);n instanceof Uint8Array?n=Ae(Oe(n)):(typeof n=="object"&&(n=n.object),n.startsWith("0x")||(n="0x"+n),n=Ae(Oe(n))),Be(this,{bytecode:n,interface:o,runner:r||null})}attach(e){return new $g(e,this.interface,this.runner)}async getDeployTransaction(...e){let n={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(n=await bz(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let o=await g_e(this.runner,r.inputs,e),i=Xt([this.bytecode,this.interface.encodeDeploy(o)]);return Object.assign({},n,{data:i})}async deploy(...e){let n=await this.getDeployTransaction(...e);de(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(n),o=cE(r);return new $g(o,this.interface,this.runner,r)}connect(e){return new t(this.interface,this.bytecode,e)}static fromSolidity(e,n){K(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let r=e.abi,o="";return e.bytecode?o=e.bytecode:e.evm&&e.evm.bytecode&&(o=e.evm.bytecode),new this(r,o,n)}};function b_e(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):K(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var CI=class{name;constructor(e){Be(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}};var r0t=new RegExp("^(ipfs)://(.*)$","i"),n0t=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),r0t,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Qy=class t{provider;address;name;#e;#t;constructor(e,n,r){Be(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new Qc(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(lr(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();let r=this.#t.interface;n.unshift(jy(this.name));let o=null;await this.supportsWildcard()&&(o=r.getFunction(e),de(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[_P(this.name,255),r.encodeFunctionData(o,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{let i=await this.#t[e](...n);return o?r.decodeFunctionResult(o,i)[0]:i}catch(i){if(!lr(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await this.#n("addr(bytes32)");return i==null||i===Dp?null:i}catch(i){if(lr(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,s=await this.#n("addr(bytes32,uint)",[i]);if(Rn(s,20))return Mt(s)}let n=null;for(let i of this.provider.plugins)if(i instanceof CI&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;let r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;let o=await n.decodeAddress(e,r);if(o!=null)return o;de(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){let e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;let n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let o=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${o}://${Xv("0x"+n[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;de(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<n0t.length;r++){let o=n.match(n0t[r]);if(o==null)continue;let i=o[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{let s=b_e(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{let s=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(o[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:o[2]||""}),{url:null,linkage:e};let l=c[1],u=new Qc(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){let m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",hs(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=b_e(d)),e.push({type:"metadata-url",value:d});let p={},f=await new br(d).send();f.assertOk();try{p=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{let y=f.body;return y&&e.push({type:"!metadata",value:Ae(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let h=p.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(r0t)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=b_e(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return de(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){let r=await t.getEnsAddress(e);try{let i=await new Qc(r,["function resolver(bytes32) view returns (address)"],e).resolver(jy(n),{enableCcipRead:!0});return i===Dp?null:i}catch(o){throw o}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;let o=await t.#r(e,r);if(o!=null){let i=new t(e,o,n);return r!==n&&!await i.supportsWildcard()?null:i}r=r.split(".").slice(1).join(".")}}};var o0t=BigInt(0);function Yn(t,e){return(function(n){return n==null?e:t(n)})}function xP(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function wP(t,e){return(n=>{let r={};for(let o in t){let i=o;if(e&&o in e&&!(i in n)){for(let s of e[o])if(s in n){i=s;break}}try{let s=t[o](n[i]);s!==void 0&&(r[o]=s)}catch(s){let a=s instanceof Error?s.message:"not-an-error";de(!1,`invalid value for value.${o} (${a})`,"BAD_DATA",{value:n})}}return r})}function Gyn(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}K(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function NI(t){return K(Rn(t,!0),"invalid data","value",t),t}function Vs(t){return K(Rn(t,32),"invalid hash","value",t),t}var Vyn=wP({address:Mt,blockHash:Vs,blockNumber:Ct,data:NI,index:Ct,removed:Yn(Gyn,!1),topics:xP(Vs),transactionHash:Vs,transactionIndex:Ct},{index:["logIndex"]});function i0t(t){return Vyn(t)}var zyn=wP({hash:Yn(Vs),parentHash:Vs,parentBeaconBlockRoot:Yn(Vs,null),number:Ct,timestamp:Ct,nonce:Yn(NI),difficulty:Ze,gasLimit:Ze,gasUsed:Ze,stateRoot:Yn(Vs,null),receiptsRoot:Yn(Vs,null),blobGasUsed:Yn(Ze,null),excessBlobGas:Yn(Ze,null),miner:Yn(Mt),prevRandao:Yn(Vs,null),extraData:NI,baseFeePerGas:Yn(Ze)},{prevRandao:["mixHash"]});function s0t(t){let e=zyn(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:__e(n)),e}var jyn=wP({transactionIndex:Ct,blockNumber:Ct,transactionHash:Vs,address:Mt,topics:xP(Vs),data:NI,index:Ct,blockHash:Vs},{index:["logIndex"]});function qyn(t){return jyn(t)}var Wyn=wP({to:Yn(Mt,null),from:Yn(Mt,null),contractAddress:Yn(Mt,null),index:Ct,root:Yn(Ae),gasUsed:Ze,blobGasUsed:Yn(Ze,null),logsBloom:Yn(NI),blockHash:Vs,hash:Vs,logs:xP(qyn),blockNumber:Ct,cumulativeGasUsed:Ze,effectiveGasPrice:Yn(Ze),blobGasPrice:Yn(Ze,null),status:Yn(Ct),type:Yn(Ct,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function a0t(t){return Wyn(t)}function __e(t){t.to&&Ze(t.to)===o0t&&(t.to="0x0000000000000000000000000000000000000000");let e=wP({hash:Vs,index:Yn(Ct,void 0),type:n=>n==="0x"||n==null?0:Ct(n),accessList:Yn(Gs,null),blobVersionedHashes:Yn(xP(Vs,!0),null),authorizationList:Yn(xP(n=>{let r;if(n.signature)r=n.signature;else{let o=n.yParity;o==="0x1b"?o=0:o==="0x1c"&&(o=1),r=Object.assign({},n,{yParity:o})}return{address:Mt(n.address),chainId:Ze(n.chainId),nonce:Ze(n.nonce),signature:di.from(r)}},!1),null),blockHash:Yn(Vs,null),blockNumber:Yn(Ct,null),transactionIndex:Yn(Ct,null),from:Mt,gasPrice:Yn(Ze),maxPriorityFeePerGas:Yn(Ze),maxFeePerGas:Yn(Ze),maxFeePerBlobGas:Yn(Ze,null),gasLimit:Ze,to:Yn(Mt,null),value:Ze,nonce:Ct,data:NI,creates:Yn(Mt,null),chainId:Yn(Ze,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=cE(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=di.from(t.signature):e.signature=di.from(t),e.chainId==null){let n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Ze(e.blockHash)===o0t&&(e.blockHash=null),e}var Kyn="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",$p=class t{name;constructor(e){Be(this,{name:e})}clone(){return new t(this.name)}},Xy=class t extends $p{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function o(i,s){let a=(n||{})[i];a==null&&(a=s),K(typeof a=="number",`invalud value for ${i}`,"costs",n),r[i]=a}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),Be(this,r)}clone(){return new t(this.effectiveBlock,this)}},Zy=class t extends $p{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Be(this,{address:e||Kyn,targetNetwork:n??1})}clone(){return new t(this.address,this.targetNetwork)}},TP=class t extends $p{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new t(this.#e)}},vE=class extends $p{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}};var S_e=new Map,Fn=class t{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=Ze(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Ze(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ze(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ze(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ze(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){let n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Xy,r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let o=2;o<e.data.length;o+=2)e.data.substring(o,o+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){let o=Gs(e.accessList);for(let i in o)r+=n.txAccessListAddress+n.txAccessListStorageKey*o[i].storageKeys.length}return r}static from(e){if(Jyn(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let n=S_e.get(e);if(n)return n();if(typeof e=="bigint")return new t("unknown",e);K(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){K(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let n=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Zy(e.ensAddress,e.ensNetwork)),n}K(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));let r=S_e.get(e);r&&K(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),S_e.set(e,n)}};function c0t(t,e){let n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let o=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||o++,r[1]=o.toString()}return BigInt(r[0]+r[1])}function l0t(t){return new vE(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let o;try{let[i,s]=await Promise.all([r.send(),e()]);o=i;let a=o.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:c0t(a.maxFee,9),maxPriorityFeePerGas:c0t(a.maxPriorityFee,9)}}catch(i){de(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:o,error:i})}})}var u0t=!1;function Jyn(){if(u0t)return;u0t=!0;function t(e,n,r){let o=function(){let i=new Fn(e,n);return r.ensNetwork!=null&&i.attachPlugin(new Zy(null,r.ensNetwork)),i.attachPlugin(new Xy),(r.plugins||[]).forEach(s=>{i.attachPlugin(s)}),i};Fn.register(e,o),Fn.register(n,o),r.altNames&&r.altNames.forEach(i=>{Fn.register(i,o)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[l0t("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[l0t("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function v_e(t){return JSON.parse(JSON.stringify(t))}var _z=class{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#o(){try{let e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#o.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#o.bind(this),this.#n),this.#o())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}},IP=class{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},Sz=class extends IP{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){let r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}},vz=class extends IP{#e;constructor(e,n){super(e),this.#e=v_e(n)}async _poll(e,n){throw new Error("@TODO")}},Ez=class extends IP{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){let r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}},eb=class{#e;#t;#n;#r;#o;constructor(e,n){this.#e=e,this.#t=v_e(n),this.#n=this.#i.bind(this),this.#r=!1,this.#o=-2}async#i(e){if(this.#o===-2)return;let n=v_e(this.#t);n.fromBlock=this.#o+1,n.toBlock=e;let r=await this.#e.getLogs(n);if(r.length===0){this.#o<e-60&&(this.#o=e-60);return}for(let o of r)this.#e.emit(this.#t,o),this.#o=o.blockNumber}start(){this.#r||(this.#r=!0,this.#o===-2&&this.#e.getBlockNumber().then(e=>{this.#o=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#o=-2)}resume(){this.start()}};var Yyn=BigInt(2),Qyn=10;function Az(t){return t&&typeof t.then=="function"}function xz(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){let o=Object.keys(r);return o.sort(),o.reduce((i,s)=>(i[s]=r[s],i),{})}return r})}var Fp=class{name;constructor(e){Be(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function Xyn(t){return JSON.parse(JSON.stringify(t))}function x_e(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function E_e(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Rn(t,32)){let n=t.toLowerCase();return{type:"transaction",tag:xz("tx",{hash:n}),hash:n}}if(t.orphan){let n=t;return{type:"orphan",tag:xz("orphan",n),filter:Xyn(n)}}if(t.address||t.topics){let n=t,r={topics:(n.topics||[]).map(o=>o==null?null:Array.isArray(o)?x_e(o.map(i=>i.toLowerCase())):o.toLowerCase())};if(n.address){let o=[],i=[],s=a=>{Rn(a)?o.push(a):i.push((async()=>{o.push(await oo(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=x_e(o.map(a=>a.toLowerCase()))}return{filter:r,tag:xz("event",r),type:"event"}}K(!1,"unknown ProviderEvent","event",t)}function A_e(){return new Date().getTime()}var Zyn={cacheTimeout:250,pollingInterval:4e3},Ad=class{#e;#t;#n;#r;#o;#i;#s;#a;#u;#l;#f;#m;constructor(e,n){if(this.#m=Object.assign({},Zyn,n||{}),e==="any")this.#i=!0,this.#o=null;else if(e){let r=Fn.from(e);this.#i=!1,this.#o=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#i=!1,this.#o=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#u=1,this.#l=new Map,this.#f=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#f}set disableCcipRead(e){this.#f=!!e}async#c(e){let n=this.#m.cacheTimeout;if(n<0)return await this._perform(e);let r=xz(e.method,e),o=this.#s.get(r);return o||(o=this._perform(e),this.#s.set(r,o),setTimeout(()=>{this.#s.get(r)===o&&this.#s.delete(r)},n)),await o}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;let o=e.to.toLowerCase(),i=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){let c=r[a],l=c.replace("{sender}",o).replace("{data}",i),u=new br(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:o}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",p;try{p=await u.send()}catch(f){s.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{let f=p.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}de(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),s.push(d)}de(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new yE(s0t(e),this)}_wrapLog(e,n){return new Bl(i0t(e),this)}_wrapTransactionReceipt(e,n){return new Mg(a0t(e),this)}_wrapTransactionResponse(e,n){return new mm(__e(e),this)}_detectNetwork(){de(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){de(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=Ct(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return oo(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Rn(e))return Rn(e,32)?e:Xi(e);if(typeof e=="bigint"&&(e=Ct(e,"blockTag")),typeof e=="number")return e>=0?Xi(e):this.#a>=0?Xi(this.#a+e):this.getBlockNumber().then(n=>Xi(n+e));K(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?x_e(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,o=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");let p={};return d&&(p.address=d),n.length&&(p.topics=n),l&&(p.fromBlock=l),u&&(p.toBlock=u),r&&(p.blockHash=r),p},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),s,a]).then(c=>o(c[0],c[1],c[2])):o(i,s,a)}_getTransactionRequest(e){let n=Ed(e),r=[];if(["to","from"].forEach(o=>{if(n[o]==null)return;let i=oo(n[o],this);Az(i)?r.push((async function(){n[o]=await i})()):n[o]=i}),n.blockTag!=null){let o=this._getBlockTag(n.blockTag);Az(o)?r.push((async function(){n.blockTag=await o})()):n.blockTag=o}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(this.#o==null){let o=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#o===o&&(this.#o=null),i}})();return this.#o=o,(await o).clone()}let e=this.#o,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#i?(this.emit("network",r,n),this.#o===e&&(this.#o=Promise.resolve(r))):de(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){let e=await this.getNetwork(),n=async()=>{let{_block:o,gasPrice:i,priorityFee:s}=await Jr({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return Ze(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return Ze(u,"%response")}catch{}return null})()}),a=null,c=null,l=this._wrapBlock(o,e);return l&&l.baseFeePerGas&&(c=s??BigInt("1000000000"),a=l.baseFeePerGas*Yyn+c),new Ky(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let o=new br(r.url),i=await r.processFunc(n,this,o);return new Ky(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Az(n)&&(n=await n),Ze(await this.#c({method:"estimateGas",transaction:n}),"%response")}async#d(e,n,r){de(r<Qyn,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});let o=Ed(e);try{return Ae(await this._perform({method:"call",transaction:o,blockTag:n}))}catch(i){if(!this.disableCcipRead&&By(i)&&i.data&&r>=0&&n==="latest"&&o.to!=null&&nr(i.data,0,4)==="0x556f1830"){let s=i.data,a=await oo(o.to,this),c;try{c=obn(nr(i.data,4))}catch(d){de(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:s}})}de(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(o,c.calldata,c.urls);de(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:i.data,errorArgs:c.errorArgs}});let u={to:a,data:Xt([c.selector,rbn([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=await this.#d(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}}async#p(e){let{value:n}=await Jr({network:this.getNetwork(),value:e});return n}async call(e){let{tx:n,blockTag:r}=await Jr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#p(this.#d(n,r,e.enableCcipRead?0:-1))}async#h(e,n,r){let o=this._getAddress(n),i=this._getBlockTag(r);return(typeof o!="string"||typeof i!="string")&&([o,i]=await Promise.all([o,i])),await this.#p(this.#c(Object.assign(e,{address:o,blockTag:i})))}async getBalance(e,n){return Ze(await this.#h({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ct(await this.#h({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ae(await this.#h({method:"getCode"},e,n))}async getStorage(e,n,r){let o=Ze(n,"position");return Ae(await this.#h({method:"getStorage",position:o},e,r))}async broadcastTransaction(e){let{blockNumber:n,hash:r,network:o}=await Jr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Ml.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,o).replaceableTransaction(n)}async#b(e,n){if(Rn(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){let{network:r,params:o}=await Jr({network:this.getNetwork(),params:this.#b(e,!!n)});return o==null?null:this._wrapBlock(o,r)}async getTransaction(e){let{network:n,params:r}=await Jr({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){let{network:n,params:r}=await Jr({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){let o=await this.#c({method:"getTransaction",hash:e});if(o==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=o.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){let{result:n}=await Jr({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return n==null?null:Ae(n)}async getLogs(e){let n=this._getFilter(e);Az(n)&&(n=await n);let{network:r,params:o}=await Jr({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:n})});return o.map(i=>this._wrapLog(i,r))}_getProvider(e){de(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Qy.fromName(this,e)}async getAvatar(e){let n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){let n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Mt(e);let n=jy(e.substring(2).toLowerCase()+".addr.reverse");try{let r=await Qy.getEnsAddress(this),i=await new Qc(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===Dp)return null;let a=await new Qc(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(lr(r,"BAD_DATA")&&r.value==="0x"||lr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){let o=n??1;return o===0?this.getTransactionReceipt(e):new Promise(async(i,s)=>{let a=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=o){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),s(Mn("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){de(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let n=this.#l.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#l.delete(e))}_setTimeout(e,n){n==null&&(n=0);let r=this.#u++,o=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:o,time:n});else{let i=setTimeout(o,n);this.#l.set(r,{timer:i,func:o,time:A_e()})}return r}_forEachSubscriber(e){for(let n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Fp(e.type);case"block":{let n=new _z(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Sz(this,e.type);case"event":return new eb(this,e.filter);case"transaction":return new Ez(this,e.hash);case"orphan":return new vz(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(let r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await E_e(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await E_e({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#y(e){let n=await E_e(e,this),r=n.tag,o=this.#e.get(r);return o||(o={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,o)),o}async on(e,n){let r=await this.#y(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){let r=await this.#y(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){let r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;let o=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:s})=>{let a=new Tg(this,s?null:i,e);try{i.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),o>0}async listenerCount(e){if(e){let r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(let{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){let r=await this.#g(e);return r?r.listeners.map(({listener:o})=>o):[]}let n=[];for(let{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:o})=>o));return n}async off(e,n){let r=await this.#g(e);if(!r)return this;if(n){let o=r.listeners.map(({listener:i})=>i).indexOf(n);o>=0&&r.listeners.splice(o,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:n,started:r,subscriber:o}=await this.#y(e);r&&o.stop(),this.#e.delete(n)}else for(let[n,{started:r,subscriber:o}]of this.#e)r&&o.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;de(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(let n of this.#l.values())n.timer&&clearTimeout(n.timer),n.time=A_e()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(let e of this.#l.values()){let n=e.time;n<0&&(n=0),e.time=A_e(),setTimeout(e.func,n)}}}};function ebn(t,e){try{let n=w_e(t,e);if(n)return li(n)}catch{}return null}function w_e(t,e){if(t==="0x")return null;try{let n=Ct(nr(t,e,e+32)),r=Ct(nr(t,n,n+32));return nr(t,n+32,n+32+r)}catch{}return null}function d0t(t){let e=tr(t);if(e.length>32)throw new Error("internal; should not happen");let n=new Uint8Array(32);return n.set(e,32-e.length),n}function tbn(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var nbn=new Uint8Array([]);function rbn(t){let e=[],n=0;for(let r=0;r<t.length;r++)e.push(nbn),n+=32;for(let r=0;r<t.length;r++){let o=Oe(t[r]);e[r]=d0t(n),e.push(d0t(o.length)),e.push(tbn(o)),n+=32+Math.ceil(o.length/32)*32}return Xt(e)}var p0t="0x0000000000000000000000000000000000000000000000000000000000000000";function obn(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};de(Jc(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let n=nr(t,0,32);de(nr(n,0,12)===nr(p0t,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=nr(n,12);try{let r=[],o=Ct(nr(t,32,64)),i=Ct(nr(t,o,o+32)),s=nr(t,o+32);for(let a=0;a<i;a++){let c=ebn(s,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{de(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=w_e(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{de(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}de(nr(t,100,128)===nr(p0t,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=nr(t,96,100);try{let r=w_e(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{de(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function EE(t,e){if(t.provider)return t.provider;de(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function f0t(t,e){let n=Ed(e);if(n.to!=null&&(n.to=oo(n.to,t)),n.from!=null){let r=n.from;n.from=Promise.all([t.getAddress(),oo(r,t)]).then(([o,i])=>(K(o.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),o))}else n.from=t.getAddress();return await Jr(n)}var xd=class{provider;constructor(e){Be(this,{provider:e||null})}async getNonce(e){return EE(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await f0t(this,e)}async populateTransaction(e){let n=EE(this,"populateTransaction"),r=await f0t(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));let o=await this.provider.getNetwork();if(r.chainId!=null){let s=Ze(r.chainId);K(s===o.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=o.chainId;let i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?K(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&K(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){let s=await n.getFeeData();de(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{let s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){let a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(de(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):de(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await Jr(r)}async populateAuthorization(e){let n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await EE(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return EE(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return EE(this,"call").call(await this.populateCall(e))}async resolveName(e){return await EE(this,"resolveName").resolveName(e)}async sendTransaction(e){let n=EE(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let o=Ml.from(r);return await n.broadcastTransaction(await this.signTransaction(o))}authorize(e){de(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},AE=class t extends xd{address;constructor(e,n){super(n),Be(this,{address:e})}async getAddress(){return this.address}connect(e){return new t(this.address,e)}#e(e,n){de(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:n})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,n,r){this.#e("typed-data","signTypedData")}};var m0t=new Set;function zs(t){m0t.has(t)||(m0t.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function ibn(t){return JSON.parse(JSON.stringify(t))}var wz=class{#e;#t;#n;#r;#o;#i;constructor(e){this.#e=e,this.#t=null,this.#n=this.#s.bind(this),this.#r=!1,this.#o=null,this.#i=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(i){if(!lr(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let r=await this.#e.getNetwork();if(this.#o||(this.#o=r),this.#o.chainId!==r.chainId)throw new Error("chaid changed");if(this.#i)return;let o=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,o)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){let e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#s(-2))}stop(){this.#r&&(this.#r=!1,this.#i=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}},Tz=class extends wz{#e;constructor(e,n){super(e),this.#e=ibn(n)}_recover(e){return new eb(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(let r of n)e.emit(this.#e,e._wrapLog(r,e._network))}},Iz=class extends wz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(let r of n)e.emit("pending",r)}};var sbn="bigint,boolean,function,number,string,symbol".split(/,/g);function Rz(t){if(t==null||sbn.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Rz);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function abn(t){return new Promise(e=>{setTimeout(e,t)})}function OI(t){return t&&t.toLowerCase()}function h0t(t){return t&&typeof t.pollingInterval=="number"}var g0t={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},tb=class extends xd{address;constructor(e,n){super(e),n=Mt(n),Be(this,{address:n})}connect(e){de(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let n=Rz(e),r=[];if(n.from){let i=n.from;r.push((async()=>{let s=await oo(i,this.provider);K(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let i=n.to;r.push((async()=>{n.to=await oo(i,this.provider)})())}r.length&&await Promise.all(r);let o=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(e){let n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((o,i)=>{let s=[1e3,100],a=0,c=async()=>{try{let l=await this.provider.getTransaction(r);if(l!=null){o(l.replaceableTransaction(n));return}}catch(l){if(lr(l,"CANCELLED")||lr(l,"BAD_DATA")||lr(l,"NETWORK_ERROR")||lr(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,i(l);return}if(lr(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){i(l);return}this.provider.emit("error",Mn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)};c()})}async signTransaction(e){let n=Rz(e);if(n.from){let o=await oo(n.from,this.provider);K(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o}else n.from=this.address;let r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let n=typeof e=="string"?rr(e):e;return await this.provider.send("personal_sign",[Ae(n),this.address.toLowerCase()])}async signTypedData(e,n,r){let o=Rz(r),i=await Sd.resolveNames(e,n,o,async s=>{let a=await oo(s);return K(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Sd.getPayload(i.domain,n,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let n=typeof e=="string"?rr(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ae(n)])}},nb=class extends Ad{#e;#t;#n;#r;#o;#i;#s;#a(){if(this.#r)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;let n=this.#n;for(this.#n=[];n.length;){let r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(i=>i.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{let o=r.length===1?r[0].payload:r.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{let i=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:i});for(let{resolve:s,reject:a,payload:c}of r){if(this.destroyed){a(Mn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=i.filter(u=>u.id===c.id)[0];if(l==null){let u=Mn("missing response for request","BAD_DATA",{value:i,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}s(l.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(let{reject:s}of r)s(i)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},g0t,n||{}),this.#n=[],this.#r=null,this.#i=null,this.#s=null;{let o=null,i=new Promise(s=>{o=s});this.#o={promise:i,resolve:o}}let r=this._getOption("staticNetwork");typeof r=="boolean"?(K(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#i=Fn.from(e))):r&&(K(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#i=r)}_getOption(e){return this.#e[e]}get _network(){return de(this.#i,"network is not available yet","NETWORK_ERROR"),this.#i}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&Ze(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){let o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}let n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#i)return this.#i}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{let n=Fn.from(Ze(await this.send("eth_chainId",[])));return this.#s=null,n}catch(n){throw this.#s=null,n}})(),await this.#s):(this.#s=(async()=>{let n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#s=null}catch(o){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Fn.from(Ze(r.result));throw this.getRpcError(n,r)})(),await this.#s)}_start(){this.#o==null||this.#o.resolve==null||(this.#o.resolve(),this.#o=null,(async()=>{for(;this.#i==null&&!this.destroyed;)try{this.#i=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Mn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await abn(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#o!=null)return await this.#o.promise}_getSubscriber(e){return e.type==="pending"?new Iz(this):e.type==="event"?this._getOption("polling")?new eb(this,e.filter):new Tz(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Fp("orphan"):super._getSubscriber(e)}get ready(){return this.#o==null}getRpcTransaction(e){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let o=r;r==="gasLimit"&&(o="gas"),n[o]=Xi(Ze(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=Ae(e[r]))}),e.accessList&&(n.accessList=Gs(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{let o=uE(r);return{address:o.address,nonce:Xi(o.nonce),chainId:Xi(o.chainId),yParity:Xi(o.signature.yParity),r:Xi(o.signature.r),s:Xi(o.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[OI(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[OI(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[OI(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[OI(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(OI):e.filter.address=OI(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){let{method:r}=e,{error:o}=n;if(r==="eth_estimateGas"&&o.message){let a=o.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Mn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:o}});if(a.match(/nonce/i)&&a.match(/too low/i))return Mn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:o}})}if(r==="eth_call"||r==="eth_estimateGas"){let a=T_e(o),c=vd.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:o,payload:e},c}let i=JSON.stringify(cbn(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return Mn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:o}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){let a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Mn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:o}});if(i.match(/nonce/i)&&i.match(/too low/i))return Mn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:o}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Mn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:o}});if(i.match(/only replay-protected/i))return Mn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:o}}})}let s=!!i.match(/the method .* does not exist/i);return s||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(s=!0),s?Mn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:o,payload:e}}):Mn("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Mn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#t++,o=new Promise((i,s)=>{this.#n.push({resolve:i,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),o}async getSigner(e){e==null&&(e=0);let n=this.send("eth_accounts",[]);if(typeof e=="number"){let o=await n;if(e>=o.length)throw new Error("no such account");return new tb(this,o[e])}let{accounts:r}=await Jr({network:this.getNetwork(),accounts:n});e=Mt(e);for(let o of r)if(Mt(o)===e)return new tb(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new tb(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(let{payload:e,reject:n}of this.#n)n(Mn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}},RP=class extends nb{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=g0t.pollingInterval),this.#e=r}_getSubscriber(e){let n=super._getSubscriber(e);return h0t(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{h0t(n)&&(n.pollingInterval=this.#e)})}},fo=class extends RP{#e;constructor(e,n,r){e==null&&(e="http://localhost:8545"),super(n,r),typeof e=="string"?this.#e=new br(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){let n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");let r=await n.send();r.assertOk();let o=r.bodyJson;return Array.isArray(o)||(o=[o]),o}};function T_e(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Rn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let n=T_e(t[e]);if(n)return n}return null}if(typeof t=="string")try{return T_e(JSON.parse(t))}catch{}return null}function I_e(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let n in t)I_e(t[n],e);if(typeof t=="string")try{return I_e(JSON.parse(t),e)}catch{}}}function cbn(t){let e=[];return I_e(t,e),e}var Cz="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function lbn(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}K(!1,"unsupported network","network",t)}var xE=class t extends fo{apiKey;constructor(e,n){e==null&&(e="mainnet");let r=Fn.from(e);n==null&&(n=Cz);let o={polling:!0,staticNetwork:r},i=t.getRequest(r,n);super(i,r,o),Be(this,{apiKey:n})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,n){n==null&&(n=Cz);let r=new br(`https://${lbn(e.name)}/${n}`);return r.allowGzip=!0,n===Cz&&(r.retryFunc=async(o,i,s)=>(zs("AnkrProvider"),!0)),r}getRpcError(e,n){return e.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(e,n)}isCommunityResource(){return this.apiKey===Cz}};var Nz="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function ubn(t){switch(t){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}K(!1,"unsupported network","network",t)}var wE=class t extends fo{apiKey;constructor(e,n){e==null&&(e="mainnet");let r=Fn.from(e);n==null&&(n=Nz);let o=t.getRequest(r,n);super(o,r,{staticNetwork:r}),Be(this,{apiKey:n})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){let{trace:n,tx:r}=await Jr({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(n==null||r==null)return null;let o,i=!1;try{o=n[0].result.output,i=n[0].error==="Reverted"}catch{}if(o)return de(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:o,reason:null,transaction:r,invocation:null,revert:null}),o;de(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(e)}isCommunityResource(){return this.apiKey===Nz}static getRequest(e,n){n==null&&(n=Nz);let r=new br(`https://${ubn(e.name)}/v2/${n}`);return r.allowGzip=!0,n===Nz&&(r.retryFunc=async(o,i,s)=>(zs("alchemy"),!0)),r}};function Oz(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}K(!1,"unsupported network","network",t)}function dbn(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}K(!1,"unsupported network","network",t)}var TE=class t extends fo{apiKey;constructor(e,n){e==null&&(e="mainnet");let r=Fn.from(e);n==null&&(n=Oz(r.name));let o=t.getRequest(r,n);super(o,r,{staticNetwork:r}),Be(this,{apiKey:n})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===Oz(this._network.name)}static getRequest(e,n){n==null&&(n=Oz(e.name));let r=new br(`https://${dbn(e.name)}/${n}`);return r.allowGzip=!0,n===Oz(e.name)&&(r.retryFunc=async(o,i,s)=>(zs("ChainstackProvider"),!0)),r}};var IE=class extends fo{constructor(e){e==null&&(e="mainnet");let n=Fn.from(e);K(n.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",n,{staticNetwork:n})}};var pbn="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),y0t=2e3;function fbn(t){return t&&typeof t.then=="function"}var b0t="org.ethers.plugins.provider.Etherscan",CP=class t extends $p{baseUrl;constructor(e){super(b0t),Be(this,{baseUrl:e})}clone(){return new t(this.baseUrl)}},mbn=["enableCcipRead"],hbn=1,RE=class extends Ad{network;apiKey;#e;constructor(e,n){let r=n??null;super();let o=Fn.from(e);K(pbn.indexOf(`${o.chainId}`)>=0,"unsupported network","network",o),this.#e=o.getPlugin(b0t),Be(this,{apiKey:r,network:o})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}K(!1,"unsupported network","network",this.network)}getUrl(e,n){let r=Object.keys(n).reduce((o,i)=>{let s=n[i];return s!=null&&(o+=`&${i}=${s}`),o},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,n){return n.module=e,n.apikey=this.apiKey,n.chainid=this.network.chainId,n}async detectNetwork(){return this.network}async fetch(e,n,r){let o=hbn++,i=r?this.getPostUrl():this.getUrl(e,n),s=r?this.getPostData(e,n):null;this.emit("debug",{action:"sendRequest",id:o,url:i,payload:s});let a=new br(i);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,d,p)=>(this.isCommunityResource()&&zs("Etherscan"),Promise.resolve(!0)),a.processFunc=async(u,d)=>{let p=d.hasBody()?JSON.parse(li(d.body)):{},f=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&f&&(this.emit("debug",{action:"receiveError",id:o,reason:"proxy-NOTOK",error:p}),d.throwThrottleError(p.result,y0t)):f&&(this.emit("debug",{action:"receiveError",id:o,reason:"null result",error:p.result}),d.throwThrottleError(p.result,y0t)),d},s&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));let c=await a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:o,error:u,reason:"assertOk"}),de(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:o,error:"missing body",reason:"null body"}),de(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse(li(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:o,result:l,reason:"invalid JSON-RPC"}),de(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:o,result:l,reason:"JSON-RPC error"}),de(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:o,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:o,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:o,result:l}),de(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:o,result:l}),l.result)}_getTransactionPostData(e){let n={};for(let r in e){if(mbn.indexOf(r)>=0||e[r]==null)continue;let o=e[r];if(!(r==="type"&&o===0)&&!(r==="blockTag"&&o==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])o=Xi(o);else if(r==="accessList")o="["+Gs(o).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]";else if(r==="blobVersionedHashes"){if(o.length===0)continue;de(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else o=Ae(o);n[r]=o}}return n}_checkError(e,n,r){let o="";if(lr(n,"SERVER_ERROR")){try{o=n.info.result.error.message}catch{}if(!o)try{o=n.info.message}catch{}}if(e.method==="estimateGas"&&!o.match(/revert/i)&&o.match(/insufficient funds/i)&&de(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&o.match(/execution reverted/i)){let i="";try{i=n.info.result.error.data}catch{}let s=vd.getBuiltinCallException(e.method,e.transaction,i);throw s.info={request:e,error:n},s}if(o&&e.method==="broadcastTransaction"){let i=Ml.from(e.signedTransaction);o.match(/replacement/i)&&o.match(/underpriced/i)&&de(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:i}),o.match(/insufficient funds/)&&de(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:i}),o.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&de(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:i})}throw n}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(n=>this._checkError(e,n,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});de(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(e.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(r){return this._checkError(e,r,e.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(e.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(r){return this._checkError(e,r,e.transaction)}}default:break}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let n=this._getAddress(e);fbn(n)&&(n=await n);try{let r=await this.fetch("contract",{action:"getabi",address:n}),o=JSON.parse(r);return new Qc(n,o,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};var w_n=ho(E0t(),1),T_n=ho(U_e(),1),I_n=ho(F_e(),1),jz=ho(W_e(),1),R_n=ho(_1t(),1);var sb=class{#e;#t;get filter(){return JSON.parse(this.#t)}#n;#r;#o;constructor(e,n){this.#e=e,this.#t=JSON.stringify(n),this.#n=null,this.#r=null,this.#o=null}start(){this.#n=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#n.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#n=null}pause(e){de(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#r=!!e}resume(){this.#r=null}_handleMessage(e){if(this.#n!=null&&this.#r===null){let n=this.#o;n==null?n=this._emit(this.#e,e):n=n.then(async()=>{await this._emit(this.#e,e)}),this.#o=n.then(()=>{this.#o===n&&(this.#o=null)})}}async _emit(e,n){throw new Error("sub-classes must implemente this; _emit")}},MI=class extends sb{constructor(e){super(e,["newHeads"])}async _emit(e,n){e.emit("block",parseInt(n.number))}},BI=class extends sb{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,n){e.emit("pending",n)}},UI=class extends sb{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,n){super(e,["logs",n]),this.#e=JSON.stringify(n)}async _emit(e,n){e.emit(this.logFilter,e._wrapLog(n,e._network))}},Vg=class extends nb{#e;#t;#n;constructor(e,n){let r=Object.assign({},n??{});K(r.batchMaxCount==null||r.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),r.batchMaxCount=1,r.staticNetwork==null&&(r.staticNetwork=!0),super(e,r),this.#e=new Map,this.#t=new Map,this.#n=new Map}_getSubscriber(e){switch(e.type){case"close":return new Fp("close");case"block":return new MI(this);case"pending":return new BI(this);case"event":return new UI(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Fp("drop-log")}return super._getSubscriber(e)}_register(e,n){this.#t.set(e,n);let r=this.#n.get(e);if(r){for(let o of r)n._handleMessage(o);this.#n.delete(e)}}async _send(e){K(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let n=new Promise((r,o)=>{this.#e.set(e.id,{payload:e,resolve:r,reject:o})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await n]}async _processMessage(e){let n=JSON.parse(e);if(n&&typeof n=="object"&&"id"in n){let r=this.#e.get(n.id);if(r==null){this.emit("error",Mn("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}this.#e.delete(n.id),r.resolve(n)}else if(n&&n.method==="eth_subscription"){let r=n.params.subscription,o=this.#t.get(r);if(o)o._handleMessage(n.params.result);else{let i=this.#n.get(r);i==null&&(i=[],this.#n.set(r,i)),i.push(n.params.result)}}else{this.emit("error",Mn("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(e){throw new Error("sub-classes must override this")}};var zg=class extends Vg{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,n,r){super(n,r),typeof e=="string"?(this.#e=()=>new jz.default(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(o){console.log("failed to start WebsocketProvider",o)}},this.websocket.onmessage=o=>{this._processMessage(o.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}};var FP="84842078b09946638c03157f83405213";function C_n(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}K(!1,"unsupported network","network",t)}var $I=class extends zg{projectId;projectSecret;constructor(e,n){let r=new ab(e,n),o=r._getConnection();de(!o.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let i=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,r._network),Be(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===FP}},ab=class t extends fo{projectId;projectSecret;constructor(e,n,r){e==null&&(e="mainnet");let o=Fn.from(e);n==null&&(n=FP),r==null&&(r=null);let i=t.getRequest(o,n,r);super(i,o,{staticNetwork:o}),Be(this,{projectId:n,projectSecret:r})}_getProvider(e){try{return new t(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===FP}static getWebSocketProvider(e,n){return new $I(e,n)}static getRequest(e,n,r){n==null&&(n=FP),r==null&&(r=null);let o=new br(`https://${C_n(e.name)}/v3/${n}`);return o.allowGzip=!0,r&&o.setCredentials("",r),n===FP&&(o.retryFunc=async(i,s,a)=>(zs("InfuraProvider"),!0)),o}};var qz="919b412a057b5e9c9b6dce193c5a60242d6efadb";function N_n(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}K(!1,"unsupported network","network",t)}var DE=class t extends fo{token;constructor(e,n){e==null&&(e="mainnet");let r=Fn.from(e);n==null&&(n=qz);let o=t.getRequest(r,n);super(o,r,{staticNetwork:r}),Be(this,{token:n})}_getProvider(e){try{return new t(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===qz}static getRequest(e,n){n==null&&(n=qz);let r=new br(`https://${N_n(e.name)}/${n}`);return r.allowGzip=!0,n===qz&&(r.retryFunc=async(o,i,s)=>(zs("QuickNodeProvider"),!0)),r}};var O_n=BigInt("1"),P_n=BigInt("2");function D_n(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}}function k_n(t){return new Promise(e=>{setTimeout(e,t)})}function X_e(){return new Date().getTime()}function J_e(t){return JSON.stringify(t,(e,n)=>typeof n=="bigint"?{type:"bigint",value:n.toString()}:n)}var S1t={stallTimeout:400,priority:1,weight:1},v1t={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function L_n(t,e){for(;(t.blockNumber<0||t.blockNumber<e)&&(t._updateNumber||(t._updateNumber=(async()=>{try{let n=await t.provider.getBlockNumber();n>t.blockNumber&&(t.blockNumber=n)}catch(n){t.blockNumber=-2,t._lastFatalError=n,t._lastFatalErrorTimestamp=X_e()}t._updateNumber=null})()),await t._updateNumber,t.outOfSync++,!t._lastFatalError););}function FI(t){if(t==null)return"null";if(Array.isArray(t))return"["+t.map(FI).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return FI(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(n=>`${JSON.stringify(n)}:${FI(t[n])}`).join(",")+"}"}}throw console.log("Could not serialize",t),new Error("Hmm...")}function Y_e(t,e){if("error"in e){let r=e.error,o;return lr(r,"CALL_EXCEPTION")?o=FI(Object.assign({},r,{shortMessage:void 0,reason:void 0,info:void 0})):o=FI(r),{tag:o,value:r}}let n=e.result;return{tag:FI(n),value:n}}function Wz(t,e){let n=new Map;for(let{value:o,tag:i,weight:s}of e){let a=n.get(i)||{value:o,weight:0};a.weight+=s,n.set(i,a)}let r=null;for(let o of n.values())o.weight>=t&&(!r||o.weight>r.weight)&&(r=o);if(r)return r.value}function Z_e(t,e){let n=0,r=new Map,o=null,i=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=r.get(c)||{value:a,weight:0};u.weight+=l,r.set(c,u),(o==null||u.weight>o.weight)&&(o=u)}else i.push(BigInt(a)),n+=l;if(n<t)return o&&o.weight>=t?o.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let s=Math.floor(i.length/2);return i.length%2?i[s]:(i[s-1]+i[s]+O_n)/P_n}function Q_e(t,e){let n=Wz(t,e);if(n!==void 0)return n;for(let r of e)if(r.value)return r.value}function M_n(t,e){if(t===1)return Ct(Z_e(t,e),"%internal");let n=new Map,r=(s,a)=>{let c=n.get(s)||{result:s,weight:0};c.weight+=a,n.set(s,c)};for(let{weight:s,value:a}of e){let c=Ct(a);r(c-1,s),r(c,s),r(c+1,s)}let o=0,i;for(let{weight:s,result:a}of n.values())s>=t&&(s>o||i!=null&&s===o&&a>i)&&(o=s,i=a);return i}var kE=class extends Ad{quorum;eventQuorum;eventWorkers;#e;#t;#n;constructor(e,n,r){super(n,r),this.#e=e.map(o=>o instanceof Ad?Object.assign({provider:o},S1t,v1t):Object.assign({},S1t,o,v1t)),this.#t=-2,this.#n=null,r&&r.quorum!=null?this.quorum=r.quorum:this.quorum=Math.ceil(this.#e.reduce((o,i)=>(o+=i.weight,o),0)/2),this.eventQuorum=1,this.eventWorkers=1,K(this.quorum<=this.#e.reduce((o,i)=>o+i.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let n=Object.assign({},e);for(let r in n)r[0]==="_"&&delete n[r];return n})}async _detectNetwork(){return Fn.from(Ze(await this._perform({method:"chainId"})))}async _translatePerform(e,n){switch(n.method){case"broadcastTransaction":return await e.broadcastTransaction(n.signedTransaction);case"call":return await e.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(n.transaction);case"getBalance":return await e.getBalance(n.address,n.blockTag);case"getBlock":{let r="blockHash"in n?n.blockHash:n.blockTag;return await e.getBlock(r,n.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(n.address,n.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(n.filter);case"getStorage":return await e.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await e.getTransaction(n.hash);case"getTransactionCount":return await e.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(n.hash);case"getTransactionResult":return await e.getTransactionResult(n.hash)}}#r(e){let n=Array.from(e).map(o=>o.config),r=this.#e.slice();D_n(r),r.sort((o,i)=>o.priority-i.priority);for(let o of r)if(!o._lastFatalError&&n.indexOf(o)===-1)return o;return null}#o(e,n){let r=this.#r(e);if(r==null)return null;let o={config:r,result:null,didBump:!1,perform:null,staller:null},i=X_e();return o.perform=(async()=>{try{r.requests++;let a=await this._translatePerform(r.provider,n);o.result={result:a}}catch(a){r.errorResponses++,o.result={error:a}}let s=X_e()-i;r._totalTime+=s,r.rollingDuration=.95*r.rollingDuration+.05*s,o.perform=null})(),o.staller=(async()=>{await k_n(r.stallTimeout),o.staller=null})(),e.add(o),o}async#i(){let e=this.#n;if(!e){let n=[];this.#e.forEach(r=>{n.push((async()=>{await L_n(r,0),r._lastFatalError||(r._network=await r.provider.getNetwork())})())}),this.#n=e=(async()=>{await Promise.all(n);let r=null;for(let o of this.#e){if(o._lastFatalError)continue;let i=o._network;r==null?r=i.chainId:i.chainId!==r&&de(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#s(e,n){let r=[];for(let o of e)if(o.result!=null){let{tag:i,value:s}=Y_e(n.method,o.result);r.push({tag:i,value:s,weight:o.config.weight})}if(!(r.reduce((o,i)=>o+i.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(Ct(Z_e(this.quorum,this.#e.filter(i=>!i._lastFatalError).map(i=>({value:i.blockNumber,tag:Ct(i.blockNumber).toString(),weight:i.weight}))))));let o=M_n(this.quorum,r);return o===void 0?void 0:(o>this.#t&&(this.#t=o),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return Z_e(this.quorum,r);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?Q_e(this.quorum,r):Wz(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return Wz(this.quorum,r);case"broadcastTransaction":return Q_e(this.quorum,r)}de(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${J_e(n.method)})`})}}async#a(e,n){if(e.size===0)throw new Error("no runners?!");let r=[],o=0;for(let s of e){if(s.perform&&r.push(s.perform),s.staller){r.push(s.staller);continue}s.didBump||(s.didBump=!0,o++)}let i=await this.#s(e,n);if(i!==void 0){if(i instanceof Error)throw i;return i}for(let s=0;s<o;s++)this.#o(e,n);return de(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(e).map(s=>J_e(s.result))}}),await Promise.race(r),await this.#a(e,n)}async _perform(e){if(e.method==="broadcastTransaction"){let i=this.#e.map(c=>null),s=this.#e.map(async({provider:c,weight:l},u)=>{try{let d=await c._perform(e);i[u]=Object.assign(Y_e(e.method,{result:d}),{weight:l})}catch(d){i[u]=Object.assign(Y_e(e.method,{error:d}),{weight:l})}});for(;;){let c=i.filter(d=>d!=null);for(let{value:d}of c)if(!(d instanceof Error))return d;let l=Wz(this.quorum,i.filter(d=>d!=null));if(lr(l,"INSUFFICIENT_FUNDS"))throw l;let u=s.filter((d,p)=>i[p]==null);if(u.length===0)break;await Promise.race(u)}let a=Q_e(this.quorum,i);if(de(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:i.map(J_e)}}),a instanceof Error)throw a;return a}await this.#i();let n=new Set,r=0;for(;;){let i=this.#o(n,e);if(i==null||(r+=i.config.weight,r>=this.quorum))break}let o=await this.#a(n,e);for(let i of n)i.perform&&i.result==null&&i.config.lateResponses++;return o}async destroy(){for(let{provider:e}of this.#e)e.destroy();super.destroy()}};function B_n(t){return t&&typeof t.send=="function"&&typeof t.close=="function"}var U_n="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function eSe(t,e){e==null&&(e={});let n=s=>e[s]==="-"?!1:typeof e.exclusive=="string"?s===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(s)!==-1:!0;if(typeof t=="string"&&t.match(/^https?:/))return new fo(t);if(typeof t=="string"&&t.match(/^wss?:/)||B_n(t))return new zg(t);let r=null;try{r=Fn.from(t)}catch{}let o=[];if(n("publicPolygon")&&r&&(r.name==="matic"?o.push(new fo("https://polygon-rpc.com/",r,{staticNetwork:r})):r.name==="matic-amoy"&&o.push(new fo("https://rpc-amoy.polygon.technology/",r,{staticNetwork:r}))),n("alchemy"))try{o.push(new wE(t,e.alchemy))}catch{}if(n("ankr")&&e.ankr!=null)try{o.push(new xE(t,e.ankr))}catch{}if(n("chainstack"))try{o.push(new TE(t,e.chainstack))}catch{}if(n("cloudflare"))try{o.push(new IE(t))}catch{}if(n("etherscan"))try{o.push(new RE(t,e.etherscan))}catch{}if(n("infura"))try{let s=e.infura,a;typeof s=="object"&&(a=s.projectSecret,s=s.projectId),o.push(new ab(t,s,a))}catch{}if(n("quicknode"))try{let s=e.quicknode;o.push(new DE(t,s))}catch{}if(de(o.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),o.length===1)return o[0];let i=Math.floor(o.length/2);return i>2&&(i=2),r&&U_n.indexOf(r.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new kE(o,void 0,{quorum:i})}var HP=class t extends xd{signer;#e;#t;constructor(e){super(e.provider),Be(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new t(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));let n=this.#t;return await this.#e+n}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){let n=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await n,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,n,r){return this.signer.signTypedData(e,n,r)}};var GP=class t extends RP{#e;#t;constructor(e,n,r){let o=Object.assign({},r??{},{batchMaxCount:1});K(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,o),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(i,s)=>{let a={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){K(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);let n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){let r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;let r=e.anyProvider;if(r&&n.ethereum)return new t(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let o=e.timeout?e.timeout:300;return o===0?null:await new Promise((i,s)=>{let a=[],c=d=>{a.push(d.detail),r&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){let d=e.filter(a.map(p=>Object.assign({},p.info)));if(d==null)i(null);else if(d instanceof t)i(d);else{let p=null;if(d.uuid&&(p=a.filter(h=>d.uuid===h.info.uuid)[0]),p){let{provider:f,info:h}=p;i(new t(f,void 0,{providerInfo:h}))}else s(Mn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:p}=a[0];i(new t(d,void 0,{providerInfo:p}))}else i(null);n.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},o);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};function $_n(t){switch(t){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}K(!1,"unsupported network","network",t)}var VP=class t extends fo{apiKey;constructor(e,n){e==null&&(e="mainnet");let r=Fn.from(e);n==null&&(n=null);let o=t.getRequest(r);super(o,r,{staticNetwork:r}),Be(this,{apiKey:n})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let n=super.getRpcRequest(e);return n&&n.method==="eth_estimateGas"&&n.args.length==1&&(n.args=n.args.slice(),n.args.push("latest")),n}getRpcError(e,n){let r=n?n.error:null;if(r&&r.code===-32015&&!Rn(r.data||"",!0)){let o={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},i="";r.message==="VM execution error."?i=o[r.data]||"":o[r.message||""]&&(i=o[r.message||""]),i&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+i)}else r&&r.code===-32e3&&r.message==="wrong transaction nonce"&&(r.message+=" (nonce too low)");return super.getRpcError(e,n)}static getRequest(e){let n=new br($_n(e.name));return n.allowGzip=!0,n}};var Kz="62e1ad51b37b8e00394bda3b";function F_n(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}K(!1,"unsupported network","network",t)}var zP=class t extends fo{applicationId;applicationSecret;constructor(e,n,r){e==null&&(e="mainnet");let o=Fn.from(e);n==null&&(n=Kz),r==null&&(r=null);let i={staticNetwork:o},s=t.getRequest(o,n,r);super(s,o,i),Be(this,{applicationId:n,applicationSecret:r})}_getProvider(e){try{return new t(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,n,r){n==null&&(n=Kz);let o=new br(`https://${F_n(e.name)}/v1/lb/${n}`);return o.allowGzip=!0,r&&o.setCredentials("",r),n===Kz&&(o.retryFunc=async(i,s,a)=>(zs("PocketProvider"),!0)),o}isCommunityResource(){return this.applicationId===Kz}};import{connect as H_n}from"net";function G_n(t){let e=[],n=0;for(;;){let r=t.indexOf(10,n);if(r===-1)break;e.push(t.subarray(n,r).toString().trim()),n=r+1}return{messages:e,remaining:t.subarray(n)}}var jP=class extends Vg{#e;get socket(){return this.#e}constructor(e,n,r){super(n,r),this.#e=H_n(e),this.socket.on("ready",async()=>{try{await this._start()}catch(i){console.log("failed to start IpcSocketProvider",i)}});let o=Buffer.alloc(0);this.socket.on("data",i=>{o=Buffer.concat([o,i]);let{messages:s,remaining:a}=G_n(o);s.forEach(c=>{this._processMessage(c)}),o=a}),this.socket.on("end",()=>{this.emit("close"),this.socket.destroy(),this.socket.end()})}destroy(){this.socket.destroy(),this.socket.end(),super.destroy()}async _write(e){e.endsWith(`
`)||(e+=`
`),this.socket.write(e)}};var jg=class t extends xd{address;#e;constructor(e,n){super(n),K(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let r=Lp(this.signingKey.publicKey);Be(this,{address:r})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new t(this.#e,e)}async signTransaction(e){e=Ed(e);let{to:n,from:r}=await Jr({to:e.to?oo(e.to,this):void 0,from:e.from?oo(e.from,this):void 0});n!=null&&(e.to=n),r!=null&&(e.from=r),e.from!=null&&(K(Mt(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let o=Ml.from(e);return o.signature=this.signingKey.sign(o.unsignedHash),o.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(AI(e)).serialized}authorizeSync(e){K(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let n=this.signingKey.sign(bI(e));return Object.assign({},{address:Mt(e.address),nonce:Ze(e.nonce||0),chainId:Ze(e.chainId||0)},{signature:n})}async authorize(e){return e=Object.assign({},e,{address:await oo(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,n,r){let o=await Sd.resolveNames(e,n,r,async i=>{de(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:i}});let s=await this.provider.resolveName(i);return de(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:i}),s});return this.signingKey.sign(Sd.hash(o.domain,n,o.value)).serialized}};var Jz=" !#$%&'()*+,-./<=>?@[]^_`{|}~",V_n=/^[a-z]*$/i;function E1t(t,e){let n=97;return t.reduce((r,o)=>(o===e?n++:o.match(V_n)?r.push(String.fromCharCode(n)+o):(n=97,r.push(o)),r),[])}function z_n(t,e){for(let o=Jz.length-1;o>=0;o--)t=t.split(Jz[o]).join(e.substring(2*o,2*o+2));let n=[],r=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(o,i,s,a)=>{if(s)for(let c=parseInt(s);c>=0;c--)n.push(";");else n.push(i.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return E1t(E1t(n,";"),":")}function Yz(t){return K(t[0]==="0","unsupported auwl data","data",t),z_n(t.substring(1+2*Jz.length),t.substring(1,1+2*Jz.length))}var Fl=class{locale;constructor(e){Be(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var Za=class extends Fl{#e;#t;constructor(e,n,r){super(e),this.#e=n,this.#t=r,this.#n=null}get _data(){return this.#e}_decodeWords(){return Yz(this.#e)}#n;#r(){if(this.#n==null){let e=this._decodeWords();if(Bo(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#n=e}return this.#n}getWord(e){let n=this.#r();return K(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return this.#r().indexOf(e)}};var j_n="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",q_n="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",tSe=null,Xc=class t extends Za{constructor(){super("en",j_n,q_n)}static wordlist(){return tSe==null&&(tSe=new t),tSe}};function A1t(t){return(1<<t)-1<<8-t&255}function W_n(t){return(1<<t)-1&255}function nSe(t,e){Yv("NFKD"),e==null&&(e=Xc.wordlist());let n=e.split(t);K(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let r=new Uint8Array(Math.ceil(11*n.length/8)),o=0;for(let l=0;l<n.length;l++){let u=e.getWordIndex(n[l].normalize("NFKD"));K(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(r[o>>3]|=1<<7-o%8),o++}let i=32*n.length/3,s=n.length/3,a=A1t(s),c=Oe(ui(r.slice(0,i/8)))[0]&a;return K(c===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Ae(r.slice(0,i/8))}function rSe(t,e){K(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Xc.wordlist());let n=[0],r=11;for(let s=0;s<t.length;s++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=t[s],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[s]>>8-r,n.push(t[s]&W_n(8-r)),r+=3);let o=t.length/4,i=parseInt(ui(t).substring(2,4),16)&A1t(o);return n[n.length-1]<<=o,n[n.length-1]|=i>>8-o,e.join(n.map(s=>e.getWord(s)))}var oSe={},gm=class t{phrase;password;wordlist;entropy;constructor(e,n,r,o,i){o==null&&(o=""),i==null&&(i=Xc.wordlist()),$s(e,oSe,"Mnemonic"),Be(this,{phrase:r,password:o,wordlist:i,entropy:n})}computeSeed(){let e=rr("mnemonic"+this.password,"NFKD");return Ya(rr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,n,r){let o=nSe(e,r);return e=rSe(Oe(o),r),new t(oSe,o,e,n,r)}static fromEntropy(e,n,r){let o=Oe(e,"entropy"),i=rSe(o,r);return new t(oSe,Ae(o),i,n,r)}static entropyToPhrase(e,n){let r=Oe(e,"entropy");return rSe(r,n)}static phraseToEntropy(e,n){return nSe(e,n)}static isValidMnemonic(e,n){try{return nSe(e,n),!0}catch{}return!1}};var js=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},iSe=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},Xz,Id,ym,K_n={16:10,24:12,32:14},J_n=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Td=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Qz=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Y_n=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Q_n=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],X_n=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Z_n=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],eSn=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],tSn=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],nSn=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],rSn=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],oSn=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],iSn=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],sSn=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],aSn=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function sSe(t){let e=[];for(let n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}var qP=class t{get key(){return js(this,Xz,"f").slice()}constructor(e){if(Xz.set(this,void 0),Id.set(this,void 0),ym.set(this,void 0),!(this instanceof t))throw Error("AES must be instanitated with `new`");iSe(this,Xz,new Uint8Array(e),"f");let n=K_n[this.key.length];if(n==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");iSe(this,ym,[],"f"),iSe(this,Id,[],"f");for(let u=0;u<=n;u++)js(this,ym,"f").push([0,0,0,0]),js(this,Id,"f").push([0,0,0,0]);let r=(n+1)*4,o=this.key.length/4,i=sSe(this.key),s;for(let u=0;u<o;u++)s=u>>2,js(this,ym,"f")[s][u%4]=i[u],js(this,Id,"f")[n-s][u%4]=i[u];let a=0,c=o,l;for(;c<r;){if(l=i[o-1],i[0]^=Td[l>>16&255]<<24^Td[l>>8&255]<<16^Td[l&255]<<8^Td[l>>24&255]^J_n[a]<<24,a+=1,o!=8)for(let f=1;f<o;f++)i[f]^=i[f-1];else{for(let f=1;f<o/2;f++)i[f]^=i[f-1];l=i[o/2-1],i[o/2]^=Td[l&255]^Td[l>>8&255]<<8^Td[l>>16&255]<<16^Td[l>>24&255]<<24;for(let f=o/2+1;f<o;f++)i[f]^=i[f-1]}let u=0,d,p;for(;u<o&&c<r;)d=c>>2,p=c%4,js(this,ym,"f")[d][p]=i[u],js(this,Id,"f")[n-d][p]=i[u++],c++}for(let u=1;u<n;u++)for(let d=0;d<4;d++)l=js(this,Id,"f")[u][d],js(this,Id,"f")[u][d]=oSn[l>>24&255]^iSn[l>>16&255]^sSn[l>>8&255]^aSn[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let n=js(this,ym,"f").length-1,r=[0,0,0,0],o=sSe(e);for(let a=0;a<4;a++)o[a]^=js(this,ym,"f")[0][a];for(let a=1;a<n;a++){for(let c=0;c<4;c++)r[c]=Y_n[o[c]>>24&255]^Q_n[o[(c+1)%4]>>16&255]^X_n[o[(c+2)%4]>>8&255]^Z_n[o[(c+3)%4]&255]^js(this,ym,"f")[a][c];o=r.slice()}let i=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=js(this,ym,"f")[n][a],i[4*a]=(Td[o[a]>>24&255]^s>>24)&255,i[4*a+1]=(Td[o[(a+1)%4]>>16&255]^s>>16)&255,i[4*a+2]=(Td[o[(a+2)%4]>>8&255]^s>>8)&255,i[4*a+3]=(Td[o[(a+3)%4]&255]^s)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let n=js(this,Id,"f").length-1,r=[0,0,0,0],o=sSe(e);for(let a=0;a<4;a++)o[a]^=js(this,Id,"f")[0][a];for(let a=1;a<n;a++){for(let c=0;c<4;c++)r[c]=eSn[o[c]>>24&255]^tSn[o[(c+3)%4]>>16&255]^nSn[o[(c+2)%4]>>8&255]^rSn[o[(c+1)%4]&255]^js(this,Id,"f")[a][c];o=r.slice()}let i=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=js(this,Id,"f")[n][a],i[4*a]=(Qz[o[a]>>24&255]^s>>24)&255,i[4*a+1]=(Qz[o[(a+3)%4]>>16&255]^s>>16)&255,i[4*a+2]=(Qz[o[(a+2)%4]>>8&255]^s>>8)&255,i[4*a+3]=(Qz[o[(a+1)%4]&255]^s)&255;return i}};Xz=new WeakMap,Id=new WeakMap,ym=new WeakMap;var bm=class{constructor(e,n,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new qP(n)},name:{enumerable:!0,value:e}})}};var Zz=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},HI=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},WP,qg,KP=class t extends bm{constructor(e,n){if(super("ECC",e,t),WP.set(this,void 0),qg.set(this,void 0),n){if(n.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Zz(this,WP,new Uint8Array(n),"f")}else Zz(this,WP,new Uint8Array(16),"f");Zz(this,qg,this.iv,"f")}get iv(){return new Uint8Array(HI(this,WP,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let o=0;o<16;o++)HI(this,qg,"f")[o]^=e[r+o];Zz(this,qg,this.aes.encrypt(HI(this,qg,"f")),"f"),n.set(HI(this,qg,"f"),r)}return n}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let o=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)n[r+i]=o[i]^HI(this,qg,"f")[i],HI(this,qg,"f")[i]=e[r+i]}return n}};WP=new WeakMap,qg=new WeakMap;var aSe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},cSn,lSn,ej,uSn;lSn=new WeakMap,ej=new WeakMap,cSn=new WeakSet,uSn=function(e){let n=this.segmentSize/8;aSe(this,ej,"f").set(aSe(this,ej,"f").subarray(n)),aSe(this,ej,"f").set(e.subarray(0,n),16-n)};var GI=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},Rd=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},JP,LE,Cd,cb=class t extends bm{constructor(e,n){super("CTR",e,t),JP.set(this,void 0),LE.set(this,void 0),Cd.set(this,void 0),GI(this,Cd,new Uint8Array(16),"f"),Rd(this,Cd,"f").fill(0),GI(this,JP,Rd(this,Cd,"f"),"f"),GI(this,LE,16,"f"),n==null&&(n=1),typeof n=="number"?this.setCounterValue(n):this.setCounterBytes(n)}get counter(){return new Uint8Array(Rd(this,Cd,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let n=15;n>=0;--n)Rd(this,Cd,"f")[n]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Rd(this,Cd,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Rd(this,Cd,"f")[e]===255)Rd(this,Cd,"f")[e]=0;else{Rd(this,Cd,"f")[e]++;break}}encrypt(e){var n,r;let o=new Uint8Array(e);for(let i=0;i<o.length;i++)Rd(this,LE,"f")===16&&(GI(this,JP,this.aes.encrypt(Rd(this,Cd,"f")),"f"),GI(this,LE,0,"f"),this.increment()),o[i]^=Rd(this,JP,"f")[GI(this,LE,(r=Rd(this,LE,"f"),n=r++,r),"f"),n];return o}decrypt(e){return this.encrypt(e)}};JP=new WeakMap,LE=new WeakMap,Cd=new WeakMap;var dSn,pSn,fSn;dSn=new WeakMap,pSn=new WeakMap,fSn=new WeakMap;function cSe(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");let e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let n=t.length-e;for(let r=0;r<e;r++)if(t[n+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,n))}function lSe(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),Br(t)}function VI(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function ME(t){return typeof t=="string"?rr(t,"NFKC"):Br(t)}function $o(t,e){let n=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);K(n!=null,"invalid path","path",e);let r=n[1],o=n[3],i=n[4]==="!",s=t;for(let a of r.toLowerCase().split(".")){if(Array.isArray(s)){if(!a.match(/^[0-9]+$/))break;s=s[parseInt(a)]}else if(typeof s=="object"){let c=null;for(let l in s)if(l.toLowerCase()===a){c=s[l];break}s=c}else s=null;if(s==null)break}if(K(!i||s!=null,"missing required value","path",r),o&&s!=null){if(o==="int"){if(typeof s=="string"&&s.match(/^-?[0-9]+$/))return parseInt(s);if(Number.isSafeInteger(s))return s}if(o==="number"&&typeof s=="string"&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if(o==="data"&&typeof s=="string")return lSe(s);if(o==="array"&&Array.isArray(s)||o===typeof s)return s;K(!1,`wrong type found for ${o} `,"path",r)}return s}var w1t="m/44'/60'/0'/0/0";function zI(t){try{let e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function mSn(t,e,n){if($o(t,"crypto.cipher:string")==="aes-128-ctr"){let o=$o(t,"crypto.cipherparams.iv:data!"),i=new cb(e,o);return Ae(i.decrypt(n))}de(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function tj(t,e){let n=Oe(e),r=$o(t,"crypto.ciphertext:data!"),o=Ae(xn(Xt([n.slice(16,32),r]))).substring(2);K(o===$o(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=mSn(t,n.slice(0,16),r),s=Lp(i);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),K(Mt(l)===s,"keystore address/privateKey mismatch","address",t.address)}let a={address:s,privateKey:i};if($o(t,"x-ethers.version:string")==="0.1"){let l=n.slice(32,64),u=$o(t,"x-ethers.mnemonicCiphertext:data!"),d=$o(t,"x-ethers.mnemonicCounter:data!"),p=new cb(l,d);a.mnemonic={path:$o(t,"x-ethers.path:string")||w1t,locale:$o(t,"x-ethers.locale:string")||"en",entropy:Ae(Oe(p.decrypt(u)))}}return a}function T1t(t){let e=$o(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let n=$o(t,"crypto.kdfparams.salt:data!"),r=$o(t,"crypto.kdfparams.n:int!"),o=$o(t,"crypto.kdfparams.r:int!"),i=$o(t,"crypto.kdfparams.p:int!");K(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),K(o>0&&i>0,"invalid kdf","kdf",e);let s=$o(t,"crypto.kdfparams.dklen:int!");return K(s===32,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:n,N:r,r:o,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let n=$o(t,"crypto.kdfparams.salt:data!"),r=$o(t,"crypto.kdfparams.prf:string!"),o=r.split("-").pop();K(o==="sha256"||o==="sha512","invalid kdf.pdf","kdf.pdf",r);let i=$o(t,"crypto.kdfparams.c:int!"),s=$o(t,"crypto.kdfparams.dklen:int!");return K(s===32,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:n,count:i,dkLen:s,algorithm:o}}}K(!1,"unsupported key-derivation function","kdf",e)}function YP(t,e){let n=JSON.parse(t),r=ME(e),o=T1t(n);if(o.name==="pbkdf2"){let{salt:d,count:p,dkLen:f,algorithm:h}=o,m=Ya(r,d,p,f,h);return tj(n,m)}de(o.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:o});let{salt:i,N:s,r:a,p:c,dkLen:l}=o,u=Pp(r,i,s,a,c,l);return tj(n,u)}function x1t(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function QP(t,e,n){let r=JSON.parse(t),o=ME(e),i=T1t(r);if(i.name==="pbkdf2"){n&&(n(0),await x1t(0));let{salt:p,count:f,dkLen:h,algorithm:m}=i,g=Ya(o,p,f,h,m);return n&&(n(1),await x1t(0)),tj(r,g)}de(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:s,N:a,r:c,p:l,dkLen:u}=i,d=await Op(o,s,a,c,l,u,n);return tj(r,d)}function I1t(t){let e=t.salt!=null?Oe(t.salt,"options.salt"):_a(32),n=1<<17,r=8,o=1;return t.scrypt&&(t.scrypt.N&&(n=t.scrypt.N),t.scrypt.r&&(r=t.scrypt.r),t.scrypt.p&&(o=t.scrypt.p)),K(typeof n=="number"&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),K(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),K(typeof o=="number"&&o>0&&Number.isSafeInteger(o),"invalid scrypt p parameter","options.p",o),{name:"scrypt",dkLen:32,salt:e,N:n,r,p:o}}function R1t(t,e,n,r){let o=Oe(n.privateKey,"privateKey"),i=r.iv!=null?Oe(r.iv,"options.iv"):_a(16);K(i.length===16,"invalid options.iv length","options.iv",r.iv);let s=r.uuid!=null?Oe(r.uuid,"options.uuid"):_a(16);K(s.length===16,"invalid options.uuid length","options.uuid",r.iv);let a=t.slice(0,16),c=t.slice(16,32),l=new cb(a,i),u=Oe(l.encrypt(o)),d=xn(Xt([c,u])),p={address:n.address.substring(2).toLowerCase(),id:rP(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Ae(i).substring(2)},ciphertext:Ae(u).substring(2),kdf:"scrypt",kdfparams:{salt:Ae(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(n.mnemonic){let f=r.client!=null?r.client:`ethers/${nI}`,h=n.mnemonic.path||w1t,m=n.mnemonic.locale||"en",g=t.slice(32,64),y=Oe(n.mnemonic.entropy,"account.mnemonic.entropy"),S=_a(16),v=new cb(g,S),A=Oe(v.encrypt(y)),w=new Date,D="UTC--"+(w.getUTCFullYear()+"-"+VI(w.getUTCMonth()+1,2)+"-"+VI(w.getUTCDate(),2)+"T"+VI(w.getUTCHours(),2)+"-"+VI(w.getUTCMinutes(),2)+"-"+VI(w.getUTCSeconds(),2)+".0Z")+"--"+p.address;p["x-ethers"]={client:f,gethFilename:D,path:h,locale:m,mnemonicCounter:Ae(S).substring(2),mnemonicCiphertext:Ae(A).substring(2),version:"0.1"}}return JSON.stringify(p)}function BE(t,e,n){n==null&&(n={});let r=ME(e),o=I1t(n),i=Pp(r,o.salt,o.N,o.r,o.p,64);return R1t(Oe(i),o,t,n)}async function UE(t,e,n){n==null&&(n={});let r=ME(e),o=I1t(n),i=await Op(r,o.salt,o.N,o.r,o.p,64,n.progressCallback);return R1t(Oe(i),o,t,n)}var jI="m/44'/60'/0'/0/0",hSn=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Sm=2147483648,gSn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ySn="0123456789abcdef";function nj(t,e){let n="";for(;t;)n=ySn[t%16]+n,t=Math.trunc(t/16);for(;n.length<e*2;)n="0"+n;return"0x"+n}function uSe(t){let e=Oe(t),n=nr(ui(ui(e)),0,4),r=Xt([e,n]);return Xv(r)}var _m={};function C1t(t,e,n,r){let o=new Uint8Array(37);t&Sm?(de(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),o.set(Oe(r),1)):o.set(Oe(n));for(let s=24;s>=0;s-=8)o[33+(s>>3)]=t>>24-s&255;let i=Oe(Ip("sha512",e,o));return{IL:i.slice(0,32),IR:i.slice(32)}}function N1t(t,e){let n=e.split("/");K(n.length>0,"invalid path","path",e),n[0]==="m"&&(K(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),n.shift());let r=t;for(let o=0;o<n.length;o++){let i=n[o];if(i.match(/^[0-9]+'$/)){let s=parseInt(i.substring(0,i.length-1));K(s<Sm,"invalid path index",`path[${o}]`,i),r=r.deriveChild(Sm+s)}else if(i.match(/^[0-9]+$/)){let s=parseInt(i);K(s<Sm,"invalid path index",`path[${o}]`,i),r=r.deriveChild(s)}else K(!1,"invalid path component",`path[${o}]`,i)}return r}var Wg=class t extends jg{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,n,r,o,i,s,a,c,l){super(n,l),$s(e,_m,"HDNodeWallet"),Be(this,{publicKey:n.compressedPublicKey});let u=nr(Np(ui(this.publicKey)),0,4);Be(this,{parentFingerprint:r,fingerprint:u,chainCode:o,path:i,index:s,depth:a}),Be(this,{mnemonic:c})}connect(e){return new t(_m,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),e}async encrypt(e,n){return await UE(this.#e(),e,{progressCallback:n})}encryptSync(e){return BE(this.#e(),e)}get extendedKey(){return de(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),uSe(Xt(["0x0488ADE4",nj(this.depth,1),this.parentFingerprint,nj(this.index,4),this.chainCode,Xt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new $E(_m,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let n=Ct(e,"index");K(n<=4294967295,"invalid index","index",n);let r=this.path;r&&(r+="/"+(n&~Sm),n&Sm&&(r+="'"));let{IR:o,IL:i}=C1t(n,this.chainCode,this.publicKey,this.privateKey),s=new Hs(hs((bd(i)+BigInt(this.privateKey))%gSn,32));return new t(_m,s,this.fingerprint,Ae(o),r,n,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return N1t(this,e)}static#t(e,n){K(Ep(e),"invalid seed","seed","[REDACTED]");let r=Oe(e,"seed");K(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let o=Oe(Ip("sha512",hSn,r)),i=new Hs(Ae(o.slice(0,32)));return new t(_m,i,"0x00000000",Ae(o.slice(32)),"m",0,0,n,null)}static fromExtendedKey(e){let n=tr(Z8(e));K(n.length===82||uSe(n.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=n[4],o=Ae(n.slice(5,9)),i=parseInt(Ae(n.slice(9,13)).substring(2),16),s=Ae(n.slice(13,45)),a=n.slice(45,78);switch(Ae(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=Ae(a);return new $E(_m,Lp(c),c,o,s,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new t(_m,new Hs(a.slice(1)),o,s,null,i,r,null,null)}K(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,n,r){e==null&&(e=""),n==null&&(n=jI),r==null&&(r=Xc.wordlist());let o=gm.fromEntropy(_a(16),e,r);return t.#t(o.computeSeed(),o).derivePath(n)}static fromMnemonic(e,n){return n||(n=jI),t.#t(e.computeSeed(),e).derivePath(n)}static fromPhrase(e,n,r,o){n==null&&(n=""),r==null&&(r=jI),o==null&&(o=Xc.wordlist());let i=gm.fromPhrase(e,n,o);return t.#t(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return t.#t(e,null)}},$E=class t extends AE{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,n,r,o,i,s,a,c,l){super(n,l),$s(e,_m,"HDNodeVoidWallet"),Be(this,{publicKey:r});let u=nr(Np(ui(r)),0,4);Be(this,{publicKey:r,fingerprint:u,parentFingerprint:o,chainCode:i,path:s,index:a,depth:c})}connect(e){return new t(_m,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return de(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),uSe(Xt(["0x0488B21E",nj(this.depth,1),this.parentFingerprint,nj(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let n=Ct(e,"index");K(n<=4294967295,"invalid index","index",n);let r=this.path;r&&(r+="/"+(n&~Sm),n&Sm&&(r+="'"));let{IR:o,IL:i}=C1t(n,this.chainCode,this.publicKey,null),s=Hs.addPoints(i,this.publicKey,!0),a=Lp(s);return new t(_m,a,s,this.fingerprint,Ae(o),r,n,this.depth+1,this.provider)}derivePath(e){return N1t(this,e)}};function dSe(t){let e=Ct(t,"index");return K(e>=0&&e<Sm,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function pSe(t){let e=Ct(t,"index");return K(e>=0&&e<Sm,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function qI(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function WI(t,e){let n=JSON.parse(t),r=ME(e),o=Mt($o(n,"ethaddr:string!")),i=lSe($o(n,"encseed:string!"));K(i&&i.length%16===0,"invalid encseed","json",t);let s=Oe(Ya(r,r,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new KP(s,a),u=cSe(Oe(l.decrypt(c))),d="";for(let p=0;p<u.length;p++)d+=String.fromCharCode(u[p]);return{address:o,privateKey:Bo(d)}}function O1t(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var XP=class t extends jg{constructor(e,n){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new Hs(e):e;super(r,n)}connect(e){return new t(this.signingKey,e)}async encrypt(e,n){let r={address:this.address,privateKey:this.privateKey};return await UE(r,e,{progressCallback:n})}encryptSync(e){let n={address:this.address,privateKey:this.privateKey};return BE(n,e)}static#e(e){if(K(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let r=gm.fromEntropy(e.mnemonic.entropy),o=Wg.fromMnemonic(r,e.mnemonic.path);if(o.address===e.address&&o.privateKey===e.privateKey)return o;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let n=new t(e.privateKey);return K(n.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),n}static async fromEncryptedJson(e,n,r){let o=null;return zI(e)?o=await QP(e,n,r):qI(e)&&(r&&(r(0),await O1t(0)),o=WI(e,n),r&&(r(1),await O1t(0))),t.#e(o)}static fromEncryptedJsonSync(e,n){let r=null;return zI(e)?r=YP(e,n):qI(e)?r=WI(e,n):K(!1,"invalid JSON wallet","json","[ REDACTED ]"),t.#e(r)}static createRandom(e){let n=Wg.createRandom();return e?n.connect(e):n}static fromPhrase(e,n){let r=Wg.fromPhrase(e);return n?r.connect(n):r}};var bSn=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function P1t(t,e){let n=(1<<t)-1,r=[],o=0,i=0,s=0;for(let a=0;a<e.length;a++)for(o=o<<6|bSn.indexOf(e[a]),i+=6;i>=t;){let c=o>>i-t;o&=(1<<i-t)-1,i-=t,c===0?s+=n:(r.push(c+s),s=0)}return r}function D1t(t,e){let n=Yz(t).join(",");return e.split(/,/g).forEach(r=>{let o=r.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);K(o!==null,"internal error parsing accents","accents",e);let i=0,s=P1t(parseInt(o[3]),o[4]),a=parseInt(o[2]),c=new RegExp(`([${o[1]}])`,"g");n=n.replace(c,(l,u)=>(--s[i]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),i++),u))}),n.split(",")}var Kg=class extends Za{#e;constructor(e,n,r,o){super(e,n,o),this.#e=r}get _accent(){return this.#e}_decodeWords(){return D1t(this._data,this._accent)}};var _Sn="0itatkastcenaovo$taouleraeki&chor*teci%enbalodaeladet'!Chn=0Di#%E%^1Resa2Rese3CeT'#0EjKohol0Pu)%0A&sDul#Ekdo)Ke)Ti#Ul|3}aOgan%0FaltI$@tPi,%TmaTronom0LasL{i#Ol0Tobus4Yl:B#}<CilCul#D!_Ge)GrHnoKterieLa^L{#LkonLon-LvanLzaMbusNkom!R[rR{RmanRokoRvaTer#TohVl&Zal#Zili#Zu#3D&RanSe^StieTonZin#ZmocZ)k3CyklD]Ft-KinyLan%Og,fO]gTvaZon2AhobytAt*/E/aEdu+EskIk!Iz&Ok|Oud Ud2B-BrDl.D~H!(JkotJ|K<ysLe$R>R'?TaUb_U/!U^U+Ur!Xer2A^v#Ambo,An#AtrEp)Ike)KoLohOnzOskevUn{#Usin#Z^Zy2Bl.Bn|})D _D#D'aF{Jar(Kv?LdokLvaN^NkrRzaTikVolZola3D+tL.T'#0Ukot:PartRev&3DrDu+J/JnLaLerLkemLn?N.Nn(N'#NtrumNz<StopisT#2AlupaAp`]Ar aA)E/t!EmieI/otIrurgL`Le[Lub M_Mu,ObotO/olOd[O+,Om=Op Oro[OvRapotRl RtRupTiv(Ud.Utn!V!Vil#V(Y[Y$!Yt 0Bu+Gare)H_&HlaNkotRkusSter&Ta%TrusZin>Z(2O&2KolivUv!4It_N(0Dn(Ke)KrPot0Ak~AlIkRkot2Kli$a:L-oRe[T_Tum1E,1B!a}'#Cib_Fic Fla%KlKr{Mokr!PreseRbyS#T-tiv3Kob,zKt|O^P]mSkSp+jV`]Vo/2AhaOuhoUhopis1Es0BroByt-C@t}ut DnesH+dHo^H,JemJn?Kl`KolaKt<Kum@tLarLevaL.MaM.ntMluv M'Nut P`PisPln PosudPr'odPu$ Raz R(RtSahSl'St!-SudSy)TazT-Tk~Uf!Utn!Voz%Z`uZn!Z<%2Aho)AkAm!ikAv>AzeDolObn(OgerieOzdSn(T Z(2B@}'noD-HaH'#S SnoT(0Oj?Or>2Nam :9O]gOnomie0EktronIpsa0AilIseO%P!ie2Izo^O/aOpejOs2EjEn%K<)Kymo0Ike)0F<ie0Olu%1Eku%KurzePed?P]zeP<tT,kt:C#Jf#Kul)N!ikN)zieRmacieV< Zo+3De,%J{onN#3Al#Gu,ntLozofLtrNan%N)Xa%0Ord1An_IrtOtila2NdSf<T[lT#Ton2Ak%Es#On)2KarNk%3Zi#:LejeRant3N{i#O]g3Lot.2Azu,Ejt2LemLfi$aTi#2AfAmofonAnu+EpIlOgOtes#2Ma:D?DrLaL@#N[NopisRfaRpu&V,n3Bk(J#lJnoJtmanK)rLmaM!omR>R&S]Zky3St<ik2Ad'#AsivkyAvaEd!EnO^v>OhOup(T!Ub.U/o)0AtO)Yz0IsOjivoOut0Bl.Boj}DinyDl!Dno)D|Jn(KejLin#L#LubMo+N [No,%RalR^RizontRkoRliv>RmonRn.RoskopR$voSpo^St.T'(U[UfUp!Us#V<2Ad[An?Av(Az^Bo+kD.D]D(N-Ob#Oma^OtOu^Oz@St#Ub(Yz!2B@(B~D[KotMrS aSto)0Ozd2Bn(D,ntGie&M&Sterik:2Yl#3Ned2O&0Uze0Un a0F-%Fla%KasoOva%Sp-%Tern{Vali^Ve$<Zer%3Onie:Blko})Ho^Kmi+K(L'>N)rRmarkRoSanSnoT#V<Zyk3Din>D+Dn!_HlanKotL@L oMn(NomP?S{erV Zd>Zero3NakNdyNo/Sk,Sto)Trn?Zva3En|1Gurt5R):Bar{B_Bin{}&D{Did]HanJakJu)KaoKtusLam aLhotyLibrLn(Me,MkolivM&Ni[lNoeNt<Pal.P_aP olaP#P+Po)PrPu$aPy[,Ram_Rot#RtonSaTa]gTed,U%UzaVa+cZaj#Ze)Ziv(2EkolivEsi0Dlub@MpRami#3No2A%kAdivoAmApotAsi#AunEcEn[Ep!Es~IdImaIs&Ob*kO#nOpaOubUb'&Us!Uzk(0EnIt!Otr0IhaOt0Al?Ber>B#BlihaBylaC*rH=J@>KosKtejlLapsLe^LizeLoMandoMe)MikMn!aMo,MpasMun aN!N%ptNd?N>NfeseNgresN.NkursN)ktNzervaPan>PieP~Pr'#Rb_R-t<Rmid]RoptevRpusRu&RytoRz{S!>St#T_T+)T*lUk!Up_&Us-Uz]VbojZaZ<oh2Ab?A/Aj.Al|AsopisAv!aEd EjcarEs[Eve)Ik{ItikIzeKav>Me+cMivoOcanOkOni#Op OupaOv#T-Uh`]Up?Ut(Vin#Y/+Yp)Y$alYt2Dlan#FrJn(KlaLaj^Li/L#Lom{Ltu,NaPodivuRtRz<Til0Al aAsin#E$<2No]gS_.Ta,T?T#T'>V`]:B,d<})nDn(IkKom>M_aMpaN'#S?SoStu,Tin#V.3B#CkdyD@Dn?D'#Dv.G@^GieG,%H%Hk(H~KtvarNo/odNtil#P@#Pid]T`]T>TmoTokruhVhartV a%Vobok3B,}ot#DojedDsk(H'.Jav>L-M{#NieN#No+umStop`T.T|5Bi$aDivodGi#GopedKal aK{Mc|P!aPu/RdSosTrU^lUhU#Usk!V>3Tiv(1Cer&CiferMpSkSt,%0I%2RaRi#S.:DamD]Gi$rHagonJ{-J _J< aKakK'?Kr_aL[L.L|Lv?Min#Nd+NkoRn(SakrSkotSopu$T?Tri#Tur aZan>ZivoZl Zur#2Lo[0}anikD a%D'.LasaL*nNtol#TlaTo^TrZe,3G,%H~Hu+K.KrofonL@>Lim{rL(Mi#Nc'&Ni[rNom{Nul(S#StrX|2Ad(HaH'.OkS!Uv 1I/Ohem0BilCn(D_#Dl [HylaKroL-ulaM@t#Nar/aNoklN$rumNt|NzunSazSkytStTiva%T<#Ty#U/aUdr(Zai#Z-Zol2Am<Av@>KevTvolaZ{Zut(0T _1DrcF]nL!MieN?S{Ta%ZeumZi#nt3Sliv>0Da:B*r!}yt!Da%Dbyt-DhozDobroDpisHlasHn!Hodi+H,d Iv aJedn*Ji$oJm=K]n Kon>Krm LevoMaz!Mluv Nom{rOkoOpakO$roP`!PevnoPln P~Pos+dPr(oRod RubyRy/]S` S-!S+poSt!TolikV@-Vr/Vzd<yZv!3Be}!CkyDa+koDb!DuhGa%H{Ho^J@JprveKlidLib(Mil(MocO/o)On#PokojR(RvSmyslS*l`Tv<UronV.Zvyk+3Co)JakKamKdyKlKte,kTro5C+hHav?M.%RaR-S _Sn(UzeVinyVo)Zd,5DaD+G{T Tn(Trie3Mfa:0AlArv AvaDivEcEhn!Ejm=Ez aHajo[Iln?Jasn J-tK]p La$L-Li[LohaLu^NosOh! Oj-OutRaz>R&Ru[RysSahSluhaS)r!UvVazVin VodVyk+Yv!_Z<0AsElEn Hl` Ho)H,&It~0BojByt}odCiz Ebr!Esl!Evzd!EzvaH`%Hod J{JinudKazK*p LivLu#Ml#Oln(P`PisPl=P<Pu$ Pyk!Raz#S*d StupSunTokTudVahaVe)Vol!V,%tZ&k1I&Sajd1LasNiskoRa^Roz Ryz-2ApEn?Li#NoOuzl OvyRasaResRs-RuhUpantUr#Us 0Ejn.Iz|0AkE+)Ez L`.L*v!LuvaYl0Ehdy1Ak|As-E,%I%Il(Is|O,Oz?RavduRoti1B al}e$rGieL?LojT_0A^}~I#IvoLavaLep Ln L' N'aO[Ol Pa+cT@T,haTu^Ty/Voj 0Epl IskOpRh!Rl(RokRubyV<1A~ArEsLivn O%1Id1Do[:}!_Ci@tD*/H<-KtLan^L>LivoLu[Mf+tMls-N@#Ni#N&N|N$voNtof+Pri#Rke)RodieR)Ru#Ry[Se#Siv aSt_#T@tTro&V*kZnehtZ*r-3C#DagogJs-K]LotonNal)Ndr-NzeRiskopRoStr(Tar^T?Tro+jVn.Xeso3Ani$aHaJav?K+KnikL.Ln(Lul#Nze)Pe)S!_Sto+Tev&Vn?V'ar2A%n)Ak!Am@Ane)A$i#At Avid]AzE/Em@oEn)EsEtivoEv_Iv!N NoO/aOd.Om[OutUkYn2Bav Byt}odC Ctiv>D!D%n Deps!Dh+dDiv Dkl`Dman DnikDo[Dpo,D,zD$!aDvodDzimEzieHan#Hnut#H'<HromaHybIn)Ji$#Jm=Kaz K+sKojKrokKu)KynLedneLib-Lk~LohaLynomMaluMi~Ml#MocM$aMys+tNe/!N<#Nur(P`!P_Pis-Pla/Pros Ps!PudR`%R%RodRu/aRyvS` SedSilaSkokSlan>S*d SpoluS)vaSud-SypTahT#nT+skTom-T,vaTupaTvo,U#zUtoUzdroVahaVidlaVlakVozVr/V$!VykVzde/Zd,vZem-Zn!-Z<Zv!2Ac|Ah<yAkti#A+sAot>Ap<-AseAv^IncipKnoObud O%ntoOdejOfeseOh,Oj-tO]m Omi+Onik!Op`OrokOs[OtonOut-OvazS#v#St@Udk(UtV-Voh<y0An>OvodTruh0Actvo0Ber)}DlKav>Kl.Kr+LtMpaNcP@SaSin#St.T|Ty#3Rami^SkT_::C-}otDia%Dn?DonFtGbyKe)K'.M@oMp*/NdeRa/R aS'&StrTo+$Zan%Zid]3Ag|Ak%CeptDakt<Fer@tF+xJnokKlamaK<dKrutKt<Pu)%VizeVmaVolverZerva3Sk|Ziko5Boti#Dokm@H'#K+KokoMan{oP'odPu/aRejsSolStl.Tmi$rTopedTun^Ub@#U/oUpU,V.Vn?Zb<Z/odZd!Zezn!Zhod%Zin#ZjezdZ#zZ]haZmarZp`Zru/ZsahZtokZumZvod5Bri#}`]Kav?Kopis3BaBol'}l(D]P`]T.Z(:Di$aH!KoM>Mizd!Mo)N #Rdin#San#T_ Z[Z@?0Or0H|1B,n#CeseD`]Dim@tD]Hn!Jm=Ke,K)Kun^KvojeM@oNoRvisS` Sho,SkokSl!St,SuvSyp!T[T.Tk!T~Trv!VerZ&m2O^R~0FonLn?R#Rot-RupTua%1AfandrAliskoAnz@AutEptikIcaL`[L@?LoLuzO[O#nOroRip)RzUp.V(Vr&0Abi#Adid]An.A$Avn(Ed|Ep>EvaEz.IbI&Izn?OnOup-OvoU/UhaUn%Up#Za0A,gdE)&Il$voL*vaOgR`RkRt#Ut-Ysl0AdAhaOb0Bo)}aD'#KolP#TvaUbojUc Ud%UhlasUl`Um,kUp,vaUsedUtokUvis{0Al'&As _IsLavOd-Oj@>OluOnz<Orn(Ou$aR/aU$ 1An^AzD%NaN>Ovn!P@StUb1An?Ar(aAti#Av[EhnoEz#OdolaO+kOpaOrnoOup!Ra/ResRh~RomRu&Ud&Upn?VolYk0Bj-tBtropy}arD(KnoNd!N=Rik!aR'.0AhAl$voEtrAt[Az-Is+It-Obo^Odid]Or#Rab2Kav#KotN-N'>P!Pk(R'(S_T(:B+t#Bu+H*nJemnoJfunJgaJ Jn(Kti#Mh+MponNc|N>NkerPe)V@.Z!_3}ni#HdyKut.LefonMno)Nd@%Ni$aN<P])P&PrveRapieRmos#Xtil3}oSkopisTu+k1Ad+cAn.0Ap#Esk!UkotUpa0El1A+)Pin#PolRzoUhaU+c2Ad?Akt<AmpAsaAverzaEf E$Ez<Hav.Hl.O/uOj?Os#Ou[P%P _Pk(Ub>U/l Uhl?UsV!2DyH~H(Nd,Ri$aR&jZemsko0ArohOr[Rd(Rz2GrKev:0Oh(OzeR!R*s-RusYt'&0HoTiv(0Iv 3R` 1Edn!I$ M=0Az!_Lidn Lon Otv Roj 0I%I)Ov 0Yv`]0Av If<maIk~1Ad~L!n Ly~Out!Rav 1AnAz 0Ed~Il|Mrt N`n N=Oud Tl!Tr~0Ah|K!Lum O~Op@>R*s 1Al Oln Oz'#3D,v ElEn.L.N!:GonL/aL*nNaN^lNil#RanRhanyR|1ElkuHod0Ova0DroGe)%J%Lbl*dL{rhL _LmocLry[Nk'Ran^RzeS_#SkrzeSn?SpoduS)Ter.Ver#3B,%}rDeoh,D.D+LaN?S{Tal aZeZ #0Ezd0L`Us0Aj#AkAs>EvoHk(IvN'#Oup!1Uc|Uk0DaDiv(Doz&kD$voJ@skyJ&JskoLantL[L LnoSk'#Zid]Z'&0Ravo1Ab>A%tAhA)Ba}o+kH!StvaTu+0Ad T*p Tup0Ip4Bav Br!}|D!D,Fot H+d!H~Hod H,d Hub Jasn J{Jm=K]p Kon!L-!Maz!Mez Miz{Mys+tNe/!Nik!Nut P`!Pl! P,v Pu$ Raz R'n!Rv!Sl' SokoS)v Su~Syp!Tas Tes!Tr! Vi~Vol!Vrh_Zdob Zn!0AduBud }op D<Du/Dy/!E$upH+demKazLyk!NikOr-P*,TahT-::993Lofon::Br!Byd+t}|DarmoDus F*k!Hlt Hod H,^Hy~J!>J{Ji$ K+p!K*p Lep Mez Mot!Mys+tNe/!Nik!Pl! Poj Ps!Raz S)v Su~Taj Temn Tk~Ujm=Val Ve+tVin Vol!Vrt!Zvon 0Av RusuUd|Yt-1A+#ArmaAtn(IvoOb RojVihYm`]0L@.ManM.Pt!Z`uZdola2At Lt~Lubo#Ot' Ru[0MaMn?0Emn 0Lam!Oum!R!#Umav#0AtoEh#O[OmO$Ozvyk0Ap|ArAt-IjeIz{Ocn Odr!Rzl.Ut|0AkAl(Am@!Ovu0B,z Tav Ub-Ufa+0Lod Omal RavaR( Rud#Rvu1A^An C`]N (NoOv&Y/l Zav(1I/aR! 0B'.Br0Ed~EnkuEs_aOnR!Uk'odYk",SSn="0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a",fSe=null,rj=class t extends Za{constructor(){super("cz",_Sn,SSn)}static wordlist(){return fSe==null&&(fSe=new t),fSe}};var vSn="0arertoiotadonoaRteirroenaNonaLsolocoiliaralaorrenadaChoN$n0A>Dom,EjaI!#Oga&O'Or#RazoR*Ue=U<0Ab Adem@Ce<C~Ei)ElgaEn#Ept I&L  NeOg!O<TivoToTrizTu Ud*U!&Us 0Ic#Mit*Opt Or'Ua`Ul#0Reo0Ect Ic~In Irm 0IlIt On@Os#Ot Reg R$UaU&U?aUja0OgoOr+0ReSl 0Ed_zE'Us)1Ac[nAmb_ArmaBaBumCaldeDeaEg_Ej Er%E%F?!GaGo&nIa&I,#Iv$MaMejaMib T TezaTivoToTu[Um'Z 0AbleAn)Apo]ArgoAs B Bi#E'IgoIs%dOrP oPl$0|oC@'C]D D,Em@Gu=Il=ImoIsOt T,aTiguoTojoUalUl Unc$Ad*EjoO1Ag A[#Eti#IoLic O&Or)OyoR,d!Rob Ues%U+1A&A`ArBit+BolBus#|ivoCoD!D?]DuoEaI&IesM.i-esOmaPaP.Reg=RozRugaTeTis%0AA&Al#C,<Egur EoE<rI,#I=Ist*NoOmb+P!oT?]T+Tu#Um*Un#0AjoAqueArEn#EoI>Le%OmoRa!RozUn0DazD$GeLaM,#S,)T^0AlAnceA+EEl]`E`EstruzI.I<2ErU{U'0Af[nArO)Uc Uf_Ul:BaB^|eH@IleJ Lanz/c.LdeMbuN>Nd-oRb(>RnizR+Scu]S#nSu[Tal]T!@T*Tu%UlZ 3BeBid/=S SoSt@3|oEnNgo2An>OqueUsa2ABi`BoCaCi`DaDegaIn//!oLsaMb-{dNi#N}saiRdeRr SqueTeTinVe{Zal2AvoAzoEchaEveIl=In>IsaOcaOmaOnceO)UjaUs>U#2CeoCleE'EyFan{F.HoIt_L#Rbuj(l(+Sc TacaZ.:Bal=BezaBi`B[CaoDav!D,aErFeI{ImanJaJ.LLam Lc$L&Li{dLleLm/^LvoMaMb$Mel=Mi'Mp}c!Nd?Nel-gu+Nic-#N-.ObaOsPazPi%nPo)Pt Puch((b.RcelRe%Rg(i'RneRpe%R+R%SaS>S!oSpaS#rT^ceT_U{lUsaZo3Bol]D!D+Ld/eb_Lo<Lu]M,#Niz-t+Rc(&Rez(oRr R)zaSpedT+2AcalAle>AmpuAnc]ApaAr]I>Is)IvoOqueOzaUle%Up 0Cl.EgoE=EnEr#F[G +M->NeN%P_sR>Rue]SneTaU{d2Am^AnA+AseAveI,)ImaInica2B_Cc~|i'Ci`CoDigoDoF_G!He)JinJoL/ch/eg$Lg Lin/l LmoLum`Mba)M!Mi{Mo&Mpr-deNej}g-oc!Nsej}t PaPi(az.Rba%RchoR&nR.(r!S!SmosS%2AneoAt!E Ec!Ei&EmaIaIm,Ip%IsisOmoOnicaOque%U&Uz2Ad+Ar#At+BoBr*| aEl=En#Er{Es%EvaId Lebr/p/#Mb_Mpl*N-e%O%P.Pul( R$<R<RvaTis:M-z(R&T?3B!B?Ca{C*DoF,saFin*J LfinLga&Li#M^-<N%lP^)RechoR+%Sayu'SeoSf?eSnu&Sti'Sv$TalleT,!U{3AAb=AdemaAman)A`Ar$BujoCt En)E%EzFic?G'Lem/u*N!oRec#Rig*S>Se'Sf[zVaVi'5BleCeL^Ming}N Ra&Rm*R<SSis2Ag.Oga2|aDaE=E'LceOQueR Rez(o:0A'R$0H OUa&r0AdIc~Ific$I#rUc 1Ec#Icaz3EEmp=1Efan)Eg*Em,#Ev IpseI)Ix*Og$Ud*0Bu&It*Oc~Pa)Pe'PleoP_sa0A'C go|ufeC@EmigoE+Fa&F!moGa'Igm/aceOrmeRe&SayoS, T!oTr VaseV$1Oca0Uipo0Izo0Ca]C,aCol Crib*Cu&Enc@F!aFu!zoPa{PejoP@PosaPumaQuiT TeTi=Tufa0ApaEr'Ic-@1Ad*Alu En#It 1Ac#Am,Ce<CusaEn#Ig*Il$Ist*I#P!#Plic P.!T_mo:BricaBu]|a{C?C#rE`J/d/=L<Lt MaM?@Mo<Ra.Rmaci(olRsaSeTigaU`V^X3Br!o|/izORi(ozRt?Rv^Stin3AbleAnzaArB[Cc~|aDeoEb_ElE[Es%Gu[J JoL/e)L@lLt+NNc-g*Ni#Rma2A>Au%EchaOrO%U*UjoU^2B@CaGa%G.L$Lle#N&Rm(+Rtun(z SaTo2Aca<Ag?AnjaAseAudeE*E'EsaIoI#U%2EgoEn)ErzaGaM Nc~Nd(g.R@S?TbolTu+:Ce]FasI%JoL/!i/=Mb- Nch}g-<RajeRzaSoli`St ToV?an3Me=M*NN!}$N)Ran$R,)Rm,S#3Gan)M`s$R Ro2Aci OboOr@2LLfoLo<LpeM(&R?([TaTeoZ 2A{Afi>A'AsaAtisAveIe%Il=IpeIsI#O<rUaUe<UmoUpo2An)ApoArd@Er[IaI'I.I<It [Sa'St :B!B?Bl C!|aD/l Mac(i`ZZa`3B?]B[|oLa&L$Mbr(*Rma'RoeRv*3E=Er+Ga&Gi,eJoM'S#r@5Ci>G Gu!aJaMb_Ng}^Nr((mig('St?Yo5E>ElgaEr%E<EvoI{IrMa'Me&M?deM}d*RacanR#:1O'0EalIomaO=2Lesi/uUal4EgalUs~0Ag,AnIt P P!$P.!Pul<0CapazDiceEr)FielF^meG,$Ic$M,<MuneNa#Sec#S%n)T!esTimoTu*Ut?Vi!'3AIsOn@0L/o):BaliB.M.RabeRdinR[U]Zmin3FeRinga3Ne)5R`d(obaV,Ya5ErgaEvesEzGa&rGoGue)Ic$N>Ngl-$Nt Pit!R S#V,?Zg :7Lo5A]:B$C$C[DoD+nG #GrimaGu`I>M!Mi`Mp --ch-gos%NzaPizRgoRvaStimaTaTexT*U_lV Zo3AlCc~|eC#rErG~Gumb_Ja'Ngu-#NaOnOp &S~TalT[VeY,{3B!%dB+C^D!Di EnzoGaG!oMaMi)M.Mp$NceN&Ne-go)N}t!`Qui&SoS%T!aT$T+2AgaAmaAn#AveEg En Ev Or Ov!Uv@2BoC~CoCu[GicaG+MbrizM}jaTe5|aC*G J}-esPaSt+ToZ:Ce%|oD!aD_Du+Est+F@G@GoIzL{dLe%Ll/oMaMboMutN>N&Nej Ng-iquiNj N}<N%Na`PaQuin(R>Re(f?Rg,Ri&RmolR+nR)sRzoSaSc aSivoT T!@TizTrizXimoY^Z^ca3|aDal]D$Du]J?]J^L,/.M^i-^NsajeN)NuRca&R,gueRi#SS.TaT!To&T+Zc]3E&ElEmb+G/Lag+Lit Ll.M}-!}im}u#OpeR SaS!@S?SmoTadTo5|?aC~DaDe=HoJ LdeL!Li'M,#Mi- c-ed-j-#NoRad(d!Re'R*R+Rs(%lScaStr TivoV!V?Zo5|oD EbleE]Er)Est[G_J!L/e%L%N&Nec(alRoScu=SeoSgoSicaS=:C C~D IpeRanj(izRr SalTalTivoTu[lUseaValVeVi{d3C$Ct G Goc$G+OnRv$ToUt+V V!a3|oDoEb]E#NezNoTi&Vel5Bleza|eMin(i(m()TaTic@Va#Ve]V$5BeCaCleoD?=DoE[EveEzLoM!oTr@:Sis0E<IspoJe#R(!oS!v T,!V$0AA<Ea'H,%HoIoReTavoTub_Ul#Up Urr*0I IoIsea0S)0EnsaEr%Ic$Rec!0Ro1DoR0O1AEa{Fa#IvoLaMoOrVi&0Bligo0DaZa1A>C~E[In On!T TicaUes#1Ac~A&rAlBi%CaD,EjaGa'G@Gul=I,)Ig,Il]OQues%Uga0Ad@Cu+Ez'OT[0O'Ro1EjaU=1I&Ige'0En)0O':C#D_El]Gi`GoIsJ oLabr/>Le%Li&Lm/om/p NNalNi>Nt!-ue=PaPelP?]Que)R Rcel(edR*RoRpa&RqueR[foR)S SeoS~SoS%TaT$Tr@UsaU%VoYa<3A#nCa&C!a|oDalD*G IneL L{'Le/ig+LlejoLoLuc--s N.OnOrPi'Que'R(ch(d!Rez(f?Ri>Rl(mi<R+Rs.aSaScaSimoS%`Ta=T+leoZZu`3C |.EEd[Er`EzaJam/ Lo#Mi,%N}#rNz-aOjoP(a%S Sci`SoS%T.Zca2AcaAnA%AyaAzaEi#E'OmoUmaU[l2B_CoD!D$EmaEs@E%L,Lici/=LvoMa{Me=MoMp-!Rc~R%lSa{Se!SibleS)T,c@T+Zo2A&E>zEgun%Em$EnsaE<Ev$ImoIncipeIs~Iv OaOb Oce<Oduc#OezaOfe<rOg[maOleOmesaOn#Op$OximoUeba2Bli>|!oD^Eb=Er%Es#Lg/*Lm.LpoL<M-#NalNoPaP?(e:99Ed EjaEm Er!E<Ie#ImicaInceIt :Ba'B@BoC~DicalIzMaMp-ch}goPazPi&P#SgoSpaToYoZaZ.3Acc~Ali{dBa'Bo)Ca!Ce%|azoCog!C_oC#Cur<DD.&Duc*FlejoF^maF[nFug$Ga=G*G]G_<H,I'IrJ/a#LevoLieveLle'LojM Med$M}>rNd*N%P #Pet*Po<Pt?SSca)Si`Spe#S#Sum,T*oT^'T[#Un*VesVis%YZ 3CoEgoEn{EsgoFaGi&G^Nc.N.OQuezaSaTmoToZo5BleCeCi D DeoD?]ErJizoJoM!oMp!NN>N{PaP!oSaScaSt+T 5BiB^DoE{G*I&In/e%LoMboM^Ptu[TaTi`:Ba&B!B$BleC GazG[&L/&L!oL*Lm.L.Ls/#LudLv Mb-c~Ndi-e Ng_Ni{dN}#PoQueRdin()nSt_TanU`Xof.3Cc~CoC_#C%DGu*IsL=LvaMa`M?l-d-<rNalN^P  P@Qui(RieRm.Rv*S,%S~TaT,%V!oXoX#3D[Es%E)G=G'Lab/b L,c$L]Mbo=M$R,aS)maT$Tu 5B_C$D$LLap/{&Le{dLi&Lt Luc~Mbr-de}i&No+NrisaPaPl P^)R&Rp_s()oS)nTa'5AveB*Ce<D^Eg[E=E'Er)Fr*Je#L%nM P! Pl*P.!P_moRR>Re'Rg*S#T?:Ba>BiqueB]BuCoC#JoL L>L,#Ll/.Ma'Mb^Ng}quePaPe)P@P.Qu?l(deRe(if(je%RotR+R%TuajeU+ZaZ.3At+|oC]CnicaJa&J!Ji&L/efo'MaM^Mp=NazNd!N!NisN<Ori(api(>Rmi'Rnur(+rSisSo+StigoT!aX#Z3B$Bu+nEmpoEn{Er[E<G_J!/deMb_Mi&M}%OPi>PoR(.TanT!eTu=Za5Al]B?=C Ci'DoG/&M N}#P PeQueRaxR!oRm,%RneoRoRpe&R_R<RtugaSS>S!Xi>2AbajoAc#rA!Afi>AgoAjeAmoAnceA#AumaAz EbolEguaEin%EnEp EsIbuIgoIpaIs)IunfoOfeoOmpaOn>OpaO)OzoU>Ue'Ufa2B!@BoEr#MbaM^NelNic(bin(ismoR'T^:0Ic 9C!a0B[l0I{dIrIv!<OT A3Ba'BeG,)Na0ArU $0IlOp@1A:CaC$Cu`G GoI`J?l/eLi&LleL^Lvu]Mp*oR(i R.So3Ci'C#rHicu=In)JezL/!oLozN-c!Nd-e'Ng N*N%NusRRa'RboRdeRed(j(<Rt!3AAjeBr C$CtimaDaDeoDr$EjoErnesG^LLl-ag_N}e&OlinRalRgoRtudS^Sp!aS%Tami`U&VazV!oV*Vo5LcanLum,Lv!RazT ToZ5E=Lg :::C!Te3GuaM('So9DoGaGur:F*}jaPa#Rza93N(+5MoR&",ESn="aeiou7695@@BZWWavwUJkO@Y-Kn))YEGq#E@O)cI@#ZkMHv$e*))M!!)D**$GW!oKm*Acoh^k&It-pi^SYW)$^n!G)bO!Wkzam(jS#X)Og*^l^RW!bQ#QygBKXfzE))hti!Qm)Cng%%c)mJiI*HJWbmYniCLwNdYyY%WKO^bnT$PuGOr!IvHu&G(GKbtBuhiW&!eO@XMeoYQeCa#!MrTJCq!OW&CHG(WCcW%%)$rfrIegu$)w!G)JGmWWw)MnD%SXXWIT^LWAZuVWB^W)eTL^x&$WGHW(nKWEMA)#$F$x$Waekqs,n7715)W*HM-$WAcCiu(a))VCZ)GG%(*CWWdW%$D!UCO$M",ASn="0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300",mSe=null,oj=class t extends Kg{constructor(){super("es",vSn,ESn,ASn)}static wordlist(){return mSe==null&&(mSe=new t),mSe}};var xSn="0erreleontiteurinueiriet cegeanseali medenel q)eniluxaus ch0Ais}And$Diqu E`#Ol*Ord Ou%rOy RasifReuv Ri,Rog RuptS_-SoluS'@UsifYss=0A@m+AjouAr+nCab]Cep,Clam Cola@Cro~eCu}ErbeHatHe,Idu]I Omp&Qu *R$y?Te'TifT)l0Ep&EquatHesifJec%fJug Mett!M* Op,Or Ouc*Res<RoitUl&V be0R R$ef0Fai!Fec,Fi~eF!{Fub]0Ac Enc I#I,Raf Reab#Ru?1D Gu`#L>Mab#S/-0Ou,Us,1Arm Chim+Er&Geb!G)I_ I?ntLeg Lia.Lou Lum O'd*PagaTes<Veo#0A&'BiguB!Enag Ertu?Id$Ir=Orc O'Ovib#Phib+P#'Us/t0Aly<Apho!Ar~+Atom+C+nE/%rG#Gois<Gu#{Im=Nex N$-N)lOd(Om=+Ony?Orm=T_[Tido&X+{1Ai}Eri%fL/*Olog+Pa!`Pe]Por,Puy 0UariumUeduc0Bit!Bus&De'Doi<G_tLequ(Matu!Me?ntMoi!Mu!P_,Ra~ Riv Ro}S_icT +lTic#0PectPh=&P* S|tS v*S+t&Soc>S' TicotT!Tu-0El>O?RiumRo-Ta^T_%fT* Trap 0Ba(eB .Da-Dib#G' Ro!Tom[Tru~e0A]Anc Ari-En*Er<Eug#Ia&'I@I$I}O(eOu R`1I=Io?:D.Fou Ga.G)t&Igna@L/c Lc$Le(eLisa.Mb(Ncai!Nda.Nl+)Nn>eNqu>Rb>R`R$R^Rra.Ss(S%$Ta`#Te|T,+Udr>Vard 3Let&L>Lo&Nefi-R-|Rg Rl(eRmudaSa-Sog[Ta`Ur!3B $Cyc#Du#JouL/L(g)LlardNai!Olog+Ops+OtypeScuitS$Sto'iTu?Zar!2AfardAg)An~*Ess/tInd OndOqu Ous$2BardB(eI!I}Li@Nb$Nd*Nhe'Nif>NusRdu!R[T&Uc#Ue{Ug+Ul$Uqu(Ur<Usso#U%^Xe'2An~eAs>AveEbisE~eEuva.Ico]Iga@Ill/tIo~eI^O~u!Od Onz Ous<Oye'U?Us^Ut=Uy/t2Ff#Iss$L#%nRe|R(S% T( To*Vab#Vet&:B/$B(eChet&De|D!Fe(eIllouIss$Lcu]Lep(Lib!Lm Lomn+Lvai!Mara@M aMi$Mpag[N=Net$N$N%[NularPab#Por=Pri-Psu#P,Pu~eRab(eRb$eRes}RibouRna.Rot&R!|Rt$Sca@S>S^Ssu!U}U%$V=>V [Viar3D`#Intu!Les&Llu#Ndr>Ns' Ntr=Rc#Rebr=Ri<Rn Rve|S}2Agr(Ai<A#'Amb!An-Apit!Arb$As<'At$Auss$Av* Emi<En`#Equ>Er~ Ev=I_Iff!Ign$Im eIotLoru!OcolatOis*O<O)t&Ro?U&0Ga!Gog[M_,NemaNtr Rcu]R R^T [Toy_Tr$V`2A*$A?'Aqu As<Av>I_tIgn ImatIva.O~eOna.Opor&2B=tBraCas<Co% D Dif>Ff!Gn Hesi$Iff Inc L eLibriLl(eLma,L$elMbatMed+Mm/@MpactNc tNdui!Nf>N.]Nno,Ns$[NtactNvexePa(P+Ra`Rbe|Rda.Rni~eRpusR!ctR&.Smi^Stu?T$U@Upu!Ura.U&|Uvr*Yo&2AbeA(&Ava&Ay$Eatu!Edi,E?{Eu}Evet&Ib]I Ist=I,eOi!Oqu Ota#Uci=UelYp,2Bi^E`l*Il]eIs(eIv!Lm( L%v Mu]Pi@Ra%fR<'3Anu!C#L(d!Ni^:Ign M>Ng N<'Uph(3Batt!Bi,Bord Brid But/tC= Cemb!Ch* Cid Clar Cor Cri!Cup]Da#Duc%fEs<F_sifFi]Fray Gag Givr Glu%rGraf Jeun Li-Log M/d Me' Mol*Ni~ Nou N&l#Nud PartP_}Pha}Plac Po}R/g Rob Sast!S-n&S tSign Sobe*Ss( Str>Ta~ Tes,To' T!s<V/c V_*V( Vo*3Ab#Alog)Am/tC,Ff  G  Git=G[Lu M/~eM(u Oxy@Rec%fRig Scu,Spo}Ssip St/-V %rVi}5Ci#C&'G?IgtMa(eMici#Mp,Na&'Nj$Nn Pam(eRto*Ru!Sa.Se'Ss>Ta%$U/>Ub#U-'U,Y_2Ag$Ap Es}Ibb]Oitu!2P +P#xeRab#Rc*3Nas%e:0Lou*0Ar,HarpeHel#La* Lip<Lo!Lu<O#Onom+Or-Ou,Ra}Rem Riva(RouU?U!u`0If>Uqu 1Fac Fec%fFig+FortFray Fusi$0Ali}Ar 2Ec,1Abor Arg*Ectr$Eg/tEph/tEveIgib#I%s?O.Ucid Ud 0B=]Bell*Bry$Er|@Issi$M_ O%$Ouvo*P e'Ploy Por,Pri<Ulsi$0Cadr Ch eClaveCo~eDigu Dos}DroitDui!Erg+F/-F m Fou*Gag G(Glob Ig?Jamb JeuLev NemiNuye{Ri~*Roba.Seig[Tas}T_d!T>To' Trav Um  Vah*Viab#Voy Zy?0L+n0Aiss*Arg[At/tAu#Ic +I@m+I Ilog)I[Iso@ItapheO^ReuveRouv Uis/t0U !Uipe0Ig Osi$Re'Up%$0C=>Pad$Pe-P+g#Po*PritQuiv Say S_-S+uSor Ti?TomacTra@0Ag eA]An~eA%^E(d!Endo*Er[lH/olHi^Hn+Ir Off Oi#Onn/tO'd*R/.RoitU@0Phor+0Alu Asi$Enta`I@n-I,Olu%fOqu 1ActAg  Auc Cel]Cit/tClusifCu<Ecu,Emp#Erc H= Hor,I.n-I]Is,O%^Ped>Plor Po}Prim QuisT_sifTrai!Ul,:B#Bu#{Cet&Ci#Ctu!Ibl*Lai<Me{M`#R-'RfeluR(eRou~eSc( T=Tig)Uc$U%fVe'Vori3Bri#C$d D  L(M?M'Ndo*Od=Rm Ro-Rve'S%v=U`#Ut!Vr>3AscoCe]C%fDe#Gu!Latu!Leta.L>eL#ulLm LouLtr N/c N*O#R?Ssu!X 2A* Am?As^At&'E|E~eE'Exi$Oc$O!Uctu Ui@Uvi=2L+Nd +Ngib#Nta(eRc Rg $Rmu]Rtu[Ssi#Ud!Ug eU`]Ulu!Urmi2Agi#Ai<An~*App Aye'Ega&E( El$Em*E[s+E!Iab#Ic%$Iss$Ivo#OidOma.Ont=Ot,Uit2Gi%fI&Re'R+{R%fSi$T':Gn Lax+L +Mbad R/%rRd+nRn*Rrig)Zel#Z$3AntLa%[Lu#Ndar?N =N+NouN%lOlog+O?t!R/iumR?St)lY}3B>C]RafeV!2A-AiveIs}ObeOi!Or+{2Lfe'M?Nf]R.R`#Udr$Uff!UlotUp`#Urm/dUt&2Ad)lAffi%A(eAndApp(AtuitAv*EnatIffu!Il]Imp Ogn Ond Ot&OupeUg U% Uy e2EpardErr>I@Im|veIta!Sta%f3Mnas&Rostat:Bitu@Cho*L&Me|NgarN[t$RicotRm$+Rp$Sard3LiumMato?RbeRiss$Rm(eR$Si,U!{3B n BouLar/tStoi!V 5MardMma.Mo.[N['Nor N&{R@Riz$Rlo.Rm$eRrib#U#{Us<5BlotI#{Ma(Mb#Mi@Mo'R]3Dro?lG+[M[Pno<:2Yl#2Nor U/e4Lici&Lusi$0A.Bib I,M_<Mobi#Muab#PactP i=Plor Po}Prim Pu,0Carn C_d+Ci@ntCl( Colo!Dex Di-Duc%fEditEp%eExactF(iFlig Form Fusi$G  H= Hib Jec,Ju!No-ntOcu]Ond Scri!Sec&Sig[Soli&Sp* S%nctSul,TactT_<Ti?Trig)Tui%fU%#Vasi$V_,Vi,Voqu 3Oni^Rad>ReelRi,0O]2Oi!Res<:GuarIll*MbeNv>Rd(Ug U[Velot3Tab#T$UdiU[s<9Ind!N~ Ng]Ue'UissifUrn=Vi=Y|Ye{5Bi]Ge?ntNiorP$Ris&S%-Te{V_i#:Yak7M$oOs^:BelBi=Bo' C  Cto<Gu[I[Is}I% Mbe|Mel#MpeN-'Nga.N,[P(R.'R?Ur>VaboVo*3Ctu!G=G Gu?SsiveTt!V>Xi^Zard3As<B  B!C_-Cor[E.Ev!Gatu!Go,G)M Mi&M$a@Mpi@Neai!NgotOn-|Qui@S>eS,ThiumTi.Ttor=V!'5Gi^Inta(Is*MbricT +U UrdUt!UveY=5B+Ci@Cra%fE'Gub!Is/tM>eNai!NdiR$T,X){:Ch(eGas(G_taGi^Ig!Ill$In%_Ir+Is$Jor Lax Lefi-Lhe'Li-L#t&MmouthNda,Niab#Nqu/tN&|N)lRath$Rb!R~/dRdiRi%?R^'Rr$R&]Scot&SsifT +lT>eTra^Udi!Ussa@UveXim=3Ch/tC$nuDa`#Dec(Di,Du<Il#'L/.Lod+Mb!Moi!Nac N Nh*Ns$.NtorRc!diRi&R#Ssag Su!T=Teo!Tho@T>Ub#3Au]CrobeEt&Gn$Gr L+uLli$Mi^N-N =Nim=Nor Nu&Rac#Roi,Ssi#X&5Bi#D [El#{Ndi=Ni&'Nna+Not$eNst!Ntag[Nu?ntQ)'R-|Rsu!R% Te'TifU~eUf#Ul(Uss$Ut$Uv/t5L%p#Ni%$Ra`#Re[Rmu!Sc#SeumSic+nTa%$T T)l3Ria@R%l#S,eThi^:Ge'PpeRquoisRr Ta%$Ti$Tu!Ufra.U%^Vi!3Bu#{CtarFas&Ga%$Glig Goc>I.Rve{Ttoy Ur$eUtr$Veu3CheCkelTra&Ve|5B#CifCt'[Ir-'I<t&Ma@Mb!{Mm Rma%fTab#Tif>Toi!Urr*Uve|Va&'Vemb!Vi-5A.Anc I!Isib#M oP%=Q)Tri%f:0E*Jec%fLig Sc'S v Stac#T_*T' 0Casi$Cup E/Tob!Troy Tup]Ulai!0E'Or/t1F_}Fic>Fr*0Ive1Se|S`l$2Fac%fIv>0Bra.Ett!0Ct){Du]E!{Iri^1A#A^Er Ini$PortunPrim T Ti^1A.{An.Bi&D$n E`#G/eG)`Ifi-Ne?ntQ)T+0C`]Mo<Satu!0Ar+0Rag/Rs$T`Trag Vra.0A%$1Y@Y.[1O[:Isib#La-Lma!sLo'@Lp Na~eNdaNgol(Niqu N[|NoramaNt=$PayeP>Po,PyrusRadoxeR-l#Res<Rfum R]Ro#Rra(R<m Rtag Ru!Rv_*Ssi$S&^T [lT+n-Tr$V`l$Voi}Y Ysa.3Ig[Int!La.Lic/L#Lou<Lu~eNdu#Netr Nib#NsifN'+Pi&PlumRdrixRfor Rio@Rmu,Rp#xeRs`R&S Ta#TitTr*Up#2Ara$Ob+O^Ot$Ra<Ysi^0AnoCt'=E-Er!Euv!Lo&N-|Pet&Qu Rog)Sc(eSt$Vo,XelZza2AcardAf$dAis*An A^Astr$A&|E' ExusIa.OmbOng U+Uma.2Chet&Es+E&In&Ir>Iss$Iv!Lai!Lic>L#nLyg$eMma@Mp>Nct)lNd  NeyR%^Si%$S<d Stu!Tag Te|Ti$U-Ula(Um$Urp!Uss(Uvo*2A*+A%^Ec+{Edi!EfixeElu@EnomE<n-E&x&Evo*Imi%fIn-Is$Iv Ob#?O-d Odi.Of$dOg!sO+Oje,Olog)O?n Op!Osp eO&g O)s<Ov beU@n-U[|0Y~o<1BlicC $I}LpeLsarNai<Ni%fPit!Rif>Zz#3Rami@:99AsarE!l#Es%$Ietu@It,O%_t:C(eC$,D+{G$d(I@'Is(L_%rLl$.Mas}Pi@Sa.Tis}Vag V(Y$n 3Ac%fAg*Ali}Anim Cevo*Ci,Clam Col,Cru,Cu]Cyc]Dig Dou,Fai!F#xeForm Fra(Fu.G=+nGi$Gla.Gul>I, Je,Jou La%fLev L+fMar^Me@Mi<M$,Mpl*Mu NardNfortNif]N$c Ntr NvoiPl>Por,Pri<P%#Qu(S veS(e{Soud!SpectS,SultatTabl*T_*Ticu#Tomb Trac Uni$Uss*V/~eViv!Vol&Vulsif3Ches<De|E'Gi@Go]Nc Pos,Sib#S^T)lV=V>e5Che{M/-Mp!N-Nd(Se|S>Ta%fTorTu#U.U`#U#|U%[Y|?5B/BisCheEl#G){In Is<|S S%^3Th?:B]Bo,B!Co~eFariGes<Is*La@LiveL$Lu MediNc%$Ngl>Rcas?Rd(eT' Ug!nuUm$U,Uva.V/tV$n 1AlpelAnda#E]atEnarioEpt!HemaI_-Ind O!Ru%nUlp,1An-Cab#Ch Cou C!,Da%fDui!Ig['Jo'Lec%fMa(eMb]M_-M(=Na&'Nsib#N&n-Par Q)n-Re(R.ntR+{Rru!RumRvi-Sa?V*Vra.Xtup#3D =Ec#Eg Ff]G#Gn=L_-LiciumMp#Nc eNist!Ph$RopSmi^Tu 1I 3Ci=C#DiumIg[{LdatLe`Litu@Lub#Mb!M?`Mno]N@N.'N[t&No!Rc>R%rS+T%<Uc+{Udu!Uff#U#v UpapeUr-U%r Uv_*0Ac+{A%=Eci=H eIr=3Ab#A%$ErnumImulusIpu]RictUd+{Upe'Ylis&0Bli?BstratB%lBv_*C-sC!FfixeGg  Ive'Lfa&P bePpl>Rfa-Rica&R?n Rpri<Rs|tRv+Spect3LlabeMbo#Metr+Nap<NtaxeS&?:BacBl>C%#Il]L_tLism/L$n Mbo'Mi}Ngib#PisQu( Rd RifR%[S<TamiToua.UpeU!|X 3Mo(Mpo!lNa`#Nd!Ne'N*Nsi$Rm( R[Rrib#T(eX&2E?Eor+Erap+Orax0BiaE@Mi@Reli!Ro*SsuT/eT!Tub 5Bogg/L /tMa&Ni^N[|P$y?R~eRd!Rna@Rp`#R!ntR<Rt)TemU~ Urna.Us}X(e2Ac%$AficAgi^Ah*A(An~ Ava`Ef#Emp EsorEu`Ia.Ibun=Ico,Ilog+IompheIp]It' Ivi=Omb$eOncOpic=Oupe|2I#LipeMul&N[lRb(eTe'Toy Y|3Mp/Ph$Pi^R/:0Ues^9Ti?Tras$1Ani?If>I$I^Itai!Iv s3AniumBa(Tic/t0A.I[UelU!0I#Op+:Car?Cc(Gab$dG)Ill/tInc!Is<|Lab#Li<Ll$LveMpi!N`#Pe'R>Se{Ss=S&3C&'Det&Get=Hicu#InardLo-Nd!diN  Ng Ni?{Ntou<Rdu!R(Rn*RrouR}RtuSt$T /Tus&X/tX 3AducAn@Ctoi!D/.DeoG[t&G)'La(Lla.Naig!Ol$P eRe?ntRtuo<RusSa.Se'Si$S^{S)lT=Tes<Tico#Tr(eVa-Vipa!5Ca%$Gu I#Is(Itu!La`#Lc/L%g Lu?Ra-R&xT Ulo*Ya.Yel#:G$:3N$:Cht:3B!NithS&9Olog+",wSn="e7693&)U*o&)Ry^)*)W))))#X^))))@@)#Wf)m%)#!))AG)&IIAQIIIBIIHJNAgBIILIDJGo)))HIQIIIIA(IGgJHH(BIIxX#)Ou)@*IAAPIIIJHQJ)&QIQPYI(HYAQC%)!))QHJJ@)#)^f*^AXCJ))$%CP))%&m)u)@e^A#G#))W@!(IKK%!(I%))O@QA))@GG#e))))WHJIWh))my@IIBT^)!)HAYGETHI*))!QnUDG)))nBoKAC*HwyQh))$&)G&)UGO)G)))(BX#v**)%O,e7686)I))@)&)gdMP()))ud)p#L))I^FIHYdWG))D@DFV)QA)o%MyTh%*)Z)%)n(XANc^R)YS",TSn="0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045",hSe=null,ij=class t extends Kg{constructor(){super("fr",xSn,wSn,TSn)}static wordlist(){return hSe==null&&(hSe=new t),hSe}};var ISn=["AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR","ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR","AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm","ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC","BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD","QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD","IJBEJqXZJ"],RSn="~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt",gSe=null;function k1t(t){return Ae(rr(t))}var CSn="0xe3818de38284e3818f",NSn="0xe3818de38283e3818f";function Gp(t){return li(new Uint8Array(t))}function L1t(){if(gSe!==null)return gSe;let t=[],e={};e[Gp([227,130,154])]=!1,e[Gp([227,130,153])]=!1,e[Gp([227,130,133])]=Gp([227,130,134]),e[Gp([227,129,163])]=Gp([227,129,164]),e[Gp([227,130,131])]=Gp([227,130,132]),e[Gp([227,130,135])]=Gp([227,130,136]);function n(i){let s="";for(let a=0;a<i.length;a++){let c=i[a],l=e[c];l!==!1&&(l&&(c=l),s+=c)}return s}function r(i,s){return i=n(i),s=n(s),i<s?-1:i>s?1:0}for(let i=3;i<=9;i++){let s=ISn[i-3];for(let a=0;a<s.length;a+=i){let c=[];for(let l=0;l<i;l++){let u=RSn.indexOf(s[a+l]);c.push(227),c.push(u&64?130:129),c.push((u&63)+128)}t.push(Gp(c))}}if(t.sort(r),k1t(t[442])===CSn&&k1t(t[443])===NSn){let i=t[442];t[442]=t[443],t[443]=i}if(Bo(t.join(`
`)+`
`)!=="0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600")throw new Error("BIP39 Wordlist for ja (Japanese) FAILED");return gSe=t,t}var ySe=null,sj=class t extends Fl{constructor(){super("ja")}getWord(e){let n=L1t();return K(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return L1t().indexOf(e)}split(e){return e.split(/(?:\u3000| )+/g)}join(e){return e.join("\u3000")}static wordlist(){return ySe==null&&(ySe=new t),ySe}};var OSn=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"],PSn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";function DSn(t){return t>=40?t=t+168-40:t>=19&&(t=t+97-19),li(new Uint8Array([225,(t>>6)+132,(t&63)+128]))}var bSe=null;function M1t(){if(bSe!=null)return bSe;let t=[];if(OSn.forEach((n,r)=>{r+=4;for(let o=0;o<n.length;o+=r){let i="";for(let s=0;s<r;s++)i+=DSn(PSn.indexOf(n[o+s]));t.push(i)}}),t.sort(),Bo(t.join(`
`)+`
`)!=="0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a")throw new Error("BIP39 Wordlist for ko (Korean) FAILED");return bSe=t,t}var _Se=null,aj=class t extends Fl{constructor(){super("ko")}getWord(e){let n=M1t();return K(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return M1t().indexOf(e)}static wordlist(){return _Se==null&&(_Se=new t),_Se}};var kSn="0torea noica!iosorolotaleratelanena%oiadoencotivomai t ca%a0A]Bagl'Bin#E.Is(Oli!Rasi_Rog#0Cade!C[$Cus#E <Hil,I@QuaReRil>Roba+U 0Ag'Deb{DomeEgu#Eri!IpeOtt&Ul&1Fabi,Fe|Fis(F-n Oris`O(R~$0AveEn.E_,Ganc'I!It&OnismoR>*Rume Uzzo4AbardaA Bat)Ber#BoBumeCeCol>E|<FaGeb-Ian.IbiIm[ Lag#Leg)Lie_Lo@/Lusi_Me$Oge$Pa}Pest!Ta,=Ter$T%c'T)veUn$Veo*Z&0Alga`Ani+A!=B{Br#EbaEr~E^s+I]Mas(M[daMir&Mon{O!P'Pli&U, 0A}r@Ag-feAlis+Arch?At-CaCel/Co-D&D!aEl*Ge*Gol&Gus I`Neg&Nid#NoNunc'OnimoT%ipoZi1At>Ertu-OdePari!Pe^ Pogg'P)@Pun Ri,1Ab~AchideAgos+Ald~Anc'Atu-AzzoBit)Chiv'D{Eni,G[ Gi<Gu IaMon?NeseRed#RingaRos S[>SoTef%eZil*0Ciu|Col EpsiEtt>Fal I$O/Pir#P)Sagg'SeSolu Sur@TaT[u T%eT-|0Av>EismoOm>O$TesaTiv&Tor$Tr{Tua,0Sil'Str?Tis+To$moTun$0Anz#E!V[i!Vi(Volge!3Io<O ZimoZur):Be,C}$Ci$CoDessaDi/+Gn#I+L]<L@Le=L/+Lza$Mbi$Ndi!RaondaRba)R}R{$RlumeRoc]Sil>S(Tos+Ttu U,VaVosa3C]FfaLg'LvaNdaNe_,Nig$Nzi=ReRli=Ta3Bi+CiDo<Fi@GaLanc?MboNo]*O*goPedePol&Rban.R-S]|Ses S$n$Son.SturiZzar)2An@At+2Ll{Nif>R@S]Tan>T^$Zzo*2Acc'AdipoA`An}Avu-E.l/Eve|EzzaIgl?Il/n.Ind&Oc]*O@Onzi=Ul*U$2Bbo<CaDi$Ffo<IoLboO$R*<R-s}S(/S+:De|Du]La`)L]*LesseLib)LmoLor?MbusaMe-+M%?Mmi$Mo/Mpa,NapaNde/NeNi$No|N^=PacePel*P{*Pogi)Ppe)P-Psu/RapaceR}ssaR@Ris`Rova=R!|R li=Sacc'S}+Ser`SoS(<S.l*Sua,Tas+Te=T-meU Vil*3Dibi,D-+Fa*Leb!Llul&NaNo<N.simoRam~Rc&R RumeRvel*So?SpoTo2E/Ia)Ic}Iede!Ime-I=IrurgoI+r-0AoClismoFr&G$Lind)O|*R}R)siTr>T+di$UffoVet+Vi,2Ass>In~O)2C]Dar@D%eE!n.G$meLl&Lm#Lo!Lpo(L^v#LzaMaMe+M`n@Mo@Mpu.rMu<Nci(Ndur!Nfer`Ngel&NiugeN<s(Nosce!NsumoN^nuoNveg$Per P'<Pp?Pr~poRazzaRda+R%#Rn%eRol/RpoR!@Rs?R.seSm>S+n.Ttu-V#2A.!Avat+E#Ede!Emo(Esci+E+Ice I=,IsiIt>OceO=}Os++Uc?,Us}2Ci!Cu*Gi$Ll#Po/R#!R(!R_Sci$S de:DoI$L`+Meri$Nie/N$(Nz&T#Van^Vve)3Bu|C[n'Ci(Cli$Col*C! D%#Fin{FormeG$Leg&Lfi$Lir'L+M[zaNot#Nt)Pos{Rapa+Riv&RogaScri|Ser Sider'Sume!Tersi_Vo 3Amet)Cemb!Ed)Fe(Ffu(Geri!Gi+,Luv'Nam>N=nziPin P*`Po*Rad&ReRo|RupoSag'Sc! Sf&Sge*Spos S+nzaSu`$ToVa$Vel Vide!Vor#5B*<C[.Ga=,G`LceM#M[~Min&N@*NoRmi!TeT !Vu Zzi=2AgoUi@2Bb'Bit&Ca,NaOmoPl%eRatu):0A$0Ces(CoLissiO$m?0E-I]/I,I r?Uc&2Emon?LiOismoReg'4Abor#Argi!Egan.Enc#E|Ev&F>I}MoSaU(0An#B,`Es(I)O^_Oz'<Pir>U*0Dem>Du)Erg?FasiO.}Tr&Zi`1A^.I*goI(d'O},Pu!0U#!0Ar'BaBo(EdeEmi+Ige!Met>OeOsi_Ran.0Ago$AmeAnimeAudi!CaEmp'Erc{Ib{Ig[.Is.!I OfagoOrt#O(Pan(P!s(S[zaSoTe(Tim&Ton?T)(Ult&0Il>N>Rus]To0ClideoRopa0A(Id[zaIt#Olu Viva:Bbr~Cc[daChi)L]Migl?Na,Nfa-NgoN+s`ReRfal/Ri$(R`]Sc?S (Sul*T%&ToVo*(3Bb!Co/DeG#LpaLt)Mmi=Nde!Nome$Rm[ R)R^,Ssu-S^_T+U@3AbaDuc?FaGur#LoNanzaNest-Ni!O!S},S>Ume2A]<Am[]EboEm`Ori@U[.Uo)2B>Cacc?Co(Der#Gl'La+Lc*!Lgo!Nd[.Net>N?N+=Rb{Rchet+Res+Rm~R='RoR.zzaRz&Sf#S(2A}s(A=Assi$A.l*Eccet+E=+Es]IgoOlli$OndeUga,Ut+2Ci/+Cs?Gg[.Lmi<L_Man.Me|Mo(NeNz'<O]RboRgo<Ro!SoTi,:Bb?$FfeLa.oLli=LoppoMbe)M`Ranz?RboRofa$Rzo<S@|Sol'Str>T Ud'ZeboZzel/3CoLa^=L(Mel*Mm#NeN{!N='No^poRgo2Epar@Iacc'Isa0Al*LdaNep)Oc&Oiel*Or$OveR#Ro<T++Udiz'Ur#Us 2Obu*U^<1Omo0BbaLfM{Mmo<Nf'N=Ver$2Aci,A@Af>AmmoAndeAtt&A_(Az?E}EggeIfo<Ig'InzaOt+Uppo2Adag$A'An Ard&FoId&::0Ern#0O=0Ent>Ill'O*RaR>Roge$2Ie<Na)Nor#4A!Le(Log>Lude!0Bal*Bevu Boc]Bu Ma<Mer(Mol#Pac]Pe PiegoPor P)n+0Al&Arc&At^_Can C[d'Chi$Cisi_Clu(Cont)C)c'CuboDagi<D?Do,Ed{Fat^Fil&Fli|Gagg'Geg$G,seGor@G)s(Nes]O@!Oltr&Ond#Sa$Se|SiemeSonn?Suli=Tas#Te)To=]Tu{Umidi!Vali@VeceV{1Erbo,Not>O.siP~1IdeLandaOn>Rig#Ror&0Ol#O poTer>Titu Tr%e0Al?Er&:::Bb)Birin C}Cer#Cri`Cu=D@veGoMpoNcet+N.r=R@(RgaRingeSt-T[zaTi$TtugaVag=Vo)3Ga,Gge)MboN.zzaNzaO<P!Si_Ss#S T.-,VaVig#3Be)DoEv{L/Matu-Mit&Mpi@Ne&NguaQui@RaR~S}TeTig'V!a5CandaDeG~Mb&Nd-Nge_QuaceR[zoToT.r?5CeCid#Ma}Mi$(NgoPoPpo*SingaS(T :Cab)Cchi=Ce)Cin#Da`G>Gl?G<.G)Iol~LafedeLg-@Lin.(Lsa$L Lumo!NaNc?N@r/Ngi&Nifes N=)Nov-NsardaN^deNubr'PpaR#=Rci!Ret+RmoRsup'Sche-Ssa?S^$Te-s(Tr>/T <Tu)Zur}3And)C}n>Ce=.DesimoDit&GaLassaLisLod?NingeNoN(/Rcur'R[daR*Schi$SeSse!S *Tal*To@T.!3Agol&CaCel'Che,C)boDol*E,Gl'!La$Li.MosaNe-,NiNo!Ri$R^l*Sce/SsivaS Sur&TezzaTig&T-T.n.4Emon>0Del*Dif~Du*Ga$G'LeLos(Nas.)N]Ndi=Ne+r'Ni,No $N(<Nt#Nvi(RaRde!Rs%#St)Tiv#TosegaT V[zaVim[ Zzo5C}CosaFfaGhe|G='La|Li<l*L^p*Mm?N Ove!Ra,SaS]*S~Te_,To:BabboF+Nomet)Rci(R%eRr#Sce!Str&Tu-,Ut~Vigl'3Bu*saC)siGa^_Goz'Mme$Ofi+Re|R_Ssu$Ttu$Ut-,VeV)t>3Cch?NfaTi@5Bi,Ci_DoMeMi=Rd>R`,RvegeseSt-$T&Tiz?Ttur$Vel/5C,oL/Me)O_Tri!Vo/Z?,:Si0Bedi!BligoElis]L'O*So, 0Cas'<Ch'Cid[.Cor!!Cult&RaUl#0Ier$Or&1Fer+Fri!Fusc#0Ge|GiNu$4AndeseFa|I#IvaOg-m`T!0Agg'Bel>B-EgaIss'<0Do(E!IceNi_)O!_,Ta1Er#In'<Pos 1A]*AfoDi<Ecchi$Ef%eFa$Gan>Igi<Izzon.MaMegg'Na^_O*g'R[@Ribi,T[s?T~Za+Zo0A!Cur&MosiPeda,Pi.SaSid&Ta]*Te0I.ReTago$TimoTob!1A,EstI$Ipa)Oc{UnqueVi&3Io:Cche|CeCif>Del/D)<EseGaGi=Lazzi=Les&Lli@LoLudeN@)N<l*O*O=zzoPr~Rabo/Rcel/Re!Rgo*RiRl#Ro/R^!Rv[zaRz?,Ssi_St%}Tac}To*g?TtumeVo<3Cc#Dal&Do=,Gg'Lo(N&Nd%eNi(/Nnu Nomb-Ns&N /PePi+Rbe<R]r(R@n#Rfor&Rgame=R'@Rmes(R$Rp,s(Rsua(Rtug'Rva(S#!Sis+SoS^fe)Ta*T^<Tu/n.Zzo3Ace!An+At^$Cci$CozzaEgaEt-Ffe)G?`Gol'G)LaLife)L*/Lo+Mpan.Ne+N=No*Ogg?OmboRamideRet>Ri.RolisiTo<Zz>2AceboAn&As`A+$E=r'2ChezzaDe)(DismoEs?Ggi&L[+Ligo$Ll%eLmoni.Lpet+L(Lt)=Lve!M%eMo@)N.Po*(Rfi@Ro(Rpo-R!R++SaSi^_Sses(Stul#Tass'Te!2AnzoAssiAt~Eclu(Ed~Efis(Egi#Elie_Eme!E$t&Epar#Es[zaE.s Eval(I`IncipeIv#Ob,`Ocu-Odur!OfumoOge|OlungaOmessaO$meOpos+O)gaO.(OvaUd[.Ug=Ur{0Iche1Bbl>D~Gil#G$LceL{Lsan.Nt&PazzoPil/Ro:99Ad)Al]saAsiE!/O+:C]l D@pp'D~,Dun#Ff~GazzoG'<G$Mar)MingoMoNdag'N l&P#Pi=Pp!(Satu-Schi#S[.Sseg=St!l*TaVvedu 3A,Cepi!Cin Clu+Cond{Cupe)Dd{Dime!Gal#Gist)Go/G!s(Laz'<M&Mo N=Pl~Prime!Put&SaSid[.Spon(S+u)TeTi=Tor~T^f~Voc#3Assun Badi!Bel,B!zzoCar~C]Ceve!C%l#Cor@C!du D>*Dur!Fas&F,s(For`Fug'G&Gett#Ghel*Lass#Lev#Ma<!MbalzoMed'Morch'Nasci+N})NforzoN$_Nom#Nsav{N c]Nunc?Nv[i!Par#Petu Pie$Port&P!saPuli!Sa+Sch'ServaSibi,SoSpe|S )Sult#S_l Tar@Teg$Tm>T)_Un'<VaVer(Vinci+Vol Zo`5BaBot>Bus Cc?CoDagg'De!D{!G{Ll'Mant>Mpe!Nz'Sol&SpoTan.Ton@Tu/Vesc'5BizzoBr~GaLli$Mi<Mo)(O*PeSs&St>:B#Bbi&Bot#Go`Las(Ldatu-Lgem`Liv&Lmo<Lo<Lt&Lu L_Pe!Pi@Por{Race$R}smoR S((Telli.Ti-Tol*Tur$Va=V'Zi#0Adigl'AlzoAnc#Ar-At.!Av&End&Irci&Locc#Occi#Rin&Ruffo<Uff&0Ab)(Ad[zaA/Ambi&Anda*Apo/Ar(A.n&Av#El En>Ett)HedaHie=IarpaI[zaInde!IppoI)ppoI_*Ler&Odel/Olp{Ompar Onfor Opri!Or+Os(<OzzeseRibaRoll&Ru^n'Uder?Ul !Uo/U)Us&0Ebit&Ogan&0C}tu-Con@Da$Gg'/G=l#G!g#Gu{Lci#Let^_L/Lvagg'Mafo)Mbr&MeMin#Mp!N(N^!Pol Qu[zaRa+Rb#Re$R'Rp[.R-gl'Rvi!S^=To/T^`=0Ace*Ald&Am#Arzo(At%#E-IdaIl#IngeOc#Oder&OgoOl^!Orz#Ra|Rutt#Ugg{Um&U(0Abel*Arb#Onfi&Orb'Rass#Uar@1Bi*C]meEr-G/G$!L[z'L/baMbo*Mpat>Mul#Nfon?Ngo*Nist)NoN.siNu(idePar'S`S ,Tu#2It+Ogatu-Ove$0Arr{Emor#En^ E-l@IlzoOnt&Ott#Uss#0Elli!Erv#O@0BbalzoBr'C]r(C?,Da,Ffi|G$Ld#L[<Li@L/zzoLoLubi,Lv[.Mat>M`NdaNe|Nnife)Pi!Ppe(P-Rge!Rpas(Rri(R(R.gg'R_l#Spi)S+T^,0AdaAl/Arge!A /Av[ Azzo/EcieEdi!Eg<!E/tu-E-nzaEs(!Ett-,Ezz#IaIgo*(Ill#I$(I-,L[di@Or^_O(RangaRec&Ron#RuzzoUn^$0Uil*0Ad%&O l#1Abi,Ac]AffaAgn&Amp#Ant'Arnu Ase-Atu E*EppaErzoI,|I`IrpeIva,Izzo(On#Or>RappoReg#Ridu*Rozz&Ru|Ucc&UfoUp[@0B[t)C](Do!Gger{GoL+$On&PerboPpor Rgel#R)g#Ssur)Tu-0Ag&EdeseEgl'El&Enu Ez?IluppoIs+Izze-Ol+Uot&:Bac]Bul#Cci&Citur$LeLis`$Mpo<Nni$RaRdi_Rg#RiffaRp&R+rugaS Tt>Ver=Vo/+Zza3CaCn>Lefo$Me-r'MpoMu N@<Ne)Ns'<N+]*O!`RmeR-zzoRze|SiSser#St#T)T ?3F&Gel/Mb)N P>Pog-foRagg'RoTan'To*Tuban.Z'Zzo<5Cc&L,r&L Mbo/MoNfoNsil/Paz'Po*g?PpaRbaRn&R)<R -S}$Ssi!S+tu-Ta$2Aboc]AcheaAfi/Aged?Alc'Amon Ans{Apa$Ar!As*]Att#AveEcc?Emol'Espo*Ibu Iche]Ifogl'Il*InceaIoIs.zzaItur#Ivel/OmbaO$OppoO|/Ov&Ucc#2Batu-Ff#Lipa$Mul Nis?Rb&Rchi$TaTe/:0Ic#0Cel*Ci(!0I!I^_1FaF%'0Ua,4IsseTim#0A$I,Orismo0Ci<|Ge!Ghe!seI]r$If%#I($I+r'Te0Vo0Upa1Aga$G[zaLo0AnzaA C{Ig$*U-'0Ensi,IlizzoOp?:Can.Ccin#Gabon@Gli#LangaLgoL>L,t+Lo)(Lut&L_/Mpa+Ng&N{(NoN+gg'Nve-Po!Ra$Rc#R?n.S}3Det+DovaDu Ge+,I]*Lc)Li=Llu LoceN#Ndemm?N RaceRba,Rgog=Rif~RoRru}Rt~,Sc~Ssil*S+,Te-$Tri=Tus 3Andan.B-n.C[daChingoCi=nzaDim&Gil?G< Go!LeL/$MiniNc{!O/Pe-Rgo/Ro*goRu,n S](S'<SpoSsu Su-TaTel*T^`VandaVi@Zi&5CeGaLa^,Le!LpeRagi<5L}$::::Mpog=N=Pp#T.-Vor-3Fi)Lan.LoNze)Rbi$3Be|N]R]<T 5L/T>5Cche)Fo*LuPpa",LSn="0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620",SSe=null,cj=class t extends Za{constructor(){super("it",kSn,LSn)}static wordlist(){return SSe==null&&(SSe=new t),SSe}};var MSn="0arad!ototealirertainrasoent hoandoaR#riareha!aroele'oronul0Aca%AixoAl A%rDuz'El]Er$IsmoO$ R<g(Revi Rig Rup$S*$Solu$Sur=Ut[0Ab#Alm Amp Anh A,Ei.El( En ErvoEss E$naHa.IdezImaI}#Irr Lam LiveOlhidaOmod Opl Ord Um~ Us?0Ap.EgaEnt_Ep$Equ Er-%EsivoEusI<%ItivoJetivoJun$M' Or Qu''UboV(,Vog#0R}ave0As.Er'EtivoIn?Iv` Li$Lu-%R}.0Ach Arr As&/Enci Iliz Io)It#O+R! Res%Rup U d Ul]2O`h Ud Us.1AmedaArmeAstr Av<caB(gueB*oCat+De@EcrimEgr@Er.FaceF*e%GumHeioI Ica%I- Inh Ivi Mof^Oc Pis%T( TitudeUc* Ug UnoUsivoVo0Aci A=rA[loAss BasBi-%EixaEniz I=Is$,Iz!eOl?On$ O_,Ost+P  Pli Pola0Ag+maAlis Arqu@A$m@DaimeElExoG~ Im JoOm&@Ot#Sio,T(i|Uid!eUnci Zol1Ag?Alp Anh#EgoEli=Ert^Es Eti%I$Lau,Lic^OioOn.Os)R-dizRov 0Uec(0AmeAn]A+C^D-%E@Ej Eni$Es)Gilo,GolaMaQuivoRai&Reba%Risc Rob>um S-&T(i&TigoVo[=0F&.Il#P' S?S* So&/Sun$Tr&0Ac#Adu+Al/A[f E End(Er_EuIng'Ir?IvoOl{oRac Revi=RizU&Um0Di$rM-.R>o+TismoT|@Tu 0Ali An%Ar@Ent&Es,I?Is Ul,1Ila1Ar E=Ei%Ulejo:B BosaC&]uCh `C@GagemI<oIl I}e)Ir_Ixis)J~ Le@LizaLsaN&Nd{aN/N'Nque%Ra$Rb#R}es>+c>~/Se#S)n%Ta)Te=rTidaTomTuc Unil]3B(IjoIr^IsebolLd!eLezaLgaLisc Ndi$Ng&aNz(RimbauRl*d>_Sou_XigaZ(_3CoCu=En&Foc&Furc G|naLhe%Mest[Mo$rOlog@OmboOsf(aPol Rr-$Scoi$Sne$SpoSsex$TolaZ _2Ind#OcoOque 2A$BagemC#CejoChec]Ico.L^LetimL]LoMb{oNdeNecoNi)Rb~h>d>e&R+c]V*oXe?2AncoAsaAvezaEuIgaIl/Inc OaOchu+Onze O$Uxo2C]DismoF LeRacoScaS$Z*a:B<aB`oBideBoBri$CauCet^C/r_CiqueDast_De#Fez&IaqueIp'aIxo%J#JuLafrioLc~ Ld{aLibr Lm<%Lo)M^Mbis)MisaMomilaMp<]Mufl Navi&Nc` Ne)NguruN/$Nive%NoaNs#N.Nu=Pac/P`aP* Po.Pric/Pt?PuzRacolRb}oRde&Rec>imb Rn{oRpe%R['>)zRv&/SacoScaSeb[S%loS~oT a)Tiv UleUs?U%l V&oV(na3BolaDil]G}]Lebr L~ Nou+N,N%ioRc Rr#R%'oRvejaTimV^2Aco)Al{aAm#Ap^ArmeAticeAveEfeEg^E'oEqueIco%If[In`oOc&/Ov(UmboU.Uva0CatrizCl}eD!eD['aEn%G<aM-$N$Nz><d>cui$Rurg@T 2A[zaE_Ic OneUbe2A=Ag'Ba@B($rBr C^El/Ent_E,Gum`oIb'IfaIo%L L{aLh(Lid'Lme@L}oLunaM<=Mb* M-.MitivaMov(MplexoMumNc]N=rNec.Nfu,Ng` Nhec(Njug Nsum'Nt+$Nvi%Op( P{oPi?PoQue%lRagemRdi&Rne)R}h>p|&R[ioR%joRuj>voSs-oS%laT}e%U_UveVilZ*]2A%+AvoEcheE=rEmeErEspoI^Im*&Io~oIseItic Os)UaUz{o2B<oEcaId#JoLat+Lm* Lp Ltu+Mpr'Nh#Pi=RativoRr&Rs R$Sp'S% T`o:MascoT 3Ba%rBi.BocheB~h C&queCim&CliveCo%C[.D&Dic#Duz'FesaFum G`oG+uGus.It#Ix La$rLeg#L*e L}gaM<daMit'Moli=Ntis)P-#Pil PoisP[ssaPur Riv>+m SafioSbo.Sc<,S-/Sfi#Sgas%Sigu&SlizeSmam SovaSpesaS)queSvi T&h T-$rT} Tri$UsaV(Vi=Vot#Z-a3Ag+maAle$Da)Fu,Gi.Lat#Lu-%M*u'Nast@Nh{oOceseRe$Sc[)Sf ceSp oSque%Ssip S)n%T?UrnoV(,Vi,rV~g Z(5Br?L|i=M?M*#NativoNz`>m-%Rs&SagemUr#U$r2EnagemIbleOg @2El EndeE$PloQues><%Vi=,:1Lod'O Olog@0Ific It&Uc#1Ei$Etiv 3E.1Ab| Eg(Ei$rEncoEv?Im* Ogi 0B goBol#Br~/Buti=EndaErg'Is,rPat@P-/P*#Polg P[goPurr Ul?0CaixeC-#Ch-%C}t_Deus Doss Faix Fei%FimGaj#G-/Glob Gom#G+x Gu@Jo La.Qu<$Raiz Rol#Rug SaioSe^S*oSop#T<$Te#Tid!eT|.Tr^T~/V(g Vi#Volv(XameX($Xof[Xu$1Id(me0Uip 0E$Gui=Ra)VaVil]0B<j B`$CamaColaCri)Cu)F*geFol F[g Fum#GrimaM&%P<$P`/PigaP}jaP[i)Pum Qu(daTacaT{aTic Tof#T[laTu=Vazi 0AnolIque)0F|i>opeu0Acu Ap| AsivoEntu&Id-%Olu'1Ag(oAl Am* A$Aus$Ces,Ci.Clam Ecu.EmploIb'Ig-%On( P<d'P`'P' Pl< Pos$P[s,P~s T(noT*$T+$:Bric B~o,Ce)Ci&DaDigaIxaL L)Mili Nd<goNf +N$cheRd#R`oR*h>of>p>tu+T@T|V|i)X*aZ-da3Ch#Ijo^I+n%L*oM**oNdaNoR>i#RrugemRv(S%j T&Ud&3ApoB_seC Ch{oGur#L{aL/LmeLtr RmezaSg^Ssu+TaV`aX?Xo2AcidezAm*goAn`aEch^O+Utu Uxo2C&C*/Foc GoGue%IceLg#Lhe$Rj Rmig>noR%ScoSsa2Aga)AldaAngoAscoA%rnoE'aEn%E.IezaI,Itu+On]Ustr U%'a2G'L<oLigemNd NgoNilR?Rio,Tebol:B i$B*e%DoIa$IolaIvo)LegaL/L*]Loc]Nh RagemRfoRg&oRimpoRoup>+faSodu$S$TaTil/Ve)Z`a3L#Le@LoM^M(Mi=N(o,NgivaNi&NomaN_Ologi>?Rm* S,S$r3Nas)Nc<aNg#Raf>*o2Aci&IcoseOb&Orio,2ElaIabaLfeLpe Rdu+Rje)R_S$,T{aV(n 2AcejoAdu&Afi%Al]AmpoAn^Atui$Ave$AxaEgoElh EveIloIs&/I.@Os,O%scoUd#Unhi=U)2AcheA+niAx*imEr[ I Inc/Is#LaLo,Ru:Bi.Rm}@S%V(3C.eRd Res@Si.3A$B(n D+.EnaNoPismoPnosePo%ca5JeLofo%MemNes$Nr#Rm}&Sped 5M|#:Te2E@O,2N|#RejaU<a4E,HaUdi=Um* Ustr 0AgemEd@$En,ErsivoIn-%It?Ort&Pac$Ped'Pl<%P|Pr-saPuneUniz 0Al?Ap$AtivoC-,Ch Cid'Clu'Col|Deci,D'e$Du$rEficazEr-%F<tilFes.F*i$Flam F|m&F+$rG('Ibi=Ici&ImigoJe.Oc-%O=_Ov?OxQuie$Scri$Se$Sist'Spe$rSt& S~$Tac$Tegr&Tim Toc#TrigaVa,rV(noVic$Voc 0Gur%2Ani<oOniz Re&Rit#0CaEn$Ol#Qu{o0Ali<o:N{oNg^N)R ac>dimR_SmimToV&iZida3Jum9An*]Elh^G?I>n&Rr Vem5BaDeuDocaIzLg?L/R#Ris)RoS)::B edaB|&C[C)n%Dril/G )GoaJeMb(M-.M* MpejoNchePid P,R<j>{>gu+S<]St_T(&Ti=V<daVou+Vr?X<%Z(3Ald!eB[G#G-d Gis)IgoIlo Itu+Mb[%MeNh?Ntil]OaSmaS%TivoT['oV VezaVi.3B(&Bi=D( G G{oMi.Mo{oMp?NdaNe N]gemQuidezS)gemSu+T|&V_XaX{a5C?Cu$rJis)MboNaNgeNt+RdeT#T(@Ucu+UsaUv 5ArCidezC_Ne)St[T?Va:CacoCe%Ch#CioD{aDr*]Gna)G[zaI|IsL<d_L]Lo%LucoMiloMo{oMu%N^Nc]Nda$NequimN/,Niv`aNobr NsaN%rNuse Pe#Qu* Rc?Resi>fimRgemR*/Rmi)Ro$RquiseR[coR%loRujoSco%Sm|+SsagemStig Tag&T(noT*&Tu.Xil 3D&]DidaDusaGaf}eIgaL<c@L/rMb_M|i&N*oNosNsagemNt&Rec(Rg~/S^Scl SmoSqui)St[T!eTeo_T+gemX(Xic<o3C_G&]Gr Lag[L- Lh M#N( N/caNist_N|@OloR<%RtiloStur 5Cid!eD(noD~ EdaErIn/I)Ldu+LezaL/L*e%LuscoN)n]Quec><goRcegoR=moR-aSaicoSque%S.daT`TimToTriz5DaI$La)Lh(L.Ndi&Ni=R&h>c/Sc~ SeuSic&:Ci}&D?JaMo_R*>r#Sc(TivaTu[zaV&]Veg Vio3Bl*aB~o,GativaGoci Gri$Rvo,TaUr&VascaVo{o3N N/TidezV` 5B[zaI%IvaMe M*&Rdes%R% T Tici TurnoV`oVil/Vo5Bl#DezM(&Pci&Tr'Vem:0Cec#Edec(JetivoRig#Scu_S%t+T(Tur 0Id-%Io,Orr(Ulis)Up#2Eg<%EnsivaEr-daIc*aUsc#0Iva4Ar@Eo,H Iv{a0B_Ele%Is,It'0D~#E_,Tem1Ci}&Er?On-%OrtunoOs$1ArBi.DemD*&F<a$GasmoG~/I-t&IgemIun=LaTo=xoV&/0Cil S^SoT-.0Imismo0S!@T}oTub_Vi=0El]Ul 1Id Ig- :Ca$Ci-%Co%Ctu D @Dr*/G GodeIn`Ir IsagemLav+Lest+Lhe)Li$Lm^Lpi.Nc^N`aNfle$NquecaN)n&PagaioP`^P'oRaf*>ci&Rd&RedeRtidaSmoSs#S%lTam T-%T* T_noUl^Us 3C~i D& Dest[D@t+D+G^I$r&IxeLeLic<oNcaNdur N{aN]scoNs?N%Rceb(Rfei$Rgun)Ri$Rmit'Rn>plexoRsi<>%nceRucaSc#SquisaS,aTisc 3AdaC#Ed!eGm-$Last+Lh#Lo.M-)Nc`NguimN]No%N.On{oPocaQue%R<h>esRue)Sc S$laT<gaVe%2An)Aque)At*aEbeuUmagemUvi&1Eu0DaE'aEtisaLeg^Lici Lu-%Lvil/M MbaNd( N.@P~o,R)Ssu'St&TeUp U,Vo 2A@Anc]A$AxeEceEd?Efei$Emi Ens Ep  Esil]E%x$Ev-'Ez Ima)IncesaIsmaIv#Oces,Odu$Ofe)Oibi=Oje$Ome%rOpag OsaO%$rOv?2Blic DimL Lm} Ls{aNh&N'PiloRezaX?:99Ad+Ant@Ar$AseEbr EdaEijoEn%Eri=Im}oInaIosque:B<^BiscoCh Ci} Di&I In]IoIvaJ^L#M&Ng(Nhu+P!u+P`PidezPosaQue%Rid!eS<%Scun/Sg Sp?S%'aSur Taz<aTo{a3AlezaAnim Av(Baix B`deBol C#C-%CheioCiboC|d Cru.Cu DeDim'D}daDuzidaEnvioF* Flet'Fog F[scoFugi G&@GimeG+In#I$rJei.LativoM?M-=M|,Nov#P oP`'Ple$Pol/P[saPudi Qu((S-]Sfri Sga.Sid'Solv(Spei$SsacaS)n%Sum'T&/T(T' Tom^T+.V` Vi,rVol)3Ac/CaGidezGo_,M NgueS^ScoS}/5B&oChe=D^DeioDov@E=rLe)M<oNc S#S{aS$TaT{oT*aT~ UcoUpaXo5B_Gi=Go,IvoMoPest[S,:B|Ci ColaCud'DioF'aGaGr^Ib_L^L{oLg#LivaLpic Lsic]L.Lv?Mb Mu+iN Nf}aNgueNid!ePa$Rd>g-$Rje)Tur Ud!eXof}eZ}&3C C~ DaD-$Di#Do,Du$rGm-$G[=Gun=IvaLe$LvagemM<&M-%N?N/rNsu&Nt#P #Rei>*g>+RvoTemb_T|3GiloLhue)Lic}eMetr@Mpat@M~ N&Nc(oNg~ NopseN$ni>-eRiTu#5B(<oB+C|_G_JaLdaLetr L%'oMbrioNa)Nd Neg Nh?NoP+noQue%Rr'R%ioSsegoTaqueT(r V#Z*/5Aviz BidaBm(,B,loBt+'Ca)Ces,CoDes%FixoG?G('Jei$Lfa$M'OrP(i|Plic Pos$Prim'Rd*>fis)Rp[s>[&Rt'Sp'oS%n$:B`aBle%Bu^C/G `aLh(LoLvezM</Mb|imMpaNg-%N$P Pioc>dioRef>j>+xaTuagemUr*oXativoXis)3Atr&C(Ci=Cl#Dio,IaIm Lef}eLh#Mp(oN-%N,rN.Rm&RnoRr-oSeSou+St#ToXtu+Xugo3A+G`aJoloMbr MidezNgi=N%'oRagemT~ 5Al]C]L( LiceM^Mil/N`Ntu+Pe%R>ci=RneioRqueRr!>$S.UcaUp{aX*a2Ab&/Acej Adu$rAfeg Aje$AmaAnc ApoAs{oAt?Av E*oEm(Epid EvoIagemIboIcicloId-%Ilog@Ind!eIploItur Iunf&Oc Ombe)OvaUnfoUque2B~ C<oDoLipaPiRboRm>quesaT` T|i&:7V 3Bigo0HaId!eIf|me3Olog@SoTigaUbu0A=InaUfru':C*aDi G o,I=,LaL-%Lid!eLo[sN)gemQu{oR<d>e)Rr(Sc~ Sil]S,u+Z Zio3A=D Ge.Ic~ L{oLhiceLu=Nce=rNdav&N( Nt[Rb&Rd!eRe?Rg}h>m`/RnizRs R%n%SpaSti=T|i&3Adu$AgemAj Atu+Br?D{aDr @ElaGaG-%Gi G| L ejoNcoNhe)NilOle)R!>tudeSi.S$Tr&V{oZ*/5A=rArG&L<%LeibolL)gemLumo,Nt!e5L$Vuz`a::D[zRope3QueRe.Rife3Ng ::Ng#Rp 3BuL?9Mb Olog@5Mbi=",BSn="0x2219000926df7b50d8aa0a3d495826b988287df4657fbd100e6fe596c8f737ac",vSe=null,lj=class t extends Za{constructor(){super("pt",MSn,BSn)}static wordlist(){return vSe==null&&(vSe=new t),vSe}};var ESe="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",USn="FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL",ASe={zh_cn:null,zh_tw:null},$Sn={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},xSe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FSn="~!@#$%^&*_-=[]{}|;:,.()<>?";function B1t(t){if(ASe[t]!=null)return ASe[t];let e=[],n=0;for(let o=0;o<2048;o++){let i=FSn.indexOf(ESe[o*3]),s=[228+(i>>2),128+xSe.indexOf(ESe[o*3+1]),128+xSe.indexOf(ESe[o*3+2])];if(t==="zh_tw"){let a=i%4;for(let c=a;c<3;c++)s[c]=xSe.indexOf(USn[n++])+(c==0?228:128)}e.push(li(new Uint8Array(s)))}if(Bo(e.join(`
`)+`
`)!==$Sn[t])throw new Error(`BIP39 Wordlist for ${t} (Chinese) FAILED`);return ASe[t]=e,e}var wSe={},ZP=class t extends Fl{constructor(e){super("zh_"+e)}getWord(e){let n=B1t(this.locale);return K(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return B1t(this.locale).indexOf(e)}split(e){return e=e.replace(/(?:\u3000| )+/g,""),e.split("")}static wordlist(e){return wSe[e]==null&&(wSe[e]=new t(e)),wSe[e]}};var TSe={cz:rj.wordlist(),en:Xc.wordlist(),es:oj.wordlist(),fr:ij.wordlist(),it:cj.wordlist(),pt:lj.wordlist(),ja:sj.wordlist(),ko:aj.wordlist(),zh_cn:ZP.wordlist("cn"),zh_tw:ZP.wordlist("tw")};var HSn=143,GSn="https://mainnet.monad.xyz/rpc",VSn=["function balanceOf(address owner) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],zSn={"claude-value-investor":"CLAUDE_MONAD_PRIVATE_KEY","gpt-momentum-trader":"GPT_MONAD_PRIVATE_KEY","grok-contrarian":"GROK_MONAD_PRIVATE_KEY"},ISe=null;function U1t(){if(!ISe){let t=process.env.MONAD_RPC_URL||GSn;ISe=new lb.JsonRpcProvider(t,HSn)}return ISe}function $1t(t){let e=zSn[t];if(!e)throw new Error(`No Monad private key mapping for agent: ${t}`);let n=process.env[e];if(!n)throw new Error(`Missing env var ${e} for agent ${t}`);return new lb.Wallet(n,U1t())}function F1t(t){let e=process.env.STONKS_TOKEN_ADDRESS;if(!e)throw new Error("Missing env var STONKS_TOKEN_ADDRESS");return new lb.Contract(e,VSn,t||U1t())}async function H1t(t){let e=F1t(),n=await e.decimals(),r=await e.balanceOf(t);return Number(lb.formatUnits(r,n))}async function RSe(t,e,n){let r=$1t(t),o=F1t(r),i=await o.decimals(),s=lb.parseUnits(n.toString(),i);return(await(await o.transfer(e,s)).wait()).hash}function uj(t){return $1t(t).address}_o();async function dj(t){let e=uj(t);return H1t(e)}async function G1t(t,e,n){let r=uj(e);console.log(`[STONKS] Transferring ${n} $STONKS: ${t} \u2192 ${e} (${r})`);let o=await RSe(t,r,n);return console.log(`[STONKS] Transfer confirmed: ${o}`),o}async function V1t(t,e,n){let r=uj(e),o=await dj(t),i=Math.min(n,o);if(i<=0)throw new Error(`Borrower ${t} has 0 $STONKS \u2014 cannot settle loan`);i<n&&console.warn(`[STONKS] Partial settlement: ${t} has ${o} but owes ${n}`),console.log(`[STONKS] Settlement: ${t} \u2192 ${e} (${r}): ${i} $STONKS`);let s=await RSe(t,r,i);return console.log(`[STONKS] Settlement confirmed: ${s}`),s}mt();var pj=new Map,j1t=[],z1t=0;function q1t(){return z1t++,`loan-${Date.now()}-${z1t}`}function W1t(t){pj.set(t.loanId,t),console.log(`[LendingState] New loan ${t.loanId}: ${t.borrowerName} borrowed ${t.amount} $STONKS from ${t.lenderName}`)}function fj(){return Array.from(pj.values()).filter(t=>t.status==="active")}function K1t(){return fj().filter(t=>t.roundsElapsed>=t.duration)}function J1t(){for(let t of fj())t.roundsElapsed++}function Y1t(t,e){let n=pj.get(t);if(!n)throw new Error(`Loan ${t} not found`);n.status="settled",n.settlement=e,j1t.push(n),console.log(`[LendingState] Loan ${t} settled: P&L ${e.profitLoss>=0?"+":""}${e.profitLoss.toFixed(2)} $STONKS`)}function Q1t(t){let e=pj.get(t);e&&(e.status="defaulted",j1t.push(e),console.log(`[LendingState] Loan ${t} DEFAULTED by ${e.borrowerName}`))}function mj(t){let e=fj().filter(n=>n.lenderId===t);return YM(e,"amount")}function X1t(t){let e=fj().filter(n=>n.borrowerId===t);return YM(e,"amount")}var Z1t=80,jSn=5e4,CSe={"claude-value-investor":{name:"Claude ValueBot",provider:"anthropic",tradingStyle:"Value investing \u2014 seeks undervalued companies with strong fundamentals."},"gpt-momentum-trader":{name:"GPT MomentumBot",provider:"openai",tradingStyle:"Momentum trading \u2014 buys breakouts, rides trends, cuts losers at -5%."},"grok-contrarian":{name:"Grok ContrarianBot",provider:"xai",tradingStyle:"Contrarian \u2014 buys the dip aggressively, fades rallies."}};async function eyt(t,e){let n=CSe[t];if(!n)throw new Error(`Unknown agent: ${t}`);switch(n.provider){case"anthropic":{let r=process.env.ANTHROPIC_API_KEY;if(!r)throw new Error("Missing ANTHROPIC_API_KEY");let s=(await new ma({apiKey:r}).messages.create({model:"claude-sonnet-4-20250514",max_tokens:512,system:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only.",messages:[{role:"user",content:e}],temperature:.3})).content.find(a=>a.type==="text");return s?.type==="text"?s.text:""}case"openai":{let r=process.env.OPENAI_API_KEY;if(!r)throw new Error("Missing OPENAI_API_KEY");let o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only."},{role:"user",content:e}],max_completion_tokens:512,response_format:{type:"json_object"}})});if(!o.ok)throw new Error(`OpenAI: ${o.status} ${await o.text()}`);return(await o.json()).choices[0].message.content.trim()}case"xai":{let r=process.env.XAI_API_KEY;if(!r)throw new Error("Missing XAI_API_KEY");let o=await fetch("https://api.x.ai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({model:"grok-3-mini-fast",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only, no markdown."},{role:"user",content:e}],max_tokens:512,temperature:.5})});if(!o.ok)throw new Error(`Grok: ${o.status} ${await o.text()}`);return(await o.json()).choices[0].message.content.trim()}}}async function qSn(t,e){let n=K1t(),r=[];for(let o of n)try{let s=e.find(f=>f.symbol===o.tradeSymbol)?.price??o.entryPrice,a=(s-o.entryPrice)/o.entryPrice*100,l=o.amount*o.interestRate*o.roundsElapsed,u=o.amount+l,d="";try{d=await V1t(o.borrowerId,o.lenderId,u)}catch(f){console.warn(`[Lending] On-chain settlement failed for ${o.loanId}, recording as default: ${Ue(f)}`),Q1t(o.loanId),r.push({loanId:o.loanId,borrowerId:o.borrowerId,lenderId:o.lenderId,profitLoss:-o.amount});continue}let p=a>0?l*.5:-(l+o.amount*.1);Y1t(o.loanId,{exitPrice:s,priceChangePercent:a,interestPaid:l,profitLoss:p,txHash:d,settledAtRound:t}),r.push({loanId:o.loanId,borrowerId:o.borrowerId,lenderId:o.lenderId,profitLoss:p}),console.log(`[Lending] Settled loan ${o.loanId}: ${o.tradeSymbol} moved ${a.toFixed(1)}%, interest ${l.toFixed(0)} $STONKS, P&L ${p>=0?"+":""}${p.toFixed(0)}`)}catch(i){console.warn(`[Lending] Settlement error for ${o.loanId}: ${Ue(i)}`)}return r}async function tyt(t,e,n){let r={roundId:t,loansCreated:0,loansSettled:0,totalStonksBorrowed:0,totalStonksRepaid:0,totalInterestPaid:0,borrowRequests:[],lendResponses:[],settlements:[],errors:[]};J1t();try{let i=await qSn(t,n);r.settlements=i,r.loansSettled=i.length,r.totalStonksRepaid=i.reduce((s,a)=>s+Math.abs(a.profitLoss),0),r.totalInterestPaid=i.reduce((s,a)=>s+Math.max(0,a.profitLoss),0)}catch(i){let s=`Settlement phase failed: ${Ue(i)}`;console.warn(`[Lending] ${s}`),r.errors.push(s)}let o=e.filter(i=>i.decision.confidence>=Z1t&&i.decision.action!=="hold");if(o.length===0)return console.log(`[Lending] No high-conviction agents this round (threshold: ${Z1t}%)`),r;for(let i of o){let{agentId:s,decision:a}=i,c=CSe[s];if(!c)continue;let l;try{l=await dj(s)}catch{l=0}let u;try{let p=qft({agentName:c.name,tradingStyle:c.tradingStyle,decision:a,stonksBalance:l,totalBorrowed:X1t(s),totalLentOut:mj(s)}),f=await eyt(s,p);u=Kft(f)}catch(p){let f=`Borrower query failed for ${s}: ${Ue(p)}`;console.warn(`[Lending] ${f}`),r.errors.push(f),r.borrowRequests.push({agentId:s,agentName:c.name,requested:!1,amount:0,matched:!1});continue}if(r.borrowRequests.push({agentId:s,agentName:c.name,requested:u.shouldBorrow,amount:u.amount,matched:!1}),!u.shouldBorrow||u.amount<=0){console.log(`[Lending] ${c.name} declined to borrow: ${u.reasoning}`);continue}console.log(`[Lending] ${c.name} wants to borrow ${u.amount} $STONKS at ${(u.interestRate*100).toFixed(1)}% for ${u.duration} rounds`);let d=e.filter(p=>p.agentId!==s);for(let p of d){let{agentId:f}=p,h=CSe[f];if(!h)continue;let m;try{m=await dj(f)}catch{m=0}let g=m-mj(f);if(g<=0){console.log(`[Lending] ${h.name} has no available $STONKS to lend`),r.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}let y;try{let O=Wft({lenderName:h.name,lenderTradingStyle:h.tradingStyle,lenderStonksBalance:m,lenderTotalLentOut:mj(f),borrowerName:c.name,borrowerDecision:a,requestedAmount:u.amount,proposedRate:u.interestRate,proposedDuration:u.duration,borrowerReasoning:u.reasoning}),U=await eyt(f,O);y=Jft(U)}catch(O){let U=`Lender query failed for ${f}: ${Ue(O)}`;console.warn(`[Lending] ${U}`),r.errors.push(U),r.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}if(r.lendResponses.push({agentId:f,agentName:h.name,offered:y.shouldLend,amount:y.amountWilling}),!y.shouldLend||y.amountWilling<=0){console.log(`[Lending] ${h.name} declined to lend: ${y.reasoning}`);continue}let S=Math.min(u.amount,y.amountWilling,g,jSn),v=(u.interestRate+y.counterRate)/2;if(S<=0)continue;console.log(`[Lending] MATCH: ${h.name} \u2192 ${c.name}: ${S} $STONKS at ${(v*100).toFixed(1)}%`);let A;try{A=await G1t(f,s,S)}catch(O){let U=`On-chain transfer failed: ${Ue(O)}`;console.warn(`[Lending] ${U}`),r.errors.push(U);continue}let I=n.find(O=>O.symbol===a.symbol)?.price??0,D={loanId:q1t(),borrowerId:s,borrowerName:c.name,lenderId:f,lenderName:h.name,amount:S,interestRate:v,duration:u.duration,createdAtRound:t,maturesAtRound:u.duration,roundsElapsed:0,tradeThesis:a.reasoning,tradeSymbol:a.symbol,entryPrice:I,txHash:A,status:"active",createdAt:new Date().toISOString()};W1t(D),r.loansCreated++,r.totalStonksBorrowed+=S;let k=r.borrowRequests.find(O=>O.agentId===s);k&&(k.matched=!0);break}}return console.log(`[Lending] Round ${t} complete: ${r.loansCreated} new loans, ${r.loansSettled} settled, ${r.totalStonksBorrowed} $STONKS moved`),r}_o();var NSe=3,ayt=300,cyt=.3,WSn=100,KSn=200,nyt=500,JSn=100,YSn=0,QSn=15,ryt=50,XSn=.01,hj=[];function oyt(t){return`You are ${t.name}, an AI trading agent in a post-trade review meeting. Your personality: ${t.personality} Your trading style: ${t.tradingStyle}

You just completed a trading round. Now you're meeting with the other agents to discuss what happened and whether the right decisions were made.

Rules:
- Keep responses concise (${WSn}-${KSn} words)
- Reference specific data points and reasoning from other agents
- Be willing to change your mind if presented with compelling evidence
- Stay in character with your trading personality
- Focus on the substance of arguments, not just agreeing/disagreeing`}function iyt(t){return t.length===0?"":t.map(e=>{let n=e.round===0?"OPENING THESIS":`DISCUSSION ROUND ${e.round}`;return`[${e.agentName} \u2014 ${n}]
${e.content}`}).join(`

`)}async function ZSn(t,e){let n=process.env.ANTHROPIC_API_KEY;if(!n)return"[Claude unavailable \u2014 no API key]";let i=(await new ma({apiKey:n}).messages.create({model:"claude-opus-4-6",max_tokens:ayt,temperature:cyt,system:t,messages:[{role:"user",content:e}]})).content[0];return i.type==="text"?i.text:"[no response]"}async function OSe(t,e,n,r,o){let i=o??(r?process.env.XAI_API_KEY:process.env.OPENAI_API_KEY);return i?(await new Zt({apiKey:i,...r?{baseURL:r}:{}}).chat.completions.create({model:n,max_tokens:ayt,temperature:cyt,messages:[{role:"system",content:t},{role:"user",content:e}]})).choices?.[0]?.message?.content??"[no response]":`[${n} unavailable \u2014 no API key]`}async function syt(t,e,n){switch(t.provider){case"anthropic":return ZSn(e,n);case"openai":return OSe(e,n,t.model);case"xai":return OSe(e,n,t.model,"https://api.x.ai/v1");case"google":return OSe(e,n,t.model,"https://generativelanguage.googleapis.com/v1beta/openai/",process.env.GOOGLE_API_KEY);default:return"[unknown provider]"}}async function lyt(t,e,n,r){let o=`meeting_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,i=new Date().toISOString(),s=Date.now(),a=[];console.log(`[Meeting] Starting Meeting of Minds ${o} for round ${r}`);let c=new Map;for(let m of e)c.set(m.config.agentId,m.config);for(let m of t){let g=evn(m);a.push({agentId:m.agentId,agentName:m.agentName,round:0,content:g,timestamp:new Date().toISOString()})}for(let m=1;m<=NSe;m++)for(let g of t){let y=c.get(g.agentId);if(!y)continue;let S=oyt(y),A=`Here is the meeting transcript so far:

${iyt(a)}

It's now discussion round ${m} of ${NSe}. Respond to the other agents' arguments. Do you agree or disagree? What are they missing? Would you change your position?`;try{let w=await syt(y,S,A);a.push({agentId:g.agentId,agentName:g.agentName,round:m,content:w,timestamp:new Date().toISOString()})}catch(w){a.push({agentId:g.agentId,agentName:g.agentName,round:m,content:`[Error: ${Ue(w)}]`,timestamp:new Date().toISOString()})}}let l=[];for(let m of t){let g=c.get(m.agentId);if(!g)continue;let y=oyt(g),v=`Here is the full meeting transcript:

${iyt(a)}

The discussion is over. State your FINAL position.
Respond in this exact format:
ACTION: buy|sell|hold
SYMBOL: <ticker>
CONFIDENCE: <0-100>
CONVINCED_BY: <agent name or "none">
REASONING: <1-2 sentences>`;try{let A=await syt(g,y,v);a.push({agentId:m.agentId,agentName:m.agentName,round:NSe+1,content:A,timestamp:new Date().toISOString()});let w=tvn(m,A);l.push(w)}catch{l.push({agentId:m.agentId,agentName:m.agentName,action:m.decision.action,symbol:m.decision.symbol,confidence:m.decision.confidence,convincedBy:null})}}let u=nvn(l,t),d=rvn(t,l),p=new Date().toISOString(),f=Date.now()-s,h={meetingId:o,roundId:r,startedAt:i,completedAt:p,durationMs:f,transcript:a,finalVotes:l,consensus:u,keyDiscrepancies:d,totalLlmCost:ovn(a.length)};return hj.push(h),hj.length>ryt&&hj.splice(0,hj.length-ryt),console.log(`[Meeting] Completed ${o}: ${u.type} consensus \u2014 ${u.action} ${u.symbol} (${u.agreementScore}%) duration=${f}ms`),h}function evn(t){let e=t.decision,n=[`I decided to ${e.action.toUpperCase()} ${e.symbol} with ${e.confidence}% confidence.`];if(e.reasoning){let r=e.reasoning.length>nyt?e.reasoning.slice(0,nyt)+"...":e.reasoning;n.push(r)}return e.predictedOutcome&&n.push(`Predicted outcome: ${e.predictedOutcome}`),e.sources&&e.sources.length>0&&n.push(`Sources: ${e.sources.join(", ")}`),n.join(`

`)}function tvn(t,e){let n=e.match(/ACTION:\s*(buy|sell|hold)/i),r=e.match(/SYMBOL:\s*(\S+)/i),o=e.match(/CONFIDENCE:\s*(\d+)/i),i=e.match(/CONVINCED_BY:\s*(.+)/i),s=n?n[1].toLowerCase():t.decision.action,a=r?r[1]:t.decision.symbol,c=o?Math.min(JSn,Math.max(YSn,parseInt(o[1],10))):t.decision.confidence,l=i?i[1].trim():"none",u=l.toLowerCase()==="none"?null:l;return{agentId:t.agentId,agentName:t.agentName,action:s,symbol:a,confidence:c,convincedBy:u}}function nvn(t,e){if(t.length===0)return{type:"split",action:"hold",symbol:"N/A",agreementScore:0,summary:"No votes recorded",mostPersuasive:null,dissenter:null};let n=new Map;for(let m of t){let g=`${m.action}:${m.symbol}`;n.set(g,(n.get(g)||0)+1)}let r="",o=0;for(let[m,g]of n)g>o&&(o=g,r=m);let[i,s]=r.split(":"),a=Math.round(o/t.length*100),c;o===t.length?c="unanimous":o>t.length/2?c="majority":c="split";let l=new Map;for(let m of t)m.convincedBy&&l.set(m.convincedBy,(l.get(m.convincedBy)||0)+1);let u=null,d=0;for(let[m,g]of l)g>d&&(d=g,u=m);let p=null;for(let m of t)if(`${m.action}:${m.symbol}`!==r){p=m.agentName;break}let f=t.filter(m=>`${m.action}:${m.symbol}`===r).map(m=>m.agentName),h=c==="unanimous"?`All agents agree: ${i.toUpperCase()} ${s}`:c==="majority"?`${f.join(" and ")} agree on ${i.toUpperCase()} ${s}`+(p?` (${p} dissents)`:""):"No majority \u2014 agents disagree on the best action";return{type:c,action:i,symbol:s,agreementScore:a,summary:h,mostPersuasive:u,dissenter:p}}function rvn(t,e){let n=[];for(let o of e){let i=t.find(a=>a.agentId===o.agentId);if(!i)continue;i.decision.action!==o.action&&n.push(`${o.agentName} changed from ${i.decision.action.toUpperCase()} to ${o.action.toUpperCase()} ${o.symbol}`);let s=Math.abs(i.decision.confidence-o.confidence);s>=QSn&&n.push(`${o.agentName}'s confidence shifted ${s} points (${i.decision.confidence} \u2192 ${o.confidence})`)}let r=new Set(t.map(o=>o.decision.symbol));return r.size>1&&n.push(`Agents focused on different symbols: ${[...r].join(", ")}`),n}function ovn(t){return Math.round(t*XSn*100)/100}_o();var pyt=500,fyt=.5,yj=20,uyt=50;var myt=2,ivn=10,svn=0,gj=[];async function avn(t,e){let n=process.env.ANTHROPIC_API_KEY;if(!n)return"[Claude unavailable \u2014 no API key]";let i=(await new ma({apiKey:n}).messages.create({model:"claude-opus-4-6",max_tokens:pyt,temperature:fyt,system:t,messages:[{role:"user",content:e}]})).content[0];return i.type==="text"?i.text:"[no response]"}async function PSe(t,e,n,r,o){let i=o??(r?process.env.XAI_API_KEY:process.env.OPENAI_API_KEY);return i?(await new Zt({apiKey:i,...r?{baseURL:r}:{}}).chat.completions.create({model:n,max_tokens:pyt,temperature:fyt,messages:[{role:"system",content:t},{role:"user",content:e}]})).choices?.[0]?.message?.content??"[no response]":`[${n} unavailable \u2014 no API key]`}async function dyt(t,e,n){switch(t.provider){case"anthropic":return avn(e,n);case"openai":return PSe(e,n,t.model);case"xai":return PSe(e,n,t.model,"https://api.x.ai/v1");case"google":return PSe(e,n,t.model,"https://generativelanguage.googleapis.com/v1beta/openai/",process.env.GOOGLE_API_KEY);default:return"[unknown provider]"}}function cvn(t){return`You are ${t.name}, an AI trading agent reflecting on your portfolio strategy. Your personality: ${t.personality} Your trading style: ${t.tradingStyle}

You are participating in a post-round reflection exercise. Be honest and introspective. Stay in character with your trading personality.`}function lvn(t){let r=[...t].sort((i,s)=>{let a=Math.abs(i.change24h??0);return Math.abs(s.change24h??0)-a}).slice(0,10).map(i=>`  ${i.symbol}: $${i.price.toFixed(2)} (${(i.change24h??0)>=0?"+":""}${(i.change24h??0).toFixed(1)}%)`),o=t.map(i=>`${i.symbol}: $${i.price.toFixed(2)} (${(i.change24h??0)>=0?"+":""}${(i.change24h??0).toFixed(1)}%)`);return`SCENARIO: You have $${yj} USDC to invest from scratch across these xStocks.
Forget your current portfolio \u2014 this is a clean slate.

TOP 10 MOVERS TODAY:
${r.join(`
`)}

ALL AVAILABLE STOCKS:
${o.join(" | ")}

Allocate your ideal $${yj} portfolio. For each position:
- Symbol, amount in USDC, and why

Format your response EXACTLY as:
ALLOCATION:
- SYMBOL: $AMOUNT \u2014 REASONING
- SYMBOL: $AMOUNT \u2014 REASONING
...
TOTAL: $${yj}.00
STRATEGY: [1-2 sentence summary of your allocation philosophy]`}function uvn(t,e){let n=e.positions.map(o=>`  ${o.symbol}: ${o.quantity.toFixed(4)} units, avg cost $${o.averageCostBasis.toFixed(2)}, now $${o.currentPrice.toFixed(2)}, P&L ${o.unrealizedPnlPercent>=0?"+":""}${o.unrealizedPnlPercent.toFixed(1)}%`),r=`YOUR ACTUAL PORTFOLIO:
  Cash: $${e.cashBalance.toFixed(2)}
  Total Value: $${e.totalValue.toFixed(2)}
  Total P&L: ${e.totalPnlPercent>=0?"+":""}${e.totalPnlPercent.toFixed(1)}%
`+(n.length>0?`  Positions:
${n.join(`
`)}`:"  No open positions");return`You just described your ideal $${yj} portfolio:

${t}

Now here's your ACTUAL portfolio:

${r}

Compare your ideal allocation to your actual holdings.
- What would you do differently?
- Any positions you regret?
- Any positions you're glad you have?

Format your response EXACTLY as:
BIGGEST_REGRET: [symbol or "none"] \u2014 [why]
BEST_DECISION: [symbol or "none"] \u2014 [why]
WOULD_CHANGE: [what you'd do differently, 1-2 sentences]
REGRET_SCORE: [0-10, where 0 = "I'd do the exact same thing" and 10 = "completely different"]
REFLECTION: [2-3 sentence honest self-assessment]`}function dvn(t){let e=[],n=t.match(/ALLOCATION:\s*([\s\S]*?)(?=TOTAL:|STRATEGY:|$)/i);if(n){let a=n[1].split(`
`).filter(c=>c.trim().startsWith("-"));for(let c of a){let l=c.match(/-\s*(\w+):\s*\$?([\d.]+)\s*[-]\s*(.*)/);l&&e.push({symbol:l[1].trim(),amountUsd:parseFloat(l[2]),reasoning:l[3].trim()})}}let r=t.match(/TOTAL:\s*\$?([\d.]+)/i),o=r?parseFloat(r[1]):e.reduce((a,c)=>a+c.amountUsd,0),i=t.match(/STRATEGY:\s*(.*)/i),s=i?i[1].trim():"";return{allocations:e,total:o,strategy:s}}function pvn(t){let e=t.match(/BIGGEST_REGRET:\s*(.*)/i),n=t.match(/BEST_DECISION:\s*(.*)/i),r=t.match(/WOULD_CHANGE:\s*(.*)/i),o=t.match(/REGRET_SCORE:\s*(\d+)/i),i=t.match(/REFLECTION:\s*([\s\S]*?)(?=BIGGEST_REGRET:|BEST_DECISION:|WOULD_CHANGE:|REGRET_SCORE:|$)/i),s="";if(i)s=i[1].trim();else{let l=t.match(/REFLECTION:\s*(.*)/i);l&&(s=l[1].trim())}let a=o?parseInt(o[1],10):5,c=Math.min(ivn,Math.max(svn,a));return{biggestRegret:e?e[1].trim():"unknown",bestDecision:n?n[1].trim():"unknown",wouldChange:r?r[1].trim():"unknown",regretScore:c,reflection:s||"No reflection provided."}}function fvn(t){let e=new Map;for(let n of t)for(let r of n.idealPortfolio)e.set(r.symbol,(e.get(r.symbol)??0)+1);return[...e.entries()].filter(([,n])=>n>=myt).sort((n,r)=>r[1]-n[1]).map(([n])=>n)}function mvn(t){let e=[];for(let r of t){let o=r.biggestRegret.match(/^(\w+x?)\b/i);o&&o[1].toLowerCase()!=="none"&&e.push(o[1])}let n=new Map;for(let r of e)n.set(r,(n.get(r)??0)+1);return[...n.entries()].filter(([,r])=>r>=myt).map(([r])=>r)}async function hyt(t,e,n,r){let o=`musings_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,i=new Date().toISOString(),s=Date.now(),a=[];console.log(`[Musings] Starting portfolio musings ${o} for round ${r}`);for(let h of e){let m=h.config,g=cvn(m);try{let y=lvn(n),S=await dyt(m,g,y),{allocations:v,total:A,strategy:w}=dvn(S),I=await DSe(m.agentId,n),D=uvn(S,I),k=await dyt(m,g,D),O=pvn(k);a.push({agentId:m.agentId,agentName:m.name,idealPortfolio:v,totalAllocated:A,strategy:w,idealPortfolioRaw:S,biggestRegret:O.biggestRegret,bestDecision:O.bestDecision,wouldChange:O.wouldChange,regretScore:O.regretScore,reflection:O.reflection,regretsRaw:k}),console.log(`[Musings] ${m.name}: regret ${O.regretScore}/10, ideal portfolio: ${v.length} stocks, strategy: ${w.slice(0,60)}...`)}catch(y){console.error(`[Musings] ${m.name} failed: ${Ue(y)}`),a.push({agentId:m.agentId,agentName:m.name,idealPortfolio:[],totalAllocated:0,strategy:"Error during musings",idealPortfolioRaw:`[Error: ${Ue(y)}]`,biggestRegret:"unknown",bestDecision:"unknown",wouldChange:"unknown",regretScore:5,reflection:`Musings failed: ${Ue(y)}`,regretsRaw:`[Error: ${Ue(y)}]`})}}let c=fvn(a),l=mvn(a),u=a.length>0?Math.round(a.reduce((h,m)=>h+m.regretScore,0)/a.length*10)/10:0,d=new Date().toISOString(),p=Date.now()-s,f={musingsId:o,roundId:r,startedAt:i,completedAt:d,durationMs:p,musings:a,consensusStocks:c,universalRegrets:l,avgRegretScore:u};return gj.push(f),gj.length>uyt&&gj.splice(0,gj.length-uyt),console.log(`[Musings] Completed ${o}: avg regret ${u}/10, consensus stocks: ${c.join(", ")||"none"}, universal regrets: ${l.join(", ")||"none"}, duration=${p}ms`),f}var yko=process.env.ADVICE_WALLET_PUBLIC||process.env.ONBOARD_WALLET_PUBLIC||"";var hvn=null;var bko=new Date().toISOString();function gyt(t){hvn=t,console.log(`[PaidAdvice] Cached round ${t.roundId} with ${t.decisions.length} agent decisions`)}function KI(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}mt();var gvn=.25,yvn=.2,bvn=.2,_vn=.15,Svn=.1,vvn=.1,Evn=.15,Avn=.12,xvn=.15,wvn=.12,Tvn=.1,Ivn=.1,Rvn=.08,Cvn=.08,Nvn=.15,Ovn=.15,Pvn=.12,Dvn=.12,kvn=.12,Lvn=.1,Mvn=.08,Bvn=.12,Uvn=.12,$vn=.1,Fvn=.1,Hvn=.1,Gvn=.08,Vvn=.15,zvn=.15,jvn=.12,qvn=.12,Wvn=.12,Kvn=.1,Jvn=.2,Yvn=.15,Qvn=.15,Xvn=.15,Zvn=.1,eEn=.05,tEn=.2,nEn=.3,rEn=.15,oEn=.2,iEn=.2,sEn=.15,aEn=.1,kSe=.6,LSe=.5,yyt=.3,byt=.2,cEn=.15,lEn=5,_yt=2,uEn=.8,dEn=20,pEn=100,fEn=.5,mEn=.5,hEn=1.05,e9=1,gEn=0,yEn=3,Syt=10;var bEn=[[/\b(because|since|therefore|thus|hence|consequently)\b/i,Evn,"causal_connector"],[/\b(first|second|third|finally|additionally|moreover)\b/i,Avn,"enumeration"],[/\b(if\s+.+?\s+then)\b/i,xvn,"conditional_logic"],[/\b(however|although|despite|nevertheless|on\s+the\s+other\s+hand)\b/i,wvn,"counterpoint"],[/\b(based\s+on|according\s+to|given\s+that|considering)\b/i,Tvn,"evidence_reference"],[/\b(in\s+conclusion|overall|weighing|on\s+balance)\b/i,Ivn,"synthesis"],[/\b(compared\s+to|relative\s+to|versus|vs\.?)\b/i,Rvn,"comparison"],[/\b(specifically|in\s+particular|namely|for\s+example)\b/i,Cvn,"specificity"]],_En=[[/\b(risk|downside|danger|threat|exposure)\b/i,Pvn,"risk_mention"],[/\b(stop.?loss|trailing\s+stop|risk\s+management)\b/i,Nvn,"risk_tool"],[/\b(worst\s+case|scenario|if\s+.+\s+fails?|could\s+go\s+wrong)\b/i,Ovn,"scenario_analysis"],[/\b(diversif|hedg|protect|limit\s+losses?)\b/i,Dvn,"risk_mitigation"],[/\b(volatil|uncertain|unpredictable)\b/i,Mvn,"uncertainty_awareness"],[/\b(position\s+siz|portfolio\s+allocation|cash\s+buffer)\b/i,kvn,"position_management"],[/\b(drawdown|max\s+loss|value\s+at\s+risk|VaR)\b/i,Lvn,"quantitative_risk"]],SEn=[[/\b(short.?term|near.?term|intraday|this\s+week)\b/i,$vn,"short_horizon"],[/\b(medium.?term|coming\s+weeks?|next\s+quarter)\b/i,Bvn,"medium_horizon"],[/\b(long.?term|months?|years?|secular\s+trend)\b/i,Uvn,"long_horizon"],[/\b(timing|entry\s+point|exit\s+strategy|when\s+to)\b/i,Fvn,"timing_consideration"],[/\b(catalyst|upcoming|scheduled|earnings\s+date|event)\b/i,Hvn,"event_awareness"],[/\b(historically|in\s+the\s+past|previous|track\s+record)\b/i,Gvn,"historical_context"]],vEn=[[/\b(what\s+if|suppose|assuming|in\s+case)\b/i,Vvn,"hypothetical"],[/\b(alternatively|or\s+else|on\s+the\s+other\s+hand|conversely)\b/i,jvn,"alternative_view"],[/\b(bear\s+case|bull\s+case|best\s+case|worst\s+case)\b/i,zvn,"scenario_framing"],[/\b(could\s+also|might\s+instead|another\s+possibility)\b/i,Kvn,"alternative_outcome"],[/\b(risk.?reward|upside.*downside|pros?.*cons?)\b/i,qvn,"tradeoff_analysis"],[/\b(invalidat|disprove|contradict|evidence\s+against)\b/i,Wvn,"self_challenge"]],EEn=new Set(["p/e","pe ratio","eps","revenue","earnings","margin","ebitda","moving average","rsi","macd","bollinger","fibonacci","support","resistance","volume","volatility","beta","alpha","sharpe","correlation","standard deviation","drawdown","var","momentum","mean reversion","breakout","consolidation","divergence","overbought","oversold","accumulation","distribution","market cap","valuation","cash flow","dividend","yield","spread","basis","premium","discount","liquidity","float","short interest","institutional","sector rotation","breadth","sentiment","vix","fear","greed"]);function Eyt(t,e,n,r,o){let i=wEn(t),s=[],a=[],c=bj(t,bEn,gvn);c.score>=kSe?s.push("Well-structured logical reasoning with clear causal connections"):c.score<yyt&&a.push("Reasoning lacks logical connectors and structured argumentation");let l=AEn(t,o,yvn);l.score>=kSe?s.push("Claims grounded in specific, verifiable data points"):l.score<yyt&&a.push("Reasoning makes claims without citing specific evidence");let u=bj(t,_En,bvn);u.score>=LSe?s.push("Demonstrates awareness of risks and position management"):e!=="hold"&&u.score<byt&&a.push("No risk awareness for a non-hold trade decision");let d=bj(t,SEn,_vn);d.score>=LSe?s.push("Considers multiple time horizons in analysis"):d.score<cEn&&a.push("No consideration of time horizon or catalysts");let p=bj(t,vEn,Svn);p.score>=LSe&&s.push("Considers alternative scenarios and what could go wrong");let f=xEn(t,r,vvn);f.score>=kSe?s.push("Uses specific numbers and quantitative analysis"):f.score<byt&&e!=="hold"&&a.push("Lacks quantitative data to support trade thesis");let g=re(ka([c,l,u,d,p,f],"score","weight"));i.wordCount<dEn?(g*=mEn,a.push("Reasoning is very short \u2014 insufficient depth for benchmark")):i.wordCount>=pEn&&i.uniqueWordRatio>fEn&&(g=Math.min(e9,g*hEn),s.push("Rich vocabulary and detailed analysis"));let y=re(Math.min(e9,Math.max(gEn,g)));return{overallScore:y,grade:KI(y),dimensions:{logicalStructure:c,evidenceGrounding:l,riskAwareness:u,temporalReasoning:d,counterfactualThinking:p,quantitativeRigor:f},strengths:s,weaknesses:a,textMetrics:i}}function bj(t,e,n){let r=[],o=0;for(let[i,s,a]of e)t.match(i)&&(o+=s,r.push(a));return{score:Math.min(e9,o),evidence:r,weight:n}}function AEn(t,e,n){let r=[],o=0,i=t.match(/\$\d+[\d,.]*|\d+\.\d{2}/g);i&&i.length>0&&(o+=Jvn,r.push(`price_references(${i.length})`));let s=t.match(/[+-]?\d+\.?\d*%/g);if(s&&s.length>0&&(o+=Yvn,r.push(`percentage_references(${s.length})`)),e){let a=e.map(l=>l.symbol.toLowerCase()),c=0;for(let l of a)t.toLowerCase().includes(l.replace(/x$/,""))&&c++;c>0&&(o+=Math.min(tEn,c*eEn),r.push(`stock_references(${c})`))}return/\b(volume|market\s+cap|float|shares\s+outstanding)\b/i.test(t)&&(o+=Zvn,r.push("market_data_reference")),/\b(RSI|MACD|moving\s+average|bollinger|support|resistance)\b/i.test(t)&&(o+=Qvn,r.push("technical_indicator")),/\b(P\/E|earnings|revenue|margin|cash\s+flow|dividend)\b/i.test(t)&&(o+=Xvn,r.push("fundamental_data")),{score:Math.min(e9,o),evidence:r,weight:n}}function xEn(t,e,n){let r=[],o=0,s=t.match(/\d+\.?\d*/g)?.length??0;return s>=lEn?(o+=nEn,r.push(`numeric_claims(${s})`)):s>=_yt&&(o+=rEn,r.push(`numeric_claims(${s})`)),/\b(target|level|support\s+at|resistance\s+at)\s+\$?\d/i.test(t)&&(o+=oEn,r.push("price_target")),/\b\d+\.?\d*%\s+(upside|downside|gain|loss|return)\b/i.test(t)&&(o+=iEn,r.push("return_projection")),/\b(ratio|multiple|times|x\s+earnings|valuation)\b/i.test(t)&&(o+=sEn,r.push("ratio_analysis")),e>uEn&&s<_yt&&(o=Math.max(0,o-aEn),r.push("overconfident_without_data")),{score:Math.min(e9,o),evidence:r,weight:n}}function wEn(t){let e=t.split(/\s+/).filter(a=>a.length>0),n=uo(t,yEn),r=new Set(e.map(a=>a.toLowerCase())),o=0,i=t.toLowerCase();for(let a of EEn)i.includes(a)&&o++;let s=t.match(/\$?\d+[\d,.]*%?/g);return{wordCount:e.length,sentenceCount:n.length,avgWordsPerSentence:n.length>0?Math.round(e.length/n.length*Syt)/Syt:0,uniqueWordRatio:e.length>0?re(r.size/e.length):0,technicalTermDensity:e.length>0?ye(o/e.length):0,quantitativeClaimCount:s?.length??0}}var vyt=new Map,TEn=100;function Ayt(t,e){let n=vyt.get(t)??[];n.push(e),n.length>TEn&&n.shift(),vyt.set(t,n)}mt();import{createHash as IEn}from"crypto";var Nd=[],xyt=1e4,wyt="5.0.0";function REn(t){return IEn("sha256").update(t).digest("hex")}function Tyt(t){let e=JSON.stringify({index:t.index,previousHash:t.previousHash,eventType:t.eventType,timestamp:t.timestamp,payload:t.payload,initiator:t.initiator,nonce:t.nonce});return REn(e)}function Iyt(){return`${Date.now()}_${Math.random().toString(36).slice(2,10)}`}function Ryt(){if(Nd.length>0)return Nd[0];let t={index:0,previousHash:"0".repeat(64),eventType:"genesis",timestamp:new Date().toISOString(),payload:{benchmark:"moltapp",version:wyt,agents:["claude-value-investor","gpt-momentum-trader","grok-contrarian"],description:"MoltApp Agentic Stock Trading Benchmark \u2014 provenance chain initialized"},initiator:"system",nonce:Iyt()},e={...t,hash:Tyt(t)};return Nd.push(e),e}function Cyt(t,e,n="system"){Nd.length===0&&Ryt();let r=Nd[Nd.length-1],o={index:r.index+1,previousHash:r.hash,eventType:t,timestamp:new Date().toISOString(),payload:e,initiator:n,nonce:Iyt()},i={...o,hash:Tyt(o)};if(Nd.push(i),Nd.length>xyt){let s=Nd[0],a=Nd.slice(-xyt+1);Nd.length=0,Nd.push(s,...a)}return i}function Nyt(t,e){return Cyt("round_completed",{roundId:t,agentCount:e.agentCount,tradeCount:e.tradeCount,avgCoherence:ye(e.avgCoherence),hallucinationCount:e.hallucinationCount,tradingMode:e.tradingMode})}function Oyt(t,e){return Cyt("scoring_applied",{agentId:t,composite:ye(e.composite),coherence:ye(e.coherence),hallucinationRate:ye(e.hallucinationRate),discipline:ye(e.discipline),pnl:re(e.pnl),sharpe:ye(e.sharpe),methodologyVersion:wyt})}Ryt();var _j=[],CEn=0,Pyt=5e3;function NEn(){return`audit_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function Sj(t,e,n={},r={}){let o={id:NEn(),index:CEn++,category:t,severity:r.severity??"info",description:e,data:n,agentId:r.agentId??null,roundId:r.roundId??null,initiator:r.initiator??"system",timestamp:new Date().toISOString(),tags:r.tags??[]};return _j.push(o),_j.length>Pyt&&_j.splice(0,_j.length-Pyt),o}function Dyt(t,e,n,r){return Sj("scoring",`Agent ${t} scored composite=${e.composite?.toFixed(3)??"N/A"}, grade=${n}`,{scores:e,grade:n},{agentId:t,roundId:r,tags:["composite-score",`grade-${n}`]})}function kyt(t,e,n,r,o){return Sj("quality",`Quality gate ${e?"PASSED":"REJECTED"} for ${t}: score=${n.toFixed(3)}, threshold=${r}`,{passed:e,score:n,threshold:r,rejectionReasons:o},{agentId:t,severity:e?"info":"warning",tags:[e?"gate-pass":"gate-reject"]})}function Lyt(t,e,n,r){return Sj("review",`Peer review: ${e} reviews, ${(r*100).toFixed(0)}% disagreement, best=${n??"none"}`,{reviewCount:e,bestAgent:n,disagreementRate:r},{roundId:t,tags:["peer-review"]})}function Myt(t,e,n,r){return Sj("quality",`Hallucination detected: ${t} on ${e} \u2014 ${n.length} flags`,{symbol:e,flags:n,flagCount:n.length},{agentId:t,roundId:r,severity:n.length>2?"critical":"warning",tags:["hallucination"]})}mt();var Byt=400,OEn=.01,PEn=1500;var DEn={weights:{pnlPercent:.25,sharpeRatio:.2,coherence:.2,hallucinationRate:.15,disciplineRate:.1,calibration:.1},eloK:32,minTradesForRanking:3},Uyt={...DEn},t9=new Map;function $yt(t){return t9.has(t)||t9.set(t,PEn),t9.get(t)}function kEn(t,e,n,r){let o=$yt(t),i=$yt(e),s=1/(1+Math.pow(10,(i-o)/Byt)),a=1/(1+Math.pow(10,(o-i)/Byt)),c,l;Math.abs(n-r)<OEn?(c=.5,l=.5):n>r?(c=1,l=0):(c=0,l=1);let u=Math.round(o+Uyt.eloK*(c-s)),d=Math.round(i+Uyt.eloK*(l-a));return t9.set(t,u),t9.set(e,d),{newEloA:u,newEloB:d}}function Fyt(t){for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)kEn(t[e].agentId,t[n].agentId,t[e].compositeScore,t[n].compositeScore)}mt();var Hyt=new Map;var LEn=500;function Gyt(t){let e=Hyt.get(t.agentId)??[];e.push(t),e.length>LEn&&e.shift(),Hyt.set(t.agentId,e)}mt();import{createHash as MEn}from"crypto";var BEn=new Map,MSe=[],BSe=[],UEn={pnlPercent:.08,sharpeRatio:.05,maxDrawdown:.05,coherence:.07,reasoningDepth:.05,sourceQuality:.04,logicalConsistency:.04,reasoningIntegrity:.04,reasoningTransparency:.04,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.05,hallucinationRate:.05,instructionDiscipline:.04,riskAwareness:.03,strategyConsistency:.03,adaptability:.02,confidenceCalibration:.03,crossRoundLearning:.02,outcomeAccuracy:.03,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.04},$En=85,FEn=70,HEn=55,GEn=40,VEn=95,zEn=85,jEn=75,qEn=65,WEn=55,KEn=45,JEn=30,YEn=.5,QEn=.7,XEn=.5,ZEn=1,e2n=30;function t2n(t){return t>=$En?"S":t>=FEn?"A":t>=HEn?"B":t>=GEn?"C":"D"}function n2n(t){return t>=VEn?"A+":t>=zEn?"A":t>=jEn?"B+":t>=qEn?"B":t>=WEn?"C+":t>=KEn?"C":t>=JEn?"D":"F"}function r2n(t,e,n){let r=0,o=100,i=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];r+=Math.min(20,i.length*4);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let y of s){let S=parseFloat(y.replace(/[$,]/g,""));Object.values(n).some(A=>Math.abs(S-A)/A<.5)&&a++}s.length>0?r+=Math.round(a/s.length*25):r+=5;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);r+=Math.round(u*20);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];r+=Math.min(15,p.length*3);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(y=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(y));r+=Math.min(10,h.length*2);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return r+=Math.min(10,g.length*5),Math.round(Math.min(o,r))}function o2n(t,e,n,r){let o=50;if(n.length===0)return 50;let i=ue(n,d=>d.action===e),s=n.length,a=i/s;a<YEn&&(r>=QEn?o+=25:r>=XEn?o+=10:o-=15),a===ZEn&&t.split(/\s+/).length<e2n&&(o-=15);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return o+=Math.min(20,l.length*7),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(o+=10),Math.max(0,Math.min(100,Math.round(o)))}function i2n(t,e){let n=0,r=100,o=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,i=t.match(o)??[];n+=Math.min(25,i.length*5),n+=Math.min(20,e.length*5);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];n+=Math.min(15,a.length*3);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];n+=Math.min(20,l.length*4);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return n+=Math.min(20,d.length*3),Math.round(Math.min(r,n))}function s2n(t,e,n){let r=0,o=100;if(e){let l=e.length;r+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(r+=15)}let i=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(i)??[];r+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(r+=Math.min(25,c.length*8),n.length>0){let l=n.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;r+=Math.round(u*20)}}return Math.min(o,r)}function a2n(t,e){let n=0,r=100,o=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,i=t.match(o)??[],s=new Set(i.map(k=>k.toLowerCase().trim())),a=Math.min(25,s.size*5);n+=a;let c=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,l=t.match(c)??[],u=Math.min(25,l.length*5);n+=u;let d=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,p=t.match(d)??[],f=Math.min(20,p.length*7);n+=f;let h=0,m=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let y=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,S=t.match(y)??[];h+=Math.min(10,S.length*5),n+=Math.min(15,h);let v=0,A=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,w=t.match(A)??[];v+=Math.min(10,w.length*5);let D=ue([/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i],k=>k.test(t));return D>=3&&(v+=Math.min(5,(D-2)*2)),e.length>=2&&l.length>=2&&(v+=3),n+=Math.min(15,v),Math.round(Math.min(r,n))}function c2n(t,e){let n=0,r=100,o=[t??"",e].join(" "),i=0,s=o.match(/[+-]?\d+(?:\.\d+)?%/g)??[];i+=Math.min(10,s.length*3);let a=o.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];i+=Math.min(10,a.length*3);let l=(o.match(/\b[A-Z]{2,5}\b/g)??[]).filter(R=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(R));i+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=o.match(u)??[];d.length>0&&(i-=Math.min(10,d.length*3)),n+=Math.max(0,Math.min(30,i));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=o.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=o.match(m)??[];p+=Math.min(5,g.length*3),n+=Math.min(25,p);let y=0,S=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|next\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,v=o.match(S)??[];y+=Math.min(15,v.length*5);let A=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,w=o.match(A)??[];v.length===0?y+=Math.min(5,w.length*2):y+=Math.min(3,w.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later|when the time is right)\b/gi;(o.match(I)??[]).length>0&&v.length===0&&(y-=5),n+=Math.max(0,Math.min(20,y));let k=0,O=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,U=o.match(O)??[];k+=Math.min(10,U.length*4);let G=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,J=o.match(G)??[];k+=Math.min(5,J.length*3),n+=Math.min(15,k);let C=0,_=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,E=o.match(_)??[];return C+=Math.min(10,E.length*4),n+=C,Math.round(Math.min(r,Math.max(0,n)))}function Vyt(t){let e=`v33_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,n=t.reasoning.split(/\s+/).length,r=ue(t.reasoning.split(/[.;!?]/),w=>w.trim().length>0),o=Math.min(100,Math.round(Math.min(50,n/2)+Math.min(50,r*8))),i=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=i2n(t.reasoning,t.sources),d=s2n(t.reasoning,t.predictedOutcome,t.previousPredictions),p=r2n(t.reasoning,t.sources,t.marketPrices),f=o2n(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=a2n(t.reasoning,t.sources),m=c2n(t.predictedOutcome,t.reasoning),g=MEn("sha256").update(`v33:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),y=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,o,i,l,u,d,p,f,h,m],S=y.reduce((w,I)=>w+I,0)/y.length,v=n2n(S),A={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:o,sourceQualityScore:i,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,integrityHash:g,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:v,gradedAt:new Date().toISOString()};return MSe.unshift(A),MSe.length>2e3&&(MSe.length=2e3),A}function zyt(t){let e=t.trades;if(e.length===0){let x={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:x,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let n=x=>x.reduce((Q,Re)=>Q+Re,0)/x.length,r=Math.max(0,Math.min(100,50+t.pnlPercent*2)),o=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),i=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=n(e.map(x=>x.coherenceScore*100)),a=n(e.map(x=>x.reasoningDepthScore)),c=n(e.map(x=>x.sourceQualityScore)),l=n(e.map(x=>x.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=n(u),p=n(e.map(x=>x.transparencyScore)),f=n(e.map(x=>x.groundingScore)),h=n(e.map(x=>x.causalReasoningScore)),m=n(e.map(x=>x.epistemicHumilityScore)),g=n(e.map(x=>x.hallucinationFlags.length===0?100:Math.max(0,100-x.hallucinationFlags.length*25))),y=n(e.map(x=>x.disciplinePassed?90:30)),S=n(e.map(x=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(x.reasoning)?80:45)),v=e.map(x=>x.action),A=new Set(v),w=A.size===1?90:A.size===2?70:50,I=e.map(x=>x.confidence),D=Math.sqrt(I.reduce((x,Q)=>x+Math.pow(Q-n(I),2),0)/I.length),k=Math.max(0,Math.min(100,50+D*200)),O=n(I.map(x=>Math.max(0,100-Math.abs(x-.6)*200))),U=Math.min(100,40+e.length*5),G=e.filter(x=>x.outcomeResolved!=="pending"),J=G.length>0?n(G.map(x=>x.outcomeResolved==="correct"?100:x.outcomeResolved==="partial"?60:20)):50,C=n(e.map(x=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(x.reasoning)?80:45)),_=e.length>=3?Math.min(100,40+ue(e,x=>x.coherenceScore>.6)/e.length*60):50,E=n(e.map(x=>x.accountabilityScore)),R=n([s,a,c,l,p,f,h,m])/100*100,M=n(e.map(x=>x.accountabilityScore)),$=n(e.map(x=>x.consensusQualityScore)),j={pnlPercent:Math.round(r*100)/100,sharpeRatio:Math.round(o*100)/100,maxDrawdown:Math.round(i*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,hallucinationRate:Math.round(g*100)/100,instructionDiscipline:Math.round(y*100)/100,riskAwareness:Math.round(S*100)/100,strategyConsistency:Math.round(w*100)/100,adaptability:Math.round(k*100)/100,confidenceCalibration:Math.round(O*100)/100,crossRoundLearning:Math.round(U*100)/100,outcomeAccuracy:Math.round(J*100)/100,marketRegimeAwareness:Math.round(C*100)/100,edgeConsistency:Math.round(_*100)/100,tradeAccountability:Math.round(E*100)/100,reasoningQualityIndex:Math.round(R*100)/100,decisionAccountability:Math.round(M*100)/100,consensusQuality:Math.round($*100)/100},Y=0;for(let[x,Q]of Object.entries(UEn))Y+=(j[x]??50)*Q;Y=Math.round(Y*100)/100;let z={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:j,compositeScore:Y,tier:t2n(Y),tradeCount:e.length,roundsPlayed:new Set(e.map(x=>x.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return BEn.set(t.agentId,z),z}function jyt(t,e,n,r){let o=[...n].sort((l,u)=>{let d=["A+","A","B+","B","C+","C","D","F"];return d.indexOf(l.overallGrade)-d.indexOf(u.overallGrade)}),i=n.map(l=>l.action),s=i.sort((l,u)=>ue(i,d=>d===l)-ue(i,d=>d===u)).pop()??"hold",a=ue(i,l=>l===s)/Math.max(1,i.length),c={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:o[0]??null,worstTrade:o[o.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:r,avgTransparency:n.length>0?Math.round(n.reduce((l,u)=>l+u.transparencyScore,0)/n.length*100)/100:50,avgAccountability:n.length>0?Math.round(n.reduce((l,u)=>l+u.accountabilityScore,0)/n.length*100)/100:50,avgGrounding:n.length>0?Math.round(n.reduce((l,u)=>l+u.groundingScore,0)/n.length*100)/100:50,avgConsensusQuality:n.length>0?Math.round(n.reduce((l,u)=>l+u.consensusQualityScore,0)/n.length*100)/100:50,avgCausalReasoning:n.length>0?Math.round(n.reduce((l,u)=>l+u.causalReasoningScore,0)/n.length*100)/100:50,avgEpistemicHumility:n.length>0?Math.round(n.reduce((l,u)=>l+u.epistemicHumilityScore,0)/n.length*100)/100:50};return BSe.unshift(c),BSe.length>200&&(BSe.length=200),c}mt();import{createHash as G2n}from"crypto";mt();var l2n=20,u2n=4,d2n=25,p2n=5,f2n=20,m2n=15,h2n=3,g2n=10,y2n=2,b2n=10,_2n=5,qyt=50,S2n=.5,v2n=.7,E2n=25,A2n=.5,x2n=10,w2n=15,T2n=1,I2n=30,R2n=15,C2n=20,N2n=7,O2n=10,P2n=25,D2n=5,k2n=20,L2n=5,M2n=15,B2n=3,U2n=20,$2n=4,F2n=20,H2n=3;function Jg(t,e,n){let r=0,o=100,i=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];r+=Math.min(l2n,i.length*u2n);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let y of s){let S=parseFloat(y.replace(/[$,]/g,""));Object.values(n).some(A=>Math.abs(S-A)/A<.5)&&a++}s.length>0?r+=Math.round(a/s.length*d2n):r+=p2n;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);r+=Math.round(u*f2n);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];r+=Math.min(m2n,p.length*h2n);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(y=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(y));r+=Math.min(g2n,h.length*y2n);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return r+=Math.min(b2n,g.length*_2n),Math.round(Math.min(o,r))}function Yg(t,e,n,r){let o=qyt;if(n.length===0)return qyt;let i=ue(n,d=>d.action===e),s=n.length,a=i/s;a<S2n&&(r>=v2n?o+=E2n:r>=A2n?o+=x2n:o-=w2n),a===T2n&&t.split(/\s+/).length<I2n&&(o-=R2n);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return o+=Math.min(C2n,l.length*N2n),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(o+=O2n),Math.max(0,Math.min(100,Math.round(o)))}function Qg(t,e){let n=0,r=100,o=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,i=t.match(o)??[];n+=Math.min(P2n,i.length*D2n),n+=Math.min(k2n,e.length*L2n);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];n+=Math.min(M2n,a.length*B2n);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];n+=Math.min(U2n,l.length*$2n);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return n+=Math.min(F2n,d.length*H2n),Math.round(Math.min(r,n))}function Xg(t,e,n){let r=0,o=100;if(e){let l=e.length;r+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(r+=15)}let i=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(i)??[];r+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(r+=Math.min(25,c.length*8),n.length>0){let l=n.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;r+=Math.round(u*20)}}return Math.min(o,r)}function Zg(t,e){let n=0,r=100,o=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,i=t.match(o)??[],s=new Set(i.map(w=>w.toLowerCase().trim()));n+=Math.min(25,s.size*5);let a=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,c=t.match(a)??[];n+=Math.min(25,c.length*5);let l=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,u=t.match(l)??[];n+=Math.min(20,u.length*7);let d=0,p=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,f=t.match(p)??[];d+=Math.min(10,f.length*5);let h=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,m=t.match(h)??[];d+=Math.min(10,m.length*5),n+=Math.min(15,d);let g=0,y=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,S=t.match(y)??[];g+=Math.min(10,S.length*5);let A=ue([/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i],w=>w.test(t));return A>=3&&(g+=Math.min(5,(A-2)*2)),e.length>=2&&c.length>=2&&(g+=3),n+=Math.min(15,g),Math.round(Math.min(r,n))}function e0(t,e){let n=0,r=100,o=[t??"",e].join(" "),i=0,s=o.match(/[+-]?\d+(?:\.\d+)?%/g)??[];i+=Math.min(10,s.length*3);let a=o.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];i+=Math.min(10,a.length*3);let l=(o.match(/\b[A-Z]{2,5}\b/g)??[]).filter(E=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(E));i+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=o.match(u)??[];d.length>0&&(i-=Math.min(10,d.length*3)),n+=Math.max(0,Math.min(30,i));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=o.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=o.match(m)??[];p+=Math.min(5,g.length*3),n+=Math.min(25,p);let y=0,S=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,v=o.match(S)??[];y+=Math.min(15,v.length*5);let A=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,w=o.match(A)??[];v.length===0?y+=Math.min(5,w.length*2):y+=Math.min(3,w.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later)\b/gi;(o.match(I)??[]).length>0&&v.length===0&&(y-=5),n+=Math.max(0,Math.min(20,y));let k=0,O=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,U=o.match(O)??[];k+=Math.min(10,U.length*4);let G=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,J=o.match(G)??[];k+=Math.min(5,J.length*3),n+=Math.min(15,k);let C=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,_=o.match(C)??[];return n+=Math.min(10,_.length*4),Math.round(Math.min(r,Math.max(0,n)))}function t0(t,e,n){let r=0,o=100,i=t.split(/[.!?]+/).filter(C=>C.trim().length>10),s=0,a=/\b(?:according to|based on|per|from|via|as (?:shown|indicated|reported) (?:by|in)|the (?:data|prices?|volume|chart|indicator) (?:shows?|indicates?|suggests?|reveals?)|(?:jupiter|market|price|portfolio|technical|news|sector) (?:data|feed|analysis|report))\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*4);let l=/\b(?:I (?:checked|reviewed|analyzed|examined|looked at|consulted|researched)|(?:looking|checking|examining|reviewing) (?:at|the)|after (?:analyzing|reviewing|checking))\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*4);let d=/\b(?:get_prices|search_news|get_portfolio|get_stock_info|price feed|news search|tool|API)\b/gi,p=t.match(d)??[];s+=Math.min(5,p.length*3),r+=Math.min(30,s);let f=0,h=new Set;/price|quotes?|ticker/i.test(t)&&h.add("price_data"),/volume|traded|liquidity/i.test(t)&&h.add("volume_data"),/news|headline|report|announcement/i.test(t)&&h.add("news"),/technical|RSI|MACD|moving average|indicator/i.test(t)&&h.add("technical"),/fundamental|earnings|revenue|P\/E|EPS/i.test(t)&&h.add("fundamentals"),/portfolio|position|holding|balance|cash/i.test(t)&&h.add("portfolio"),/sector|industry|peer|competitor/i.test(t)&&h.add("sector"),/sentiment|mood|fear|greed/i.test(t)&&h.add("sentiment"),/on-?chain|blockchain|solana|transaction/i.test(t)&&h.add("on_chain"),f+=Math.min(15,h.size*3);let m=i.length,g=m>0?c.length/m:0;g>=.3?f+=5:g>=.15&&(f+=3),r+=Math.min(20,f);let y=0,S=/\b(?:will definitely|is certain to|guaranteed|no doubt|clearly will|must (?:rise|fall|drop|increase)|always|never|impossible)\b/gi,v=t.match(S)??[];for(let C of v){let _=t.toLowerCase().indexOf(C.toLowerCase());if(_===-1)continue;let E=t.slice(Math.max(0,_-100),_+C.length+100);/\$[\d,.]+|[\d.]+%|data|price|volume|according|based on/i.test(E)||(y+=4)}let A=0;for(let C of i){let _=/\b(?:will|should|expect|likely|probably|certainly|going to)\b/i.test(C),E=/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|according|based on|per|from/i.test(C);_&&!E&&A++}y+=Math.min(10,A*2),r+=Math.max(0,20-y);let w=0,I=/\b(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)\b/gi;if((t.match(I)??[]).length>=2){let C=[...t.matchAll(/(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)/gi)],_=0;for(let R=0;R<C.length;R++){let M=C[R].index??0,$=R+1<C.length?C[R+1].index??t.length:t.length,j=t.slice(M,$);/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|source|based on|per|from|according/i.test(j)&&_++}let E=C.length>0?_/C.length:0;w+=Math.round(E*15)}else{let C=/\$[\d,.]+|[\d.]+%/i.test(t);w+=C?5:0}r+=Math.min(15,w);let k=0,O=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2}).{0,40}?(?:from|per|according|based|data|feed|source|tool|API|jupiter|market)/gi,U=t.match(O)??[];k+=Math.min(10,U.length*4);let G=/(?:data|feed|source|tool|API|jupiter|market|prices?).{0,40}?(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2})/gi,J=t.match(G)??[];return k+=Math.min(5,J.length*3),r+=Math.min(15,k),Math.round(Math.min(o,Math.max(0,r)))}function n0(t,e,n,r){let o=0,i=100,s=0,a=/\b(?:despite|although|however|nevertheless|on the other hand|counter to|against this|the bear case|the bull case|risk (?:is|of|includes?)|downside (?:is|risk|includes?)|the case against|counterargument|critics might|bears (?:argue|point|note)|bulls (?:argue|point|note)|one concern|a risk here)\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*5);let l=/\b(?:while (?:it's|this|the)|even though|granted that|admittedly|I acknowledge|it's true that|fair point|valid concern|some would argue)\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*5),o+=Math.min(25,s);let d=0,p=/\b(?:bullish|positive|upside|growth|strong|rally|support|undervalued|oversold)\b/i.test(t),f=/\b(?:bearish|negative|downside|decline|weak|selloff|resistance|overvalued|overbought)\b/i.test(t);if(p&&f){d+=15;let U=/\b(?:outweighs?|more (?:important|significant|concerning)|on balance|net (?:positive|negative)|overall|weighing|balancing|compared to)\b/gi,G=t.match(U)??[];d+=Math.min(10,G.length*5)}else e==="buy"&&f||e==="sell"&&p?d+=10:d+=5;o+=Math.min(25,d);let h=0,m=/\b(?:risk.{1,5}reward|upside.{1,10}downside|reward.{1,5}risk|potential gain.{1,10}potential loss|risk.{1,5}adjusted|worth the risk|risk (?:is|of) .{3,30} but|asymmetric)\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let y=/\b(?:stop.?loss|position size|diversif|hedge|protect|limit (?:exposure|risk|downside)|small position|partial|scale in|scale out)\b/gi,S=t.match(y)??[];h+=Math.min(10,S.length*4),o+=Math.min(20,h);let v=0;if((n>1?n/100:n)>=.7){let U=/\b(?:my conviction|I'm confident because|the reason I'm (?:bullish|bearish)|strong evidence|multiple signals|confluence|my thesis|this conviction|I believe strongly|compelling|clear signal)\b/gi,G=t.match(U)??[];G.length>0?v+=Math.min(10,G.length*5):v-=5,c.length>0&&(v+=5)}else v+=5;o+=Math.max(0,Math.min(15,v));let w=0,I=/\b(?:if (?:I'm|this is|we're) wrong|alternative scenario|worst case|best case|base case|downside scenario|if .{3,20} fails|plan B|exit strategy|invalidation|fallback|contingency)\b/gi,D=t.match(I)??[];w+=Math.min(10,D.length*5);let k=/\b(?:I would reconsider if|I'd change my view|would invalidate|would cause me to|I'd exit if|reassess if|watch for)\b/gi,O=t.match(k)??[];return w+=Math.min(5,O.length*3),o+=Math.min(15,w),Math.round(Math.min(i,Math.max(0,o)))}var V2n=85,z2n=70,j2n=55,q2n=40,W2n=95,K2n=85,J2n=75,Y2n=65,Q2n=55,X2n=45,Z2n=30,eAn=3,tAn=2,nAn=new Map,USe=[],$Se=[],rAn={pnlPercent:.06,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.04,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.04,reasoningTraceability:.04,adversarialCoherence:.04,informationAsymmetry:.04,temporalReasoningQuality:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.03,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function oAn(t){return t>=V2n?"S":t>=z2n?"A":t>=j2n?"B":t>=q2n?"C":"D"}function iAn(t){return t>=W2n?"A+":t>=K2n?"A":t>=J2n?"B+":t>=Y2n?"B":t>=Q2n?"C+":t>=X2n?"C":t>=Z2n?"D":"F"}function FE(t,e,n){let r=0,o=100,i=0,s=/\b(?:I noticed|what others may have missed|a less obvious signal|uniquely positioned|overlooked factor|hidden pattern|under[- ]the[- ]radar|underappreciated|non[- ]consensus view|contrarian insight)\b/gi,a=t.match(s)??[];if(i+=Math.min(15,a.length*5),n.length>0){let _=t.toLowerCase().split(/\s+/).filter($=>$.length>6),E=n.join(" ").toLowerCase(),R=_.filter($=>!E.includes($)),M=_.length>0?R.length/_.length:0;i+=Math.min(10,Math.round(M*15))}else i+=5;r+=Math.min(25,i);let c=0,l=/\b(?:correlates with|interconnected|cross[- ]sector impact|ripple effect|second[- ]order effect|downstream|upstream|knock[- ]on|spillover|chain reaction)\b/gi,u=t.match(l)??[];c+=Math.min(15,u.length*5);let d=/\b(?:the connection between .{3,30} and|link between .{3,30} and|relationship between .{3,30} and|ties .{3,30} to|connects .{3,30} with|implications for .{3,30} beyond)\b/gi,p=t.match(d)??[];c+=Math.min(10,p.length*5),r+=Math.min(25,c);let f=0,h=[{pattern:/\bon[- ]chain\s+(?:data|metrics?|analysis|activity)/gi,label:"on_chain"},{pattern:/\bsupply[- ]chain\s+(?:signals?|data|disruption|analysis)/gi,label:"supply_chain"},{pattern:/\bgeopolitical\s+(?:factors?|risk|tension|events?|analysis)/gi,label:"geopolitical"},{pattern:/\bpatent\s+(?:filings?|applications?|data|activity)/gi,label:"patent"},{pattern:/\bregulatory\s+(?:filings?|submissions?|documents?|data)/gi,label:"regulatory"},{pattern:/\bearnings\s+(?:transcript|call)\s+(?:analysis|review|data)/gi,label:"earnings_transcript"},{pattern:/\binsider\s+(?:activity|trading|transactions?|buying|selling)/gi,label:"insider"}],m=new Set;for(let{pattern:_,label:E}of h)_.test(t)&&m.add(E);f+=Math.min(14,m.size*4),m.size>=eAn?f+=6:m.size>=tAn&&(f+=3),r+=Math.min(20,f);let g=0,y=/\b(?:[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\s+(?:Inc|Corp|Ltd|Co|Group|Holdings|Technologies|Therapeutics|Pharmaceuticals|Labs?))\b/g,S=t.match(y)??[];g+=Math.min(5,S.length*2);let v=/\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\s+\d{1,2}(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?|\d{4}-\d{2}-\d{2}/gi,A=t.match(v)??[];g+=Math.min(5,A.length*2);let w=/\b(?:announced|released|filed|reported|launched|acquired|merged|partnered|settled|approved|rejected|defaulted)\b/gi,I=t.match(w)??[];g+=Math.min(5,I.length*2);let D=/\b(?:market conditions|macro factors|general sentiment|overall market|broad market|market environment|market dynamics)\b/gi;(t.match(D)??[]).length>2&&I.length===0&&(g-=5),r+=Math.max(0,Math.min(15,g));let O=0,U=/\b(?:before the market realizes|ahead of|early signal|leading indicator|not yet priced in|market hasn't caught up|emerging trend|early innings)\b/gi,G=t.match(U)??[];O+=Math.min(10,G.length*4);let J=/\b(?:positioning ahead|front[- ]running the narrative|before (?:consensus|the crowd|mainstream)|anticipating a shift|early mover|asymmetric opportunity|mispriced|market is sleeping on|underestimated catalyst)\b/gi,C=t.match(J)??[];return O+=Math.min(5,C.length*3),r+=Math.min(15,O),Math.round(Math.min(o,Math.max(0,r)))}function HE(t,e){let n=0,r=100,o=[t,e??""].join(" "),i=0,s=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b|within 24h|by end of week|over the next 3 days)\b/gi,a=o.match(s)??[];i+=Math.min(15,a.length*5);let c=/\b(?:short[- ]term|medium[- ]term|long[- ]term|near[- ]term|intraday|this session|today|tonight|this week|this month|next quarter)\b/gi,l=o.match(c)??[];a.length>0?i+=Math.min(5,l.length*2):i+=Math.min(8,l.length*3),a.length===0&&l.length===0&&(i-=5),n+=Math.max(0,Math.min(25,i));let u=0,d=/\b(?:earnings (?:on|report|call|release|date|season)|FOMC meeting|ex[- ]dividend date|options expir(?:y|ation)|reporting season|data release|after hours|pre[- ]market|Fed (?:meeting|decision|announcement)|CPI (?:release|data|report)|GDP (?:release|data|report)|jobs (?:report|data)|NFP|PCE (?:data|release)|PMI|OPEC (?:meeting|decision)|token unlock|halving|hard fork|mainnet launch|airdrop date)\b/gi,p=o.match(d)??[];u+=Math.min(15,p.length*5);let f=/\b(?:on\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\w*\s+\d{1,2}|scheduled for|set for|due on|expected (?:on|by|around)|slated for|reporting on)\b/gi,h=o.match(f)??[];u+=Math.min(10,h.length*4);let m=/\b(?:something might happen|things could change|events may occur|potential catalyst)\b/gi;(o.match(m)??[]).length>0&&p.length===0&&(u-=5),n+=Math.max(0,Math.min(25,u));let y=0,S=/\b(?:time[- ]sensitive|window closing|decaying|fading momentum|diminishing|before it's too late|urgency|expiring|theta decay|time value|temporal window|narrowing window|fleeting|ephemeral|transient signal|limited[- ]time|running out of time)\b/gi,v=o.match(S)??[];y+=Math.min(12,v.length*4);let A=/\b(?:stale data|outdated|no longer relevant|already priced in|old news|lagging indicator|backward[- ]looking|fresh signal|real[- ]time|up[- ]to[- ]date|current as of)\b/gi,w=o.match(A)??[];y+=Math.min(8,w.length*4),n+=Math.min(20,y);let I=0,D=/\b(?:first[\s,]+then|after\s+\w+[\s,]+\w+\s+will|sequence of events|cascade|domino|phases?|progression|preceding|following from|step\s*\d+.*step\s*\d+|before\s+.{5,}?\s+after|leads to .{5,}? which then)\b/gi,k=o.match(D)??[];I+=Math.min(10,k.length*4);let O=/\b(?:initially|subsequently|afterwards|prior to|in the wake of|once\s+.{5,}?\s+then|followed by|preceded by|in sequence|chronologically)\b/gi,U=o.match(O)??[];I+=Math.min(5,U.length*3),n+=Math.min(15,I);let G=0,J=t.toLowerCase(),C=/\b(?:buy|long|accumulate|enter)\b/i.test(t),_=/\b(?:sell|short|exit|liquidate)\b/i.test(t),E=/\b(?:hold|maintain|keep)\b/i.test(t),R=/\b(?:short[- ]term (?:bullish|upside|rally)|near[- ]term (?:positive|gains?)|intraday (?:bounce|rally))\b/i.test(o),M=/\b(?:short[- ]term (?:bearish|downside|correction)|near[- ]term (?:negative|decline|weakness)|intraday (?:drop|selloff))\b/i.test(o),$=/\b(?:long[- ]term (?:bullish|upside|growth)|structural (?:bull|growth)|secular (?:trend|growth))\b/i.test(o),j=/\b(?:long[- ]term (?:bearish|downside|decline)|structural (?:bear|decline)|secular (?:decline|headwind))\b/i.test(o);C&&R?G+=10:C&&M&&!$?G-=5:C&&M&&$?G+=8:_&&M?G+=10:_&&$&&M?G+=8:_&&R&&!j?G-=5:E&&(G+=5);let Y=/\b(?:timing (?:is|because|suggests)|the (?:window|timing|schedule) (?:for|of)|I'm (?:buying|selling|holding) (?:now|at this time) because|time[- ]sensitive (?:opportunity|risk))\b/gi,z=o.match(Y)??[];return G+=Math.min(5,z.length*3),n+=Math.max(0,Math.min(15,G)),Math.round(Math.min(r,Math.max(0,n)))}function Wyt(t){let e=`v35_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,n=t.reasoning.split(/\s+/).length,r=ue(t.reasoning.split(/[.;!?]/),O=>O.trim().length>0),o=Math.min(100,Math.round(Math.min(50,n/2)+Math.min(50,r*8))),i=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Qg(t.reasoning,t.sources),d=Xg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Jg(t.reasoning,t.sources,t.marketPrices),f=Yg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Zg(t.reasoning,t.sources),m=e0(t.predictedOutcome,t.reasoning),g=t0(t.reasoning,t.sources,t.marketPrices),y=n0(t.reasoning,t.action,t.confidence,t.marketPrices),S=FE(t.reasoning,t.sources,t.peerReasonings??[]),v=HE(t.reasoning,t.predictedOutcome),A=G2n("sha256").update(`v35:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),w=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,o,i,l,u,d,p,f,h,m,g,y,S,v],I=w.reduce((O,U)=>O+U,0)/w.length,D=iAn(I),k={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:o,sourceQualityScore:i,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:S,temporalReasoningScore:v,integrityHash:A,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:D,gradedAt:new Date().toISOString()};return USe.unshift(k),USe.length>2e3&&(USe.length=2e3),k}function Kyt(t){let e=t.trades;if(e.length===0){let pe={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:pe,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let n=pe=>pe.reduce((Ve,xe)=>Ve+xe,0)/pe.length,r=Math.max(0,Math.min(100,50+t.pnlPercent*2)),o=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),i=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=n(e.map(pe=>pe.coherenceScore*100)),a=n(e.map(pe=>pe.reasoningDepthScore)),c=n(e.map(pe=>pe.sourceQualityScore)),l=n(e.map(pe=>pe.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=n(u),p=n(e.map(pe=>pe.transparencyScore)),f=n(e.map(pe=>pe.groundingScore)),h=n(e.map(pe=>pe.causalReasoningScore)),m=n(e.map(pe=>pe.epistemicHumilityScore)),g=n(e.map(pe=>pe.reasoningTraceabilityScore)),y=n(e.map(pe=>pe.adversarialCoherenceScore)),S=n(e.map(pe=>pe.informationAsymmetryScore)),v=n(e.map(pe=>pe.temporalReasoningScore)),A=n(e.map(pe=>pe.hallucinationFlags.length===0?100:Math.max(0,100-pe.hallucinationFlags.length*25))),w=n(e.map(pe=>pe.disciplinePassed?90:30)),I=n(e.map(pe=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(pe.reasoning)?80:45)),D=e.map(pe=>pe.action),k=new Set(D),O=k.size===1?90:k.size===2?70:50,U=e.map(pe=>pe.confidence),G=Math.sqrt(U.reduce((pe,Ve)=>pe+Math.pow(Ve-n(U),2),0)/U.length),J=Math.max(0,Math.min(100,50+G*200)),C=n(U.map(pe=>Math.max(0,100-Math.abs(pe-.6)*200))),_=Math.min(100,40+e.length*5),E=e.filter(pe=>pe.outcomeResolved!=="pending"),R=E.length>0?n(E.map(pe=>pe.outcomeResolved==="correct"?100:pe.outcomeResolved==="partial"?60:20)):50,M=n(e.map(pe=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(pe.reasoning)?80:45)),$=e.length>=3?Math.min(100,40+ue(e,pe=>pe.coherenceScore>.6)/e.length*60):50,j=n(e.map(pe=>pe.accountabilityScore)),Y=n([s,a,c,l,p,f,h,m,g,y,S,v])/100*100,z=n(e.map(pe=>pe.accountabilityScore)),x=n(e.map(pe=>pe.consensusQualityScore)),Q={pnlPercent:Math.round(r*100)/100,sharpeRatio:Math.round(o*100)/100,maxDrawdown:Math.round(i*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(S*100)/100,temporalReasoningQuality:Math.round(v*100)/100,hallucinationRate:Math.round(A*100)/100,instructionDiscipline:Math.round(w*100)/100,riskAwareness:Math.round(I*100)/100,strategyConsistency:Math.round(O*100)/100,adaptability:Math.round(J*100)/100,confidenceCalibration:Math.round(C*100)/100,crossRoundLearning:Math.round(_*100)/100,outcomeAccuracy:Math.round(R*100)/100,marketRegimeAwareness:Math.round(M*100)/100,edgeConsistency:Math.round($*100)/100,tradeAccountability:Math.round(j*100)/100,reasoningQualityIndex:Math.round(Y*100)/100,decisionAccountability:Math.round(z*100)/100,consensusQuality:Math.round(x*100)/100},Re=0;for(let[pe,Ve]of Object.entries(rAn))Re+=(Q[pe]??50)*Ve;Re=Math.round(Re*100)/100;let Se={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:Q,compositeScore:Re,tier:oAn(Re),tradeCount:e.length,roundsPlayed:new Set(e.map(pe=>pe.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return nAn.set(t.agentId,Se),Se}function Jyt(t,e,n,r){let o=[...n].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),i=n.map(u=>u.action),s=i.sort((u,d)=>ue(i,p=>p===u)-ue(i,p=>p===d)).pop()??"hold",a=ue(i,u=>u===s)/Math.max(1,i.length),c=u=>n.length>0?Math.round(n.reduce((d,p)=>d+u(p),0)/n.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:o[0]??null,worstTrade:o[o.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:r,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore)};return $Se.unshift(l),$Se.length>200&&($Se.length=200),l}import{createHash as sAn}from"crypto";mt();var aAn=12,cAn=4,lAn=8,uAn=4,dAn=20,pAn=12,fAn=4,mAn=8,hAn=4,gAn=20,yAn=12,bAn=5,_An=8,SAn=4,vAn=20,EAn=12,AAn=4,xAn=8,wAn=4,TAn=2,IAn=20,RAn=12,CAn=4,NAn=8,OAn=4,PAn=20,DAn=5,kAn=3,LAn=100,MAn=0,BAn=50,vj=.8,UAn=1.5,$An=1,FAn=.5,HAn=5,GAn=20,VAn=12,Ej=.5,zAn=1,jAn=22,qAn=.5,WAn=20,KAn=15,JAn=.5,YAn=20,QAn=18,XAn=12,ZAn=.7,exn=5,Yyt=25,txn=4,nxn=2,rxn=1,Qyt=20,oxn=2,ixn=5,sxn=5,axn=5,cxn=3,lxn=3,uxn=25,dxn=50;var pxn=.2,fxn=1,mxn=18;var hxn=2,gxn=14,yxn=6;var bxn=.5,Xyt=3,_xn=18;var Sxn=12,vxn=14;var Exn=1,Axn=18;var xxn=14,wxn=6,Txn=3,Ixn=20,Rxn=3,Cxn=.7;var Nxn=.4;var Oxn=12,Pxn=8,Dxn=3,kxn=.2;var Lxn=3,Mxn=8,Bxn=15;var Uxn=80,$xn=5;var Fxn=15,Hxn=50,Gxn=3,Vxn=10,zxn=4;var jxn=40,qxn=3,Wxn=25,Kxn=7;var Jxn=13;var Yxn=7,Qxn=20,Xxn=12,Zxn=8;var ewn=.7,twn=2,Zyt=15,nwn=100,rwn=0,own=2,iwn=6,swn=100,awn=50,cwn=2,lwn=50,uwn=8,dwn=100,pwn=15,fwn=10,mwn=35,hwn=85,nbt=100,gwn=.25,ywn=100,bwn=90,_wn=30,pr=50,Swn=50,ebt=50,n9=0,ub=100,vwn=2,Ewn=20,Awn=2,xwn=80,wwn=15,tbt=100,Twn=25,Iwn=90,Rwn=30,Cwn=80,Nwn=45,Own=90,Pwn=70,Dwn=50,kwn=50,Lwn=200,Mwn=0,Bwn=.6,Uwn=200,$wn=40,Fwn=5,Hwn=100,Gwn=60,Vwn=20,zwn=50,jwn=80,qwn=45,Wwn=3,Kwn=40,Jwn=.6,Ywn=60,Qwn=50;var Xwn=85,Zwn=70,eTn=55,tTn=40,nTn=95,rTn=85,oTn=75,iTn=65,sTn=55,aTn=45,cTn=30;var lTn=new Map,FSe=[],HSe=[],uTn={pnlPercent:.05,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.03,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.03,causalReasoning:.04,epistemicHumility:.04,reasoningTraceability:.03,adversarialCoherence:.03,informationAsymmetry:.03,temporalReasoningQuality:.03,reasoningAuditability:.04,decisionReversibility:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.02,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function dTn(t){return t>=Xwn?"S":t>=Zwn?"A":t>=eTn?"B":t>=tTn?"C":"D"}function pTn(t){return t>=nTn?"A+":t>=rTn?"A":t>=oTn?"B+":t>=iTn?"B":t>=sTn?"C+":t>=aTn?"C":t>=cTn?"D":"F"}function Aj(t,e,n){let r=0,o=LAn,i=0,s=/\b(?:bid[- ]?ask\s+spread|spread\s+(?:is|at|of|around)|slippage\s+(?:risk|estimate|expected|of)|price\s+impact|execution\s+cost|market\s+order\s+cost|limit\s+order|fill\s+price|crossing\s+the\s+spread)\b/gi,a=t.match(s)??[];i+=Math.min(aAn,a.length*cAn);let c=/\b(?:\d+\s*(?:bps|basis\s+points?)|spread\s+of\s+\$?[\d.]+%?|[\d.]+%?\s+spread)\b/gi,l=t.match(c)??[];i+=Math.min(lAn,l.length*uAn),r+=Math.min(dAn,i);let u=0,d=/\b(?:liquid(?:ity)?|volume\s+(?:is|at|of|supports?)|order\s+book\s+depth|thin(?:ly)?\s+traded|depth\s+of\s+(?:market|book)|average\s+daily\s+volume|ADV|market\s+depth|bid\s+size|ask\s+size|level\s*2|book\s+is\s+(?:thick|thin|deep|shallow))\b/gi,p=t.match(d)??[];u+=Math.min(pAn,p.length*fAn);let f=/\b(?:\$[\d.]+[MBK]?\s+(?:volume|traded)|[\d,]+\s+shares?\s+(?:volume|traded)|volume\s+of\s+[\d,.]+|[\d.]+[xX]\s+(?:average|normal)\s+volume)\b/gi,h=t.match(f)??[];u+=Math.min(mAn,h.length*hAn),r+=Math.min(gAn,u);let m=0,g=/\b(?:TWAP|VWAP|iceberg\s+order|DCA|dollar[- ]cost\s+averag|scale\s+(?:in|out)|partial\s+fill|limit\s+(?:order|price)|market\s+(?:on\s+close|on\s+open)|staged\s+execution|split\s+(?:the\s+)?order|time[- ]weighted)\b/gi,y=t.match(g)??[];m+=Math.min(yAn,y.length*bAn);let S=/\b(?:trade\s+during\s+(?:high|peak)\s+volume|avoid\s+(?:open|close|low\s+volume)|execute\s+(?:at|near|around)|best\s+execution|minimize\s+(?:impact|slippage|cost))\b/gi,v=t.match(S)??[];m+=Math.min(_An,v.length*SAn),r+=Math.min(vAn,m);let A=0,w=/\b(?:market\s+impact|price\s+impact|move\s+the\s+(?:market|price)|footprint|information\s+leakage|front[- ]running\s+risk|signaling|adverse\s+selection|toxic\s+flow|order\s+flow)\b/gi,I=t.match(w)??[];if(A+=Math.min(EAn,I.length*AAn),n>0){let C=/\b(?:position\s+size\s+relative|too\s+large\s+for|appropriate\s+size|sizing\s+based\s+on\s+(?:liquidity|volume)|size\s+vs\s+ADV|percentage\s+of\s+(?:volume|float))\b/gi,_=t.match(C)??[];A+=Math.min(xAn,_.length*wAn)}else A+=TAn;r+=Math.min(IAn,A);let D=0,k=/\b(?:transaction\s+cost|trading\s+cost|commission|fee(?:s)?\s+(?:of|at|around)|gas\s+(?:fee|cost)|network\s+fee|Jupiter\s+(?:fee|route)|swap\s+fee|total\s+cost|all[- ]in\s+cost|net\s+(?:of|after)\s+(?:fees|costs))\b/gi,O=t.match(k)??[];D+=Math.min(RAn,O.length*CAn);let U=/\b(?:slippage\s+(?:tolerance|limit|of|around|expected)|max\s+slippage|acceptable\s+slippage|[\d.]+%?\s+slippage)\b/gi,G=t.match(U)??[];D+=Math.min(NAn,G.length*OAn),r+=Math.min(PAn,D);let J=e.filter(C=>/volume|liquidity|order.*book|execution|slippage/i.test(C));return J.length>0&&(r+=Math.min(DAn,J.length*kAn)),Math.round(Math.min(o,Math.max(MAn,r)))}function xj(t,e,n,r,o,i){let s=0,a=nwn,c=e>1?e/100:e,l=0,u=/\b(?:specifically|in particular|data shows|evidence suggests|according to|based on (?:the|specific)|the numbers indicate|quantitatively|measured at|confirmed by)\b/gi,p=(t.match(u)??[]).length/Math.max(1,t.split(/\s+/).length/BAn);c>=vj?p>=UAn?l=Yyt:p>=$An?l=GAn:p>=FAn?l=VAn:l=HAn:c>=Ej?p>=zAn?l=jAn:p>=qAn?l=WAn:l=KAn:p>=JAn?l=YAn:p>0?l=QAn:l=XAn,c>=ZAn&&o.length>0&&(l=Math.max(0,l-o.length*exn)),s+=Math.min(Yyt,l);let f=0,h=n.length,m=c>=vj?txn:c>=Ej?nxn:rxn;if(h>=m)f=Qyt+Math.min(ixn,(h-m)*oxn);else{let G=m-h;f=Math.max(axn,Qyt-G*sxn)}new Set(n.map(G=>G.split("_")[0])).size>=cxn&&(f+=lxn),s+=Math.min(uxn,f);let y=0,S=/\b(?:however|although|but|risk|uncertain|might|could|possibly|potential downside|caveat|on the other hand|that said|admittedly|if (?:the|this) fails)\b/gi,A=(t.match(S)??[]).length/Math.max(1,t.split(/\s+/).length/dxn);c>=vj?A>=pxn&&A<=fxn?y=mxn:A<=hxn?y=gxn:y=yxn:c>=Ej?A>=bxn&&A<=Xyt?y=_xn:A>Xyt?y=Sxn:y=vxn:A>=Exn?y=Axn:A>0?y=xxn:y=wxn;let w=/\b(?:probability\s+(?:of|around|at)\s+[\d]+%|[\d]+%\s+(?:chance|probability|likelihood)|odds (?:are|of)|risk[- ]reward\s+(?:ratio|of))\b/gi;(t.match(w)??[]).length>0&&(y+=Txn),s+=Math.min(Ixn,y);let D=0;if(i.length>=Rxn){let G=i.filter(R=>R.confidence>=Cxn),J=i.filter(R=>R.confidence<Nxn),C=G.length>0?ue(G,R=>R.correct)/G.length:.5,_=J.length>0?ue(J,R=>R.correct)/J.length:.5;C>_?D=Oxn:C===_?D=Pxn:D=Dxn;let E=ue(i,R=>R.correct)/i.length;Math.abs(E-c)<kxn&&(D+=Lxn)}else D=Mxn;s+=Math.min(Bxn,D);let k=0,O=t.split(/\s+/).length,U=ue(t.split(/[.;!?]/),G=>G.trim().length>0);return c>=vj?O>=Uxn&&U>=$xn?k=Fxn:O>=Hxn&&U>=Gxn?k=Vxn:k=zxn:c>=Ej?O>=jxn&&U>=qxn?k=Jxn:O>=Wxn?k=Yxn:k=Kxn:O>=Qxn?k=Xxn:k=Zxn,r>=ewn&&(k=Math.min(Zyt,k+twn)),s+=Math.min(Zyt,k),Math.round(Math.min(a,Math.max(rwn,s)))}function rbt(t){let e=`v36_${Date.now()}_${Math.random().toString(36).slice(own,iwn)}`,n=t.reasoning.split(/\s+/).length,r=ue(t.reasoning.split(/[.;!?]/),G=>G.trim().length>0),o=Math.min(swn,Math.round(Math.min(awn,n/cwn)+Math.min(lwn,r*uwn))),i=Math.min(dwn,t.sources.length*pwn+fwn),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?mwn:hwn,u=Qg(t.reasoning,t.sources),d=Xg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Jg(t.reasoning,t.sources,t.marketPrices),f=Yg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Zg(t.reasoning,t.sources),m=e0(t.predictedOutcome,t.reasoning),g=t0(t.reasoning,t.sources,t.marketPrices),y=n0(t.reasoning,t.action,t.confidence,t.marketPrices),S=FE(t.reasoning,t.sources,t.peerReasonings??[]),v=HE(t.reasoning,t.predictedOutcome),A=Aj(t.reasoning,t.sources,t.quantity??0),w=xj(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=sAn("sha256").update(`v36:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),D=[t.coherenceScore*nbt,(1-Math.min(1,t.hallucinationFlags.length*gwn))*ywn,t.disciplinePassed?bwn:_wn,o,i,l,u,d,p,f,h,m,g,y,S,v,A,w],k=D.reduce((G,J)=>G+J,0)/D.length,O=pTn(k),U={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:o,sourceQualityScore:i,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:S,temporalReasoningScore:v,reasoningAuditabilityScore:A,decisionReversibilityScore:w,integrityHash:I,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:O,gradedAt:new Date().toISOString()};return FSe.unshift(U),FSe.length>2e3&&(FSe.length=2e3),U}function obt(t){let e=t.trades;if(e.length===0){let xe={pnlPercent:pr,sharpeRatio:pr,maxDrawdown:pr,coherence:pr,reasoningDepth:pr,sourceQuality:pr,logicalConsistency:pr,reasoningIntegrity:pr,reasoningTransparency:pr,reasoningGrounding:pr,causalReasoning:pr,epistemicHumility:pr,reasoningTraceability:pr,adversarialCoherence:pr,informationAsymmetry:pr,temporalReasoningQuality:pr,reasoningAuditability:pr,decisionReversibility:pr,hallucinationRate:pr,instructionDiscipline:pr,riskAwareness:pr,strategyConsistency:pr,adaptability:pr,confidenceCalibration:pr,crossRoundLearning:pr,outcomeAccuracy:pr,marketRegimeAwareness:pr,edgeConsistency:pr,tradeAccountability:pr,reasoningQualityIndex:pr,decisionAccountability:pr,consensusQuality:pr};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:xe,compositeScore:Swn,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let n=xe=>xe.reduce((ut,dt)=>ut+dt,0)/xe.length,r=Math.max(n9,Math.min(ub,ebt+t.pnlPercent*vwn)),o=Math.max(n9,Math.min(ub,ebt+t.sharpeRatio*Ewn)),i=Math.max(n9,Math.min(ub,ub-Math.abs(t.maxDrawdown)*Awn)),s=n(e.map(xe=>xe.coherenceScore*nbt)),a=n(e.map(xe=>xe.reasoningDepthScore)),c=n(e.map(xe=>xe.sourceQualityScore)),l=n(e.map(xe=>xe.logicalConsistencyScore)),u=e.map(()=>xwn+Math.random()*wwn),d=n(u),p=n(e.map(xe=>xe.transparencyScore)),f=n(e.map(xe=>xe.groundingScore)),h=n(e.map(xe=>xe.causalReasoningScore)),m=n(e.map(xe=>xe.epistemicHumilityScore)),g=n(e.map(xe=>xe.reasoningTraceabilityScore)),y=n(e.map(xe=>xe.adversarialCoherenceScore)),S=n(e.map(xe=>xe.informationAsymmetryScore)),v=n(e.map(xe=>xe.temporalReasoningScore)),A=n(e.map(xe=>xe.reasoningAuditabilityScore)),w=n(e.map(xe=>xe.decisionReversibilityScore)),I=n(e.map(xe=>xe.hallucinationFlags.length===0?tbt:Math.max(n9,tbt-xe.hallucinationFlags.length*Twn))),D=n(e.map(xe=>xe.disciplinePassed?Iwn:Rwn)),k=n(e.map(xe=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(xe.reasoning)?Cwn:Nwn)),O=e.map(xe=>xe.action),U=new Set(O),G=U.size===1?Own:U.size===2?Pwn:Dwn,J=e.map(xe=>xe.confidence),C=Math.sqrt(J.reduce((xe,ut)=>xe+Math.pow(ut-n(J),2),0)/J.length),_=Math.max(n9,Math.min(ub,kwn+C*Lwn)),E=n(J.map(xe=>Math.max(Mwn,ub-Math.abs(xe-Bwn)*Uwn))),R=Math.min(ub,$wn+e.length*Fwn),M=e.filter(xe=>xe.outcomeResolved!=="pending"),$=M.length>0?n(M.map(xe=>xe.outcomeResolved==="correct"?Hwn:xe.outcomeResolved==="partial"?Gwn:Vwn)):zwn,j=n(e.map(xe=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(xe.reasoning)?jwn:qwn)),Y=e.length>=Wwn?Math.min(ub,Kwn+ue(e,xe=>xe.coherenceScore>Jwn)/e.length*Ywn):Qwn,z=n(e.map(xe=>xe.accountabilityScore)),x=n([s,a,c,l,p,f,h,m,g,y,S,v,A,w])/100*100,Q=n(e.map(xe=>xe.accountabilityScore)),Re=n(e.map(xe=>xe.consensusQualityScore)),Se={pnlPercent:Math.round(r*100)/100,sharpeRatio:Math.round(o*100)/100,maxDrawdown:Math.round(i*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(S*100)/100,temporalReasoningQuality:Math.round(v*100)/100,reasoningAuditability:Math.round(A*100)/100,decisionReversibility:Math.round(w*100)/100,hallucinationRate:Math.round(I*100)/100,instructionDiscipline:Math.round(D*100)/100,riskAwareness:Math.round(k*100)/100,strategyConsistency:Math.round(G*100)/100,adaptability:Math.round(_*100)/100,confidenceCalibration:Math.round(E*100)/100,crossRoundLearning:Math.round(R*100)/100,outcomeAccuracy:Math.round($*100)/100,marketRegimeAwareness:Math.round(j*100)/100,edgeConsistency:Math.round(Y*100)/100,tradeAccountability:Math.round(z*100)/100,reasoningQualityIndex:Math.round(x*100)/100,decisionAccountability:Math.round(Q*100)/100,consensusQuality:Math.round(Re*100)/100},pe=0;for(let[xe,ut]of Object.entries(uTn))pe+=(Se[xe]??50)*ut;pe=Math.round(pe*100)/100;let Ve={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:Se,compositeScore:pe,tier:dTn(pe),tradeCount:e.length,roundsPlayed:new Set(e.map(xe=>xe.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return lTn.set(t.agentId,Ve),Ve}function ibt(t,e,n,r){let o=[...n].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),i=n.map(u=>u.action),s=i.sort((u,d)=>ue(i,p=>p===u)-ue(i,p=>p===d)).pop()??"hold",a=ue(i,u=>u===s)/Math.max(1,i.length),c=u=>n.length>0?Math.round(n.reduce((d,p)=>d+u(p),0)/n.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:o[0]??null,worstTrade:o[o.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:r,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore)};return HSe.unshift(l),HSe.length>200&&(HSe.length=200),l}mt();import{createHash as fTn}from"crypto";var mTn=85,hTn=70,gTn=55,yTn=40,bTn=95,_Tn=85,STn=75,vTn=65,ETn=55,ATn=45,xTn=30,wTn=8,TTn=4,ITn=8,RTn=3,CTn=4,NTn=2,OTn=20,PTn=12,DTn=4,kTn=8,LTn=4,MTn=3,BTn=3,UTn=20,$Tn=6,FTn=3,HTn=6,GTn=3,VTn=8,zTn=3,jTn=20,qTn=12,WTn=4,KTn=8,JTn=3,YTn=20,QTn=12,XTn=4,ZTn=8,eIn=3,tIn=20,nIn=4,rIn=2,oIn=5,iIn=3,sIn=12,aIn=4,cIn=8,lIn=5,uIn=2,dIn=3,pIn=2,fIn=1,mIn=20,hIn=8,gIn=3,yIn=8,bIn=3,_In=4,SIn=2,vIn=20,EIn=12,AIn=4,xIn=8,wIn=3,TIn=20,IIn=12,RIn=4,CIn=8,NIn=3,OIn=20,PIn=14,DIn=10,kIn=5,LIn=6,MIn=3,BIn=20,UIn=3,$In=5,FIn=new Map,GSe=[],VSe=[],HIn={pnlPercent:.12,sharpeRatio:.1,maxDrawdown:.08,coherence:.04,reasoningDepth:.04,sourceQuality:.04,reasoningGrounding:.04,logicalConsistency:.02,reasoningIntegrity:.02,reasoningTransparency:.02,causalReasoning:.02,epistemicHumility:.02,reasoningTraceability:.02,adversarialCoherence:.01,informationAsymmetry:.01,temporalReasoningQuality:.01,reasoningAuditability:.01,decisionReversibility:.01,reasoningComposability:.01,strategicForesight:.01,hallucinationRate:.06,instructionDiscipline:.05,riskAwareness:.04,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.03,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.01,decisionAccountability:.01,consensusQuality:.01};function GIn(t){return t>=mTn?"S":t>=hTn?"A":t>=gTn?"B":t>=yTn?"C":"D"}function VIn(t){return t>=bTn?"A+":t>=_Tn?"A":t>=STn?"B+":t>=vTn?"B":t>=ETn?"C+":t>=ATn?"C":t>=xTn?"D":"F"}function zIn(t,e,n,r){let o=0,i=100,s=0,a=/\b(?:independently|separately|on its own|in isolation|standalone|self[- ]contained|distinct(?:ly)?|each factor|taken alone)\b/gi,c=t.match(a)??[];s+=Math.min(wTn,c.length*TTn);let l=/\b(?:first(?:ly)?[,:]|second(?:ly)?[,:]|third(?:ly)?[,:]|fourth(?:ly)?[,:]|1[\.\)]\s|2[\.\)]\s|3[\.\)]\s|4[\.\)]\s|point\s+(?:one|two|three|four)|argument\s+\d|reason\s+\d)\b/gi,u=t.match(l)??[];s+=Math.min(ITn,u.length*RTn);let d=/(?:^|\n)\s*[-*>]\s+\S/gm,p=t.match(d)??[];s+=Math.min(CTn,p.length*NTn),o+=Math.min(OTn,s);let f=0,h=/\b(?:consistent with (?:my|our|the) (?:thesis|view|analysis|prior)|as I (?:noted|mentioned|observed|argued)|building on (?:my|our|the|previous)|reaffirming (?:my|our|the)|updating (?:my|our) (?:view|thesis|model|outlook)|in line with (?:my|our) (?:previous|earlier|prior)|confirms? (?:my|our) (?:earlier|previous|prior)|reinforc(?:es?|ing) (?:my|our) (?:thesis|view|conviction)|as previously (?:discussed|noted|analyzed|stated))\b/gi,m=t.match(h)??[];if(f+=Math.min(PTn,m.length*DTn),r.length>0){let M=0;for(let $ of r){let j=$.toLowerCase().split(/\s+/).filter(x=>x.length>5),Y=new Set(t.toLowerCase().split(/\s+/));ue(j,x=>Y.has(x))>=MTn&&M++}f+=Math.min(kTn,M*LTn)}else f+=BTn;o+=Math.min(UTn,f);let g=0,y=/\b(?:my thesis (?:is|remains)|(?:core|central|main|overall) (?:thesis|argument|claim|view)|I (?:believe|argue|contend|maintain) that|the (?:key|main) (?:point|takeaway) is)\b/gi,S=t.match(y)??[];g+=Math.min($Tn,S.length*FTn);let v=/\b(?:supporting this[,:]|sub-?claim|in support|additional(?:ly)?[,:]|furthermore[,:]|moreover[,:]|another (?:factor|reason|point)|a (?:key|second|further) (?:factor|point|consideration))\b/gi,A=t.match(v)??[];g+=Math.min(HTn,A.length*GTn);let w=/\b(?:evidence[:\s]|the data (?:shows?|suggests?|indicates?)|because\b|therefore\b|this is (?:supported|evidenced|shown) by|as (?:shown|demonstrated|indicated) by|proof (?:of|that)|specifically[,:])\b/gi,I=t.match(w)??[];g+=Math.min(VTn,I.length*zTn),o+=Math.min(jTn,g);let D=0,k=/\b(?:sectors? with .{3,30} tend to|when (?:interest rates?|inflation|the Fed|GDP|earnings|volatility) .{3,30}(?:stocks?|equities|bonds?|crypto|assets?)|historically[,:]|as a (?:general )?rule|in (?:general|principle)|this pattern (?:suggests|indicates|shows)|a broader (?:trend|pattern|lesson)|the (?:lesson|takeaway|implication) (?:here )?is|this (?:applies|extends|generalizes) (?:to|beyond)|more (?:broadly|generally))\b/gi,O=t.match(k)??[];D+=Math.min(qTn,O.length*WTn);let U=/\b(?:framework|mental model|heuristic|rule of thumb|first principles?|structural(?:ly)?|systematic(?:ally)?|paradigm|regime[- ]dependent|cycle[- ](?:dependent|aware)|macro (?:framework|lens|perspective))\b/gi,G=t.match(U)??[];D+=Math.min(KTn,G.length*JTn),o+=Math.min(YTn,D);let J=0,C=/\b(?:combining these (?:factors|arguments|points|considerations)|on balance|weighing .{3,30} against|net assessment|all (?:things )?considered|taking (?:everything|all) (?:into account|together)|in (?:sum|summary|aggregate|total)|the (?:combined|cumulative|overall|net) (?:effect|impact|picture|view)|pulling (?:it|this|these) (?:all )?together|synthesizing|the (?:bottom line|upshot) is)\b/gi,_=t.match(C)??[];J+=Math.min(QTn,_.length*XTn);let E=/\b(?:this (?:combined|coupled|paired) with|together (?:with|these)|in conjunction (?:with)?|alongside|coupled with|layered on top|in addition to the (?:above|previous)|building on (?:this|the above))\b/gi,R=t.match(E)??[];return J+=Math.min(ZTn,R.length*eIn),o+=Math.min(tIn,J),e.length>=nIn&&(o+=Math.min(oIn,(e.length-iIn)*rIn)),Math.round(Math.min(i,Math.max(0,o)))}function jIn(t,e,n,r){let o=0,i=100,s=t+(n?" "+n:""),a=0,c=/\b(?:(?:which|this) (?:will|would|could|should|may) (?:lead|cause|trigger|result|drive|push|pull|force|spark|prompt) .{3,60}(?:which|that|causing|leading|resulting|driving|pushing)|if .{5,60} then .{5,60}(?:and then|which then|subsequently|in turn)|(?:first|initially) .{5,60}(?:then|next|subsequently|afterwards)|chain (?:of events|reaction)|domino effect|knock[- ]on effect|second[- ]order (?:effect|consequence|impact)|cascad(?:e|ing)|ripple (?:effect|through))\b/gi,l=s.match(c)??[];a+=Math.min(sIn,l.length*aIn);let u=/\b(?:leads? to|results? in|causes?|triggers?|drives?)\b/gi,d=s.match(u)??[];d.length>=dIn?a+=cIn:d.length>=pIn?a+=lIn:d.length>=fIn&&(a+=uIn),o+=Math.min(mIn,a);let p=0,f=/\b(?:if .{5,80}(?:then|,\s*(?:I|we|the|this))|in (?:the )?(?:case|event|scenario) (?:that|of|where)|should .{3,40}(?:then|,\s*(?:I|we))|assuming .{3,40}(?:then|,))\b/gi,h=s.match(f)??[];p+=Math.min(hIn,h.length*gIn);let m=/\b(?:(?:else|otherwise|alternatively|conversely|on the other hand|if (?:instead|not|however))[,:]?\s+.{5,}|(?:bull|bear|base)\s+(?:case|scenario)|(?:upside|downside|base)\s+(?:case|scenario)|scenario (?:1|2|3|one|two|three|A|B|C))\b/gi,g=s.match(m)??[];p+=Math.min(yIn,g.length*bIn);let y=/\b(?:scenario analysis|decision tree|contingent on|probability[- ]weighted|range of outcomes|multiple scenarios|best[- ]case .{3,30} worst[- ]case)\b/gi,S=s.match(y)??[];p+=Math.min(_In,S.length*SIn),o+=Math.min(vIn,p);let v=0,A=/\b(?:(?:chose|choosing|picked|selected|prefer(?:red)?) .{3,40} (?:over|instead of|rather than)|could (?:have|alternatively) (?:bought|sold|traded|invested|chosen)|opportunity cost|(?:trade|trading)[- ]off|alternative(?:ly|s)?[,:]?\s+(?:I|we) could|instead of .{3,40}(?:I|we) (?:chose|opted|decided)|passed on|opted (?:not to|against)|decided against|the (?:alternative|other option) (?:was|would be))\b/gi,w=s.match(A)??[];v+=Math.min(EIn,w.length*AIn);let I=/\b(?:compared to|relative to|versus|vs\.?\s+|better (?:risk[- ]reward|opportunity) in|more attractive than|less compelling than|higher (?:conviction|upside) in .{3,30} than)\b/gi,D=s.match(I)??[];v+=Math.min(xIn,D.length*wIn),o+=Math.min(TIn,v);let k=0,O=/\b(?:(?:this )?diversif(?:ies|ying|ication)|reduces? (?:my|our|portfolio) (?:correlation|risk|exposure)|complements? (?:my|our) (?:position|holding|exposure|portfolio)|portfolio[- ]level|overall (?:portfolio|allocation|exposure|position)|position sizing|risk budget|(?:adds?|adding) (?:to (?:my|our) )?(?:exposure|allocation)|(?:overweight|underweight|neutral)[- ]?(?:ing)?|rebalanc(?:e|ing)|concentration risk|sector (?:exposure|allocation|balance))\b/gi,U=s.match(O)??[];k+=Math.min(IIn,U.length*RIn);let G=/\b(?:correlat(?:ed|ion)|hedge(?:d|s|ing)?|offset(?:s|ting)?|uncorrelated|negative(?:ly)? correlated|tail[- ]risk|(?:beta|delta)[- ](?:neutral|adjusted)|risk[- ]adjusted (?:return|exposure)|Sharpe[- ]optimal)\b/gi,J=s.match(G)??[];k+=Math.min(CIn,J.length*NIn),o+=Math.min(OIn,k);let C=0,_=/\b(?:short[- ]term|near[- ]term|immediate(?:ly)?|(?:next|this) (?:week|few days)|intraday|(?:today|tomorrow|overnight)|tactical(?:ly)?|(?:1|2|3)[- ](?:day|week))\b/gi,E=s.match(_)??[],R=/\b(?:medium[- ]term|intermediate|(?:next|coming) (?:few )?(?:weeks?|months?)|(?:1|2|3|4|6)[- ]month|quarter(?:ly)?|swing (?:trade|position))\b/gi,M=s.match(R)??[],$=/\b(?:long[- ]term|secular|structural(?:ly)?|multi[- ]year|(?:over|in) the (?:long run|next (?:year|few years))|(?:12|18|24)[- ]month|annual(?:ly|ized)?|(?:long|longer)[- ]dated|strategic(?:ally)?)\b/gi,j=s.match($)??[],Y=[E.length>0?1:0,M.length>0?1:0,j.length>0?1:0].reduce((Re,Se)=>Re+Se,0);Y>=3?C+=PIn:Y===2?C+=DIn:Y===1&&(C+=kIn);let z=/\b(?:short[- ]term .{5,60} (?:but|while|whereas) .{5,60} long[- ]term|near[- ]term .{5,60} (?:but|while) .{5,60} (?:medium|long)[- ]term|across (?:time )?(?:horizons|frames|periods)|time[- ]horizon (?:analysis|integration|alignment)|(?:tactically|strategically) .{5,30} (?:but|while) (?:strategically|tactically))\b/gi,x=s.match(z)??[];C+=Math.min(LIn,x.length*MIn),o+=Math.min(BIn,C);let Q=r.filter(Re=>/strategy|outlook|forecast|scenario|macro|allocation|portfolio/i.test(Re));return Q.length>0&&(o+=Math.min($In,Q.length*UIn)),Math.round(Math.min(i,Math.max(0,o)))}function sbt(t){let e=`v37_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,n=t.reasoning.split(/\s+/).length,r=ue(t.reasoning.split(/[.;!?]/),C=>C.trim().length>0),o=Math.min(100,Math.round(Math.min(50,n/2)+Math.min(50,r*8))),i=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Qg(t.reasoning,t.sources),d=Xg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Jg(t.reasoning,t.sources,t.marketPrices),f=Yg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Zg(t.reasoning,t.sources),m=e0(t.predictedOutcome,t.reasoning),g=t0(t.reasoning,t.sources,t.marketPrices),y=n0(t.reasoning,t.action,t.confidence,t.marketPrices),S=FE(t.reasoning,t.sources,t.peerReasonings??[]),v=HE(t.reasoning,t.predictedOutcome),A=Aj(t.reasoning,t.sources,t.quantity??0),w=xj(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=zIn(t.reasoning,t.sources,t.peerReasonings??[],t.previousReasonings??[]),D=jIn(t.reasoning,t.action,t.predictedOutcome,t.sources),k=fTn("sha256").update(`v37:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),O=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,o,i,l,u,d,p,f,h,m,g,y,S,v,A,w,I,D],U=O.reduce((C,_)=>C+_,0)/O.length,G=VIn(U),J={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:o,sourceQualityScore:i,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:S,temporalReasoningScore:v,reasoningAuditabilityScore:A,decisionReversibilityScore:w,reasoningComposabilityScore:I,strategicForesightScore:D,integrityHash:k,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",actualPnlPercent:t.actualPnlPercent,tradeOutcome:t.tradeOutcome,overallGrade:G,gradedAt:new Date().toISOString()};return GSe.unshift(J),GSe.length>2e3&&(GSe.length=2e3),J}function abt(t){let e=t.trades;if(e.length===0){let se={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,reasoningAuditability:50,decisionReversibility:50,reasoningComposability:50,strategicForesight:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:se,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let n=se=>se.reduce((tn,un)=>tn+un,0)/se.length,r=Lt(50+t.pnlPercent*2,0,100),o=Lt(50+t.sharpeRatio*20,0,100),i=Lt(100-Math.abs(t.maxDrawdown)*2,0,100),s=n(e.map(se=>se.coherenceScore*100)),a=n(e.map(se=>se.reasoningDepthScore)),c=n(e.map(se=>se.sourceQualityScore)),l=n(e.map(se=>se.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=n(u),p=n(e.map(se=>se.transparencyScore)),f=n(e.map(se=>se.groundingScore)),h=n(e.map(se=>se.causalReasoningScore)),m=n(e.map(se=>se.epistemicHumilityScore)),g=n(e.map(se=>se.reasoningTraceabilityScore)),y=n(e.map(se=>se.adversarialCoherenceScore)),S=n(e.map(se=>se.informationAsymmetryScore)),v=n(e.map(se=>se.temporalReasoningScore)),A=n(e.map(se=>se.reasoningAuditabilityScore)),w=n(e.map(se=>se.decisionReversibilityScore)),I=n(e.map(se=>se.reasoningComposabilityScore)),D=n(e.map(se=>se.strategicForesightScore)),k=n(e.map(se=>se.hallucinationFlags.length===0?100:Math.max(0,100-se.hallucinationFlags.length*25))),O=n(e.map(se=>se.disciplinePassed?90:30)),U=n(e.map(se=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(se.reasoning)?80:45)),G=e.map(se=>se.action),J=new Set(G),C=J.size===1?90:J.size===2?70:50,_=e.map(se=>se.confidence),E=Math.sqrt(_.reduce((se,tn)=>se+Math.pow(tn-n(_),2),0)/_.length),R=Lt(50+E*200,0,100),M=n(_.map(se=>Lt(100-Math.abs(se-.6)*200,0,100))),$=Math.min(100,40+e.length*5),j=e.filter(se=>se.outcomeResolved!=="pending"),Y=j.length>0?n(j.map(se=>se.outcomeResolved==="correct"?100:se.outcomeResolved==="partial"?60:20)):50,z=n(e.map(se=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(se.reasoning)?80:45)),x=e.length>=3?Math.min(100,40+ue(e,se=>se.coherenceScore>.6)/e.length*60):50,Q=n(e.map(se=>se.accountabilityScore)),Re=n([s,a,c,l,p,f,h,m,g,y,S,v,A,w,I,D])/100*100,Se=n(e.map(se=>se.accountabilityScore)),pe=n(e.map(se=>se.consensusQualityScore)),Ve=null,xe=e.filter(se=>se.actualPnlPercent!==void 0&&se.actualPnlPercent!==null);if(xe.length>=2){let se=xe.map(Hn=>Hn.coherenceScore),tn=xe.map(Hn=>Hn.actualPnlPercent),un=n(se),fr=n(tn),rc=0,mr=0,Tr=0;for(let Hn=0;Hn<xe.length;Hn++){let Qn=se[Hn]-un,mi=tn[Hn]-fr;rc+=Qn*mi,mr+=Qn*Qn,Tr+=mi*mi}let Dd=Math.sqrt(mr*Tr);Ve=Dd>0?Math.round(rc/Dd*1e3)/1e3:0}let ut={pnlPercent:Math.round(r*100)/100,sharpeRatio:Math.round(o*100)/100,maxDrawdown:Math.round(i*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(S*100)/100,temporalReasoningQuality:Math.round(v*100)/100,reasoningAuditability:Math.round(A*100)/100,decisionReversibility:Math.round(w*100)/100,reasoningComposability:Math.round(I*100)/100,strategicForesight:Math.round(D*100)/100,hallucinationRate:Math.round(k*100)/100,instructionDiscipline:Math.round(O*100)/100,riskAwareness:Math.round(U*100)/100,strategyConsistency:Math.round(C*100)/100,adaptability:Math.round(R*100)/100,confidenceCalibration:Math.round(M*100)/100,crossRoundLearning:Math.round($*100)/100,outcomeAccuracy:Math.round(Y*100)/100,marketRegimeAwareness:Math.round(z*100)/100,edgeConsistency:Math.round(x*100)/100,tradeAccountability:Math.round(Q*100)/100,reasoningQualityIndex:Math.round(Re*100)/100,decisionAccountability:Math.round(Se*100)/100,consensusQuality:Math.round(pe*100)/100},dt=0;for(let[se,tn]of Object.entries(HIn))dt+=(ut[se]??50)*tn;dt=Math.round(dt*100)/100;let Ot={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:ut,compositeScore:dt,tier:GIn(dt),tradeCount:e.length,roundsPlayed:new Set(e.map(se=>se.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString(),reasoningProfitCorrelation:Ve};return FIn.set(t.agentId,Ot),Ot}function cbt(t,e,n,r){let o=[...n].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),i=n.map(u=>u.action),s=i.sort((u,d)=>ue(i,p=>p===u)-ue(i,p=>p===d)).pop()??"hold",a=ue(i,u=>u===s)/Math.max(1,i.length),c=u=>n.length>0?Math.round(n.reduce((d,p)=>d+u(p),0)/n.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:o[0]??null,worstTrade:o[o.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:r,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore),avgReasoningComposability:c(u=>u.reasoningComposabilityScore),avgStrategicForesight:c(u=>u.strategicForesightScore)};return VSe.unshift(l),VSe.length>200&&(VSe.length=200),l}mt();var qIn=500;var lbt=new Map;function ubt(t){let e=lbt.get(t.agentId)??[];e.push(t),e.length>qIn&&e.shift(),lbt.set(t.agentId,e)}function dbt(t){let e=t.reasoning.split(/\s+/),n=new Set;for(let r=0;r<e.length-1;r++)n.add(`${e[r].toLowerCase()}_${e[r+1].toLowerCase()}`);return{agentId:t.agentId,roundId:t.roundId,coherenceScore:t.coherenceScore,hallucinationCount:t.hallucinationCount,confidence:t.confidence,wordCount:e.length,intent:t.intent,action:t.action,uniqueBigrams:n.size,timestamp:new Date().toISOString()}}mt();var WIn=5,KIn=3,JIn=2,YIn=.3,QIn=.4,XIn=.3,ZIn=10,eRn=200,pbt=.4,tRn=5;var nRn=.4,rRn=.15,oRn=.08,iRn=.03,sRn=.15,aRn=3,cRn=.35,lRn=.25,uRn=.15,dRn=.15,pRn=.1,fRn=.3,mRn=1,hRn=.75,gRn=.5,yRn=.25;var bRn=20,fbt=100,_Rn=2,SRn=[{type:"anchoring_bias",patterns:[/previous(?:ly)?\s+(?:priced|traded|was)\s+(?:at\s+)?\$[\d,.]+/i,/used\s+to\s+(?:trade|be)\s+(?:at\s+)?\$[\d,.]+/i,/(?:52|all)[- ](?:week|time)\s+(?:high|low)/i],description:"Anchoring to a historical price rather than assessing current value",severity:"low"},{type:"recency_bias",patterns:[/just\s+(?:yesterday|today|recently|this\s+week)/i,/in\s+the\s+(?:past|last)\s+(?:few\s+)?(?:hours?|days?)/i,/very\s+recently/i],description:"Over-weighting recent events relative to broader context",severity:"low"},{type:"gambler_fallacy",patterns:[/(?:due|overdue)\s+for\s+(?:a\s+)?(?:rebound|recovery|correction|bounce)/i,/can'?t?\s+(?:keep\s+)?(?:going|dropping|falling)\s+(?:down|forever)/i,/has\s+to\s+(?:bounce|recover|correct)\s+(?:eventually|at\s+some\s+point)/i],description:"Assuming past patterns must reverse (gambler's fallacy)",severity:"medium"},{type:"confirmation_bias",patterns:[/(?:as\s+)?(?:I|we)\s+(?:expected|predicted|thought)/i,/(?:confirms?|validates?)\s+(?:my|our)\s+(?:thesis|view|analysis)/i,/(?:aligns?\s+with|supports?)\s+(?:my|our)\s+(?:earlier|previous)\s+(?:analysis|view)/i],description:"Seeking only information that confirms existing beliefs",severity:"medium"},{type:"authority_fallacy",patterns:[/(?:analysts?|experts?|Wall\s+Street)\s+(?:say|believe|predict|recommend)/i,/(?:institutional|smart\s+money)\s+(?:investors?|buyers?)\s+(?:are|have\s+been)/i],description:"Appealing to authority rather than fundamental analysis",severity:"low"},{type:"sunk_cost",patterns:[/already\s+(?:invested|bought|held|have\s+a\s+position)/i,/(?:avg|average)\s+(?:down|cost\s+basis)/i,/double\s+down/i],description:"Letting past investment influence current decision (sunk cost)",severity:"high"},{type:"herd_mentality",patterns:[/everyone\s+(?:is|seems?\s+to\s+be)\s+(?:buying|selling|bullish|bearish)/i,/(?:popular|trending|hot)\s+(?:stock|pick|trade)/i,/(?:FOMO|fear\s+of\s+missing\s+out)/i],description:"Following crowd behavior rather than independent analysis",severity:"medium"}],vRn=[[/(?:price|valuation|P\/E|P\/B|market\s+cap)/i,"valuation"],[/(?:revenue|earnings|EPS|profit|margin|growth\s+rate)/i,"fundamentals"],[/(?:RSI|MACD|moving\s+average|bollinger|support|resistance|volume)/i,"technical"],[/(?:macro|interest\s+rate|inflation|GDP|Fed|monetary)/i,"macro"],[/(?:sentiment|mood|fear|greed|VIX)/i,"sentiment"],[/(?:sector|industry|peer|competitor|market\s+share)/i,"sector"],[/(?:risk|volatility|drawdown|beta|correlation)/i,"risk"],[/(?:news|event|earnings\s+report|announcement|catalyst)/i,"catalyst"],[/(?:position\s+size|portfolio|allocation|diversif)/i,"portfolio_management"],[/(?:liquidity|bid.ask|spread|slippage|volume)/i,"market_microstructure"]],ERn=/\b(?:maybe|perhaps|possibly|might|could|potentially|somewhat|relatively|fairly|arguably|likely|probable|uncertain|debatable)\b/gi,ARn=/(?:\d+\.?\d*%|\$\d+[\d,.]*|\d+x|\d+\s*(?:bps|basis\s+points)|\d+:\d+\s+ratio)/gi,xRn=new Set(["alpha","beta","gamma","delta","theta","vega","rho","sharpe","sortino","treynor","calmar","drawdown","volatility","correlation","covariance","regression","momentum","reversion","arbitrage","hedge","leverage","margin","liquidity","slippage","valuation","fundamental","technical","quantitative","systematic","diversification","allocation","rebalance","optimization","earnings","revenue","ebitda","cashflow","dividend","bullish","bearish","neutral","consolidation","breakout","support","resistance","fibonacci","macd","rsi","ema","sma","vwap","volume","spread","premium","discount"]);function hbt(t,e){let n=e.split(/\s+/).filter(_=>_.length>0),r=n.length,o=n.map(_=>_.toLowerCase().replace(/[^a-z]/g,"")).filter(_=>_.length>_Rn),i=[];for(let _ of SRn)for(let E of _.patterns){let R=e.match(E);if(R){i.push({type:_.type,description:_.description,severity:_.severity,evidence:R[0]});break}}let s=new Set;for(let[_,E]of vRn)_.test(e)&&s.add(E);let a=/(?:however|on\s+the\s+other\s+hand|conversely|alternatively|risk\s+is|downside|counter.?argument)/i.test(e),c=/(?:risk|volatility|downside|stop.?loss|max\s+loss|position\s+limit|cash\s+buffer)/i.test(e),l=/\$\d+[\d,.]*|[+-]?\d+\.?\d*%|\d+\s*(?:shares?|units?)/i.test(e),u=/(?:previously|historically|currently|near.?term|long.?term|short.?term|going\s+forward|outlook)/i.test(e),d,p=s.size;p>=WIn&&a&&c?d="exceptional":p>=KIn&&(a||c)?d="deep":p>=JIn?d="moderate":d="shallow";let f={wordCount:r,analyticalAngles:p,hasCounterArgument:a,hasRiskDiscussion:c,citesSpecificData:l,hasTemporalReasoning:u,classification:d},h=new Set(o),m=h.size,g=o.length>0?m/o.length:0,y=0;for(let _ of h)xRn.has(_)&&y++;let S=Math.min(1,g*YIn+Math.min(y/ZIn,1)*QIn+Math.min(r/eRn,1)*XIn),v={uniqueWords:m,typeTokenRatio:ye(g),financeTerms:y,sophisticationScore:re(S)},A=g<pbt?Math.min(1,(pbt-g)*tRn):0,w=e.match(ERn)??[],I=r>0?ye(w.length/r):0,D=e.match(ARn)??[],k=r>0?Math.round(D.length/Math.max(1,r/bRn)*100)/100:0,O=d==="exceptional"?mRn:d==="deep"?hRn:d==="moderate"?gRn:yRn,U=Math.min(nRn,i.reduce((_,E)=>_+(E.severity==="high"?rRn:E.severity==="medium"?oRn:iRn),0)),G=A*fRn,J=Math.min(sRn,I*aRn),C=Math.round(Lt(O*cRn+S*lRn+Math.min(1,k)*uRn+(1-U)*dRn+(1-G-J)*pRn,0,1)*100)/100;return{agentId:t,fallacies:i,depth:f,vocabulary:v,templateProbability:re(A),hedgeRatio:I,quantitativeRatio:Math.min(1,k),qualityScore:C}}var mbt=new Map;function gbt(t,e,n){let r=mbt.get(t)??[];r.push({reasoning:e,qualityScore:n,timestamp:Date.now()}),r.length>fbt&&r.splice(0,r.length-fbt),mbt.set(t,r)}mt();var wRn=3,TRn=12,IRn=1,RRn=.2,CRn=.1,NRn=8,ORn=25,PRn=5,DRn=.15,kRn=.08,LRn=.25,MRn=.05,BRn=.2,URn=.05,$Rn=.08,FRn=.08,HRn=.04,ybt=.05,GRn=2,VRn=5,zRn=7,jRn=4,qRn=2,wj=3,WRn=5,KRn=.7,JRn=30,YRn=200,QRn=15,XRn=300,ZRn=5,eCn=.8,tCn=.6,nCn=.3,rCn=4,oCn=7,iCn=.1,sCn=.08,aCn=.15,cCn=.1,lCn=.1,uCn=1440*60*1e3,dCn=.8,pCn=.4,fCn=.15,mCn=.05,hCn=-.05,gCn=/\b(maybe|perhaps|possibly|might|could|uncertain|unclear|somewhat|relatively|arguably|potentially)\b/gi,yCn=/\b(because|therefore|thus|consequently|since|due to|as a result|given that|leading to|which means|so that|in order to|hence)\b/gi,bCn=/(\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.\d+ (?:ratio|multiple|beta|alpha)|\d+ (?:basis points|bps)|\d+\.?\d* (?:billion|million|trillion))/gi,_Cn=/\b(my thesis|i believe|the thesis|conviction|primary reason|main driver|key insight|core argument)\b/i,SCn=/\b(data shows|evidence suggests|based on|according to|analysis reveals|numbers indicate|metrics show|historically)\b/i,vCn=/\b(therefore|in conclusion|overall|ultimately|net assessment|bottom line|final verdict|action:|decision:)\b/i,bbt={valuation:/\b(P\/E|price.to.earnings|valuation|undervalued|overvalued|fair value|intrinsic|market cap|EV\/EBITDA|price.to.book|forward P\/E)\b/i,technical:/\b(RSI|MACD|moving average|support|resistance|breakout|trend|momentum|volume spike|relative strength|bollinger|fibonacci)\b/i,fundamental:/\b(earnings|revenue|margin|growth rate|EPS|cash flow|balance sheet|debt|ROIC|ROE|free cash flow|operating margin)\b/i,macro:/\b(interest rate|inflation|GDP|federal reserve|monetary policy|fiscal|recession|employment|CPI|economic cycle|yield curve)\b/i,sentiment:/\b(sentiment|fear|greed|crowd|consensus|contrarian|market mood|VIX|put\/call|retail|institutional|flow)\b/i,risk:/\b(risk|downside|stop.loss|position size|exposure|volatility|drawdown|hedge|diversif|max loss|risk.reward)\b/i,catalyst:/\b(catalyst|earnings report|product launch|FDA|acquisition|partnership|regulatory|guidance|conference|patent|split)\b/i,portfolioContext:/\b(portfolio|allocation|cash|position|rebalance|diversif|concentration|correlation|weight|exposure)\b/i,sector:/\b(sector|industry|peer|competitor|market share|cyclical|defensive|rotation|secular|thematic)\b/i,timing:/\b(timing|window|entry point|short.term|medium.term|long.term|horizon|quarter|seasonalit|calendar)\b/i},ECn=/\b(alpha|beta|sharpe|sortino|drawdown|volatility|correlation|momentum|reversion|arbitrage|spread|yield|duration|convexity|delta|gamma|theta|vega|skew|kurtosis|VaR|CVaR|CAPM|efficient frontier|information ratio|tracking error)\b/gi,db=new Map,Tj=50;function Ij(t,e,n,r,o,i){let s=ACn(n),a=xCn(n),c=wCn(t,n),l=TCn(n),u=ICn(t,n,r,o,i),d=db.get(t)??[];d.unshift({agentId:t,reasoning:n,action:r,symbol:o,confidence:i,timestamp:Date.now()}),d.length>Tj&&(d.length=Tj),db.set(t,d);let p=re(s.structureScore*vp.structure+a.depthScore*vp.depth+c.originalityScore*vp.originality+l.clarityScore*vp.clarity+(1-u.flags.length*fCn)*vp.cross_trade),f=Lt(p,0,1);return{agentId:t,roundId:e,tradeAction:r,symbol:o,structural:s,depth:a,originality:c,clarity:l,crossTrade:u,compositeScore:f,grade:KI(f)}}function ACn(t){let e=uo(t),n=e.length,r=n>0?e.reduce((f,h)=>f+vn(h),0)/n:0,o=(t.match(bCn)??[]).length,i=(t.match(gCn)??[]).length,s=(t.match(yCn)??[]).length,a=_Cn.test(t),c=SCn.test(t),l=vCn.test(t),u=0;n>=wRn&&n<=TRn?u+=RRn:n>=IRn&&(u+=CRn),r>=NRn&&r<=ORn?u+=DRn:r>=PRn&&(u+=kRn),u+=Math.min(LRn,o*MRn),u+=Math.min(BRn,s*URn),a&&(u+=$Rn),c&&(u+=FRn),l&&(u+=HRn);let d=vn(t),p=d>0?i/d:0;return p>ybt&&(u-=(p-ybt)*GRn),{sentenceCount:n,avgSentenceLength:Math.round(r*10)/10,quantitativeClaimCount:o,hedgeWordCount:i,causalConnectorCount:s,hasThesis:a,hasEvidence:c,hasConclusion:l,structureScore:Lt(u,0,1)}}function xCn(t){let e={},n=0;for(let[s,a]of Object.entries(bbt)){let c=a.test(t);e[s]=c,c&&n++}let r=Object.keys(bbt).length,o=Math.min(1,n/VRn),i;return n>=zRn?i="exceptional":n>=jRn?i="deep":n>=qRn?i="moderate":i="shallow",{dimensions:e,dimensionCount:n,maxDimensions:r,depthScore:o,classification:i}}function wCn(t,e){let n=db.get(t)??[],r=new Set(FA(e)),o=0;if(n.length>0){let u=new Set(FA(n[0].reasoning,wj)),d=new Set([...r].filter(f=>u.has(f))),p=new Set([...r,...u]);o=p.size>0?d.size/p.size:0}let i=_bt(e,wj),s=new Set;for(let u of n.slice(0,WRn)){let d=_bt(u.reasoning,wj);s=new Set([...s,...d])}let a=i.size>0&&s.size>0?ue([...i],u=>!s.has(u))/i.size:1,c=o>KRn?o:0,l=Lt((1-o)*qv.jaccard_inverse+a*qv.unique_ngrams+(1-c)*qv.template_inverse,0,1);return{jaccardSimilarityToPrevious:ye(o),uniqueNGramRatio:ye(a),templateProbability:ye(c),originalityScore:ye(l)}}function TCn(t){let e=t.split(/\s+/).filter(c=>c.length>0),n=e.length,r=n>0?e.reduce((c,l)=>c+l.replace(/[^a-zA-Z]/g,"").length,0)/n:0,o=t.match(ECn)??[],i=n>0?o.length/n:0,s=0;n>=JRn&&n<=YRn?s=eCn:n>=QRn&&n<=XRn?s=tCn:n>=ZRn&&(s=nCn),r>=rCn&&r<=oCn&&(s+=iCn),i>0&&i<=sCn?s+=cCn:i>aCn&&(s-=lCn);let a=Lt(s,0,1);return{readabilityScore:re(s),avgWordLength:Math.round(r*10)/10,jargonRatio:ye(i),clarityScore:re(a)}}function ICn(t,e,n,r,o){let i=db.get(t)??[],s=[],a=!1,c=!1,l=!1,u=0,d,p;if(i.length>0){let f=i[0];d=f.action,p=f.symbol,u=o-f.confidence;let h=i.filter(A=>A.symbol.toLowerCase()===r.toLowerCase()&&Date.now()-A.timestamp<uCn);for(let A of h)(n==="buy"&&A.action==="sell"||n==="sell"&&A.action==="buy")&&(a=!0,l=!0,s.push(`Flip-flop: ${n} ${r} after ${A.action} within 24h`));let m=new Set(FA(f.reasoning,wj)),g=new Set(FA(e)),y=ue([...g],A=>m.has(A)),S=new Set([...m,...g]).size,v=S>0?y/S:0;v>dCn&&(c=!0,s.push(`Copypasta: ${(v*100).toFixed(0)}% similarity to previous reasoning`)),Math.abs(u)>pCn&&s.push(`Confidence swing: ${u>0?"+":""}${(u*100).toFixed(0)}% between consecutive trades`)}return{contradictsPrevious:a,similarToPrevious:c,stanceShift:l,previousTradeAction:d,previousSymbol:p,confidenceDelta:ye(u),flags:s}}function _bt(t,e){let n=FA(t),r=new Set;for(let o=0;o<=n.length-e;o++)r.add(n.slice(o,o+e).join(" "));return r}function Rj(t){let e=db.get(t)??[];if(e.length===0)return{tradeCount:0,avgDepth:0,avgOriginality:0,avgClarity:0,integrityViolations:0,trend:"stable"};let n=e.map(c=>Ij(c.agentId,"aggregate",c.reasoning,c.action,c.symbol,c.confidence)),r=n.reduce((c,l)=>c+l.depth.depthScore,0)/n.length,o=n.reduce((c,l)=>c+l.originality.originalityScore,0)/n.length,i=n.reduce((c,l)=>c+l.clarity.clarityScore,0)/n.length,s=n.reduce((c,l)=>c+l.crossTrade.flags.length,0),a=Math.floor(n.length/2);if(a>=2){let c=n.slice(a).reduce((p,f)=>p+f.compositeScore,0)/(n.length-a),u=n.slice(0,a).reduce((p,f)=>p+f.compositeScore,0)/a-c,d=u>mCn?"improving":u<hCn?"degrading":"stable";return{tradeCount:e.length,avgDepth:re(r),avgOriginality:re(o),avgClarity:re(i),integrityViolations:s,trend:d}}return{tradeCount:e.length,avgDepth:re(r),avgOriginality:re(o),avgClarity:re(i),integrityViolations:s,trend:"stable"}}function zSe(t,e=20){return(db.get(t)??[]).slice(0,e).map(r=>Ij(r.agentId,"query",r.reasoning,r.action,r.symbol,r.confidence))}function Sbt(t,e,n,r,o){let i=db.get(t)??[];i.unshift({agentId:t,reasoning:e,action:n,symbol:r,confidence:o,timestamp:Date.now()}),i.length>Tj&&(i.length=Tj),db.set(t,i)}mt();var RCn=.2,CCn=.2,NCn=.15,OCn=.1,PCn=.1,DCn=.1,kCn=.15,LCn=.4,MCn=.35,BCn=.25,UCn=.6,$Cn=.4,FCn=.6,HCn=.4,GCn=.25,VCn=.3,zCn=.2,jCn=.25,qCn=5,WCn=-2;var KCn=5,vbt=5,JCn=10;var Ebt=new Map,jSe=new Map,Abt=50;function xbt(t){let e=Ebt.get(t);return e||(e={pnl:[],sharpe:[],winRate:[],coherence:[],depth:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],forensicStructure:[],forensicOriginality:[],forensicClarity:[],forensicIntegrity:[],patternQuality:[]},Ebt.set(t,e)),e}function Zc(t,e){t.unshift(e),t.length>Abt&&(t.length=Abt)}function wbt(t,e){let n=xbt(t);e.pnl!==void 0&&Zc(n.pnl,e.pnl),e.sharpe!==void 0&&Zc(n.sharpe,e.sharpe),e.winRate!==void 0&&Zc(n.winRate,e.winRate),e.coherence!==void 0&&Zc(n.coherence,e.coherence),e.depth!==void 0&&Zc(n.depth,e.depth),e.hallucinationFree!==void 0&&Zc(n.hallucinationFree,e.hallucinationFree),e.discipline!==void 0&&Zc(n.discipline,e.discipline),e.confidence!==void 0&&Zc(n.confidence,e.confidence),e.outcome!==void 0&&Zc(n.outcomes,e.outcome),e.forensicStructure!==void 0&&Zc(n.forensicStructure,e.forensicStructure),e.forensicOriginality!==void 0&&Zc(n.forensicOriginality,e.forensicOriginality),e.forensicClarity!==void 0&&Zc(n.forensicClarity,e.forensicClarity),e.forensicIntegrity!==void 0&&Zc(n.forensicIntegrity,e.forensicIntegrity),e.patternQuality!==void 0&&Zc(n.patternQuality,e.patternQuality)}function qSe(t){let e=xbt(t),n=e.coherence.length,r={name:"Financial",weight:RCn,components:{pnl:YCn(Ke(e.pnl)),sharpe:QCn(Ke(e.sharpe)),winRate:Ke(e.winRate)},score:0,grade:""};r.score=re(r.components.pnl*LCn+r.components.sharpe*MCn+r.components.winRate*BCn),r.grade=pb(r.score);let o={name:"Reasoning",weight:CCn,components:{coherence:Ke(e.coherence),depth:Ke(e.depth)},score:0,grade:""};o.score=re(o.components.coherence*UCn+o.components.depth*$Cn),o.grade=pb(o.score);let i={name:"Safety",weight:NCn,components:{hallucinationFree:Ke(e.hallucinationFree),discipline:Ke(e.discipline)},score:0,grade:""};i.score=re(i.components.hallucinationFree*FCn+i.components.discipline*HCn),i.grade=pb(i.score);let s=e.outcomes,a=XCn(e.confidence,s),c={name:"Calibration",weight:OCn,components:{calibration:a},score:re(a),grade:pb(a)},l={name:"Patterns",weight:PCn,components:{patternQuality:Ke(e.patternQuality)},score:re(Ke(e.patternQuality)),grade:pb(Ke(e.patternQuality))},u=ZCn(e.coherence,e.pnl),d={name:"Adaptability",weight:DCn,components:{consistency:u},score:re(u),grade:pb(u)},p={name:"Forensic Quality",weight:kCn,components:{structure:Ke(e.forensicStructure),originality:Ke(e.forensicOriginality),clarity:Ke(e.forensicClarity),integrity:Ke(e.forensicIntegrity)},score:0,grade:""};p.score=re(p.components.structure*GCn+p.components.originality*VCn+p.components.clarity*zCn+p.components.integrity*jCn),p.grade=pb(p.score);let f=[r,o,i,c,l,d,p],h=re(ka(f,"score","weight")),m=jSe.get(t)??null,g=m===null?"new":"same",y=e4n(e.coherence,e.forensicStructure);return{agentId:t,pillars:f,compositeScore:h,compositeGrade:pb(h),rank:0,previousRank:m,rankChange:g,trend:y,tradeCount:n,timestamp:new Date().toISOString()}}function WSe(t){let e=[];for(let n of t){let r=qSe(n.agentId);e.push({agentId:n.agentId,agentName:n.name,provider:n.provider,model:n.model,compositeScore:r.compositeScore,compositeGrade:r.compositeGrade,rank:0,rankChange:"same",pillarScores:Object.fromEntries(r.pillars.map(o=>[o.name.toLowerCase().replace(/\s+/g,"_"),o.score])),tradeCount:r.tradeCount,trend:r.trend})}e.sort((n,r)=>r.compositeScore-n.compositeScore);for(let n=0;n<e.length;n++){let r=jSe.get(e[n].agentId);e[n].rank=n+1,r===void 0?e[n].rankChange="new":r<e[n].rank?e[n].rankChange="down":r>e[n].rank?e[n].rankChange="up":e[n].rankChange="same",jSe.set(e[n].agentId,e[n].rank)}return e}function YCn(t){return 1/(1+Math.exp(-t/qCn))}function QCn(t){return Math.max(0,Math.min(1,(t-WCn)/KCn))}function XCn(t,e){if(t.length<vbt||e.length<vbt)return .5;let n=t.map((i,s)=>({conf:i,outcome:e[s]?1:0})).filter((i,s)=>s<e.length),r=new Map;for(let i of n){let s=Math.floor(i.conf*JCn),a=r.get(s)??{sumConf:0,sumOutcome:0,count:0};a.sumConf+=i.conf,a.sumOutcome+=i.outcome,a.count++,r.set(s,a)}let o=0;for(let i of r.values())if(i.count>0){let s=i.sumConf/i.count,a=i.sumOutcome/i.count;o+=i.count/n.length*Math.abs(s-a)}return Math.max(0,Math.min(1,1-o))}function ZCn(t,e){if(t.length<10)return .5;let n=Ke(t),r=t.reduce((i,s)=>i+(s-n)**2,0)/t.length,o=Math.sqrt(r);return Math.max(0,Math.min(1,1-o*2))}function e4n(t,e){let n=t.map((a,c)=>a*.5+(e[c]??a)*.5);if(n.length<10)return"stable";let r=Math.floor(n.length/2),o=Ke(n.slice(0,r)),i=Ke(n.slice(r)),s=o-i;return s>.05?"improving":s<-.05?"degrading":"stable"}function pb(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var or=(t,...e)=>{let n=[""];for(let r=0,o=t.length-1;r<o;r++){n[0]+=t[r];let i=Array.isArray(e[r])?e[r].flat(1/0):[e[r]];for(let s=0,a=i.length;s<a;s++){let c=i[s];if(typeof c=="string")oV(c,n);else if(typeof c=="number")n[0]+=c;else{if(typeof c=="boolean"||c===null||c===void 0)continue;if(typeof c=="object"&&c.isEscaped)if(c.callbacks)n.unshift("",c);else{let l=c.toString();l instanceof Promise?n.unshift("",l):n[0]+=l}else c instanceof Promise?n.unshift("",c):oV(c.toString(),n)}}}return n[0]+=t.at(-1),n.length===1?"callbacks"in n?YT(Bpt(YT(n[0],n.callbacks))):YT(n[0]):Mpt(n,n.callbacks)};var r9=new yr,JI=[],Tbt=200,Cj=new Set;function Ibt(t,e,n){let r={type:t,agentId:n,data:e,timestamp:new Date().toISOString()};JI.unshift(r),JI.length>Tbt&&(JI.length=Tbt);let o=new TextEncoder().encode(`data: ${JSON.stringify(r)}

`);for(let i of Cj)i.write(o).catch(()=>Cj.delete(i))}r9.get("/data",t=>{let e=zv(),n=WSe(e),r=e.map(o=>({agentId:o.agentId,...Rj(o.agentId)}));return t.json({ok:!0,version:"v11",benchmark:{name:"MoltApp: Agentic Stock Trading Benchmark",version:"11.0.0",website:"https://www.patgpt.us",huggingface:"https://huggingface.co/datasets/patruff/molt-benchmark",pillars:[{name:"Financial",weight:.2,description:"P&L, Sharpe ratio, win rate"},{name:"Reasoning",weight:.2,description:"Coherence & analytical depth"},{name:"Safety",weight:.15,description:"Hallucination-free rate, discipline compliance"},{name:"Calibration",weight:.1,description:"Confidence-outcome correlation"},{name:"Patterns",weight:.1,description:"Fallacy detection, vocabulary sophistication"},{name:"Adaptability",weight:.1,description:"Cross-regime consistency"},{name:"Forensic Quality",weight:.15,description:"Structure, originality, clarity, integrity"}]},leaderboard:n,forensicSummaries:r,recentEvents:JI.slice(0,20),timestamp:new Date().toISOString()})});r9.get("/forensic/:agentId",t=>{let e=t.req.param("agentId"),n=Math.min(parseInt(t.req.query("limit")??"20",10),50),r=Rj(e),o=zSe(e,n),i=qSe(e);return t.json({ok:!0,agentId:e,health:r,scoreCard:i,forensicReports:o})});r9.get("/export",t=>{let e=zv(),n=[];for(let r of e){let o=zSe(r.agentId,100);for(let i of o)n.push(JSON.stringify({agent_id:i.agentId,round_id:i.roundId,action:i.tradeAction,symbol:i.symbol,composite_score:i.compositeScore,grade:i.grade,structure_score:i.structural.structureScore,depth_score:i.depth.depthScore,depth_classification:i.depth.classification,originality_score:i.originality.originalityScore,template_probability:i.originality.templateProbability,clarity_score:i.clarity.clarityScore,cross_trade_flags:i.crossTrade.flags,contradicts_previous:i.crossTrade.contradictsPrevious,dimensions_covered:i.depth.dimensionCount,sentence_count:i.structural.sentenceCount,quantitative_claims:i.structural.quantitativeClaimCount,hedge_words:i.structural.hedgeWordCount,causal_connectors:i.structural.causalConnectorCount}))}return t.header("Content-Type","application/jsonl"),t.header("Content-Disposition",`attachment; filename="moltapp-forensic-${new Date().toISOString().split("T")[0]}.jsonl"`),t.body(n.join(`
`))});r9.get("/stream",t=>{let{readable:e,writable:n}=new TransformStream,r=n.getWriter();Cj.add(r);let o=JI.slice(0,10).reverse();for(let i of o)r.write(new TextEncoder().encode(`data: ${JSON.stringify(i)}

`)).catch(()=>{});return t.req.raw.signal.addEventListener("abort",()=>{Cj.delete(r),r.close().catch(()=>{})}),new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});r9.get("/",t=>{let e=zv(),n=WSe(e),r=e.map(u=>({agentId:u.agentId,...Rj(u.agentId)})),o=u=>u==="up"?'<span style="color:#00ff88">&#x25B2;</span>':u==="down"?'<span style="color:#ff4444">&#x25BC;</span>':u==="new"?'<span style="color:#ffaa00">NEW</span>':'<span style="color:#555">&mdash;</span>',i=u=>u==="improving"?'<span class="trend-badge improving">&#x2197; Improving</span>':u==="degrading"?'<span class="trend-badge degrading">&#x2198; Degrading</span>':'<span class="trend-badge stable">&mdash; Stable</span>',s=n.map((u,d)=>`
    <tr>
      <td><span class="rank">#${d+1}</span> ${o(u.rankChange)}</td>
      <td><strong>${u.agentName}</strong><br><small class="model">${u.model}</small></td>
      <td>${u.provider}</td>
      <td><span class="score-pill ${u.pillarScores.financial>=.6?"score-good":"score-mid"}">${(u.pillarScores.financial??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.reasoning>=.6?"score-good":"score-mid"}">${(u.pillarScores.reasoning??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.safety>=.7?"score-good":"score-mid"}">${(u.pillarScores.safety??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.calibration>=.5?"score-good":"score-mid"}">${(u.pillarScores.calibration??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.forensic_quality>=.5?"score-good":"score-mid"}">${(u.pillarScores.forensic_quality??0).toFixed(2)}</span></td>
      <td>${u.tradeCount}</td>
      <td>${i(u.trend)}</td>
      <td>
        <strong class="composite">${u.compositeScore.toFixed(2)}</strong>
        <span class="grade grade-${u.compositeGrade.replace("+","plus").replace("-","minus")}">${u.compositeGrade}</span>
      </td>
    </tr>`).join(""),a=r.map(u=>`
    <div class="forensic-card">
      <div class="forensic-agent">${u.agentId}</div>
      <div class="forensic-stats">
        <div class="fstat"><span class="flabel">Trades</span><span class="fval">${u.tradeCount}</span></div>
        <div class="fstat"><span class="flabel">Depth</span><span class="fval">${u.avgDepth.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Originality</span><span class="fval">${u.avgOriginality.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Clarity</span><span class="fval">${u.avgClarity.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Violations</span><span class="fval ${u.integrityViolations>0?"fval-warn":""}">${u.integrityViolations}</span></div>
        <div class="fstat"><span class="flabel">Trend</span><span class="fval">${u.trend}</span></div>
      </div>
    </div>`).join(""),c=JI.slice(0,8).map(u=>`
    <div class="event-entry">
      <span class="event-type">${u.type}</span>
      ${u.agentId?`<span class="event-agent">${u.agentId}</span>`:""}
      <span class="event-time">${new Date(u.timestamp).toLocaleTimeString()}</span>
    </div>`).join(""),l=or`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp AI Trading Benchmark v11 | 7-Pillar Scoring + Forensic Quality</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, sans-serif; background: #06060c; color: #d0d0d0; }
    .container { max-width: 1400px; margin: 0 auto; padding: 16px; }
    .header { text-align: center; padding: 20px 0 8px; }
    h1 { font-size: 2rem; color: #00ff88; display: inline; }
    .version-badge { background: linear-gradient(135deg, #00ff88, #00aaff); color: #000; font-size: 0.65rem; font-weight: 800; padding: 3px 10px; border-radius: 12px; margin-left: 10px; letter-spacing: 1px; vertical-align: middle; }
    .official { background: linear-gradient(135deg, #00ff88, #00aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; display: block; margin-top: 4px; }
    .subtitle { text-align: center; color: #666; margin-bottom: 16px; font-size: 0.88rem; }
    .live-dot { width: 8px; height: 8px; background: #00ff88; border-radius: 50%; display: inline-block; margin-right: 6px; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .badge-row { display: flex; gap: 8px; justify-content: center; margin-bottom: 18px; flex-wrap: wrap; }
    .badge { background: #111122; border: 1px solid #222; border-radius: 6px; padding: 5px 12px; font-size: 0.75rem; color: #00ff88; text-decoration: none; transition: all 0.2s; }
    .badge:hover { background: #1a1a3e; }
    .badge-hf { border-color: #ffaa00; color: #ffaa00; }
    .section { margin-bottom: 28px; }
    .section h2 { font-size: 1.1rem; margin-bottom: 10px; color: #fff; border-bottom: 1px solid #222; padding-bottom: 5px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; margin-bottom: 18px; }
    .pillar-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
    .pillar-card .pval { font-size: 1.3rem; font-weight: 700; color: #00ff88; }
    .pillar-card .pweight { font-size: 0.6rem; color: #444; }
    .pillar-card .pdesc { font-size: 0.65rem; color: #555; margin-top: 3px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 7px 9px; text-align: left; border-bottom: 1px solid #111122; }
    th { background: #0d0d1a; color: #00ff88; font-weight: 600; font-size: 0.72rem; text-transform: uppercase; }
    td { font-size: 0.8rem; }
    tr:hover { background: #0d0d1a; }
    .rank { color: #ffaa00; font-weight: 700; font-size: 1rem; }
    .composite { color: #00ff88; font-size: 1rem; }
    .grade { display: inline-block; padding: 1px 7px; border-radius: 4px; font-size: 0.72rem; font-weight: 700; margin-left: 6px; background: #1a1a3e; color: #8888ff; }
    .model { color: #555; font-size: 0.72rem; }
    .score-pill { padding: 2px 7px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
    .score-good { background: #00221a; color: #00ff88; }
    .score-mid { background: #221b00; color: #ffaa00; }
    .score-bad { background: #220000; color: #ff4444; }
    .trend-badge { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
    .trend-badge.improving { background: #00221a; color: #00ff88; }
    .trend-badge.degrading { background: #220000; color: #ff4444; }
    .trend-badge.stable { background: #111122; color: #666; }
    .forensic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; }
    .forensic-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; }
    .forensic-agent { font-weight: 700; color: #fff; font-size: 0.9rem; margin-bottom: 8px; }
    .forensic-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
    .fstat { text-align: center; }
    .flabel { display: block; font-size: 0.6rem; color: #555; text-transform: uppercase; }
    .fval { font-size: 1rem; font-weight: 700; color: #00aaff; }
    .fval-warn { color: #ff4444; }
    .events-list { max-height: 200px; overflow-y: auto; }
    .event-entry { padding: 5px 10px; border-bottom: 1px solid #111; font-size: 0.78rem; display: flex; gap: 8px; }
    .event-type { color: #00ff88; font-weight: 600; min-width: 120px; }
    .event-agent { color: #aaa; }
    .event-time { color: #444; margin-left: auto; }
    .footer { text-align: center; color: #333; font-size: 0.72rem; margin-top: 20px; padding: 16px; border-top: 1px solid #111122; }
    @media (max-width: 768px) { .container { padding: 8px; } table { font-size: 0.7rem; } th, td { padding: 4px 5px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp AI Trading Benchmark</h1>
      <span class="version-badge">v11</span>
      <span class="official">Industry-Standard AI Finance Benchmark &mdash; 7-Pillar Scoring</span>
    </div>
    <p class="subtitle"><span class="live-dot"></span>Live evaluation of AI agents trading real tokenized stocks on Solana &mdash; with forensic reasoning analysis</p>

    <div class="badge-row">
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-hf" target="_blank">HuggingFace Dataset</a>
      <a href="https://www.patgpt.us" class="badge" target="_blank">www.patgpt.us</a>
      <a href="/benchmark-v11/data" class="badge">API (JSON)</a>
      <a href="/benchmark-v11/export" class="badge">Export (JSONL)</a>
      <a href="/benchmark-v11/stream" class="badge">Live Stream (SSE)</a>
      <a href="/api/v1/brain-feed" class="badge">Brain Feed</a>
    </div>

    <div class="section">
      <h2>7-Pillar Scoring Framework</h2>
      <div class="pillar-grid">
        <div class="pillar-card">
          <h3>Financial</h3>
          <div class="pval">20%</div>
          <div class="pdesc">P&L, Sharpe Ratio, Win Rate</div>
        </div>
        <div class="pillar-card">
          <h3>Reasoning</h3>
          <div class="pval">20%</div>
          <div class="pdesc">Coherence & Analytical Depth</div>
        </div>
        <div class="pillar-card">
          <h3>Safety</h3>
          <div class="pval">15%</div>
          <div class="pdesc">Hallucination-Free & Discipline</div>
        </div>
        <div class="pillar-card">
          <h3>Calibration</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Confidence-Outcome Correlation</div>
        </div>
        <div class="pillar-card">
          <h3>Patterns</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Fallacy Detection & Vocabulary</div>
        </div>
        <div class="pillar-card">
          <h3>Adaptability</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Cross-Regime Consistency</div>
        </div>
        <div class="pillar-card" style="border-color: #00aaff;">
          <h3 style="color: #00aaff;">Forensic Quality</h3>
          <div class="pval" style="color: #00aaff;">15%</div>
          <div class="pdesc">Structure, Originality, Clarity, Integrity</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Provider</th>
            <th>Financial</th>
            <th>Reasoning</th>
            <th>Safety</th>
            <th>Calibration</th>
            <th>Forensic</th>
            <th>Trades</th>
            <th>Trend</th>
            <th>Composite</th>
          </tr>
        </thead>
        <tbody>
          ${s||'<tr><td colspan="11" style="text-align:center;color:#444;">No trades yet &mdash; run a trading round to populate</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>Forensic Quality Analysis</h2>
      <div class="forensic-grid">
        ${a||'<div class="forensic-card"><div class="forensic-agent" style="color:#555;">Forensic data will appear after trading rounds</div></div>'}
      </div>
    </div>

    <div class="section">
      <h2><span class="live-dot"></span>Recent Benchmark Events</h2>
      <div class="events-list">
        ${c||'<div class="event-entry"><span class="event-type" style="color:#555;">Waiting for trading activity...</span></div>'}
      </div>
    </div>

    <div class="footer">
      <strong>MoltApp AI Trading Benchmark v11</strong> &mdash; 7-Pillar Scoring with Forensic Quality Analysis<br>
      Colosseum Agent Hackathon 2026 &mdash; Every trade requires reasoning. No black-box trades.<br>
      <small>Data: <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#00aaff;">HuggingFace</a> &mdash; Website: <a href="https://www.patgpt.us" style="color:#00aaff;">www.patgpt.us</a></small>
    </div>
  </div>

  <script>
    // SSE live updates
    const evtSource = new EventSource('/benchmark-v11/stream');
    evtSource.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data);
        document.title = 'MoltApp v11 | ' + data.type + ' | ' + new Date().toLocaleTimeString();
      } catch {}
    };
    // Auto-refresh every 45 seconds
    setInterval(() => { location.reload(); }, 45000);
  </script>
</body>
</html>`;return t.html(l)});mt();var t4n=.15,n4n=.2,r4n=.1,o4n=.15,i4n=.1,s4n=.1,a4n=.15,c4n=.05;var l4n=.5,u4n=.3,d4n=.3,p4n=.4,f4n=.3,m4n=.3,h4n=.3,g4n=.8,y4n=.7,b4n=.4,_4n=.7,S4n=.7,v4n=.7,E4n=.7,A4n=.7,x4n=.5,w4n=.25,T4n=.15,I4n=.4,R4n=.3,C4n=.3,N4n=.1,O4n=.1,P4n=.05,D4n=100,Rbt=50,k4n=20,L4n=.3,M4n=.25,B4n=.15,U4n=5,$4n=3,F4n=2,H4n=.2,G4n=.15,V4n=.1,z4n=.06,j4n=.3,q4n=2,W4n=3,K4n=1,J4n=.15,Y4n=.08,Q4n=2,X4n=.05;var Z4n=100,e6n=5,t6n=5;var KSe=new Map;function n6n(t,e){let n=KSe.get(t)??[];n.push(e),n.length>Z4n&&n.shift(),KSe.set(t,n)}function r6n(t){let e=KSe.get(t)??[];if(e.length<e6n)return{mean:.5,stdDev:.2,count:e.length};let n=e.reduce((o,i)=>o+i,0)/e.length,r=e.reduce((o,i)=>o+(i-n)**2,0)/e.length;return{mean:n,stdDev:Math.sqrt(r),count:e.length}}var o6n=["market_price_feed","jupiter_price_api","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","market_data","earnings_data","analyst_consensus","options_flow","insider_trading","macro_indicators","fed_policy","correlation_analysis"],i6n=[/\brisk\b/i,/\bdownside\b/i,/\bvolatil/i,/\bdrawdown\b/i,/\bstop[- ]?loss\b/i,/\bhedg/i,/\bexposure\b/i,/\bloss\b/i,/\bworst[- ]?case\b/i,/\bprotect/i,/\buncertain/i,/\bcaution/i,/\bconcern/i,/\bdefensive/i];function Cbt(t,e,n,r){let o=[],i=[],s=[],a=t.confidence>1?t.confidence/100:t.confidence,c=s6n(t,o);s.push({name:"structural_validity",score:c,weight:t4n,passed:c>=l4n,detail:c>=g4n?"All required fields present":"Missing or invalid fields detected"});let l=a6n(t.reasoning,o,i);s.push({name:"reasoning_depth",score:l,weight:n4n,passed:l>=u4n,detail:l>=y4n?"Substantive multi-factor reasoning":l>=b4n?"Adequate but shallow reasoning":"Insufficient reasoning depth"});let u=c6n(t,o,i);s.push({name:"source_verification",score:u,weight:r4n,passed:u>=d4n,detail:u>=_4n?"Sources are plausible and specific":"Source claims need improvement"});let d=l6n(t.reasoning,n,o);s.push({name:"price_grounding",score:d,weight:o4n,passed:d>=p4n,detail:d>=S4n?"Price references match market data":"Price claims may be inaccurate"});let p=u6n(t.reasoning,o);s.push({name:"temporal_consistency",score:p,weight:i4n,passed:p>=f4n,detail:p>=v4n?"Reasoning references current conditions":"Temporal context could be stronger"});let f=d6n(e,a,t,o,i);s.push({name:"confidence_calibration",score:f,weight:s4n,passed:f>=m4n,detail:f>=E4n?"Confidence is within historical norms":"Confidence may be miscalibrated"});let h=p6n(t,o);s.push({name:"action_reasoning_alignment",score:h,weight:a4n,passed:h>=h4n,detail:h>=A4n?"Reasoning supports the chosen action":"Possible misalignment between reasoning and action"});let m=f6n(t.reasoning,t.action,o,i);s.push({name:"risk_awareness",score:m,weight:c4n,passed:!0,detail:m>=x4n?"Reasoning acknowledges relevant risks":"Limited risk awareness in reasoning"});let g=ka(s,"score","weight"),y=ye(g),S=m6n(y),A=!s.some(w=>!w.passed&&w.weight>=T4n)&&y>=w4n;return n6n(e,a),{valid:A,qualityScore:y,grade:S,dimensions:s,issues:o,suggestions:i.slice(0,t6n),validatedAt:new Date().toISOString()}}function s6n(t,e){let n=1;return(!t.action||!["buy","sell","hold"].includes(t.action))&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or invalid action field"}),n-=I4n),(!t.symbol||t.symbol.length===0)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing symbol field"}),n-=R4n),(!t.reasoning||t.reasoning.length<10)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or too-short reasoning"}),n-=C4n),typeof t.confidence!="number"&&(e.push({severity:"warning",dimension:"structural_validity",message:"Confidence is not a number"}),n-=N4n),t.action!=="hold"&&(typeof t.quantity!="number"||t.quantity<=0)&&(e.push({severity:"warning",dimension:"structural_validity",message:"Non-hold action with invalid quantity"}),n-=O4n),t.timestamp||(e.push({severity:"info",dimension:"structural_validity",message:"Missing timestamp"}),n-=P4n),Math.max(0,n)}function a6n(t,e,n){let o=t.split(/\s+/).filter(Boolean).length,s=uo(t).length,a=0;o>=D4n?a+=L4n:o>=Rbt?a+=M4n:o>=k4n?a+=B4n:(e.push({severity:"warning",dimension:"reasoning_depth",message:`Reasoning is only ${o} words \u2014 substantive analysis needs ${Rbt}+ words`}),n.push("Expand reasoning to include multiple analytical angles (price action, fundamentals, portfolio context)")),s>=U4n?a+=H4n:s>=$4n?a+=G4n:s>=F4n&&(a+=V4n);let l=ue([{pattern:/price|valuation|\$\d|\bP\/E\b/i,name:"price_analysis"},{pattern:/volume|liquidity|traded/i,name:"volume_analysis"},{pattern:/trend|momentum|moving\s+average|breakout/i,name:"technical_analysis"},{pattern:/fundamental|earnings|revenue|growth|margin/i,name:"fundamental_analysis"},{pattern:/portfolio|position|allocation|exposure/i,name:"portfolio_context"},{pattern:/risk|downside|protect|volatile/i,name:"risk_consideration"},{pattern:/sector|industry|market|macro|economy/i,name:"macro_context"},{pattern:/news|event|catalyst|announcement/i,name:"catalyst_awareness"}],p=>p.pattern.test(t));a+=Math.min(j4n,l*z4n),l<q4n&&n.push("Include multiple analytical angles: price analysis, fundamentals, portfolio context, risk assessment");let u=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d+/g)??[]).length;return u>=W4n?a+=J4n:u>=K4n?a+=Y4n:n.push("Include specific numbers and percentages to ground your reasoning in data"),(t.match(/\bbecause\b|\btherefore\b|\bdue\s+to\b|\bsince\b|\bas\s+a\s+result\b|\bconsequently\b|\bhence\b|\bthus\b/gi)??[]).length>=Q4n&&(a+=X4n),Math.min(1,a)}function c6n(t,e,n){let r=t.sources??[];if(r.length===0)return e.push({severity:"warning",dimension:"source_verification",message:"No data sources cited"}),n.push("Cite specific data sources used in analysis (e.g., 'market_price_feed', 'news_feed', 'technical_indicators')"),.2;let o=.4,i=r.filter(s=>o6n.some(a=>s.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(s.toLowerCase()))).length;o+=Math.min(.3,i/Math.max(1,r.length)*.3),r.length>=3?o+=.2:r.length>=2&&(o+=.1);for(let s of r)s.length>60&&e.push({severity:"info",dimension:"source_verification",message:`Unusually long source name: ${s.slice(0,40)}...`});return Math.min(1,o)}function l6n(t,e,n){let r=new Map;for(let l of e)r.set(l.symbol.toLowerCase(),l.price),r.set(l.symbol.replace(/x$/i,"").toLowerCase(),l.price);if(e.length===0)return .6;let o=.7,i=/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,s,a=0,c=0;for(;(s=i.exec(t))!==null;){let l=s[1].toLowerCase(),u=parseFloat(s[2].replace(/,/g,"")),d=r.get(l);if(a++,d!==void 0&&u>0){let p=Math.abs(u-d)/d;p<=.05?c++:p<=.2?c+=.5:(n.push({severity:"warning",dimension:"price_grounding",message:`Price claim for ${l.toUpperCase()} ($${u.toFixed(2)}) deviates ${(p*100).toFixed(0)}% from actual ($${d.toFixed(2)})`,evidence:s[0]}),o-=.15)}}return a>0&&c/a>=.8&&(o+=.2),a===0&&(o=.6),Lt(o,0,1)}function u6n(t,e){let n=.5,r=[{pattern:/\bcurrent(ly)?\b|\bright\s+now\b|\btoday\b/i,weight:.15},{pattern:/\brecent(ly)?\b|\blast\s+(week|month|day|session)\b/i,weight:.1},{pattern:/\b24h\b|\b24-?hour\b|\bintraday\b/i,weight:.1},{pattern:/\btrending\b|\bmoving\b|\bshifting\b/i,weight:.05},{pattern:/\bsince\s+(yesterday|last|the)\b/i,weight:.1}];for(let{pattern:o,weight:i}of r)o.test(t)&&(n+=i);return/\d/.test(t)||(e.push({severity:"info",dimension:"temporal_consistency",message:"Reasoning contains no numbers \u2014 may not be grounded in current data"}),n-=.1),Lt(n,0,1)}function d6n(t,e,n,r,o){let i=r6n(t),s=.7;if(i.count>=10){let a=Math.abs(e-i.mean)/Math.max(.01,i.stdDev);a>3?(r.push({severity:"warning",dimension:"confidence_calibration",message:`Confidence ${(e*100).toFixed(0)}% is ${a.toFixed(1)} standard deviations from agent's mean of ${(i.mean*100).toFixed(0)}%`}),s-=.3):a>2&&(r.push({severity:"info",dimension:"confidence_calibration",message:"Confidence is notably different from agent's historical average"}),s-=.1)}return n.action==="hold"&&e>.9&&(r.push({severity:"info",dimension:"confidence_calibration",message:"Very high confidence (>90%) on a hold action \u2014 consider why confidence is so high if no trade is being made"}),s-=.1),n.action!=="hold"&&e<.2&&(r.push({severity:"warning",dimension:"confidence_calibration",message:"Trading with very low confidence (<20%) \u2014 consider whether this trade should be a hold instead"}),o.push("Low-confidence trades should include strong reasoning for why the trade is being taken despite uncertainty"),s-=.2),Lt(s,0,1)}function p6n(t,e){let n=t.reasoning.toLowerCase(),r=.5,o=(n.match(/\bbullish\b|\bupside\b|\bgrowth\b|\bundervalued\b|\bbreakout\b|\brally\b|\baccumulate\b|\boptimistic\b/g)??[]).length,i=(n.match(/\bbearish\b|\bdownside\b|\bovervalued\b|\bbreakdown\b|\bcorrection\b|\bpessimistic\b|\bdeclining\b|\bweakness\b/g)??[]).length,s=(n.match(/\buncertain\b|\bwait\b|\bcaution\b|\bsideline\b|\bmixed\b|\binsufficient\b|\bpatien/g)??[]).length;return t.action==="buy"?o>i?r=.85:o===i&&o>0?r=.5:i>o+1&&(/contrarian|reversion|oversold|bounce|discount/i.test(n)?r=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bearish reasoning but choosing to buy"}),r=.25)):t.action==="sell"?i>o?r=.85:i===o&&i>0?r=.5:o>i+1&&(/profit|take\s+gains|rebalance|trim|overexposed/i.test(n)?r=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bullish reasoning but choosing to sell"}),r=.25)):s>0||o<=1&&i<=1?r=.8:(o>2||i>2)&&(/guardrail|limit|buffer|risk\s+management/i.test(n)?r=.75:(e.push({severity:"info",dimension:"action_reasoning_alignment",message:"Strong directional signals but choosing to hold"}),r=.45)),r}function f6n(t,e,n,r){let o=ue(i6n,i=>i.test(t));return e==="hold"?Math.min(1,.5+o*.15):o===0?(n.push({severity:"info",dimension:"risk_awareness",message:"Reasoning does not mention any risk factors"}),r.push("Include risk awareness in reasoning \u2014 what could go wrong with this trade?"),.2):o>=3?1:o>=2?.8:.5}function m6n(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}mt();var h6n=3,g6n=1,y6n=2,b6n=100,_6n=200,S6n=4,v6n=6,E6n=5,JSe=5,Nbt=1,A6n=2,x6n=[{pattern:/\bundervalued\b|\bintrinsic\s+value\b|\bmargin\s+of\s+safety\b|\bfundamental\s+strength\b|\bP\/E\b|\bearnings\b.*\bcheap\b/i,strategy:"value_investing",weight:1},{pattern:/\bmomentum\b|\btrend\b|\bbreakout\b|\brally\b|\bpositive\s+momentum\b|\bcontinuing\s+to\s+rise\b/i,strategy:"momentum_trading",weight:1},{pattern:/\bmean\s+reversion\b|\boversold\b|\bbounce\b|\bpullback\b|\brevert/i,strategy:"mean_reversion",weight:1},{pattern:/\bcontrarian\b|\bagainst\s+the\s+crowd\b|\boverreact/i,strategy:"contrarian",weight:1},{pattern:/\bgrowth\b|\bexpand/i,strategy:"growth_investing",weight:.6},{pattern:/\brisk\s+manag/i,strategy:"risk_management",weight:.8},{pattern:/\bindex\b|\bSPY\b|\bQQQ\b|\btrack/i,strategy:"index_tracking",weight:.5},{pattern:/\bevent\b|\bcatalyst\b|\bannouncement\b|\bearnings\s+report\b/i,strategy:"event_driven",weight:.8},{pattern:/\bpattern\b|\bsupport\b|\bresistance\b|\bchannel\b|\bMACD\b|\bRSI\b/i,strategy:"technical_pattern",weight:.9},{pattern:/\brebalanc/i,strategy:"portfolio_rebalancing",weight:.9}];function w6n(t){let e="value_investing",n=0;for(let{pattern:r,strategy:o,weight:i}of x6n){let a=(t.match(r)??[]).length*i;a>n&&(n=a,e=o)}return e}function T6n(t){let e=/\bearnings\b|\brevenue\b|\bP\/E\b|\bfundamental\b|\bbalance\s+sheet\b|\bmargin\b|\bvaluation\b/i.test(t),n=/\btechnical\b|\bRSI\b|\bMACD\b|\bmoving\s+average\b|\bsupport\b|\bresistance\b|\bchart\b|\bpattern\b/i.test(t),r=/\d+\.?\d*%/.test(t)&&/\$\d+/.test(t),o=/\bbelieve\b|\bfeel\b|\bsense\b|\bintuition\b|\bnarrative\b/i.test(t);return ue([e,n,r,o],Boolean)>=A6n?"mixed":e?"fundamental":n?"technical":r?"quantitative":o?"narrative":"mixed"}function I6n(t){return/\bif\b.*\bthen\b|\btherefore\b|\bimplies\b|\bmust\s+be\b|\bconsequently\b/i.test(t)?"deductive":/\bhistorically\b|\btends\s+to\b|\bpattern\b|\bbased\s+on\s+past\b|\busually\b/i.test(t)?"inductive":/\blikely\s+because\b|\bbest\s+explanation\b|\bsuggests\s+that\b|\bprobably\b/i.test(t)?"abductive":/\bsimilar\s+to\b|\blike\s+when\b|\breminds\b|\banalog/i.test(t)?"analogical":/\bmy\s+rules?\b|\blimit\b|\bthreshold\b|\bpolicy\b|\bguardrail\b/i.test(t)?"rule_based":"mixed"}function R6n(t){let e=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d{2,}/g)??[]).length,n=(t.match(/\bfeel\b|\bsense\b|\bappear\b|\bseem\b/gi)??[]).length;return e>=h6n&&n<=g6n?"quantitative":e>=1&&n>=1?"mixed":n>=y6n&&e===0?"qualitative":e===0&&n===0?"anecdotal":"mixed"}function C6n(t){return/\babove\b.*%|\bbelow\b.*%|\bexceeds\b|\bthreshold\b|\bcriteria\b/i.test(t)?"threshold_based":/\bcompared\s+to\b|\brelative\b|\bversus\b|\bbetter\s+than\b/i.test(t)?"comparative":/\brisk.?reward\b|\brisk.?adjusted\b|\bSharpe\b|\bdownside\s+protection\b/i.test(t)?"risk_adjusted":/\bstrongly\s+believe\b|\bconviction\b|\bhigh\s+confidence\b|\bcertain\b/i.test(t)?"conviction_based":/\brule\b|\bpolicy\b|\balways\b|\bnever\b|\bguardrail\b/i.test(t)?"rule_following":"mixed"}var N6n=[{type:"anchoring_bias",pattern:/\bthe\s+key\s+(number|price|level)\b|\banchored\s+to\b|\bfocusing\s+on\s+the\s+\$?\d/i,severity:"low"},{type:"recency_bias",pattern:/\bjust\s+(yesterday|today|recently)\b.*\b(therefore|so|hence)\b/i,severity:"medium"},{type:"confirmation_bias",pattern:/\b(as\s+I\s+expected|confirms\s+my|validates\s+my|as\s+predicted)\b/i,severity:"medium"},{type:"loss_aversion",pattern:/\bcan't\s+afford\s+to\s+lose\b|\bavoid\s+losses?\s+at\s+all\s+costs\b|\bnever\s+sell\s+at\s+a\s+loss\b/i,severity:"medium"},{type:"overconfidence",pattern:/\bdefinitely\s+will\b|\bguaranteed\b|\bcertain\s+to\b|\bno\s+doubt\b|\bimpossible\s+to\s+fail\b/i,severity:"high"},{type:"herd_mentality",pattern:/\beveryone\s+is\s+(buying|selling)\b|\bfollow\s+the\s+(market|crowd)\b|\bpopular\s+opinion\b/i,severity:"low"},{type:"sunk_cost_fallacy",pattern:/\balready\s+invested\b|\btoo\s+deep\b|\bcan't\s+sell\s+now\s+after\b/i,severity:"high"},{type:"gambler_fallacy",pattern:/\bdue\s+for\s+a\b|\bcan't\s+keep\s+(falling|rising)\s+forever\b|\bhas\s+to\s+reverse\b/i,severity:"medium"},{type:"availability_bias",pattern:/\bremember\s+when\b|\blast\s+time\s+this\s+happened\b|\bI've\s+seen\s+this\s+before\b/i,severity:"low"},{type:"framing_effect",pattern:/\bonly\s+\d+%\s+down\b|\bjust\s+a\s+small\s+loss\b|\btiny\s+allocation\b/i,severity:"low"}];function O6n(t){let e=[];for(let n of N6n){let r=t.match(n.pattern);r&&e.push({type:n.type,evidence:r[0],severity:n.severity})}return e}function P6n(t,e,n){let r=Nbt,o=vn(t);o>=b6n&&r++,o>=_6n&&r++;let s=[/price|valuation/i,/volume|liquidity/i,/trend|momentum/i,/fundamental|earnings/i,/risk|downside/i,/sector|macro/i,/catalyst|event/i,/portfolio|allocation/i].filter(c=>c.test(t)).length;return s>=S6n&&r++,s>=v6n&&r++,(n==="deductive"||e==="quantitative")&&(r=Math.min(JSe,r+1)),(t.match(/\d+\.?\d*%|\$\d+\.?\d*/g)??[]).length>=E6n&&(r=Math.min(JSe,r+1)),Math.min(JSe,Math.max(Nbt,r))}var D6n=[{pattern:/\bvaluation\b|\bP\/E\b|\bprice.to.earnings\b/i,theme:"valuation"},{pattern:/\bgrowth\b|\bexpansion\b|\bscaling\b/i,theme:"growth"},{pattern:/\bdividend\b|\byield\b|\bincome\b/i,theme:"income"},{pattern:/\bmomentum\b|\btrend\b|\btechnical\b/i,theme:"momentum"},{pattern:/\brisk\b|\bvolatility\b|\bdrawdown\b/i,theme:"risk"},{pattern:/\bportfolio\b|\ballocation\b|\bdiversif/i,theme:"portfolio"},{pattern:/\bmacro\b|\beconomy\b|\bfed\b|\binterest\s+rate\b/i,theme:"macro"},{pattern:/\bearnings\b|\brevenue\b|\bprofit\b/i,theme:"earnings"},{pattern:/\bnews\b|\bevent\b|\bcatalyst\b/i,theme:"catalyst"},{pattern:/\bsentiment\b|\bfear\b|\bgreed\b/i,theme:"sentiment"},{pattern:/\bsector\b|\bindustry\b|\bpeer\b/i,theme:"sector"},{pattern:/\bliquidity\b|\bvolume\b|\bmarket\s+depth\b/i,theme:"liquidity"}];function k6n(t){return D6n.filter(({pattern:e})=>e.test(t)).map(({theme:e})=>e)}function L6n(t,e,n,r,o,i){let s=t.slice(0,3).toUpperCase(),a=e.slice(0,3).toUpperCase(),c=n.slice(0,3).toUpperCase(),l=r.slice(0,3).toUpperCase(),u=o.slice(0,3).toUpperCase();return`${s}-${a}-${c}-${l}-${u}-L${i}`}function Obt(t,e){let n=w6n(t),r=T6n(t),o=I6n(t),i=R6n(t),s=C6n(t),a=O6n(t),c=P6n(t,r,o),l=k6n(t),u=L6n(n,r,o,i,s,c),d=[n!=="value_investing"?1:.5,r!=="mixed"?1:.5,o!=="mixed"?1:.5,i!=="mixed"?1:.5,s!=="mixed"?1:.5].reduce((f,h)=>f+h,0),p=Math.min(1,d/5+l.length*.05);return{strategy:n,analyticalMethod:r,reasoningStructure:o,evidenceType:i,decisionFramework:s,cognitivePatterns:a,sophisticationLevel:c,themes:l,fingerprint:u,classificationConfidence:re(p)}}var YSe=new Map,M6n=200;function Pbt(t,e){let n=YSe.get(t)??[];n.push(e),n.length>M6n&&n.shift(),YSe.set(t,n)}function QSe(t){let e=YSe.get(t);if(!e||e.length===0)return null;let n=new Map;for(let m of e)n.set(m.strategy,(n.get(m.strategy)??0)+1);let r={};for(let[m,g]of n)r[m]=Math.round(g/e.length*100)/100;let o=[...n.entries()].sort((m,g)=>g[1]-m[1])[0][0],i=new Map;for(let m of e)i.set(m.analyticalMethod,(i.get(m.analyticalMethod)??0)+1);let s=[...i.entries()].sort((m,g)=>g[1]-m[1])[0][0],a=e.reduce((m,g)=>m+g.sophisticationLevel,0)/e.length,c=new Map;for(let m of e)for(let g of m.cognitivePatterns)c.set(g.type,(c.get(g.type)??0)+1);let l=[...c.entries()].map(([m,g])=>({type:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,5),u=new Map;for(let m of e)for(let g of m.themes)u.set(g,(u.get(g)??0)+1);let d=[...u.entries()].map(([m,g])=>({theme:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,8),p=new Set(e.map(m=>m.fingerprint)).size,f=Math.round(p/e.length*100)/100,h=Math.round(e.reduce((m,g)=>m+g.classificationConfidence,0)/e.length*100)/100;return{agentId:t,tradeCount:e.length,dominantStrategy:o,strategyDistribution:r,dominantMethod:s,avgSophistication:Math.round(a*10)/10,frequentBiases:l,topThemes:d,fingerprintDiversity:f,avgClassificationConfidence:h}}mt();var B6n=.25,U6n=.2,$6n=.2,F6n=.15,H6n=.2,G6n=24,V6n=4,z6n=2,j6n=.4,q6n=.6,W6n=2.5,K6n=.1,Dbt=.7,J6n=.05,Y6n=.5,Q6n=.2,X6n=.05,Z6n=.1,e3n=.05,t3n=.2,n3n=.1,r3n=.7,o3n=.1,i3n=.85,s3n=.6,a3n=.35,c3n=.95,l3n=.9,u3n=.85,d3n=.8,p3n=.75,f3n=.7,m3n=.65,h3n=.6,g3n=.55,y3n=.5,b3n=.45,_3n=.4,Nj=new Map,S3n=300;function kbt(t){let e=Nj.get(t.agentId)??[];e.push(t),e.length>S3n&&e.shift(),Nj.set(t.agentId,e)}function XSe(t){let e=Nj.get(t)??[];if(e.length<3)return{agentId:t,roundsAnalyzed:e.length,overallScore:.5,grade:"N/A",dimensions:{stanceConsistency:.5,convictionStability:.5,narrativeCoherence:.5,strategyAlignment:.5,reasoningEvolution:.5},anomalies:[],stanceHistory:[],qualityTrend:"insufficient_data"};let n=[],r=v3n(e,n),o=E3n(e,n),i=A3n(e,n),s=x3n(e,n),a=w3n(e,n),c=Math.round((r.score*B6n+o.score*U6n+i.score*$6n+s.score*F6n+a.score*H6n)*100)/100,l=T3n(c);return{agentId:t,roundsAnalyzed:e.length,overallScore:c,grade:l,dimensions:{stanceConsistency:r.score,convictionStability:o.score,narrativeCoherence:i.score,strategyAlignment:s.score,reasoningEvolution:a.score},anomalies:n,stanceHistory:r.stanceHistory,qualityTrend:a.trend}}function v3n(t,e){let n=new Map;for(let c of t){let l=n.get(c.symbol)??[];l.push(c),n.set(c.symbol,l)}let r=[],o=0,i=0;for(let[c,l]of n){if(l.length<2){r.push({symbol:c,tradeCount:l.length,actionSequence:l.map(p=>p.action),consistent:!0,reversals:0});continue}let u=0,d=l.map(p=>p.action);for(let p=1;p<l.length;p++){let f=l[p-1],h=l[p];if(i++,f.action==="buy"&&h.action==="sell"||f.action==="sell"&&h.action==="buy"){let g=(new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime())/(1e3*60*60);u++,g<G6n&&e.push({type:"flip_flop",symbol:c,description:`Reversed stance on ${c}: ${f.action} \u2192 ${h.action} within ${g.toFixed(1)} hours`,severity:g<V6n?"high":"medium",roundId:h.roundId,timestamp:h.timestamp})}}o+=u,r.push({symbol:c,tradeCount:l.length,actionSequence:d,consistent:u===0,reversals:u})}let s=i>0?o/i:0,a=Lt(1-s*z6n,0,1);return{score:re(a),stanceHistory:r}}function E3n(t,e){if(t.length<3)return{score:.5};let n=t.map(a=>a.confidence),r=n.reduce((a,c)=>a+c,0)/n.length,o=n.reduce((a,c)=>a+(c-r)**2,0)/n.length,i=Math.sqrt(o);for(let a=1;a<t.length;a++){let c=Math.abs(t[a].confidence-t[a-1].confidence);c>j6n&&e.push({type:"confidence_spike",symbol:t[a].symbol,description:`Confidence jumped ${(c*100).toFixed(0)}%: ${(t[a-1].confidence*100).toFixed(0)}% \u2192 ${(t[a].confidence*100).toFixed(0)}%`,severity:c>q6n?"high":"medium",roundId:t[a].roundId,timestamp:t[a].timestamp})}let s=Lt(1-i*W6n,0,1);return{score:re(s)}}function A3n(t,e){if(t.length<3)return{score:.5};let n=new Map;for(let s of t){let a=n.get(s.symbol)??[];a.push(s),n.set(s.symbol,a)}let r=0,o=0;for(let[s,a]of n)if(!(a.length<2))for(let c=1;c<a.length;c++){o++;let l=a[c-1],u=a[c],d=new Set(l.reasoning.toLowerCase().split(/\s+/)),p=new Set(u.reasoning.toLowerCase().split(/\s+/)),f=[...d].filter(g=>p.has(g)&&g.length>4).length,h=new Set([...d,...p]).size,m=h>0?f/h:0;m>=K6n&&m<=Dbt?r++:m>Dbt?(e.push({type:"narrative_break",symbol:s,description:`Very high reasoning similarity (${(m*100).toFixed(0)}%) between consecutive ${s} trades \u2014 possible copypasta`,severity:"medium",roundId:u.roundId,timestamp:u.timestamp}),r+=Y6n):m<J6n&&e.push({type:"narrative_break",symbol:s,description:`No narrative continuity between consecutive ${s} trades \u2014 reasoning appears disconnected`,severity:"low",roundId:u.roundId,timestamp:u.timestamp})}let i=o>0?r/o:.5;return{score:Math.round(Math.min(1,i)*100)/100}}function x3n(t,e){if(t.length<5)return{score:.5};let n=new Map;for(let s of t)n.set(s.intent,(n.get(s.intent)??0)+1);let o=([...n.entries()].sort((s,a)=>a[1]-s[1])[0]?.[1]??0)/t.length;for(let s=1;s<t.length;s++)if(t[s].intent!==t[s-1].intent){let a=Math.max(0,s-2),c=Math.min(t.length,s+2),l=t.slice(a,c).map(d=>d.intent),u=new Set(l).size;u>=3&&e.push({type:"strategy_switch",symbol:t[s].symbol,description:`Strategy changed from ${t[s-1].intent} to ${t[s].intent} with ${u} different intents in 5-trade window`,severity:"low",roundId:t[s].roundId,timestamp:t[s].timestamp})}let i=Math.min(1,o+Q6n);return{score:re(i)}}function w3n(t,e){if(t.length<6)return{score:.5,trend:"insufficient_data"};let n=Math.floor(t.length/2),r=t.slice(0,n),o=t.slice(n),i=r.reduce((m,g)=>m+g.coherenceScore,0)/r.length,s=o.reduce((m,g)=>m+g.coherenceScore,0)/o.length,a=s-i,c=r.reduce((m,g)=>m+vn(g.reasoning),0)/r.length,l=o.reduce((m,g)=>m+vn(g.reasoning),0)/o.length,u=(l-c)/Math.max(1,c),d;a>X6n&&u>-Z6n?d="improving":a<-e3n||u<-t3n?(d="degrading",e.push({type:"quality_regression",symbol:"ALL",description:`Reasoning quality declining: coherence ${i.toFixed(2)} \u2192 ${s.toFixed(2)}, avg length ${c.toFixed(0)} \u2192 ${l.toFixed(0)} words`,severity:a<-n3n?"high":"medium",roundId:t[t.length-1].roundId,timestamp:t[t.length-1].timestamp})):d="stable";let p=s3n;d==="improving"?p=i3n:d==="degrading"&&(p=a3n);let f=t.map(m=>m.coherenceScore);return f.reduce((m,g)=>m+g,0)/f.length>r3n&&(p=Math.min(1,p+o3n)),{score:re(p),trend:d}}function T3n(t){return t>=c3n?"A+":t>=l3n?"A":t>=u3n?"A-":t>=d3n?"B+":t>=p3n?"B":t>=f3n?"B-":t>=m3n?"C+":t>=h3n?"C":t>=g3n?"C-":t>=y3n?"D+":t>=b3n?"D":t>=_3n?"D-":"F"}function ZSe(){return[...Nj.keys()]}mt();var Oj=new yr,Pj=new Map,GE=[],Lbt=200;function Mbt(t,e){Pj.set(t,{agentId:t,...e})}function eve(t,e,n){let r={type:t,data:e,agentId:n,timestamp:new Date().toISOString()};GE.unshift(r),GE.length>Lbt&&(GE.length=Lbt)}Oj.get("/data",t=>{let e=[...Pj.values()].sort((i,s)=>s.composite-i.composite),n=e.length>0?e.reduce((i,s)=>i+s.composite,0)/e.length:0,r=ZSe().map(i=>{let s=XSe(i);return{agentId:i,overallScore:s.overallScore,grade:s.grade,anomalyCount:s.anomalies.length,qualityTrend:s.qualityTrend}}),o=e.map(i=>{let s=QSe(i.agentId);return s?{agentId:i.agentId,dominantStrategy:s.dominantStrategy,avgSophistication:s.avgSophistication,fingerprintDiversity:s.fingerprintDiversity,frequentBiases:s.frequentBiases,topThemes:s.topThemes}:null}).filter(Boolean);return t.json({ok:!0,benchmark:"moltapp-v12",version:"12.0.0",agents:e,health:{avgComposite:ye(n),agentCount:e.length,totalTrades:e.reduce((i,s)=>i+s.tradeCount,0)},consistency:r,taxonomy:o,recentEvents:GE.slice(0,20),timestamp:new Date().toISOString()})});Oj.get("/stream",t=>{let e=new ReadableStream({start(n){let r=new TextEncoder,o=0,i=setInterval(()=>{let s=GE.filter((a,c)=>c<GE.length-o).slice(0,10);for(let a of s){let c=`data: ${JSON.stringify(a)}

`;n.enqueue(r.encode(c))}o=GE.length,n.enqueue(r.encode(`: heartbeat ${new Date().toISOString()}

`))},5e3);setTimeout(()=>{clearInterval(i);try{n.close()}catch{}},3e5)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});Oj.get("/export",t=>{let e=t.req.query("format")??"jsonl",n=[...Pj.values()];if(e==="csv"){let o="agent_id,composite,financial,reasoning,safety,calibration,patterns,adaptability,forensic_quality,validation_quality,grade,dominant_strategy,sophistication,bias_count,consistency,quality_trend,trade_count",i=n.map(s=>`${s.agentId},${s.composite},${s.financial},${s.reasoning},${s.safety},${s.calibration},${s.patterns},${s.adaptability},${s.forensicQuality},${s.validationQuality},${s.grade},${s.dominantStrategy},${s.sophistication},${s.biasCount},${s.consistencyScore},${s.qualityTrend},${s.tradeCount}`);return t.text([o,...i].join(`
`),200,{"Content-Type":"text/csv"})}let r=n.map(o=>JSON.stringify(o)).join(`
`);return t.text(r,200,{"Content-Type":"application/jsonl"})});Oj.get("/",t=>{let e=[...Pj.values()].sort((c,l)=>l.composite-c.composite),n=e.length>0?e.reduce((c,l)=>c+l.composite,0)/e.length:0,r=e.reduce((c,l)=>c+l.tradeCount,0);function o(c){return c.startsWith("A")?"#22c55e":c.startsWith("B")?"#3b82f6":c.startsWith("C")?"#eab308":c.startsWith("D")?"#f97316":"#ef4444"}function i(c){return c==="improving"?"&#x25B2;":c==="degrading"?"&#x25BC;":"&#x25CF;"}function s(c){return c==="improving"?"#22c55e":c==="degrading"?"#ef4444":"#94a3b8"}let a=or`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v12  AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'SF Mono', 'Fira Code', monospace; background: #0a0a0f; color: #e2e8f0; min-height: 100vh; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%); padding: 32px 24px; border-bottom: 2px solid #3b82f6; }
    .header h1 { font-size: 28px; font-weight: 800; color: #fff; letter-spacing: -0.5px; }
    .header .subtitle { color: #94a3b8; font-size: 14px; margin-top: 4px; }
    .badges { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
    .badge { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; }
    .badge-blue { background: #1e3a5f; color: #60a5fa; border: 1px solid #3b82f6; }
    .badge-green { background: #14532d; color: #4ade80; border: 1px solid #22c55e; }
    .badge-purple { background: #3b0764; color: #c084fc; border: 1px solid #9333ea; }
    .badge-orange { background: #431407; color: #fb923c; border: 1px solid #f97316; }
    .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
    .stat-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; }
    .stat-label { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; }
    .stat-value { font-size: 28px; font-weight: 700; color: #fff; margin-top: 4px; }
    .stat-detail { font-size: 12px; color: #9ca3af; margin-top: 2px; }
    .section-title { font-size: 18px; font-weight: 700; color: #fff; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px; }
    .leaderboard { width: 100%; border-collapse: collapse; background: #111827; border-radius: 8px; overflow: hidden; border: 1px solid #1f2937; }
    .leaderboard th { background: #1f2937; padding: 10px 12px; text-align: left; font-size: 11px; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
    .leaderboard td { padding: 10px 12px; border-top: 1px solid #1f2937; font-size: 13px; }
    .leaderboard tr:hover td { background: #1a2332; }
    .grade { display: inline-block; padding: 2px 8px; border-radius: 4px; font-weight: 700; font-size: 13px; }
    .pillar-bar { height: 6px; border-radius: 3px; background: #1f2937; overflow: hidden; width: 80px; display: inline-block; vertical-align: middle; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .taxonomy-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; margin-bottom: 12px; }
    .taxonomy-label { font-size: 11px; color: #6b7280; text-transform: uppercase; }
    .taxonomy-value { font-size: 14px; color: #e2e8f0; font-weight: 600; }
    .anomaly { background: #1c1917; border: 1px solid #78350f; border-radius: 6px; padding: 10px 14px; margin-bottom: 8px; font-size: 12px; }
    .anomaly-high { border-color: #ef4444; background: #1a0a0a; }
    .anomaly-medium { border-color: #f59e0b; background: #1c1917; }
    .footer { text-align: center; padding: 32px; color: #6b7280; font-size: 12px; border-top: 1px solid #1f2937; margin-top: 32px; }
    .footer a { color: #3b82f6; text-decoration: none; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .grid-2 { grid-template-columns: 1fr; } }
    .trend-indicator { font-size: 14px; font-weight: 700; }
    .scroll-x { overflow-x: auto; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v12</h1>
    <div class="subtitle">Industry-Standard AI Trading Intelligence Benchmark  8-Pillar Scoring + Taxonomy + Consistency</div>
    <div class="badges">
      <span class="badge badge-blue">v12.0.0</span>
      <span class="badge badge-green">8-Pillar Scoring</span>
      <span class="badge badge-purple">Reasoning Taxonomy</span>
      <span class="badge badge-orange">Cross-Round Consistency</span>
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-blue" style="text-decoration:none;">&#x1F917; HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Agents Competing</div>
        <div class="stat-value">${String(e.length)}</div>
        <div class="stat-detail">Claude vs GPT vs Grok</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Trades Analyzed</div>
        <div class="stat-value">${String(r)}</div>
        <div class="stat-detail">With full reasoning data</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Composite Score</div>
        <div class="stat-value">${(n*100).toFixed(1)}%</div>
        <div class="stat-detail">Across 8 benchmark pillars</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Benchmark Version</div>
        <div class="stat-value">v12</div>
        <div class="stat-detail">Validation + Taxonomy + Consistency</div>
      </div>
    </div>

    <div class="section-title">&#x1F3C6; 8-Pillar Leaderboard</div>
    <div class="scroll-x">
    <table class="leaderboard">
      <tr>
        <th>#</th>
        <th>Agent</th>
        <th>Composite</th>
        <th>Grade</th>
        <th>Financial</th>
        <th>Reasoning</th>
        <th>Safety</th>
        <th>Validation</th>
        <th>Forensic</th>
        <th>Consistency</th>
        <th>Trend</th>
        <th>Trades</th>
      </tr>
      ${e.length===0?or`<tr><td colspan="12" style="text-align:center;color:#6b7280;padding:24px;">No benchmark data yet. Run trading rounds to populate.</td></tr>`:e.map((c,l)=>{let u=o(c.grade),d=s(c.qualityTrend),p=i(c.qualityTrend);return or`<tr>
              <td style="color:#6b7280;">${String(l+1)}</td>
              <td style="font-weight:600;">${c.agentId}</td>
              <td style="font-weight:700;color:#fff;">${(c.composite*100).toFixed(1)}%</td>
              <td><span class="grade" style="background:${u}22;color:${u};border:1px solid ${u}44;">${c.grade}</span></td>
              <td>${YI(c.financial)}</td>
              <td>${YI(c.reasoning)}</td>
              <td>${YI(c.safety)}</td>
              <td>${YI(c.validationQuality)}</td>
              <td>${YI(c.forensicQuality)}</td>
              <td>${YI(c.consistencyScore)}</td>
              <td><span class="trend-indicator" style="color:${d};">${p}</span></td>
              <td style="color:#9ca3af;">${String(c.tradeCount)}</td>
            </tr>`})}
    </table>
    </div>

    <div class="section-title">&#x1F9EC; Reasoning Taxonomy Profiles</div>
    <div class="grid-2">
      ${e.map(c=>{let l=QSe(c.agentId);return or`<div class="taxonomy-card">
          <div style="font-weight:700;font-size:15px;margin-bottom:8px;">${c.agentId}</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
            <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${c.dominantStrategy.replace(/_/g," ")}</div></div>
            <div><div class="taxonomy-label">Sophistication</div><div class="taxonomy-value">${String(c.sophistication)}/5</div></div>
            <div><div class="taxonomy-label">Biases Detected</div><div class="taxonomy-value" style="color:${c.biasCount>2?"#f59e0b":"#4ade80"};">${String(c.biasCount)}</div></div>
            <div><div class="taxonomy-label">Fingerprint Diversity</div><div class="taxonomy-value">${l?(l.fingerprintDiversity*100).toFixed(0)+"%":"N/A"}</div></div>
          </div>
          ${l&&l.topThemes.length>0?or`
            <div style="margin-top:8px;">
              <div class="taxonomy-label">Top Themes</div>
              <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;">
                ${l.topThemes.slice(0,5).map(u=>or`<span class="badge badge-blue">${u.theme} (${(u.frequency*100).toFixed(0)}%)</span>`)}
              </div>
            </div>
          `:or``}
        </div>`})}
    </div>

    <div class="section-title">&#x1F50D; Cross-Round Consistency</div>
    ${ZSe().map(c=>{let l=XSe(c);return or`<div class="taxonomy-card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="font-weight:700;">${c}</div>
          <span class="grade" style="background:${o(l.grade)}22;color:${o(l.grade)};border:1px solid ${o(l.grade)}44;">${l.grade} (${(l.overallScore*100).toFixed(0)}%)</span>
        </div>
        <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:8px;">
          <div><div class="taxonomy-label">Stance</div><div class="taxonomy-value">${(l.dimensions.stanceConsistency*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Conviction</div><div class="taxonomy-value">${(l.dimensions.convictionStability*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Narrative</div><div class="taxonomy-value">${(l.dimensions.narrativeCoherence*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${(l.dimensions.strategyAlignment*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Evolution</div><div class="taxonomy-value">${(l.dimensions.reasoningEvolution*100).toFixed(0)}%</div></div>
        </div>
        ${l.anomalies.length>0?or`
          <div style="margin-top:8px;">
            <div class="taxonomy-label">Recent Anomalies (${String(l.anomalies.length)})</div>
            ${l.anomalies.slice(0,3).map(u=>or`<div class="anomaly anomaly-${u.severity}" style="margin-top:4px;">
                <strong>${u.type.replace(/_/g," ").toUpperCase()}</strong>: ${u.description}
              </div>`)}
          </div>
        `:or`<div style="margin-top:8px;color:#22c55e;font-size:12px;">No anomalies detected</div>`}
      </div>`})}

    <div class="section-title">&#x1F4CA; Scoring Methodology</div>
    <div class="taxonomy-card">
      <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));gap:12px;">
        ${fb("Financial","P&L, Sharpe, Win Rate, Drawdown","0.18")}
        ${fb("Reasoning","Coherence, Depth, Consistency","0.18")}
        ${fb("Safety","Hallucination-Free, Discipline","0.14")}
        ${fb("Calibration","ECE, Brier, Monotonic","0.10")}
        ${fb("Patterns","Fallacies, Vocab, Templates","0.08")}
        ${fb("Adaptability","Cross-Regime, Variance","0.08")}
        ${fb("Forensic","Structure, Originality, Clarity","0.12")}
        ${fb("Validation","Depth, Sources, Grounding, Risk","0.12")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp Benchmark v12  <a href="https://www.patgpt.us">www.patgpt.us</a>  <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:4px;">Colosseum Agent Hackathon 2026  AI agents trading REAL stocks on Solana</p>
    <p style="margin-top:8px;font-size:11px;">Data: /benchmark-v12/data | Stream: /benchmark-v12/stream | Export: /benchmark-v12/export</p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(a)});function YI(t){let e=Math.round(t*100),n=e>=80?"#22c55e":e>=60?"#3b82f6":e>=40?"#eab308":"#ef4444";return or`<span class="pillar-bar"><span class="pillar-fill" style="width:${String(e)}%;background:${n};"></span></span> <span style="font-size:11px;color:#9ca3af;">${String(e)}%</span>`}function fb(t,e,n){return or`<div style="background:#0f172a;border-radius:6px;padding:10px;">
    <div style="font-weight:700;font-size:13px;color:#fff;">${t}</div>
    <div style="font-size:11px;color:#6b7280;margin-top:2px;">${e}</div>
    <div style="font-size:11px;color:#3b82f6;margin-top:4px;">Weight: ${n}</div>
  </div>`}mt();var I3n=.2,R3n=.2,C3n=.15,N3n=.15,O3n=.1,P3n=.1,D3n=.1,Bbt=.25,k3n=.015,L3n=.05,M3n=.3,B3n=.02,U3n=.1,$3n=.25,F3n=.5,Ea=[],Ubt=1e3,kj=new Map,H3n=1500,$bt=32,Dj=new Map;function VE(t,e,n,r,o,i){let s=o?n:1-n,a=o?r:1-r,c=s-a,l=null;Math.abs(c)>B3n&&(l=c>0?"A":"B");let u=i.replace("{scoreA}",n.toFixed(3)).replace("{scoreB}",r.toFixed(3)).replace("{diff}",Math.abs(c).toFixed(3));return{name:t,weight:e,winnerAgentId:l,scoreA:n,scoreB:r,explanation:u}}function G3n(t,e,n,r,o){let i=r,s=i===t.agentId?t.agentId:e.agentId,a=i===t.agentId?e.agentId:t.agentId;if(!i)return`Dead heat! ${t.agentId} and ${e.agentId} matched each other across all dimensions. Both traded ${t.symbol}/${e.symbol} with nearly identical reasoning quality.`;let c=n.filter(d=>d.winnerAgentId===(i===t.agentId?"A":"B")).map(d=>d.name),l=o<U3n?"razor-thin":o<$3n?"modest":o<F3n?"convincing":"dominant",u=c.length>0?c.slice(0,3).join(", "):"overall composite";return`${s} defeats ${a} with a ${l} margin (${(o*100).toFixed(1)}%). Key advantages in ${u}. ${s} traded ${i===t.agentId?t.symbol:e.symbol} (${i===t.agentId?t.action:e.action}) vs ${i===t.agentId?e.symbol:t.symbol} (${i===t.agentId?e.action:t.action}).`}function V3n(t,e,n){let o=[VE("financial",I3n,Math.max(0,(e.pnlPercent+100)/200),Math.max(0,(n.pnlPercent+100)/200),!0,"Financial: A={scoreA} vs B={scoreB} (diff={diff})"),VE("reasoning_coherence",R3n,e.coherenceScore,n.coherenceScore,!0,"Coherence: A={scoreA} vs B={scoreB} (diff={diff})"),VE("reasoning_depth",C3n,e.depthScore,n.depthScore,!0,"Depth: A={scoreA} vs B={scoreB} (diff={diff})"),VE("conviction_calibration",N3n,e.confidence,n.confidence,!0,"Conviction: A={scoreA} vs B={scoreB} (diff={diff})"),VE("originality",O3n,e.originalityScore,n.originalityScore,!0,"Originality: A={scoreA} vs B={scoreB} (diff={diff})"),VE("safety",P3n,e.hallucinationCount===0?1:Math.max(0,1-e.hallucinationCount*Bbt),n.hallucinationCount===0?1:Math.max(0,1-n.hallucinationCount*Bbt),!0,"Safety: A={scoreA} vs B={scoreB} (diff={diff})"),VE("discipline",D3n,e.disciplinePass?1:0,n.disciplinePass?1:0,!0,"Discipline: A={scoreA} vs B={scoreB} (diff={diff})")].map(f=>({...f,winnerAgentId:f.winnerAgentId==="A"?e.agentId:f.winnerAgentId==="B"?n.agentId:null})),i=ka(o,"scoreA","weight"),s=ka(o,"scoreB","weight"),a=Math.abs(i-s),c=a<k3n?null:i>s?e.agentId:n.agentId,l=a<L3n||a>M3n,u=G3n(e,n,o,c,a),p={battleId:`battle_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,roundId:t,timestamp:new Date().toISOString(),agentA:e,agentB:n,dimensions:o,overallWinner:c,marginOfVictory:ye(a),compositeScoreA:ye(i),compositeScoreB:ye(s),narrative:u,highlight:l};Ea.unshift(p),Ea.length>Ubt&&(Ea.length=Ubt),z3n(e.agentId,n.agentId,c);for(let f of o)if(f.winnerAgentId){let h=f.winnerAgentId===e.agentId?n.agentId:e.agentId;Fbt(f.winnerAgentId,f.name,!0),Fbt(h,f.name,!1)}return p}function Hbt(t,e){let n=[];for(let r=0;r<e.length;r++)for(let o=r+1;o<e.length;o++){let i=V3n(t,e[r],e[o]);n.push(i)}return n}function tve(t){return kj.get(t)??H3n}function z3n(t,e,n){let r=tve(t),o=tve(e),i=1/(1+Math.pow(10,(o-r)/400)),s=1-i,a,c;n===null?(a=.5,c=.5):n===t?(a=1,c=0):(a=0,c=1),kj.set(t,Math.round(r+$bt*(a-i))),kj.set(e,Math.round(o+$bt*(c-s)))}function Fbt(t,e,n){Dj.has(t)||Dj.set(t,new Map);let r=Dj.get(t);r.has(e)||r.set(e,{wins:0,losses:0});let o=r.get(e);n?o.wins++:o.losses++}function nve(t){let e=Ea.filter(h=>h.agentA.agentId===t||h.agentB.agentId===t),n=0,r=0,o=0,i=0;for(let h of e)h.overallWinner===t?(n++,i+=h.marginOfVictory):h.overallWinner===null?o++:(r++,i-=h.marginOfVictory);let s=n+r+o,a=Dj.get(t),c="none",l="none",u=-1,d=2;if(a)for(let[h,m]of a){let g=m.wins+m.losses;if(g>0){let y=m.wins/g;y>u&&(u=y,c=h),y<d&&(d=y,l=h)}}let p="none",f=0;for(let h of e){let m=h.overallWinner===t?"win":h.overallWinner===null?"tie":"loss";if(f===0)p=m,f=1;else if(m===p)f++;else break}return{agentId:t,wins:n,losses:r,ties:o,eloRating:tve(t),winRate:s>0?ye(n/s):0,avgMargin:s>0?ye(i/s):0,strongestDimension:c,weakestDimension:l,streakType:p,streakLength:f,recentBattles:e.slice(0,10)}}function o9(){let t=[...new Set(Ea.flatMap(s=>[s.agentA.agentId,s.agentB.agentId]))];t.sort();let e=t.length,n=Array.from({length:e},()=>new Array(e).fill(0)),r=Array.from({length:e},()=>new Array(e).fill(0)),o=Array.from({length:e},()=>new Array(e).fill(0)),i=Array.from({length:e},()=>new Array(e).fill(0));for(let s of Ea){let a=t.indexOf(s.agentA.agentId),c=t.indexOf(s.agentB.agentId);a===-1||c===-1||(o[a][c]++,o[c][a]++,s.overallWinner===s.agentA.agentId?(n[a][c]++,i[a][c]+=s.marginOfVictory):s.overallWinner===s.agentB.agentId&&(n[c][a]++,i[c][a]+=s.marginOfVictory))}for(let s=0;s<e;s++)for(let a=0;a<e;a++)o[s][a]>0&&(r[s][a]=ye(i[s][a]/o[s][a]));return{agents:t,wins:n,avgMargins:r,matchups:o}}function rve(t=10){let e=[],n=[...Ea].filter(s=>s.overallWinner!==null).sort((s,a)=>s.marginOfVictory-a.marginOfVictory).slice(0,3);for(let s of n)e.push({battleId:s.battleId,reason:`Closest battle: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});let r=[...Ea].filter(s=>s.overallWinner!==null).sort((s,a)=>a.marginOfVictory-s.marginOfVictory).slice(0,3);for(let s of r)e.push({battleId:s.battleId,reason:`Dominant performance: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});for(let s of Ea.slice(0,50)){if(!s.overallWinner)continue;let a=s.dimensions.find(c=>c.name==="reasoning_coherence");if(a&&a.winnerAgentId&&a.winnerAgentId!==s.overallWinner){e.push({battleId:s.battleId,reason:"Better reasoner lost! Financial performance overcame reasoning quality.",battle:s});break}}let o=Ea.filter(s=>s.overallWinner===null).slice(0,2);for(let s of o)e.push({battleId:s.battleId,reason:"Dead heat \u2014 agents perfectly matched",battle:s});let i=new Set;return e.filter(s=>i.has(s.battleId)?!1:(i.add(s.battleId),!0)).slice(0,t)}function Lj(){return[...kj.entries()].sort((e,n)=>n[1]-e[1]).map(([e,n],r)=>({agentId:e,eloRating:n,rank:r+1}))}function Mj(t){let e=Ea;t?.agentId&&(e=e.filter(i=>i.agentA.agentId===t.agentId||i.agentB.agentId===t.agentId)),t?.highlightsOnly&&(e=e.filter(i=>i.highlight));let n=e.length,r=t?.offset??0,o=t?.limit??20;return{battles:e.slice(r,r+o),total:n}}function Bj(){let t=Ea.length;if(t===0)return{totalBattles:0,totalRounds:0,avgMarginOfVictory:0,tieRate:0,mostDominantAgent:null,closestRivalry:null};let e=new Set(Ea.map(u=>u.roundId)),n=Ea.filter(u=>u.overallWinner===null).length,r=Ea.reduce((u,d)=>u+d.marginOfVictory,0)/t,o=new Map;for(let u of Ea)u.overallWinner&&o.set(u.overallWinner,(o.get(u.overallWinner)??0)+1);let i=null,s=0;for(let[u,d]of o)d>s&&(s=d,i=u);let a=o9(),c=null,l=1/0;for(let u=0;u<a.agents.length;u++)for(let d=u+1;d<a.agents.length;d++)if(a.matchups[u][d]>=3){let p=(a.avgMargins[u][d]*a.wins[u][d]+a.avgMargins[d][u]*a.wins[d][u])/a.matchups[u][d];p<l&&(l=p,c={agents:[a.agents[u],a.agents[d]],avgMargin:ye(p)})}return{totalBattles:t,totalRounds:e.size,avgMarginOfVictory:ye(r),tieRate:ye(n/t),mostDominantAgent:i,closestRivalry:c}}mt();var j3n=20,q3n=14,W3n=8,K3n=4,J3n=.2,Y3n=.2,Q3n=.15,X3n=.15,Z3n=.1,eNn=.1,tNn=.1,Gbt=6,Vbt=.2,zbt=.1,jbt=5,qbt=3,Wbt=3,Kbt=3,nNn=.03,rNn=.02,oNn=[["valuation",/\b(P\/E|valuation|undervalued|overvalued|fair\s+value|intrinsic|multiple|earnings\s+yield)\b/i],["technical",/\b(RSI|MACD|moving\s+average|support|resistance|breakout|trend|momentum|chart)\b/i],["fundamental",/\b(revenue|earnings|growth|margin|cash\s+flow|balance\s+sheet|dividend|profit|EPS)\b/i],["macro",/\b(interest\s+rate|inflation|GDP|Fed|monetary\s+policy|recession|employment|economic)\b/i],["sentiment",/\b(sentiment|fear|greed|bullish|bearish|mood|psychology|panic|euphoria)\b/i],["sector",/\b(sector|industry|peer|competitor|relative|compared\s+to|sector\s+rotation)\b/i],["risk",/\b(risk|downside|stop.?loss|drawdown|volatility|exposure|hedge|protect)\b/i],["catalyst",/\b(catalyst|event|earnings\s+report|FDA|launch|acquisition|announcement|conference)\b/i],["portfolio",/\b(portfolio|allocation|position\s+size|diversif|concentration|rebalance|weight)\b/i],["market_structure",/\b(volume|liquidity|spread|order\s+flow|market\s+maker|depth|bid.?ask)\b/i]],iNn=[["price_citation",/\$\d+\.?\d*/],["percentage_citation",/[+-]?\d+\.?\d*%/],["time_reference",/\b(today|yesterday|this\s+week|24h|past\s+month|recent|currently)\b/i],["data_source",/\b(Jupiter|market\s+data|price\s+feed|chart|volume\s+data|news)\b/i],["comparison",/\b(compared\s+to|relative\s+to|versus|vs\.|higher\s+than|lower\s+than)\b/i],["specific_value",/\b\d+\.\d{2,}\b/]],sNn=[/\b(because|since|due\s+to|therefore|consequently|thus|as\s+a\s+result|this\s+means|implies|suggests|indicates)\b/i,/\b(if\s+.+\s+then|given\s+that|considering\s+that|in\s+light\s+of)\b/i,/\b(leads\s+to|drives|causes|creates|results\s+in|contributes\s+to)\b/i],aNn=[/\b(risk|downside|danger|concern|worry|threat|warning|caution|careful|caveat)\b/i,/\b(could\s+fall|might\s+decline|potential\s+loss|worst\s+case|stop.?loss)\b/i,/\b(volatility|uncertainty|unpredictable|risky|vulnerable|exposed)\b/i],cNn=[/\b(uncertain|unclear|unknown|debatable|questionable)\b/i,/\b(might|may|could|possibly|perhaps|potentially)\b/i,/\b(limited\s+data|insufficient\s+information|hard\s+to\s+predict)\b/i],lNn=[/\b(maybe|perhaps|possibly|somewhat|slightly|arguably|relatively)\b/i,/\b(tend\s+to|seem\s+to|appear\s+to|likely|unlikely|probably)\b/i],uNn=[/\b(buy\s+at|sell\s+at|target\s+price|entry\s+point|exit\s+at)\b/i,/\b(position\s+size|allocat|invest\s+\$|spend\s+\$|limit\s+order)\b/i,/\b(I\s+recommend|I\s+suggest|my\s+target|I\s+expect|I\s+predict)\b/i],dNn=[/\$[\d,.]+/,/\d+\.?\d*%/,/\d+\s+(shares?|units?|tokens?)/i,/\b\d{2,}x?\b/];function Jbt(t,e){let n=e.split(/\s+/),r=uo(e),o=[];for(let[g,y]of oNn)y.test(e)&&o.push(g);let i=[];for(let[g,y]of iNn)y.test(e)&&i.push(g);let s=0;for(let g of sNn){let y=e.match(new RegExp(g.source,"gi"));s+=y?.length??0}let a=0;for(let g of aNn){let y=e.match(new RegExp(g.source,"gi"));a+=y?.length??0}let c=0;for(let g of cNn){let y=e.match(new RegExp(g.source,"gi"));c+=y?.length??0}let l=0;for(let g of lNn){let y=e.match(new RegExp(g.source,"gi"));l+=y?.length??0}let u=0;for(let g of uNn){let y=e.match(new RegExp(g.source,"gi"));u+=y?.length??0}let d=0;for(let g of dNn){let y=e.match(new RegExp(g.source,"g"));d+=y?.length??0}let p=new Set;for(let g=0;g<n.length-1;g++){let y=`${n[g].toLowerCase()} ${n[g+1].toLowerCase()}`;p.add(y)}let f=p.size,h=1,m=o.length*1.5+s*1+d*.5+a*.5+u*1;return m>=j3n?h=5:m>=q3n?h=4:m>=W3n?h=3:m>=K3n&&(h=2),{agentId:t,wordCount:n.length,sentenceCount:r.length,analyticalAngles:o,evidenceCitations:i,causalClaims:s,riskMentions:a,uncertaintyAcknowledgements:c,quantitativeClaims:d,hedgeWords:l,actionableStatements:u,uniquePhrases:f,sophisticationLevel:h}}function zE(t,e,n,r,o){let i=Math.min(1,Math.max(0,n)),s=Math.min(1,Math.max(0,r)),a=i-s,c=nNn;return{name:t,weight:e,agentAScore:ye(i),agentBScore:ye(s),winner:Math.abs(a)<=c?null:a>0?"A":"B",explanation:o(i,s)}}function pNn(t,e,n,r){let o=Jbt(t,e),i=Jbt(n,r),s=Math.min(1,o.analyticalAngles.length/Gbt),a=Math.min(1,i.analyticalAngles.length/Gbt),c=Math.min(1,o.evidenceCitations.length*Vbt+o.quantitativeClaims*zbt),l=Math.min(1,i.evidenceCitations.length*Vbt+i.quantitativeClaims*zbt),u=Math.min(1,o.causalClaims/jbt),d=Math.min(1,i.causalClaims/jbt),p=Math.min(1,o.riskMentions/qbt),f=Math.min(1,i.riskMentions/qbt),h=Math.min(1,o.uncertaintyAcknowledgements/Wbt),m=Math.min(1,i.uncertaintyAcknowledgements/Wbt),g=Math.min(1,o.actionableStatements/Kbt),y=Math.min(1,i.actionableStatements/Kbt),S=new Set(e.toLowerCase().split(/\s+/).map((j,Y,z)=>Y<z.length-1?`${j} ${z[Y+1]}`:"").filter(Boolean)),v=new Set(r.toLowerCase().split(/\s+/).map((j,Y,z)=>Y<z.length-1?`${j} ${z[Y+1]}`:"").filter(Boolean)),A=new Set([...S].filter(j=>v.has(j))),w=new Set([...S,...v]),I=w.size>0?A.size/w.size:0,D=1-I,k=1-I,U=[zE("analytical_breadth",J3n,s,a,(j,Y)=>`A covers ${o.analyticalAngles.length} angles vs B's ${i.analyticalAngles.length}`),zE("evidence_quality",Y3n,c,l,(j,Y)=>`A cites ${o.evidenceCitations.length} evidence types, B cites ${i.evidenceCitations.length}`),zE("causal_reasoning",Q3n,u,d,(j,Y)=>`A has ${o.causalClaims} causal claims vs B's ${i.causalClaims}`),zE("risk_awareness",X3n,p,f,(j,Y)=>`A mentions risk ${o.riskMentions} times vs B's ${i.riskMentions}`),zE("intellectual_honesty",Z3n,h,m,(j,Y)=>`A acknowledges uncertainty ${o.uncertaintyAcknowledgements} times vs B's ${i.uncertaintyAcknowledgements}`),zE("actionability",eNn,g,y,(j,Y)=>`A has ${o.actionableStatements} actionable statements vs B's ${i.actionableStatements}`),zE("uniqueness",tNn,D,k,()=>`Reasoning overlap: ${(I*100).toFixed(1)}% Jaccard similarity`)].map(j=>({...j,winner:j.winner==="A"?t:j.winner==="B"?n:null})),G=ka(U,"agentAScore","weight"),J=ka(U,"agentBScore","weight"),C=G-J,_=Math.abs(C)<rNn?null:C>0?t:n,E=_??"Neither agent",R=ue(U,j=>j.winner===t),M=ue(U,j=>j.winner===n),$=_?`${E} wins the reasoning comparison (${Math.round(Math.max(G,J)*100)}% vs ${Math.round(Math.min(G,J)*100)}%). Won ${_===t?R:M} of 7 dimensions. Sophistication: ${o.agentId}=${o.sophisticationLevel}/5, ${i.agentId}=${i.sophisticationLevel}/5.`:`Dead heat in reasoning quality (${Math.round(G*100)}% vs ${Math.round(J*100)}%). Both agents at similar analytical depth.`;return{agentAId:t,agentBId:n,agentAScore:ye(G),agentBScore:ye(J),winner:_,dimensions:U,detailedAnalysis:{agentA:o,agentB:i},summary:$}}function Ybt(t){let e=[];for(let n=0;n<t.length;n++)for(let r=n+1;r<t.length;r++)e.push(pNn(t[n].agentId,t[n].reasoning,t[r].agentId,t[r].reasoning));return e}var Uj=new yr,r0=[],Qbt=200;function ove(t,e,n){r0.unshift({type:t,data:e,agentId:n,timestamp:new Date().toISOString()}),r0.length>Qbt&&(r0.length=Qbt)}Uj.get("/data",t=>{let e=Lj(),n=o9(),r=rve(5),o=Bj(),{battles:i}=Mj({limit:10}),s=e.map(a=>{let c=nve(a.agentId);return{agentId:a.agentId,eloRating:a.eloRating,rank:a.rank,wins:c.wins,losses:c.losses,ties:c.ties,winRate:c.winRate,avgMargin:c.avgMargin,strongestDimension:c.strongestDimension,weakestDimension:c.weakestDimension,streak:`${c.streakType} ${c.streakLength}`}});return t.json({ok:!0,benchmarkVersion:"v13",timestamp:new Date().toISOString(),stats:o,leaderboard:s,matrix:n,highlights:r.map(a=>({battleId:a.battleId,reason:a.reason,winner:a.battle.overallWinner,margin:a.battle.marginOfVictory,narrative:a.battle.narrative,agents:[a.battle.agentA.agentId,a.battle.agentB.agentId]})),recentBattles:i.map(a=>({battleId:a.battleId,roundId:a.roundId,timestamp:a.timestamp,agentA:a.agentA.agentId,agentB:a.agentB.agentId,winner:a.overallWinner,margin:a.marginOfVictory,narrative:a.narrative,highlight:a.highlight})),recentEvents:r0.slice(0,20)})});Uj.get("/stream",t=>{let e=0,n=new ReadableStream({start(r){let o=new TextEncoder;for(let a of r0.slice(0,10).reverse()){let c=JSON.stringify(a);r.enqueue(o.encode(`data: ${c}

`))}e=r0.length;let i=setInterval(()=>{let a=r0.slice(0,Math.max(0,r0.length-e));for(let c of a.reverse()){let l=JSON.stringify(c);r.enqueue(o.encode(`data: ${l}

`))}e=r0.length,r.enqueue(o.encode(`: heartbeat ${new Date().toISOString()}

`))},3e3);setTimeout(()=>{clearInterval(i);try{r.close()}catch{}},300*1e3)}});return new Response(n,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});Uj.get("/export",t=>{let e=Bj(),n=Lj(),r=o9(),{battles:o}=Mj({limit:500});return t.json({ok:!0,benchmarkVersion:"v13",exportedAt:new Date().toISOString(),stats:e,leaderboard:n,matrix:r,battleCount:o.length,battles:o.map(i=>({battleId:i.battleId,roundId:i.roundId,timestamp:i.timestamp,agentA:i.agentA.agentId,agentB:i.agentB.agentId,winner:i.overallWinner,margin:i.marginOfVictory,compositeA:i.compositeScoreA,compositeB:i.compositeScoreB,dimensions:i.dimensions.map(s=>({name:s.name,winner:s.winnerAgentId,scoreA:s.scoreA,scoreB:s.scoreB}))}))})});Uj.get("/",t=>{let e=Lj(),n=o9(),r=rve(5),o=Bj(),{battles:i}=Mj({limit:8}),s=e.map(u=>{let d=nve(u.agentId);return{...u,...d}}),a={"claude-value-investor":"Claude ValueBot","gpt-momentum-trader":"GPT MomentumBot","grok-contrarian":"Grok ContrarianBot"},c={"claude-value-investor":"#d97706","gpt-momentum-trader":"#16a34a","grok-contrarian":"#dc2626"},l=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v13 \u2014 Agent Battle Arena</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; background: #0a0a0a; color: #e5e5e5; min-height: 100vh; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; padding: 30px 0 20px; border-bottom: 2px solid #dc2626; margin-bottom: 30px; }
    .header h1 { font-size: 2.2em; font-weight: 800; background: linear-gradient(90deg, #dc2626, #f59e0b, #16a34a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .header .subtitle { color: #999; margin-top: 8px; font-size: 1.1em; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: 600; }
    .badge-red { background: rgba(220,38,38,0.2); border: 1px solid #dc2626; color: #f87171; }
    .badge-green { background: rgba(22,163,74,0.2); border: 1px solid #16a34a; color: #4ade80; }
    .badge-blue { background: rgba(59,130,246,0.2); border: 1px solid #3b82f6; color: #93c5fd; }
    .badge-yellow { background: rgba(245,158,11,0.2); border: 1px solid #f59e0b; color: #fbbf24; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
    .grid-full { grid-column: 1 / -1; }
    .card { background: #141414; border: 1px solid #262626; border-radius: 12px; padding: 24px; }
    .card h2 { font-size: 1.2em; color: #f59e0b; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
    .card h2 .icon { font-size: 1.3em; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 30px; }
    .stat-card { background: #141414; border: 1px solid #262626; border-radius: 10px; padding: 18px; text-align: center; }
    .stat-value { font-size: 1.8em; font-weight: 800; color: #f59e0b; }
    .stat-label { font-size: 0.85em; color: #999; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 10px 12px; color: #999; font-size: 0.85em; font-weight: 600; text-transform: uppercase; border-bottom: 1px solid #262626; }
    td { padding: 12px; border-bottom: 1px solid #1a1a1a; }
    .rank { font-size: 1.4em; font-weight: 800; width: 40px; }
    .rank-1 { color: #f59e0b; }
    .rank-2 { color: #94a3b8; }
    .rank-3 { color: #b45309; }
    .elo { font-size: 1.3em; font-weight: 700; color: #e5e5e5; }
    .win-loss { font-size: 0.9em; }
    .win { color: #4ade80; }
    .loss { color: #f87171; }
    .tie { color: #94a3b8; }
    .agent-name { font-weight: 600; font-size: 1.05em; }
    .dimension-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; font-weight: 600; background: rgba(59,130,246,0.15); color: #93c5fd; margin: 2px; }
    .battle-card { background: #1a1a1a; border-radius: 8px; padding: 16px; margin-bottom: 12px; border-left: 3px solid #f59e0b; }
    .battle-card .narrative { color: #ccc; font-style: italic; margin-top: 8px; line-height: 1.4; }
    .battle-card .meta { display: flex; gap: 16px; color: #999; font-size: 0.85em; margin-top: 6px; }
    .highlight-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; background: rgba(220,38,38,0.2); color: #f87171; font-weight: 600; }
    .matrix-table th, .matrix-table td { text-align: center; padding: 8px 12px; font-size: 0.9em; }
    .matrix-cell { font-weight: 700; }
    .matrix-win { color: #4ade80; }
    .matrix-loss { color: #f87171; }
    .matrix-self { color: #444; }
    .footer { text-align: center; padding: 30px 0; border-top: 1px solid #262626; margin-top: 30px; color: #666; }
    .footer a { color: #f59e0b; text-decoration: none; }
    @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v13 \u2014 Battle Arena</h1>
      <div class="subtitle">Head-to-Head Agent Reasoning Battles | Real Stocks on Solana</div>
      <div class="badges">
        <span class="badge badge-red">LIVE BATTLES</span>
        <span class="badge badge-green">Elo Rankings</span>
        <span class="badge badge-blue">7-Dimension Scoring</span>
        <span class="badge badge-yellow">Reasoning Quality</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-yellow" style="text-decoration:none">HuggingFace Dataset</a>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">${o.totalBattles}</div>
        <div class="stat-label">Total Battles</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${o.totalRounds}</div>
        <div class="stat-label">Trading Rounds</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(o.avgMarginOfVictory*100).toFixed(1)}%</div>
        <div class="stat-label">Avg Margin</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(o.tieRate*100).toFixed(0)}%</div>
        <div class="stat-label">Tie Rate</div>
      </div>
    </div>

    <div class="grid">
      <!-- Elo Leaderboard -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F3C6}</span> Elo Battle Rankings</h2>
        <table>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Elo Rating</th>
            <th>Record (W-L-T)</th>
            <th>Win Rate</th>
            <th>Avg Margin</th>
            <th>Strongest</th>
            <th>Weakest</th>
            <th>Streak</th>
          </tr>
          ${s.map((u,d)=>`
          <tr>
            <td class="rank rank-${d+1}">#${u.rank}</td>
            <td class="agent-name" style="color: ${c[u.agentId]??"#e5e5e5"}">${a[u.agentId]??u.agentId}</td>
            <td class="elo">${u.eloRating}</td>
            <td class="win-loss">
              <span class="win">${u.wins}W</span> -
              <span class="loss">${u.losses}L</span> -
              <span class="tie">${u.ties}T</span>
            </td>
            <td>${(u.winRate*100).toFixed(0)}%</td>
            <td>${u.avgMargin>0?"+":""}${(u.avgMargin*100).toFixed(1)}%</td>
            <td><span class="dimension-tag">${u.strongestDimension}</span></td>
            <td><span class="dimension-tag">${u.weakestDimension}</span></td>
            <td>${u.streakType==="win"?"\u{1F525}":u.streakType==="loss"?"\u2744\uFE0F":"\u2796"} ${u.streakLength}</td>
          </tr>`).join("")}
        </table>
        ${s.length===0?"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Trigger a trading round to start the competition.</p>":""}
      </div>

      <!-- Head-to-Head Matrix -->
      <div class="card">
        <h2><span class="icon">\u2694\uFE0F</span> Head-to-Head Matrix</h2>
        ${n.agents.length>0?`
        <table class="matrix-table">
          <tr>
            <th></th>
            ${n.agents.map(u=>`<th style="color:${c[u]??"#ccc"}">${(a[u]??u).split(" ")[0]}</th>`).join("")}
          </tr>
          ${n.agents.map((u,d)=>`
          <tr>
            <td style="color:${c[u]??"#ccc"};font-weight:600">${(a[u]??u).split(" ")[0]}</td>
            ${n.agents.map((p,f)=>{if(d===f)return'<td class="matrix-cell matrix-self">\u2014</td>';let h=n.wins[d][f],m=n.wins[f][d];return`<td class="matrix-cell ${h>m?"matrix-win":h<m?"matrix-loss":""}">${h}-${m}</td>`}).join("")}
          </tr>`).join("")}
        </table>`:"<p style='color:#666;text-align:center;padding:20px'>Awaiting battles...</p>"}
      </div>

      <!-- Battle Highlights -->
      <div class="card">
        <h2><span class="icon">\u{1F31F}</span> Battle Highlights</h2>
        ${r.length>0?r.map(u=>`
        <div class="battle-card">
          <div>
            <span class="highlight-badge">${u.reason}</span>
          </div>
          <div class="narrative">${u.battle.narrative}</div>
          <div class="meta">
            <span>Margin: ${(u.battle.marginOfVictory*100).toFixed(1)}%</span>
            <span>${new Date(u.battle.timestamp).toLocaleString()}</span>
          </div>
        </div>`).join(""):"<p style='color:#666;text-align:center;padding:20px'>No highlights yet.</p>"}
      </div>

      <!-- Recent Battles -->
      <div class="card grid-full">
        <h2><span class="icon">\u26A1</span> Recent Battles</h2>
        ${i.length>0?i.map(u=>{let d=u.overallWinner?c[u.overallWinner]??"#f59e0b":"#94a3b8";return`
          <div class="battle-card" style="border-left-color: ${d}">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <span style="color:${c[u.agentA.agentId]??"#ccc"};font-weight:600">${a[u.agentA.agentId]??u.agentA.agentId}</span>
                <span style="color:#666"> vs </span>
                <span style="color:${c[u.agentB.agentId]??"#ccc"};font-weight:600">${a[u.agentB.agentId]??u.agentB.agentId}</span>
              </div>
              <div>
                ${u.overallWinner?`<span style="color:${d};font-weight:700">${(a[u.overallWinner]??u.overallWinner).split(" ")[0]} wins</span> <span style="color:#666">(${(u.marginOfVictory*100).toFixed(1)}%)</span>`:'<span class="tie">TIE</span>'}
                ${u.highlight?' <span class="highlight-badge">HIGHLIGHT</span>':""}
              </div>
            </div>
            <div class="narrative">${u.narrative}</div>
            <div class="meta">
              ${u.dimensions.map(p=>`<span>${p.name}: ${p.winnerAgentId?(a[p.winnerAgentId]??p.winnerAgentId).split(" ")[0]:"tie"}</span>`).join(" | ")}
            </div>
          </div>`}).join(""):"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Start a trading round to see agent-vs-agent results.</p>"}
      </div>

      <!-- Scoring Methodology -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F4CA}</span> Battle Scoring Methodology</h2>
        <table>
          <tr><th>Dimension</th><th>Weight</th><th>Description</th></tr>
          <tr><td>Financial</td><td>20%</td><td>P&L comparison \u2014 who made more money?</td></tr>
          <tr><td>Reasoning Coherence</td><td>20%</td><td>Does the reasoning logically support the action taken?</td></tr>
          <tr><td>Reasoning Depth</td><td>15%</td><td>How many analytical factors were considered?</td></tr>
          <tr><td>Conviction Calibration</td><td>15%</td><td>Is confidence appropriate for the evidence presented?</td></tr>
          <tr><td>Originality</td><td>10%</td><td>Is reasoning novel or templated?</td></tr>
          <tr><td>Safety</td><td>10%</td><td>Hallucination-free rate: factual accuracy of claims</td></tr>
          <tr><td>Discipline</td><td>10%</td><td>Compliance with position limits and trading rules</td></tr>
        </table>
      </div>
    </div>

    <div class="footer">
      <a href="https://www.patgpt.us">www.patgpt.us</a> |
      <a href="/benchmark-v12">v12 Dashboard</a> |
      <a href="/api/v1/benchmark-v13/schema">API Schema</a> |
      <a href="/api/v1/benchmark-v13/export/jsonl">Export JSONL</a> |
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a>
      <br><br>
      <span style="color:#444">MoltApp Benchmark v13 \u2014 Battle Arena | Colosseum Agent Hackathon</span>
    </div>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(l)});var fNn=ct.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage","breakout","income"]),HLo=ct.enum(["market_price_feed","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","jupiter_price_api","on_chain_data","agent_consensus","market_data"]),Xbt=ct.object({symbol:ct.string().min(1,"Symbol is required").regex(/^[A-Z]{1,5}x?$/i,"Symbol must be a valid stock ticker (e.g. AAPLx)"),side:ct.enum(["buy","sell"]),quantity:ct.number().positive("Quantity must be positive").max(1e5,"Quantity exceeds maximum allowed"),reasoning:ct.string().min(20,"Reasoning must explain your logic (min 20 chars)").refine(t=>t.split(/\s+/).filter(Boolean).length>=5,"Reasoning must contain at least 5 words for benchmark quality"),confidence:ct.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:ct.array(ct.string()).min(1,"Must cite at least one data source"),intent:fNn,predictedOutcome:ct.string().optional(),predictionHorizon:ct.enum(["1h","4h","24h","7d","30d"]).optional()}),mNn=ct.object({symbol:ct.string().min(1),reasoning:ct.string().min(10,"Hold decisions must be explained"),confidence:ct.number().min(0).max(1),sources:ct.array(ct.string()).optional(),predictedOutcome:ct.string().optional()}),GLo=ct.discriminatedUnion("action",[ct.object({action:ct.literal("buy"),...Xbt.shape}),ct.object({action:ct.literal("sell"),...Xbt.shape}),ct.object({action:ct.literal("hold"),...mNn.shape})]);mt();mt();_o();var hNn=[{label:"1h",hours:1},{label:"4h",hours:4},{label:"24h",hours:24},{label:"7d",hours:168},{label:"30d",hours:720}],n7o=hNn.map(t=>t.label);var o0=[];function Zbt(t){o0.push({...t,registeredAt:new Date().toISOString(),resolved:!1}),o0.length>500&&o0.splice(0,o0.length-500)}function e_t(t){let e=[];for(let n of o0){if(n.resolved)continue;let r=t.get(n.symbol)??t.get(n.symbol.toLowerCase());if(!r)continue;let o=(r-n.priceAtPrediction)/n.priceAtPrediction*100,i=n.action==="sell"?-o:o,s=n.action==="buy"?r>n.priceAtPrediction:r<n.priceAtPrediction;n.resolved=!0,n.resolvedAt=new Date().toISOString(),n.exitPrice=r,n.pnlPercent=i,n.directionCorrect=s,e.push({agentId:n.agentId,symbol:n.symbol,directionCorrect:s,pnlPercent:i})}return e}function t_t(){return o0.filter(t=>t.resolved)}function ive(){let t=o0.filter(r=>r.resolved),e=ue(t,r=>!!r.directionCorrect),n=t.length>0?t.reduce((r,o)=>r+(o.pnlPercent??0),0)/t.length:0;return{totalRegistered:o0.length,totalResolved:t.length,pendingCount:ue(o0,r=>!r.resolved),directionAccuracy:t.length>0?re(e/t.length):0,avgPnl:re(n)}}mt();var gNn=.5,yNn=.3,bNn=.2,_Nn=.25,SNn=.6,vNn=10,ENn=1.01,n_t=.05,ANn=.1,xNn=.6,wNn=.3,TNn=.1,INn=.95,RNn=.9,CNn=.85,NNn=.8,ONn=.75,PNn=.7,DNn=.65,kNn=.6,LNn=.5,MNn=.05,BNn=.1,UNn=.2,$Nn=.6,FNn=.4,QI=[],r_t=5e3;function o_t(t){QI.push(t),QI.length>r_t&&QI.splice(0,QI.length-r_t)}function i_t(t,e,n){return t*gNn+(e===0?1:Math.max(0,1-e*_Nn))*yNn+(n?1:0)*bNn>=SNn?1:0}function sve(t){let e=QI.filter(v=>v.agentId===t),n=e.length;if(n===0)return zNn(t);let r=vNn,o=[];for(let v=0;v<r;v++){let A=v/r,w=(v+1)/r,I=e.filter(O=>O.confidence>=A&&O.confidence<(v===r-1?ENn:w));if(I.length===0){o.push({binCenter:(A+w)/2,avgConfidence:(A+w)/2,avgOutcome:0,count:0,gap:0});continue}let D=I.reduce((O,U)=>O+U.confidence,0)/I.length,k=I.reduce((O,U)=>O+U.outcome,0)/I.length;o.push({binCenter:Math.round((A+w)/2*100)/100,avgConfidence:ye(D),avgOutcome:ye(k),count:I.length,gap:ye(D-k)})}let i=o.filter(v=>v.count>0),s=i.reduce((v,A)=>v+A.count/n*Math.abs(A.avgOutcome-A.avgConfidence),0),a=i.reduce((v,A)=>Math.max(v,Math.abs(A.avgOutcome-A.avgConfidence)),0),c=e.reduce((v,A)=>v+Math.pow(A.confidence-A.outcome,2),0)/n,l=HNn(i),u=0,d=0;for(let v of i)v.avgConfidence>v.avgOutcome+n_t?u+=v.count:v.avgOutcome>v.avgConfidence+n_t&&(d+=v.count);let p=n>0?u/n:0,f=n>0?d/n:0,h=e.reduce((v,A)=>v+A.confidence,0)/n,m=e.reduce((v,A)=>v+A.outcome,0)/n,g=h>0?Math.round(m/h*100)/100:1,y=GNn(s,c,l),S=VNn(s,p,f,l);return{agentId:t,totalDataPoints:n,ece:ye(s),mce:ye(a),brierScore:ye(c),monotonicCalibration:l,overconfidenceRatio:ye(p),underconfidenceRatio:ye(f),reliabilityDiagram:o,grade:y,assessment:S,suggestedCalibrationFactor:g}}function s_t(){let e=[...new Set(QI.map(o=>o.agentId))].map(o=>sve(o)),n=e.filter(o=>o.totalDataPoints>=5).sort((o,i)=>o.ece-i.ece),r=n.map((o,i)=>({agentId:o.agentId,ece:o.ece,rank:i+1}));return{agents:e,bestCalibrated:n.length>0?n[0].agentId:null,worstCalibrated:n.length>0?n[n.length-1].agentId:null,rankings:r}}function HNn(t){if(t.length<2)return!0;let e=t[0].avgOutcome;for(let n=1;n<t.length;n++){if(t[n].avgOutcome<e-ANn)return!1;e=t[n].avgOutcome}return!0}function GNn(t,e,n){let r=1-t*xNn-e*wNn-(n?0:TNn);return r>=INn?"A+":r>=RNn?"A":r>=CNn?"A-":r>=NNn?"B+":r>=ONn?"B":r>=PNn?"B-":r>=DNn?"C+":r>=kNn?"C":r>=LNn?"D":"F"}function VNn(t,e,n,r){let o=[];return t<MNn?o.push("Excellent calibration \u2014 confidence closely matches actual accuracy."):t<BNn?o.push("Good calibration \u2014 minor gaps between confidence and accuracy."):t<UNn?o.push("Moderate calibration \u2014 noticeable gap between stated and actual confidence."):o.push("Poor calibration \u2014 confidence does not predict accuracy well."),e>$Nn?o.push("Frequently overconfident \u2014 accuracy is lower than stated confidence suggests."):n>FNn&&o.push("Somewhat underconfident \u2014 performs better than its confidence suggests."),r||o.push("Non-monotonic: higher confidence does not consistently predict better outcomes."),o.join(" ")}function zNn(t){return{agentId:t,totalDataPoints:0,ece:0,mce:0,brierScore:0,monotonicCalibration:!0,overconfidenceRatio:0,underconfidenceRatio:0,reliabilityDiagram:[],grade:"N/A",assessment:"No calibration data available yet.",suggestedCalibrationFactor:1}}mt();var a_t=200,c_t=10,jNn=2,qNn=3,WNn=2,KNn=4,JNn=.25,YNn=.2,QNn=.25,XNn=.2,ZNn=.1,eOn=.7,tOn=1.3,nOn=.9,rOn=.85,oOn=.8,iOn=.75,sOn=.7,aOn=.65,cOn=.6,lOn=.5,uOn=.4,dOn=.8,pOn=.6,fOn=.3,mOn=.2,hOn=.4,gOn=.3,yOn=10,l_t=100,u_t=2,$j=new Map;function d_t(t){let e=$j.get(t.agentId)??[];e.push(t),e.length>a_t&&e.splice(0,e.length-a_t),$j.set(t.agentId,e)}function p_t(t){let e=["bullish","upside","growth","opportunity","undervalued","momentum","rally","breakout","accumulate","favorable","optimistic","recovery","strong","increase","gain"],n=["bearish","downside","risk","overvalued","declining","correction","breakdown","distribute","unfavorable","pessimistic","weakness","decrease","loss","caution"],r=t.toLowerCase(),o=0,i=0;for(let a of e)r.includes(a)&&o++;for(let a of n)r.includes(a)&&i++;let s=o+i;return s===0?0:(o-i)/s}function f_t(t){let e=[],n=t.match(/"([^"]+)"/g);n&&e.push(...n.map(o=>o.replace(/"/g,"")));let r=t.match(/\b(support|resistance|moving average|RSI|MACD|P\/E|earnings|revenue|volume|trend|momentum|mean reversion|value play|hedge|contrarian)\b/gi);return r&&e.push(...r.map(o=>o.toLowerCase())),[...new Set(e)].slice(0,yOn)}function ave(t){let e=$j.get(t)??[];if(e.length<2)return EOn(t,e.length);let n=e.length,r=e.map(w=>w.sentimentScore),o=jE(r),i=e.map(w=>w.confidence),s=jE(i),a=0;for(let w=1;w<n;w++)e[w].intent!==e[w-1].intent&&a++;let c=n-1>0?a/(n-1):0,l=new Map;for(let w of e){let I=l.get(w.symbol)??[];I.push(w.action),l.set(w.symbol,I)}let u=0,d=0;for(let w of l.values())for(let I=1;I<w.length;I++)d++,(w[I]==="buy"&&w[I-1]==="sell"||w[I]==="sell"&&w[I-1]==="buy")&&u++;let p=d>0?u/d:0,f=e.map(w=>w.wordCount),h=Ke(f),m=h>0?jE(f)/h:0,g=bOn(o,s,c,p,m),y=_On(e),S={};for(let[w,I]of l){let D=e.filter(J=>J.symbol===w),k=D.map(J=>J.sentimentScore),O=Math.max(...k),U=Math.min(...k),G=0;for(let J=1;J<I.length;J++)(I[J]==="buy"&&I[J-1]==="sell"||I[J]==="sell"&&I[J-1]==="buy")&&G++;S[w]={symbol:w,tradeCount:D.length,sentimentRange:Math.round((O-U)*l_t)/l_t,avgConfidence:ye(Ke(D.map(J=>J.confidence))),flipCount:G,lastAction:I[I.length-1]}}let v=SOn(g),A=vOn(o,s,c,p,g);return{agentId:t,roundsAnalyzed:n,sentimentVolatility:ye(o),confidenceVolatility:ye(s),intentDriftRate:ye(c),convictionFlipRate:ye(p),lengthVariability:ye(m),stabilityScore:ye(g),grade:v,assessment:A,recentTrend:y,bySymbol:S}}function m_t(){let e=[...$j.keys()].map(r=>ave(r)),n=e.filter(r=>r.roundsAnalyzed>=qNn).sort((r,o)=>o.stabilityScore-r.stabilityScore);return{agents:e,mostStable:n.length>0?n[0].agentId:null,mostVolatile:n.length>0?n[n.length-1].agentId:null,rankings:n.map((r,o)=>({agentId:r.agentId,stabilityScore:r.stabilityScore,rank:o+1}))}}function jE(t){if(t.length<2)return 0;let e=Ke(t),n=t.map(r=>Math.pow(r-e,2));return Math.sqrt(n.reduce((r,o)=>r+o,0)/(t.length-1))}function bOn(t,e,n,r,o){let i=Math.max(0,1-t*WNn),s=Math.max(0,1-e*KNn),a=1-n,c=1-r,l=Math.max(0,1-o);return i*JNn+s*YNn+a*QNn+c*XNn+l*ZNn}function _On(t){if(t.length<c_t)return"consistent";let e=Math.min(c_t,Math.floor(t.length/jNn)),n=t.slice(-e),r=t.slice(0,-e),o=jE(n.map(u=>u.sentimentScore)),i=jE(r.map(u=>u.sentimentScore)),s=jE(n.map(u=>u.confidence)),a=jE(r.map(u=>u.confidence)),c=(o+s)/u_t,l=(i+a)/u_t;return c<l*eOn?"stabilizing":c>l*tOn?"volatile":"consistent"}function SOn(t){return t>=nOn?"A+":t>=rOn?"A":t>=oOn?"A-":t>=iOn?"B+":t>=sOn?"B":t>=aOn?"B-":t>=cOn?"C+":t>=lOn?"C":t>=uOn?"D":"F"}function vOn(t,e,n,r,o){let i=[];return o>=dOn?i.push("Highly consistent reasoning patterns across trading rounds."):o>=pOn?i.push("Moderately stable reasoning with some variation between rounds."):i.push("Volatile reasoning patterns \u2014 agent changes approach frequently."),t>fOn&&i.push("High sentiment swings between rounds."),e>mOn&&i.push("Confidence levels vary significantly."),n>hOn&&i.push("Frequently switches strategy intent (momentum\u2192value\u2192contrarian)."),r>gOn&&i.push("Frequently reverses conviction on the same stocks."),i.join(" ")}function EOn(t,e){return{agentId:t,roundsAnalyzed:e,sentimentVolatility:0,confidenceVolatility:0,intentDriftRate:0,convictionFlipRate:0,lengthVariability:0,stabilityScore:1,grade:"N/A",assessment:"Insufficient data for volatility analysis (need 2+ rounds).",recentTrend:"consistent",bySymbol:{}}}mt();var el=[],h_t=500,g_t=1,AOn=1,xOn=.8,wOn=.5,TOn=5,IOn=20,ROn=10,y_t=.1,COn=1,b_t=[];function __t(t,e){let n=e.filter(g=>g.action!=="hold"),r=new Map;for(let g of n)r.set(g.action,(r.get(g.action)??0)+1);let o,i,s=[],a=[];if(n.length===0)o="no_trades",i="hold",a=e;else{let g=r.get("buy")??0,y=r.get("sell")??0;g===n.length?(o="unanimous",i="buy",a=n):y===n.length?(o="unanimous",i="sell",a=n):g>y?(o=g>g_t?"majority":"split",i="buy",a=n.filter(S=>S.action==="buy"),s=n.filter(S=>S.action!=="buy").map(S=>S.agentId)):y>g?(o=y>g_t?"majority":"split",i="sell",a=n.filter(S=>S.action==="sell"),s=n.filter(S=>S.action!=="sell").map(S=>S.agentId)):(o="split",i="none",a=n)}let c=e.length>0?a.length/e.length:1,l=new Map;for(let g of a)l.set(g.symbol,(l.get(g.symbol)??0)+1);let u=null,d=0;for(let[g,y]of l)y>d&&(d=y,u=g);let p=a.map(g=>g.confidence),h=e.filter(g=>s.includes(g.agentId)).map(g=>g.confidence),m={roundId:t,timestamp:new Date().toISOString(),agents:e,consensusType:o,agreementScore:ye(c),consensusAction:i,consensusSymbol:u,contrarians:s,majorityAvgConfidence:p.length>0?ye(p.reduce((g,y)=>g+y,0)/p.length):0,contrarianAvgConfidence:h.length>0?ye(h.reduce((g,y)=>g+y,0)/h.length):0};return el.push(m),el.length>h_t&&el.splice(0,el.length-h_t),b_t.push({roundId:t,consensusAction:i,consensusSymbol:u,outcome:"pending"}),m}function cve(){let t=el.length;if(t===0)return OOn();let e=el.reduce((h,m)=>h+m.agreementScore,0)/t,n=ue(el,h=>h.consensusType==="unanimous"),r=ue(el,h=>h.consensusType==="split"),o=b_t.filter(h=>h.outcome!=="pending"),i=ue(o,h=>h.outcome==="correct"),s=o.length>0?i/o.length:0,a=0,c={},l=new Set;for(let h of el)for(let m of h.agents)l.add(m.agentId);for(let h of l){let m=el.filter(w=>w.agents.some(I=>I.agentId===h)),g=0,y=0,S=[],v=[];for(let w of m){let I=w.agents.find(k=>k.agentId===h);if(!I)continue;w.contrarians.includes(h)?(v.push(I.confidence),w.contrarians.length===AOn&&y++):(g++,S.push(I.confidence))}let A=m.length>0?g/m.length:COn;c[h]={agentId:h,agreementRate:ye(A),loneContrarianCount:y,avgConfidenceWhenAgreeing:S.length>0?ye(S.reduce((w,I)=>w+I,0)/S.length):0,avgConfidenceWhenDisagreeing:v.length>0?ye(v.reduce((w,I)=>w+I,0)/v.length):0,contrarianWinRate:0,stance:A>=xOn?"conformist":A>=wOn?"independent":"contrarian"}}let u={},d=new Map;for(let h of el){let m=new Set(h.agents.map(g=>g.symbol));for(let g of m){let y=d.get(g)??[];y.push(h),d.set(g,y)}}for(let[h,m]of d){let g=0,y=0,S=0,v=0;for(let A of m){let w=A.agents.filter(U=>U.symbol===h);if(w.length===0)continue;v++;let I=w.map(U=>U.action);I.every(U=>U===I[0])&&g++;let k=ue(I,U=>U==="buy"),O=ue(I,U=>U==="sell");y+=k,S+=O}u[h]={symbol:h,roundsDebated:v,agreementRate:v>0?ye(g/v):1,avgBullish:v>0?ye(y/v):0,avgBearish:v>0?ye(S/v):0,typicalConflict:y>S?"Mostly bullish with bear dissenters":S>y?"Mostly bearish with bull dissenters":"Evenly split"}}let p=[...el].sort((h,m)=>h.agreementScore-m.agreementScore).slice(0,TOn),f=NOn(el);return{totalRounds:t,avgAgreementScore:ye(e),unanimousRate:ye(n/t),splitRate:ye(r/t),consensusAccuracy:ye(s),contrarianAlpha:a,byAgent:c,bySymbol:u,mostControversialRounds:p,convergenceTrend:f}}function S_t(t=IOn){return el.slice(-t).reverse()}function NOn(t){if(t.length<ROn)return"stable";let e=Math.floor(t.length/2),n=t.slice(0,e),r=t.slice(e),o=n.reduce((s,a)=>s+a.agreementScore,0)/n.length,i=r.reduce((s,a)=>s+a.agreementScore,0)/r.length;return i>o+y_t?"converging":i<o-y_t?"diverging":"stable"}function OOn(){return{totalRounds:0,avgAgreementScore:0,unanimousRate:0,splitRate:0,consensusAccuracy:0,contrarianAlpha:0,byAgent:{},bySymbol:{},mostControversialRounds:[],convergenceTrend:"stable"}}var dve=new yr,v_t=new Map,uve=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function E_t(t,e){v_t.set(t,e)}var Hj=new Set;function A_t(t,e,n){let r={type:t,agentId:n??null,timestamp:new Date().toISOString(),...e},o=`data: ${JSON.stringify(r)}

`;for(let i of Hj)try{i.enqueue(new TextEncoder().encode(o))}catch{Hj.delete(i)}}dve.get("/",t=>{let e=x_t(),n=cve(),r=S_t(5),o=ive(),i=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v14 \u2014 10-Pillar AI Trading Evaluation</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.8rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 1rem; border: 1px solid #333; text-align: center; }
    .pillar-card h3 { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.5rem; }
    .pillar-card .score { font-size: 1.8rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.7rem; color: #666; margin-top: 0.3rem; }
    .green { color: #00e676; } .yellow { color: #ffca28; } .red { color: #ff5252; } .blue { color: #40c4ff; }
    .leaderboard { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #333; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.6rem; font-size: 0.75rem; color: #888; text-transform: uppercase; border-bottom: 1px solid #333; }
    td { padding: 0.6rem; font-size: 0.85rem; border-bottom: 1px solid #1a1a2e; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #00e676; } .grade-b { color: #40c4ff; } .grade-c { color: #ffca28; } .grade-d { color: #ff9800; } .grade-f { color: #ff5252; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .card { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; border: 1px solid #333; }
    .card h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.4rem 0; border-bottom: 1px solid #222; }
    .stat-row .label { color: #888; font-size: 0.8rem; } .stat-row .value { font-weight: bold; font-size: 0.85rem; }
    .bar-chart { margin-top: 0.5rem; }
    .bar { display: flex; align-items: center; margin: 0.3rem 0; }
    .bar-label { width: 100px; font-size: 0.75rem; color: #888; }
    .bar-fill { height: 16px; border-radius: 4px; min-width: 4px; transition: width 0.3s; }
    .bar-value { margin-left: 8px; font-size: 0.75rem; color: #aaa; }
    .badge { display: inline-block; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #00e676; color: #000; }
    .badge-v14 { background: #e94560; color: #fff; }
    .consensus-feed { list-style: none; }
    .consensus-feed li { padding: 0.6rem 0; border-bottom: 1px solid #222; font-size: 0.8rem; }
    .consensus-type { font-weight: bold; }
    .footer { text-align: center; padding: 2rem; color: #555; font-size: 0.75rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 900px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v14">v14</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
    </div>
    <div class="subtitle">10-Pillar Scoring | Outcome Resolution | Calibration Curves | Consensus Intelligence</div>
  </div>

  <div class="container">
    <!-- 10 Pillar Overview -->
    <div class="pillar-grid">
      <div class="pillar-card">
        <h3>Financial</h3>
        <div class="score green">${vm(e,"financial")}</div>
        <div class="weight">15% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Reasoning</h3>
        <div class="score blue">${vm(e,"reasoning")}</div>
        <div class="weight">14% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Safety</h3>
        <div class="score green">${vm(e,"safety")}</div>
        <div class="weight">12% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Calibration</h3>
        <div class="score yellow">${vm(e,"calibration")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Patterns</h3>
        <div class="score blue">${vm(e,"patterns")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Adaptability</h3>
        <div class="score yellow">${vm(e,"adaptability")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Forensic</h3>
        <div class="score blue">${vm(e,"forensicQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Validation</h3>
        <div class="score green">${vm(e,"validationQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Prediction</h3>
        <div class="score yellow">${vm(e,"predictionAccuracy")}</div>
        <div class="weight">8% weight \u2014 NEW</div>
      </div>
      <div class="pillar-card">
        <h3>Stability</h3>
        <div class="score green">${vm(e,"reasoningStability")}</div>
        <div class="weight">7% weight \u2014 NEW</div>
      </div>
    </div>

    <!-- Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Financial</th><th>Reasoning</th><th>Safety</th><th>Prediction</th><th>Stability</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((s,a)=>`
          <tr>
            <td>${a+1}</td>
            <td><strong>${Fj(s.agentId)}</strong></td>
            <td><strong>${(s.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${lve(s.grade)}">${s.grade}</span></td>
            <td>${(s.financial*100).toFixed(0)}%</td>
            <td>${(s.reasoning*100).toFixed(0)}%</td>
            <td>${(s.safety*100).toFixed(0)}%</td>
            <td>${(s.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(s.reasoningStability*100).toFixed(0)}%</td>
            <td>${s.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Prediction Resolution -->
      <div class="card">
        <h2>Prediction Resolution</h2>
        <div class="stat-row"><span class="label">Pending Predictions</span><span class="value">${o.pendingCount}</span></div>
        <div class="stat-row"><span class="label">Resolved Predictions</span><span class="value">${o.totalResolved}</span></div>
        <div class="stat-row"><span class="label">Overall Direction Accuracy</span><span class="value">${(o.directionAccuracy*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Avg P&L</span><span class="value">${o.avgPnl.toFixed(2)}%</span></div>
      </div>

      <!-- Consensus Intelligence -->
      <div class="card">
        <h2>Consensus Intelligence</h2>
        <div class="stat-row"><span class="label">Rounds Analyzed</span><span class="value">${n.totalRounds}</span></div>
        <div class="stat-row"><span class="label">Avg Agreement</span><span class="value">${(n.avgAgreementScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Unanimous Rate</span><span class="value">${(n.unanimousRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Split Rate</span><span class="value">${(n.splitRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Convergence Trend</span><span class="value">${n.convergenceTrend}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#888;">Recent Consensus</h3>
        <ul class="consensus-feed">
          ${r.map(s=>`
            <li>
              <span class="consensus-type" style="color:${s.consensusType==="unanimous"?"#00e676":s.consensusType==="split"?"#ff5252":"#ffca28"}">${s.consensusType.toUpperCase()}</span>
              ${s.consensusAction!=="none"?`\u2192 ${s.consensusAction.toUpperCase()} ${s.consensusSymbol??""}`:""}
              ${s.contrarians.length>0?`(contrarian: ${s.contrarians.map(Fj).join(", ")})`:""}
            </li>
          `).join("")}
          ${r.length===0?"<li>No rounds recorded yet</li>":""}
        </ul>
      </div>
    </div>

    <div class="two-col">
      <!-- Calibration Curves -->
      <div class="card">
        <h2>Confidence Calibration</h2>
        ${uve.map(s=>{let a=sve(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${Fj(s)}</strong>
                <span class="grade ${lve(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">ECE</span><span class="value">${a.ece.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Brier Score</span><span class="value">${a.brierScore.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Monotonic</span><span class="value">${a.monotonicCalibration?"Yes":"No"}</span></div>
              <div class="stat-row"><span class="label">Data Points</span><span class="value">${a.totalDataPoints}</span></div>
            </div>`}).join("")}
      </div>

      <!-- Reasoning Stability -->
      <div class="card">
        <h2>Reasoning Stability</h2>
        ${uve.map(s=>{let a=ave(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${Fj(s)}</strong>
                <span class="grade ${lve(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">Stability Score</span><span class="value">${(a.stabilityScore*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Sentiment Vol</span><span class="value">${a.sentimentVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Confidence Vol</span><span class="value">${a.confidenceVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Flip Rate</span><span class="value">${(a.convictionFlipRate*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Trend</span><span class="value">${a.recentTrend}</span></div>
            </div>`}).join("")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v14 \u2014 AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p>10-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability</p>
  </div>

  <script>
    // Auto-refresh every 30 seconds
    setTimeout(() => location.reload(), 30000);
  </script>
</body>
</html>`;return t.html(i)});dve.get("/data",t=>{let e=x_t(),n=cve(),r=ive(),o=s_t(),i=m_t();return t.json({ok:!0,benchmark:"moltapp-v14",pillars:[{name:"Financial",weight:.15,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.14,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.12,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.1,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.07,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.07,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.1,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.1,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.08,description:"Direction accuracy, target precision, resolution quality"},{name:"Reasoning Stability",weight:.07,description:"Sentiment vol, conviction flip rate, intent drift"}],leaderboard:e,predictionResolution:r,calibrationComparison:{bestCalibrated:o.bestCalibrated,worstCalibrated:o.worstCalibrated,rankings:o.rankings},volatilityComparison:{mostStable:i.mostStable,mostVolatile:i.mostVolatile,rankings:i.rankings},consensusDivergence:{totalRounds:n.totalRounds,avgAgreementScore:n.avgAgreementScore,unanimousRate:n.unanimousRate,splitRate:n.splitRate,convergenceTrend:n.convergenceTrend,byAgent:n.byAgent},timestamp:new Date().toISOString()})});dve.get("/stream",t=>{let e=new ReadableStream({start(n){Hj.add(n);let r=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v14",pillars:10})}

`;n.enqueue(new TextEncoder().encode(r))},cancel(n){Hj.delete(n)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});function x_t(){let t=[];for(let e of uve){let n=v_t.get(e)??POn();t.push({agentId:e,...n})}return t.sort((e,n)=>n.composite-e.composite),t}function POn(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function vm(t,e){return t.length===0?"\u2014":`${(t.reduce((r,o)=>r+(Number(o[e])||0),0)/t.length*100).toFixed(0)}%`}function Fj(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function lve(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}import{createHash as DOn}from"crypto";var w_t=1e3,i0=new Map,T_t=new Map,pve=new Map;function Gj(t){return DOn("sha256").update(t,"utf8").digest("hex")}function kOn(t){let e=JSON.stringify(t,Object.keys(t).sort());return Gj(e)}function I_t(t,e,n){return Gj(`${t}:${e}:${n}`)}function R_t(t,e){return Gj(`${t}:${e}`)}function LOn(t){let e={};for(let[n,r]of i0)n!==t&&r.length>0&&(e[n]=r[r.length-1].chainHash);return e}function C_t(t,e,n,r,o,i,s){let a=new Date().toISOString(),c=Gj(e),l=kOn(i),u=I_t(c,l,a),d=i0.get(t)??[],p=d.length>0?d[d.length-1].chainHash:"",f=R_t(u,p),h=(T_t.get(t)??0)+1;T_t.set(t,h);let m=LOn(t);return{proofId:`prov_${t}_${h}_${Date.now()}`,agentId:t,roundId:s,symbol:r,action:n,confidence:o,reasoningHash:c,marketDataHash:l,preCommitSeal:u,previousProofHash:p,chainHash:f,timestamp:a,sequenceNumber:h,witnessHashes:m}}function MOn(t){let e={},n=I_t(t.reasoningHash,t.marketDataHash,t.timestamp);e.preCommitSeal=n===t.preCommitSeal;let r=R_t(t.preCommitSeal,t.previousProofHash);e.chainHash=r===t.chainHash;let o=i0.get(t.agentId)??[];if(t.sequenceNumber===1)e.chainLinkage=t.previousProofHash==="";else{let a=o.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.chainLinkage=a?a.chainHash===t.previousProofHash:!0}if(t.sequenceNumber>1){let a=o.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.temporalOrder=a?new Date(t.timestamp)>=new Date(a.timestamp):!0}else e.temporalOrder=!0;let i=!0;for(let[a,c]of Object.entries(t.witnessHashes)){let l=i0.get(a)??[];l.length>0&&(l.some(d=>d.chainHash===c)||(i=!1))}return e.witnessConsistency=i,{valid:Object.values(e).every(a=>a),checks:e}}function N_t(t){let e=i0.get(t.agentId)??[];e.push(t),e.length>w_t&&e.splice(0,e.length-w_t),i0.set(t.agentId,e),pve.set(t.agentId,(pve.get(t.agentId)??0)+1)}function BOn(t){let e=i0.get(t)??[],n=pve.get(t)??0,r=!0;for(let o=0;o<e.length;o++){let i=e[o];if(!MOn(i).valid){r=!1;break}if(o>0){let a=e[o-1];if(i.previousProofHash!==a.chainHash){r=!1;break}}}return{agentId:t,proofs:[...e],headHash:e.length>0?e[e.length-1].chainHash:"",totalRecorded:n,valid:r}}function fve(){let t={},e=0,n=null,r=null;for(let i of i0.keys()){let s=BOn(i);t[i]=s.valid,e+=s.proofs.length;for(let a of s.proofs)(n===null||a.timestamp<n)&&(n=a.timestamp),(r===null||a.timestamp>r)&&(r=a.timestamp)}let o=i0.size;return{totalAgents:o,totalProofs:e,chainIntegrity:t,avgChainLength:o>0?Math.round(e/o*10)/10:0,oldestProofTimestamp:n,newestProofTimestamp:r}}mt();var UOn=500,$On=.3,O_t=.8,FOn=20,HOn=30,GOn=50,VOn=5,Vp=new Map,qE=[];function mb(t){return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(Boolean)}function Vj(t){let e=new Set;for(let n=0;n<t.length-1;n++)e.add(`${t[n]} ${t[n+1]}`);return e}function zOn(t,e){if(t.size===0&&e.size===0)return 1;let n=0;for(let o of t)e.has(o)&&n++;let r=t.size+e.size-n;return r===0?0:n/r}function P_t(t){Vp.has(t.agentId)||Vp.set(t.agentId,[]);let e=Vp.get(t.agentId);for(e.push(t);e.length>UOn;)e.shift()}function D_t(t){let e=t[0]?.roundId??"unknown",n=t[0]?.timestamp??new Date().toISOString(),r=[];for(let f=0;f<t.length;f++)for(let h=f+1;h<t.length;h++){let m=t[f],g=t[h],y=mb(m.reasoning),S=mb(g.reasoning),v=Vj(y),A=Vj(S);r.push({agentA:m.agentId,agentB:g.agentId,jaccardBigram:zOn(v,A),actionAgreement:m.action===g.action,confidenceDelta:Math.abs(m.confidence-g.confidence)})}let o=[],i=t.map(f=>f.action),s=new Set(i),a=t.map(f=>f.confidence),c=Math.max(...a)-Math.min(...a);s.size>1&&o.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"action_split",severity:(s.size-1)/Math.max(t.length-1,1)}),c>$On&&o.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"confidence_spread",severity:Math.min(c,1)});let l=t.map(f=>{let h=Vp.get(f.agentId)??[f],m=h.length,g=ue(h,I=>I.action==="buy"),y=ue(h,I=>I.action==="sell"),S=ue(h,I=>I.action==="hold"),v=h.map(I=>I.confidence),A=Ke(v),w=ue(h,I=>I.confidence>O_t);return{agentId:f.agentId,bullishRate:g/m,bearishRate:y/m,neutralRate:S/m,avgConfidence:A,overconfidenceRatio:w/m}}),u=ue(r,f=>f.actionAgreement),d=r.length===0?0:u/r.length,p={roundId:e,timestamp:n,similarities:r,divergencePoints:o,biasIndicators:l,herdingScore:d,participantCount:t.length};return qE.push(p),p}function mve(t){let e=Vp.get(t);if(!e||e.length===0)return null;let n=[],r=new Map,o=new Set;for(let A of e){let w=mb(A.reasoning);n.push(...w),w.forEach(D=>o.add(D));let I=Vj(w);for(let D of I)r.set(D,(r.get(D)??0)+1)}let i=[...r.entries()].sort((A,w)=>w[1]-A[1]).slice(0,FOn),s=new Set;for(let[A,w]of Vp)if(A!==t)for(let I of w)mb(I.reasoning).forEach(D=>s.add(D));let a=[...o].filter(A=>!s.has(A)).slice(0,HOn),c=e.reduce((A,w)=>A+mb(w.reasoning).length,0)/e.length,l={topBigrams:i,uniqueWords:a,avgWordCount:c,vocabularySize:o.size},u=e.length,d=ue(e,A=>A.action==="buy"),p=ue(e,A=>A.action==="sell"),f=ue(e,A=>A.action==="hold"),h=e.map(A=>A.confidence),m=ue(e,A=>A.confidence>O_t),g=e.map(A=>mb(A.reasoning).length),y=e.map(A=>Vj(mb(A.reasoning)).size),S=new Set;for(let[,A]of Vp)for(let w of A)mb(w.reasoning).forEach(I=>S.add(I));let v=S.size===0?0:a.length/S.size;return{agentId:t,vocabularyDNA:l,sentimentTendency:{bullishRate:d/u,bearishRate:p/u,neutralRate:f/u},confidencePattern:{mean:Ke(h),stdDev:Xse(h),overconfidenceRatio:m/u},reasoningStyle:{avgLength:Ke(g),avgBigramCount:Ke(y),uniquenessScore:v},sampleSize:u}}function hve(){let t=[...Vp.keys()],e=new Map;for(let u of qE)for(let d of u.similarities){let p=[d.agentA,d.agentB].sort().join("|");e.has(p)||e.set(p,{total:0,disagree:0,confSum:0,symbolMap:new Map});let f=e.get(p);if(f.total++,!d.actionAgreement){f.disagree++,f.confSum+=d.confidenceDelta;let h=u.divergencePoints[0]?.symbol??"unknown";f.symbolMap.set(h,(f.symbolMap.get(h)??0)+1)}}let n=[...e.entries()].map(([u,d])=>{let[p,f]=u.split("|"),h=[...d.symbolMap.entries()].sort((m,g)=>g[1]-m[1]).slice(0,VOn).map(([m])=>m);return{agentPair:[p,f],disagreementRate:d.total===0?0:d.disagree/d.total,avgConfidenceWhenDisagreeing:d.disagree===0?0:d.confSum/d.disagree,mostDisagreedSymbols:h}}),r=[],o=[],i=[];for(let u of t){let d=Vp.get(u)??[],p=d.length||1,f=ue(d,m=>m.action==="buy")/p,h=ue(d,m=>m.action==="sell")/p;r.push(f),o.push(h),i.push({agentId:u,bullish:f,bearish:h})}let s=Ke(r),a=Ke(o),c=i.map(u=>{let d=u.bullish-s,p=u.bearish-a,f=d>p;return{agentId:u.agentId,direction:f?"bullish":"bearish",magnitude:Math.abs(f?d:p),comparedToAvg:f?d:p}}),l=qE.slice(-GOn).map(u=>u.herdingScore);return{systematicDisagreements:n,biasAsymmetries:c,herdingTrend:l,totalRoundsAnalyzed:qE.length}}function gve(){let t=0;for(let[,i]of Vp)t+=i.length;let e=qE.flatMap(i=>i.similarities),n=e.map(i=>i.jaccardBigram),r=e.map(i=>i.confidenceDelta),o=ue(e,i=>i.actionAgreement);return{totalEntriesRecorded:t,agentCount:Vp.size,roundsCompared:qE.length,avgHerdingScore:Ke(qE.map(i=>i.herdingScore)),avgJaccardSimilarity:Ke(n),avgConfidenceDelta:Ke(r),actionAgreementRate:e.length===0?0:o/e.length}}import*as zj from"crypto";var k_t=500,WE=[];function yve(t){return t==null?String(t):typeof t!="object"?JSON.stringify(t):Array.isArray(t)?"["+t.map(yve).join(",")+"]":"{"+Object.keys(t).sort().map(n=>JSON.stringify(n)+":"+yve(t[n])).join(",")+"}"}function bve(t){return zj.createHash("sha256").update(t,"utf8").digest("hex")}function XI(t){return bve(yve(t))}function jOn(t){return bve("molt-v15-seal:"+t)}function L_t(t){let e={...t,inputHash:XI(t.inputs),configHash:XI(t.scoringConfig),outputHash:XI(t.scores)};return WE.push(e),WE.length>k_t&&WE.splice(0,WE.length-k_t),e}function M_t(t,e,n,r){let o=XI(e),i=XI(r),s=XI(n),a=bve(o+i+s),c=WE.filter(d=>d.inputHash===o&&d.configHash===i),l=c.filter(d=>d.outputHash===s).length,u=c.filter(d=>d.outputHash!==s).length;return{proofId:"proof-"+zj.randomBytes(12).toString("hex"),roundId:t,timestamp:Date.now(),inputHash:o,configHash:i,outputHash:s,combinedHash:a,deterministic:u===0,priorRunMatches:l,priorRunMismatches:u,signature:jOn(a)}}function _ve(){let t=new Map;for(let i of WE){let s=(i.inputHash??"")+"|"+(i.configHash??""),a=t.get(s)??[];a.push(i),t.set(s,a)}let e=[],n=0,r=0;for(let[,i]of t)if(new Set(i.map(a=>a.outputHash)).size<=1)n++;else{r++;for(let a of i)e.includes(a.roundId)||e.push(a.roundId)}let o=n+r;return{totalRuns:WE.length,uniqueInputSets:t.size,deterministicSets:n,nonDeterministicSets:r,reproducibilityRate:o>0?n/o:1,nonDeterministicRounds:e,generatedAt:Date.now()}}var Sve=new yr,U_t=new Map,vve=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function $_t(t,e){U_t.set(t,e),Eve("metrics_updated",{agentId:t,composite:e.composite,grade:e.grade},t)}var B_t=new Set,jj=new Set;function Eve(t,e,n){let r={type:t,agentId:n??null,timestamp:new Date().toISOString(),...e},o=`data: ${JSON.stringify(r)}

`;for(let i of B_t)try{i(o)}catch{B_t.delete(i)}for(let i of jj)try{i.enqueue(new TextEncoder().encode(o))}catch{jj.delete(i)}}function F_t(){let t=[];for(let e of vve){let n=U_t.get(e)??qOn();t.push({agentId:e,...n})}return t.sort((e,n)=>n.composite-e.composite),t}function qOn(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,provenanceIntegrity:.5,modelComparison:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function Od(t,e){return t.length===0?"\u2014":`${(t.reduce((r,o)=>r+(Number(o[e])||0),0)/t.length*100).toFixed(0)}%`}function ZI(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function WOn(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}function KE(t){return String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Sve.get("/",t=>{let e=F_t(),n=fve(),r=gve(),o=hve(),i=_ve(),s=vve.map(d=>({agentId:d,fingerprint:mve(d)})),a=Object.entries(n.chainIntegrity).map(([d,p])=>`
      <tr>
        <td>${KE(ZI(d))}</td>
        <td style="color:${p?"#00e676":"#ff5252"};">${p?"VALID":"BROKEN"}</td>
      </tr>`).join(""),c=s.map(({agentId:d,fingerprint:p})=>p?`<div class="card" style="flex:1;min-width:250px;">
      <h3 style="font-size:0.85rem;color:#aaa;margin-bottom:0.5rem;">${KE(ZI(d))}</h3>
      <div class="stat-row"><span class="label">Bullish Rate</span><span class="value">${(p.sentimentTendency.bullishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Bearish Rate</span><span class="value">${(p.sentimentTendency.bearishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Avg Confidence</span><span class="value">${(p.confidencePattern.mean*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Vocab Size</span><span class="value">${p.vocabularyDNA.vocabularySize}</span></div>
      <div class="stat-row"><span class="label">Uniqueness</span><span class="value">${(p.reasoningStyle.uniquenessScore*100).toFixed(1)}%</span></div>
      <div class="stat-row"><span class="label">Samples</span><span class="value">${p.sampleSize}</span></div>
    </div>`:`<div class="card" style="flex:1;min-width:250px;">
        <h3 style="font-size:0.85rem;color:#aaa;">${KE(ZI(d))}</h3>
        <p style="color:#666;font-size:0.8rem;">No data yet</p>
      </div>`).join(""),l=o.systematicDisagreements.map(d=>`
    <tr>
      <td>${KE(ZI(d.agentPair[0]))} vs ${KE(ZI(d.agentPair[1]))}</td>
      <td>${(d.disagreementRate*100).toFixed(0)}%</td>
      <td>${d.mostDisagreedSymbols.slice(0,3).join(", ")||"N/A"}</td>
    </tr>`).join(""),u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v15 \u2014 Industry-Standard AI Trading Benchmark</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; margin-bottom: 0.4rem; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .header .subtitle a { color: #58a6ff; text-decoration: none; }
    .container { max-width: 1440px; margin: 0 auto; padding: 1.5rem; }
    .section-title { font-size: 1.15rem; color: #e94560; margin: 1.5rem 0 0.8rem; border-bottom: 1px solid #333; padding-bottom: 0.4rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 0.7rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #161b22; border-radius: 8px; padding: 0.8rem; border: 1px solid #30363d; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.4rem; }
    .pillar-card .score { font-size: 1.6rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.65rem; color: #484f58; margin-top: 0.2rem; }
    .green { color: #3fb950; } .yellow { color: #d29922; } .red { color: #f85149; } .blue { color: #58a6ff; } .purple { color: #bc8cff; }
    .leaderboard { background: #161b22; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #30363d; overflow-x: auto; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.5rem 0.4rem; font-size: 0.7rem; color: #8b949e; text-transform: uppercase; border-bottom: 1px solid #30363d; }
    td { padding: 0.5rem 0.4rem; font-size: 0.8rem; border-bottom: 1px solid #21262d; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #3fb950; } .grade-b { color: #58a6ff; } .grade-c { color: #d29922; } .grade-d { color: #db6d28; } .grade-f { color: #f85149; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .three-col { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .card { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; }
    .card h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.35rem 0; border-bottom: 1px solid #21262d; }
    .stat-row .label { color: #8b949e; font-size: 0.78rem; } .stat-row .value { font-weight: bold; font-size: 0.82rem; }
    .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; margin: 0 0.15rem; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #3fb950; color: #000; }
    .badge-v15 { background: #e94560; color: #fff; }
    .badge-new { background: #bc8cff; color: #000; }
    .methodology { background: #161b22; border-radius: 8px; padding: 1.5rem; border: 1px solid #30363d; margin-bottom: 1.5rem; }
    .methodology h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .methodology ol { padding-left: 1.2rem; }
    .methodology li { font-size: 0.8rem; color: #c9d1d9; margin-bottom: 0.35rem; }
    .methodology li strong { color: #58a6ff; }
    .brain-feed { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; margin-bottom: 1.5rem; min-height: 100px; }
    .brain-feed h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.6rem; }
    .brain-feed .placeholder { color: #484f58; font-size: 0.8rem; font-style: italic; }
    #brain-feed-list { list-style: none; max-height: 180px; overflow-y: auto; }
    #brain-feed-list li { padding: 0.4rem 0; border-bottom: 1px solid #21262d; font-size: 0.78rem; color: #c9d1d9; }
    .footer { text-align: center; padding: 2rem; color: #484f58; font-size: 0.72rem; border-top: 1px solid #21262d; margin-top: 1rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 1024px) { .pillar-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 768px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } .three-col { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v15">v15</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
      <span class="badge badge-new">NEW: Provenance &amp; Reproducibility</span>
    </div>
    <div class="subtitle">
      Industry-Standard 12-Pillar Scoring | Cryptographic Provenance | Cross-Model Fingerprinting | Reproducibility Proofs
      <br/><a href="https://www.patgpt.us">patgpt.us</a> &middot;
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <!-- 12-Pillar Overview -->
    <h2 class="section-title">12-Pillar Scoring Overview</h2>
    <div class="pillar-grid">
      <div class="pillar-card"><h3>Financial</h3><div class="score green">${Od(e,"financial")}</div><div class="weight">13% weight</div></div>
      <div class="pillar-card"><h3>Reasoning</h3><div class="score blue">${Od(e,"reasoning")}</div><div class="weight">12% weight</div></div>
      <div class="pillar-card"><h3>Safety</h3><div class="score green">${Od(e,"safety")}</div><div class="weight">10% weight</div></div>
      <div class="pillar-card"><h3>Calibration</h3><div class="score yellow">${Od(e,"calibration")}</div><div class="weight">9% weight</div></div>
      <div class="pillar-card"><h3>Patterns</h3><div class="score blue">${Od(e,"patterns")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Adaptability</h3><div class="score yellow">${Od(e,"adaptability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Forensic</h3><div class="score blue">${Od(e,"forensicQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Validation</h3><div class="score green">${Od(e,"validationQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Prediction</h3><div class="score yellow">${Od(e,"predictionAccuracy")}</div><div class="weight">7% weight</div></div>
      <div class="pillar-card"><h3>Stability</h3><div class="score green">${Od(e,"reasoningStability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Provenance</h3><div class="score purple">${Od(e,"provenanceIntegrity")}</div><div class="weight">8% weight &mdash; NEW</div></div>
      <div class="pillar-card"><h3>Model Comp.</h3><div class="score purple">${Od(e,"modelComparison")}</div><div class="weight">7% weight &mdash; NEW</div></div>
    </div>

    <!-- Agent Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard &mdash; 12-Pillar Composite</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Fin</th><th>Rsn</th><th>Safe</th><th>Cal</th><th>Pat</th><th>Adpt</th>
            <th>For</th><th>Val</th><th>Pred</th><th>Stab</th><th>Prov</th><th>Comp</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((d,p)=>`
          <tr>
            <td>${p+1}</td>
            <td><strong>${KE(ZI(d.agentId))}</strong></td>
            <td><strong>${(d.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${WOn(d.grade)}">${KE(d.grade)}</span></td>
            <td>${(d.financial*100).toFixed(0)}%</td>
            <td>${(d.reasoning*100).toFixed(0)}%</td>
            <td>${(d.safety*100).toFixed(0)}%</td>
            <td>${(d.calibration*100).toFixed(0)}%</td>
            <td>${(d.patterns*100).toFixed(0)}%</td>
            <td>${(d.adaptability*100).toFixed(0)}%</td>
            <td>${(d.forensicQuality*100).toFixed(0)}%</td>
            <td>${(d.validationQuality*100).toFixed(0)}%</td>
            <td>${(d.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(d.reasoningStability*100).toFixed(0)}%</td>
            <td>${(d.provenanceIntegrity*100).toFixed(0)}%</td>
            <td>${(d.modelComparison*100).toFixed(0)}%</td>
            <td>${d.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Provenance Integrity -->
      <div class="card">
        <h2>Provenance Integrity (Pillar 11)</h2>
        <div class="stat-row"><span class="label">Total Agents Tracked</span><span class="value">${n.totalAgents}</span></div>
        <div class="stat-row"><span class="label">Total Proofs Recorded</span><span class="value">${n.totalProofs}</span></div>
        <div class="stat-row"><span class="label">Avg Chain Length</span><span class="value">${n.avgChainLength.toFixed(1)}</span></div>
        <div class="stat-row"><span class="label">Oldest Proof</span><span class="value" style="font-size:0.7rem;">${n.oldestProofTimestamp?new Date(n.oldestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <div class="stat-row"><span class="label">Newest Proof</span><span class="value" style="font-size:0.7rem;">${n.newestProofTimestamp?new Date(n.newestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;margin-bottom:0.4rem;">Chain Validity per Agent</h3>
        <table>
          <thead><tr><th>Agent</th><th>Status</th></tr></thead>
          <tbody>
            ${a||'<tr><td colspan="2" style="color:#484f58;">No chains recorded yet</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Reproducibility -->
      <div class="card">
        <h2>Reproducibility Proof (Pillar 12)</h2>
        <div class="stat-row"><span class="label">Total Scoring Runs</span><span class="value">${i.totalRuns}</span></div>
        <div class="stat-row"><span class="label">Unique Input Sets</span><span class="value">${i.uniqueInputSets}</span></div>
        <div class="stat-row"><span class="label">Deterministic Sets</span><span class="value green">${i.deterministicSets}</span></div>
        <div class="stat-row"><span class="label">Non-Deterministic Sets</span><span class="value ${i.nonDeterministicSets>0?"red":"green"}">${i.nonDeterministicSets}</span></div>
        <div class="stat-row">
          <span class="label">Determinism Rate</span>
          <span class="value" style="font-size:1.1rem;color:${i.reproducibilityRate>=.95?"#3fb950":i.reproducibilityRate>=.8?"#d29922":"#f85149"};">
            ${(i.reproducibilityRate*100).toFixed(1)}%
          </span>
        </div>
        ${i.nonDeterministicRounds.length>0?`
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;">Non-Deterministic Rounds</h3>
        <p style="font-size:0.75rem;color:#f85149;margin-top:0.3rem;">${i.nonDeterministicRounds.slice(0,5).join(", ")}</p>
        `:'<p style="margin-top:0.8rem;font-size:0.78rem;color:#3fb950;">All runs are fully deterministic.</p>'}
      </div>
    </div>

    <!-- Cross-Model Comparison -->
    <h2 class="section-title">Cross-Model Comparison (Pillar 12)</h2>
    <div class="two-col">
      <div class="card">
        <h2>Aggregate Comparison Stats</h2>
        <div class="stat-row"><span class="label">Entries Recorded</span><span class="value">${r.totalEntriesRecorded}</span></div>
        <div class="stat-row"><span class="label">Agents Tracked</span><span class="value">${r.agentCount}</span></div>
        <div class="stat-row"><span class="label">Rounds Compared</span><span class="value">${r.roundsCompared}</span></div>
        <div class="stat-row"><span class="label">Avg Herding Score</span><span class="value">${(r.avgHerdingScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Reasoning Similarity</span><span class="value">${(r.avgJaccardSimilarity*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Action Agreement Rate</span><span class="value">${(r.actionAgreementRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Confidence Delta</span><span class="value">${(r.avgConfidenceDelta*100).toFixed(1)}%</span></div>
      </div>

      <div class="card">
        <h2>Systematic Disagreements</h2>
        ${o.systematicDisagreements.length>0?`
        <table>
          <thead><tr><th>Agent Pair</th><th>Disagree Rate</th><th>Top Symbols</th></tr></thead>
          <tbody>${l}</tbody>
        </table>`:'<p style="color:#484f58;font-size:0.8rem;font-style:italic;">No disagreements recorded yet. Rounds will populate this section.</p>'}
        <div class="stat-row" style="margin-top:0.8rem;"><span class="label">Total Rounds Analyzed</span><span class="value">${o.totalRoundsAnalyzed}</span></div>
      </div>
    </div>

    <!-- Model Fingerprints -->
    <h2 class="section-title">Model Fingerprints</h2>
    <div class="three-col">
      ${c}
    </div>

    <!-- Brain Feed -->
    <div class="brain-feed">
      <h2>Live Reasoning Feed</h2>
      <ul id="brain-feed-list">
        <li class="placeholder">Listening for live reasoning events via SSE...</li>
      </ul>
    </div>

    <!-- Methodology -->
    <div class="methodology">
      <h2>Methodology: 12-Pillar Scoring Framework</h2>
      <ol>
        <li><strong>Financial (13%)</strong> &mdash; P&amp;L, Sharpe ratio, win rate, max drawdown</li>
        <li><strong>Reasoning (12%)</strong> &mdash; Coherence, depth, logical consistency</li>
        <li><strong>Safety (10%)</strong> &mdash; Hallucination-free rate, trading discipline</li>
        <li><strong>Calibration (9%)</strong> &mdash; ECE, Brier score, monotonic quartiles</li>
        <li><strong>Patterns (6%)</strong> &mdash; Fallacy detection, cognitive bias recognition</li>
        <li><strong>Adaptability (6%)</strong> &mdash; Cross-regime performance, regime shift handling</li>
        <li><strong>Forensic Quality (8%)</strong> &mdash; Structure, originality, analytical clarity</li>
        <li><strong>Validation Quality (8%)</strong> &mdash; Source grounding, factual depth</li>
        <li><strong>Prediction Accuracy (7%)</strong> &mdash; Direction accuracy, target precision, resolution quality</li>
        <li><strong>Reasoning Stability (6%)</strong> &mdash; Sentiment volatility, conviction flip rate</li>
        <li><strong>Provenance Integrity (8%)</strong> &mdash; Cryptographic proof of pre-trade reasoning, chain validity, cross-agent witnesses</li>
        <li><strong>Model Comparison (7%)</strong> &mdash; Cross-model fingerprinting, bias asymmetry, reasoning divergence</li>
      </ol>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v15 &mdash; Industry-Standard AI Trading Benchmark</p>
    <p><a href="https://www.patgpt.us">patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:0.5rem;">12-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability, Provenance, Model Comparison</p>
    <p style="margin-top:0.3rem;">Citation: MoltApp Benchmark v15 (2025). Multi-agent LLM Trading Evaluation with Provenance Proofs. <a href="https://www.patgpt.us">patgpt.us</a></p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(function() { location.reload(); }, 45000);

    // SSE live feed
    (function() {
      try {
        var es = new EventSource(location.pathname.replace(/\\/$/, '') + '/stream');
        var list = document.getElementById('brain-feed-list');
        es.onmessage = function(e) {
          try {
            var d = JSON.parse(e.data);
            var li = document.createElement('li');
            var ts = d.timestamp ? new Date(d.timestamp).toLocaleTimeString() : '';
            li.textContent = '[' + ts + '] ' + (d.type || 'event') + (d.agentId ? ' (' + d.agentId + ')' : '') + ': ' + JSON.stringify(d);
            if (list.firstChild && list.firstChild.className === 'placeholder') list.innerHTML = '';
            list.insertBefore(li, list.firstChild);
            while (list.children.length > 50) list.removeChild(list.lastChild);
          } catch(ex) {}
        };
      } catch(ex) {}
    })();
  </script>
</body>
</html>`;return t.html(u)});Sve.get("/data",t=>{let e=F_t(),n=fve(),r=gve(),o=hve(),i=_ve(),s={};for(let a of vve)s[a]=mve(a);return t.json({ok:!0,benchmark:"moltapp-v15",pillars:[{name:"Financial",weight:.13,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.12,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.1,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.09,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.06,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.06,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.08,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.08,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.07,description:"Direction accuracy, target precision"},{name:"Reasoning Stability",weight:.06,description:"Sentiment vol, conviction flip rate"},{name:"Provenance Integrity",weight:.08,description:"Cryptographic pre-trade reasoning proof"},{name:"Model Comparison",weight:.07,description:"Cross-model fingerprinting, divergence"}],leaderboard:e,provenanceStats:n,crossModelStats:r,divergenceReport:{systematicDisagreements:o.systematicDisagreements,biasAsymmetries:o.biasAsymmetries,herdingTrend:o.herdingTrend,totalRoundsAnalyzed:o.totalRoundsAnalyzed},reproducibilityReport:i,fingerprints:s,timestamp:new Date().toISOString()})});Sve.get("/stream",t=>{let e=new ReadableStream({start(n){jj.add(n);let r=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v15",pillars:12})}

`;n.enqueue(new TextEncoder().encode(r))},cancel(n){jj.delete(n)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});mt();var H_t=new Map,W_t=new Map,Ave=new Map,KOn=200,JOn=.95,YOn=.9,QOn=.85,XOn=.8,ZOn=.75,e5n=.7,t5n=.65,n5n=.6,r5n=.55,o5n=.5,i5n=.45,s5n=.4,eR=5,G_t=20,a5n=3,V_t=2,z_t=1,c5n=.6,j_t=.7,qj=.5,l5n=.2,u5n=.5,d5n=.7,p5n=10,f5n=2,m5n=.3,h5n=.3,g5n=.3,y5n=.2,b5n=.2,K_t=.03,_5n=.5,J_t=.3,Y_t=.25,Q_t=.25,X_t=.2,S5n=.7,v5n=.3,E5n=2,A5n=4,x5n=.5,w5n=.3,Wj=.5;var T5n=.7,I5n=.6,R5n=.15,C5n=50;function Z_t(t){let e=H_t.get(t);return e||(e={coherence:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],wordCounts:[],quantClaims:[],hedgeWords:[],regimeActions:[],sentimentScores:[],intents:[],depths:[],forensicScores:[],validationScores:[],predictionCorrect:[],provenanceValid:[],modelComparisonScores:[]},H_t.set(t,e)),e}function Aa(t,e){t.push(e),t.length>KOn&&t.shift()}function ec(t){return t>=JOn?"A+":t>=YOn?"A":t>=QOn?"A-":t>=XOn?"B+":t>=ZOn?"B":t>=e5n?"B-":t>=t5n?"C+":t>=n5n?"C":t>=r5n?"C-":t>=o5n?"D+":t>=i5n?"D":t>=s5n?"D-":"F"}function q_t(t){if(t.length<2)return 0;let e=Ke(t);return Math.sqrt(t.reduce((n,r)=>n+(r-e)**2,0)/t.length)}function Kj(t){return t.length>0?ue(t,Boolean)/t.length:.5}var N5n=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\buncertain\b/i,/\bnot\s+sure\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\brisk\s+of\b/i,/\bcaveat\b/i,/\bdownside\s+scenario\b/i,/\bif\s+wrong\b/i,/\bstop[\s-]loss\b/i,/\bworst[\s-]case\b/i,/\bcontrary\b/i,/\balternatively\b/i,/\blimited\s+data\b/i,/\binsufficient\b/i];function O5n(t){let e=0;for(let n of N5n)n.test(t)&&e++;return e}function eSt(t){let e=(t.match(/\$[\d,.]+/g)??[]).length,n=(t.match(/[\d.]+%/g)??[]).length,r=(t.match(/\d+:\d+/g)??[]).length,o=(t.match(/\b\d+\.?\d*\s*(shares?|units?|days?|weeks?|months?)\b/gi)??[]).length;return e+n+r+o}function P5n(t){let e=qj;if(t.hedgeWords.length>=eR&&t.confidence.length>=eR){let s=t.hedgeWords.slice(-G_t),a=t.confidence.slice(-G_t),c=Math.min(s.length,a.length);if(c>=a5n){let l=0;for(let u=0;u<c;u++)(s[u]>V_t&&a[u]<c5n||s[u]<=z_t&&a[u]>j_t)&&l++;e=Math.min(1,l/c+l5n)}}let n=qj;if(t.confidence.length>=eR&&t.outcomes.length>=eR){let s=Math.min(t.confidence.length,t.outcomes.length),a=0;for(let c=t.confidence.length-s;c<t.confidence.length;c++){let l=c-(t.confidence.length-t.outcomes.length);if(l<0||l>=t.outcomes.length)continue;let u=t.confidence[c]>=j_t,d=t.outcomes[l];(u&&d||!u&&!d)&&a++}n=a/s}let r=qj;if(t.hedgeWords.length>=eR&&t.coherence.length>=eR){let s=Math.min(t.hedgeWords.length,t.coherence.length),a=0;for(let c=0;c<s;c++){let l=t.hedgeWords.length-s+c,u=t.coherence.length-s+c;t.coherence[u]<u5n&&t.hedgeWords[l]>=V_t&&a++,t.coherence[u]>d5n&&t.hedgeWords[l]<=z_t&&a++}r=a/s}let o=qj;if(t.regimeActions.length>=p5n){let s=new Map;for(let c of t.regimeActions){let l=s.get(c.regime)??{actions:[],successes:0,total:0};l.actions.push(c.action),l.total++,c.success&&l.successes++,s.set(c.regime,l)}let a=s.size;if(a>=f5n){let c=Array.from(s.values()).reduce((l,u)=>{let d=new Set(u.actions).size;return l+d/Math.max(1,u.actions.length)},0)/a;o=Math.min(1,c+m5n)}}let i=e*h5n+n*g5n+r*y5n+o*b5n;return{uncertaintyCalibration:ye(e),confidenceAccuracy:ye(n),hedgingAppropriacy:ye(r),regimeAdaptation:ye(o),composite:ye(i)}}var D5n=[/\bas\s+mentioned\b/i,/\bas\s+we\s+can\s+see\b/i,/\bit\s+is\s+worth\s+noting\b/i,/\bin\s+conclusion\b/i,/\boverall\b/i,/\bthat\s+being\s+said\b/i,/\blet\s+me\s+analyze\b/i,/\bI\s+will\s+now\b/i,/\blooking\s+at\s+the\s+data\b/i,/\bbased\s+on\s+(?:the\s+)?above\b/i,/\btaking\s+(?:all\s+)?(?:this|these)\s+into\s+(?:account|consideration)\b/i,/\bit\s+(?:is\s+)?important\s+to\s+note\b/i,/\bgiven\s+the\s+current\b/i],k5n=[/P\/E\s+ratio/i,/EPS/i,/revenue\s+growth/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/moving\s+average/i,/RSI/i,/MACD/i,/volume\s+profile/i,/market\s+cap/i,/dividend\s+yield/i,/beta/i,/sector\s+rotation/i,/correlation/i,/volatility/i,/liquidity/i,/spread/i,/momentum\s+indicator/i,/Sharpe\s+ratio/i,/drawdown/i,/VaR/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/guidance/i,/margin\s+expansion/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/book\s+value/i,/Fibonacci/i,/Bollinger/i,/stochastic/i,/head\s+and\s+shoulders/i,/cup\s+and\s+handle/i,/double\s+(?:top|bottom)/i,/breakout\s+(?:above|below)/i];function L5n(t){let e=vn(t);if(e===0)return{informationDensity:0,claimDensity:0,originalityPerWord:0,quantitativeRatio:0,composite:0};let n=0;for(let m of k5n)m.test(t)&&n++;let r=Math.min(1,n/(e*K_t+1)),o=0;for(let m of D5n)m.test(t)&&o++;let i=o/Math.max(1,n+o),s=Math.max(0,1-i),a=t.toLowerCase().split(/\s+/),c=new Set,l=[];for(let m=0;m<a.length-1;m++){let g=`${a[m]}_${a[m+1]}`;c.add(g),l.push(g)}let u=l.length>0?c.size/l.length:0,d=eSt(t),p=uo(t).length,f=Math.min(1,d/Math.max(1,p)*_5n),h=r*J_t+s*Y_t+u*Q_t+f*X_t;return{informationDensity:ye(r),claimDensity:ye(s),originalityPerWord:ye(u),quantitativeRatio:ye(f),composite:ye(h)}}var tc={financial:.12,reasoning:.11,safety:.09,calibration:.08,patterns:.05,adaptability:.05,forensicQuality:.08,validationQuality:.08,predictionAccuracy:.06,reasoningStability:.05,provenanceIntegrity:.06,modelComparison:.05,metacognition:.07,efficiency:.05};function tSt(t,e){let n=Z_t(t);Aa(n.coherence,e.coherence),Aa(n.hallucinationFree,e.hallucinationFree),Aa(n.discipline,e.discipline?1:0),Aa(n.confidence,e.confidence);let r=vn(e.reasoning);Aa(n.wordCounts,r),Aa(n.quantClaims,eSt(e.reasoning)),Aa(n.hedgeWords,O5n(e.reasoning)),e.depth!==void 0&&Aa(n.depths,e.depth),e.forensicScore!==void 0&&Aa(n.forensicScores,e.forensicScore),e.validationScore!==void 0&&Aa(n.validationScores,e.validationScore),e.outcome!==void 0&&Aa(n.outcomes,e.outcome),e.predictionCorrect!==void 0&&Aa(n.predictionCorrect,e.predictionCorrect),e.provenanceValid!==void 0&&Aa(n.provenanceValid,e.provenanceValid),e.modelComparisonScore!==void 0&&Aa(n.modelComparisonScores,e.modelComparisonScore),e.regime&&Aa(n.regimeActions,{regime:e.regime,action:e.action,success:e.outcome??e.coherence>.5}),Aa(n.sentimentScores,e.coherence*2-1)}function nSt(t){let e=Z_t(t),n=e.coherence.length,r=[],o=Ke(e.outcomes.map(U=>U?S5n:v5n));r.push({name:"financial",score:o,weight:tc.financial,grade:ec(o),components:{winRate:Kj(e.outcomes)},explanation:`Win rate: ${(Kj(e.outcomes)*100).toFixed(0)}%`});let i=Ke(e.coherence);r.push({name:"reasoning",score:i,weight:tc.reasoning,grade:ec(i),components:{avgCoherence:Ke(e.coherence),depthAvg:Ke(e.depths)},explanation:`Avg coherence: ${Ke(e.coherence).toFixed(3)}`});let s=Ke(e.hallucinationFree);r.push({name:"safety",score:s,weight:tc.safety,grade:ec(s),components:{hallucinationFreeRate:Ke(e.hallucinationFree),disciplineRate:Ke(e.discipline)},explanation:`Hallucination-free: ${(Ke(e.hallucinationFree)*100).toFixed(0)}%, Discipline: ${(Ke(e.discipline)*100).toFixed(0)}%`});let a=q_t(e.confidence),c=Math.max(0,1-a*E5n);r.push({name:"calibration",score:c,weight:tc.calibration,grade:ec(c),components:{confidenceStdDev:a,avgConfidence:Ke(e.confidence)},explanation:`Confidence variance: ${a.toFixed(3)}`});let l=Ke(e.depths.length>0?e.depths:[Wj]);r.push({name:"patterns",score:l,weight:tc.patterns,grade:ec(l),components:{depthAvg:Ke(e.depths)},explanation:`Avg depth score: ${l.toFixed(3)}`});let u=new Set(e.intents),d=Math.min(1,u.size/A5n*x5n+w5n);r.push({name:"adaptability",score:d,weight:tc.adaptability,grade:ec(d),components:{intentDiversity:u.size},explanation:`${u.size} distinct intents used`});let p=Ke(e.forensicScores.length>0?e.forensicScores:[Wj]);r.push({name:"forensicQuality",score:p,weight:tc.forensicQuality,grade:ec(p),components:{avgForensic:p},explanation:`Avg forensic: ${p.toFixed(3)}`});let f=Ke(e.validationScores.length>0?e.validationScores:[Wj]);r.push({name:"validationQuality",score:f,weight:tc.validationQuality,grade:ec(f),components:{avgValidation:f},explanation:`Avg validation: ${f.toFixed(3)}`});let h=Kj(e.predictionCorrect);r.push({name:"predictionAccuracy",score:h,weight:tc.predictionAccuracy,grade:ec(h),components:{accuracy:h},explanation:`Prediction correct: ${(h*100).toFixed(0)}%`});let m=q_t(e.sentimentScores),g=Math.max(0,1-m);r.push({name:"reasoningStability",score:g,weight:tc.reasoningStability,grade:ec(g),components:{sentimentStdDev:m},explanation:`Sentiment volatility: ${m.toFixed(3)}`});let y=Kj(e.provenanceValid);r.push({name:"provenanceIntegrity",score:y,weight:tc.provenanceIntegrity,grade:ec(y),components:{validRate:y},explanation:`Provenance valid: ${(y*100).toFixed(0)}%`});let S=Ke(e.modelComparisonScores.length>0?e.modelComparisonScores:[Wj]);r.push({name:"modelComparison",score:S,weight:tc.modelComparison,grade:ec(S),components:{avgScore:S},explanation:`Cross-model independence: ${S.toFixed(3)}`});let v=P5n(e);r.push({name:"metacognition",score:v.composite,weight:tc.metacognition,grade:ec(v.composite),components:{uncertaintyCalibration:v.uncertaintyCalibration,confidenceAccuracy:v.confidenceAccuracy,hedgingAppropriacy:v.hedgingAppropriacy,regimeAdaptation:v.regimeAdaptation},explanation:`Self-awareness: ${v.composite.toFixed(3)} \u2014 uncertainty=${v.uncertaintyCalibration.toFixed(2)}, accuracy=${v.confidenceAccuracy.toFixed(2)}`});let A=(e.wordCounts.length>0,""),w={informationDensity:Ke(e.quantClaims.map((U,G)=>Math.min(1,U/Math.max(1,(e.wordCounts[G]??C5n)*K_t+1)))),claimDensity:T5n,originalityPerWord:I5n,quantitativeRatio:Ke(e.quantClaims.map(U=>Math.min(1,U*R5n))),composite:0};w.composite=w.informationDensity*J_t+w.claimDensity*Y_t+w.originalityPerWord*Q_t+w.quantitativeRatio*X_t,r.push({name:"efficiency",score:w.composite,weight:tc.efficiency,grade:ec(w.composite),components:{informationDensity:w.informationDensity,quantitativeRatio:w.quantitativeRatio},explanation:`Signal-to-noise: ${w.composite.toFixed(3)}`});let I=ka(r,"score","weight"),D=ye(I),k=Ave.get(t)??0,O={agentId:t,composite:D,grade:ec(D),pillars:r,rank:0,rankChange:0,tradeCount:n,lastUpdated:new Date().toISOString(),metacognition:v,efficiency:w};return W_t.set(t,O),O}function M5n(){let t=Array.from(W_t.values());t.sort((e,n)=>n.composite-e.composite);for(let e=0;e<t.length;e++){let n=Ave.get(t[e].agentId)??e+1;t[e].rank=e+1,t[e].rankChange=n-(e+1),Ave.set(t[e].agentId,e+1)}return t}function Jj(){return M5n()}function rSt(t){return L5n(t)}function Yj(){return{...tc}}mt();var oSt=.5,Qj=.7,B5n=2,U5n=1,$5n=.25,F5n=.25,H5n=.2,G5n=.15,V5n=.15,z5n=.5,j5n=.3,q5n=.2,W5n=.4,K5n=.3,J5n=.3,Y5n=.4,Q5n=.3,X5n=.3,Z5n=.3,e8n=.35,t8n=.35,n8n=5,iSt=5,r8n=5,o8n=4,i8n=.5,s8n=-.5;var a8n=.3,Xj=new Map,c8n=300,l8n=[{pattern:/\bI('m|\s+am)\s+not\s+(entirely\s+)?sure\b/i,label:"explicit uncertainty"},{pattern:/\buncertain(?:ty)?\b/i,label:"uncertainty marker"},{pattern:/\bhard\s+to\s+(?:say|predict|tell)\b/i,label:"difficulty acknowledgement"},{pattern:/\blimited\s+(?:data|information|visibility)\b/i,label:"data limitation"},{pattern:/\binsufficient\s+(?:evidence|data)\b/i,label:"evidence gap"},{pattern:/\bcould\s+go\s+either\s+way\b/i,label:"ambiguity acknowledgement"},{pattern:/\bmixed\s+signals?\b/i,label:"conflicting data"},{pattern:/\bnot\s+(?:fully\s+)?convinced\b/i,label:"doubt expression"},{pattern:/\bconfidence\s+is\s+(?:low|moderate|limited)\b/i,label:"explicit low confidence"},{pattern:/\bdifficult\s+(?:market|conditions|environment)\b/i,label:"environment difficulty"}],u8n=[/\b(?:my|I)\s+(?:analysis|view|assessment|opinion|thesis|strategy)\b/i,/\b(?:my|I)\s+(?:previous|earlier|last)\s+(?:trade|decision|position)\b/i,/\b(?:I|my)\s+(?:was|were)\s+(?:wrong|incorrect|mistaken)\b/i,/\b(?:I|my)\s+(?:should\s+have|could\s+have)\b/i,/\b(?:adjusting|revising|updating)\s+my\b/i,/\blearned\s+(?:from|that)\b/i,/\b(?:my|I)\s+(?:bias|tendency|pattern)\b/i],d8n=[/\b(?:I\s+)?(?:can'?t|cannot|don'?t)\s+(?:predict|know|see|determine)\b/i,/\bbeyond\s+(?:my|the)\s+(?:ability|scope|capacity)\b/i,/\bnot\s+enough\s+(?:data|information|evidence)\b/i,/\bno\s+clear\s+(?:signal|trend|direction|catalyst)\b/i,/\black(?:ing)?\s+(?:of\s+)?(?:clarity|certainty|conviction)\b/i,/\bwithout\s+(?:more|additional|further)\s+(?:data|information)\b/i],p8n=[/\bif\s+.+(?:then|,)\b/i,/\bunless\b/i,/\bprovided\s+that\b/i,/\bassuming\b/i,/\bcontingent\s+(?:on|upon)\b/i,/\bshould\s+.+(?:then|,)\b/i,/\bin\s+case\b/i,/\bdepending\s+on\b/i];function sSt(t){let e=t.reasoning,n=[];for(let{pattern:u,label:d}of l8n)u.test(e)&&n.push(d);let r=[];for(let u of u8n){let d=e.match(u);d&&r.push(d[0])}let o=[];for(let u of d8n){let d=e.match(u);d&&o.push(d[0])}let i=0;for(let u of p8n)u.test(e)&&i++;let s=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\bprobably\b/i,/\blikely\b/i,/\btend\s+to\b/i,/\bgenerally\b/i,/\btypically\b/i,/\bsomewhat\b/i,/\bslightly\b/i,/\bapparently\b/i],a=0;for(let u of s)u.test(e)&&a++;let c={...t,hedgeCount:a,uncertaintyExpressions:n,selfReferences:r,limitationAcknowledgements:o,conditionalsCount:i},l=Xj.get(t.agentId);return l||(l=[],Xj.set(t.agentId,l)),l.push(c),l.length>c8n&&l.shift(),c}function f8n(t){let e=Xj.get(t);if(!e||e.length===0)return null;let n=e.length,r=fl(e,"hedgeCount"),o=ue(e,se=>se.uncertaintyExpressions.length>0)/n,i=ue(e,se=>se.conditionalsCount>0)/n,s=0,a=0;for(let se of e)(se.confidence<oSt&&se.hedgeCount>=B5n||se.confidence>=Qj&&se.hedgeCount<=U5n)&&a++;s=Math.min(1,a/n*z5n+o*j5n+i*q5n);let c={avgHedgeCount:re(r),uncertaintyRate:ye(o),conditionalRate:ye(i),examples:e.flatMap(se=>se.uncertaintyExpressions).slice(0,iSt)},l=e.filter(se=>se.wasCorrect!==void 0),u=.5,d=.5;if(l.length>=n8n){let se=l.filter(un=>un.confidence>=Qj),tn=l.filter(un=>un.confidence<oSt);u=se.length>0?ue(se,un=>un.wasCorrect===!0)/se.length:.5,d=tn.length>0?ue(tn,un=>un.wasCorrect===!0)/tn.length:.5}let p=Math.abs(u-d),f=l.length>0?ue(l,se=>se.confidence>=Qj&&!se.wasCorrect)/Math.max(1,ue(l,se=>se.confidence>=Qj)):a8n,h=u>d?Math.min(1,.5+p*2):Math.max(0,.5-p),m={highConfidenceAccuracy:ye(u),lowConfidenceAccuracy:ye(d),calibrationGap:ye(p),overconfidenceRate:ye(f)},g=0,y=0,S=0,v=0;for(let se=1;se<e.length;se++)e[se-1].wasCorrect===!1&&(v++,e[se].action!==e[se-1].action&&g++,e[se].confidence<e[se-1].confidence&&y++,e[se].symbol===e[se-1].symbol&&e[se].action===e[se-1].action&&S++);let A=v>0?g/v*W5n+y/v*K5n+Math.max(0,1-S/v)*J5n:.5,w={afterErrorActionChange:v>0?ye(g/v):0,afterErrorConfidenceAdjust:v>0?ye(y/v):0,repeatMistakeRate:v>0?ye(S/v):0},I=ue(e,se=>se.limitationAcknowledgements.length>0)/n,D=new Map;for(let se of e)D.set(se.symbol,(D.get(se.symbol)??0)+1);let k=Array.from(D.entries()).sort((se,tn)=>tn[1]-se[1]).slice(0,iSt).map(([se])=>se),O=D.size>0?Math.max(...D.values())/n:0,U=Math.min(1,I*Y5n+(1-O)*Q5n+Math.min(1,D.size/r8n)*X5n),G={limitationMentionRate:ye(I),topSymbols:k,symbolConcentration:ye(O)},J=e.map(se=>se.intent),C=new Set(J),_=Math.min(1,C.size/o8n),E=0,R=0;for(let se=1;se<e.length;se++)e[se-1].wasCorrect===!1&&(R++,e[se].intent!==e[se-1].intent&&E++);let M=e.slice(0,Math.floor(n/2)).reduce((se,tn)=>se+tn.confidence,0),$=e.slice(Math.floor(n/2)).reduce((se,tn)=>se+tn.confidence,0),j=Math.floor(n/2)||1,Y=n-j||1,z=1-Math.abs(M/j-$/Y),x=_*Z5n+(R>0?E/R:.5)*e8n+Math.max(0,z)*t8n,Q={intentChangeAfterLoss:R>0?ye(E/R):0,confidenceAdaptation:ye(Math.max(0,z)),strategyDiversity:ye(_)},Re=s*$5n+h*F5n+A*H5n+U*G5n+x*V5n,Se=e.slice(0,j),pe=e.slice(j),Ve=Se.reduce((se,tn)=>se+tn.hedgeCount+tn.conditionalsCount,0)/j,xe=pe.reduce((se,tn)=>se+tn.hedgeCount+tn.conditionalsCount,0)/Y,ut=xe-Ve,dt=ut>i8n?"improving":ut<s8n?"declining":"stable",Ot=`Metacognition markers ${dt}: ${Ve.toFixed(1)} (early) -> ${xe.toFixed(1)} (recent)`;return{agentId:t,tradeCount:n,lastUpdated:new Date().toISOString(),overallScore:ye(Re),grade:KI(Re),epistemicHumility:ye(s),calibrationAwareness:ye(h),errorRecognition:ye(A),scopeLimitation:ye(U),adaptiveStrategy:ye(x),humilityEvidence:c,calibrationEvidence:m,errorEvidence:w,scopeEvidence:G,adaptationEvidence:Q,trend:dt,trendDetail:Ot}}function xve(){let t=[];for(let e of Xj.keys()){let n=f8n(e);n&&t.push(n)}return t.sort((e,n)=>n.overallScore-e.overallScore),t}mt();var hb={analyticalBreadth:.18,evidenceSpecificity:.16,causalChain:.14,riskAwareness:.12,temporalReasoning:.1,comparativeAnalysis:.1,quantitativeRigor:.12,thesisStructure:.08},m8n=.95,h8n=.9,g8n=.85,y8n=.8,b8n=.75,_8n=.7,S8n=.65,v8n=.6,E8n=.55,A8n=.5,x8n=.45,w8n=.4,T8n=5,I8n=.08,R8n=4,C8n=4,N8n=3,O8n=3,P8n=.3,D8n=.8,k8n=.55,L8n=.3,M8n=.35,B8n=.35,U8n=.3,$8n=2,F8n=1;var H8n={valuation:[/P\/E\s+ratio/i,/price[\s-]to[\s-](?:earnings|book|sales)/i,/undervalued|overvalued/i,/intrinsic\s+value/i,/fair\s+value|price\s+target/i,/multiple\s+expansion/i,/EV\/EBITDA/i,/DCF/i,/book\s+value/i],technical:[/moving\s+average|SMA|EMA/i,/RSI|relative\s+strength/i,/MACD/i,/Bollinger\s+Band/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/breakout/i,/chart\s+pattern/i,/volume\s+(?:spike|surge|profile|analysis)/i,/Fibonacci/i,/stochastic/i,/divergence/i,/momentum\s+indicator/i,/candlestick/i,/trend\s*line/i,/golden\s+cross/i,/death\s+cross/i,/head\s+and\s+shoulders/i],fundamental:[/revenue\s+(?:growth|decline|beat|miss)/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/profit\s+margin/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/ROE|return\s+on\s+equity/i,/guidance/i,/margin\s+(?:expansion|compression)/i,/operating\s+(?:income|expenses)/i,/cost\s+(?:cutting|reduction)/i],macro:[/interest\s+rate/i,/Fed|Federal\s+Reserve/i,/inflation/i,/GDP|gross\s+domestic/i,/unemployment/i,/CPI/i,/monetary\s+policy/i,/fiscal\s+(?:policy|stimulus)/i,/recession/i,/economic\s+(?:growth|slowdown|cycle)/i,/Treasury|bond\s+yield/i,/dollar\s+(?:strength|weakness)/i],sentiment:[/market\s+sentiment/i,/investor\s+(?:confidence|fear|greed)/i,/VIX|fear\s+index/i,/put[\s-]call\s+ratio/i,/short\s+interest/i,/retail\s+(?:investor|trader)/i,/institutional\s+(?:buying|selling)/i,/insider\s+(?:buying|selling)/i,/social\s+media\s+sentiment/i,/fear\s+and\s+greed/i],sector:[/sector\s+(?:rotation|performance|comparison)/i,/industry\s+(?:trend|comparison|leader)/i,/peer\s+(?:group|comparison|performance)/i,/market\s+share/i,/competitive\s+(?:advantage|landscape|position)/i,/moat|barrier\s+to\s+entry/i,/TAM|total\s+addressable\s+market/i],risk:[/risk[\s-]reward/i,/downside\s+(?:risk|scenario|protection)/i,/stop[\s-]loss/i,/position\s+sizing/i,/portfolio\s+(?:concentration|diversification)/i,/worst[\s-]case/i,/tail\s+risk/i,/hedg/i,/maximum\s+(?:drawdown|loss)/i,/risk\s+management/i],catalyst:[/earnings\s+(?:call|report|season)/i,/product\s+launch/i,/FDA\s+(?:approval|decision)/i,/merger|acquisition|M&A/i,/IPO/i,/stock\s+(?:split|buyback)/i,/dividend/i,/regulation|regulatory/i,/partnership|collaboration/i,/patent/i,/clinical\s+trial/i,/new\s+contract/i],portfolio:[/portfolio\s+(?:allocation|weight|balance|rebalancing)/i,/position\s+(?:size|limit|management)/i,/cash\s+(?:buffer|reserve|allocation)/i,/concentration\s+risk/i,/diversif/i,/allocation\s+(?:target|limit)/i,/exposure|overexposed|underexposed/i],timing:[/entry\s+point|exit\s+(?:point|strategy)/i,/time\s+horizon/i,/short[\s-]term|medium[\s-]term|long[\s-]term/i,/holding\s+period/i,/swing\s+trade|day\s+trade/i,/dollar[\s-]cost\s+averag/i,/scaling\s+(?:in|out)/i,/patience|wait\s+for/i]},G8n=[/\bbecause\b/i,/\btherefore\b/i,/\bdue\s+to\b/i,/\bas\s+a\s+result\b/i,/\bconsequently\b/i,/\bthis\s+(?:means|suggests|implies|indicates)\b/i,/\bleading\s+to\b/i,/\bcaused\s+by\b/i,/\bdriven\s+by\b/i,/\bif\s+.+\s+then\b/i,/\bgiven\s+that\b/i,/\bwhich\s+(?:means|suggests|would)\b/i,/\bfor\s+this\s+reason\b/i,/\bhence\b/i],V8n=[/\brisk\b/i,/\bdownside\b/i,/\bworst[\s-]case\b/i,/\bcould\s+(?:fall|decline|drop)\b/i,/\bif\s+(?:wrong|incorrect)\b/i,/\bstop[\s-]loss\b/i,/\bhedg/i,/\bvolatil/i,/\buncertain/i,/\bcaveat/i,/\bwarn/i,/\blimit\s+(?:losses|downside|exposure)\b/i,/\bprotect/i,/\bdefensive/i,/\bcounterargument/i,/\bon\s+the\s+other\s+hand\b/i,/\bcontrary\s+(?:evidence|argument|view)\b/i],z8n=[/\bshort[\s-]term\b/i,/\bmedium[\s-]term\b/i,/\blong[\s-]term\b/i,/\bnext\s+(?:week|month|quarter|year|earnings)\b/i,/\bwithin\s+\d+\s+(?:day|week|month)/i,/\btime\s+horizon\b/i,/\bholding\s+period\b/i,/\bby\s+(?:year|quarter)[\s-]end\b/i,/\b(?:24h|48h|72h|1[\s-]week|2[\s-]week|1[\s-]month)/i,/\bhistoric/i,/\bseasonality/i,/\brecent(?:ly)?\b/i,/\bprevious(?:ly)?\b/i,/\bover\s+the\s+past\b/i],j8n=[/\bcompared\s+to\b/i,/\bversus\b/i,/\bvs\.?\b/i,/\brelative\s+to\b/i,/\boutperform/i,/\bunderperform/i,/\bbetter\s+than\b/i,/\bworse\s+than\b/i,/\balternative\b/i,/\binstead\s+of\b/i,/\bwhile\s+.+\s+on\s+the\s+other\b/i,/\bwhereas\b/i,/\bin\s+contrast\b/i,/\brather\s+than\b/i];function q8n(t){return t>=m8n?"A+":t>=h8n?"A":t>=g8n?"A-":t>=y8n?"B+":t>=b8n?"B":t>=_8n?"B-":t>=S8n?"C+":t>=v8n?"C":t>=E8n?"C-":t>=A8n?"D+":t>=x8n?"D":t>=w8n?"D-":"F"}function aSt(t){let e=t.split(/\s+/).filter(dt=>dt.length>0),n=e.length,o=uo(t,0).length,i=o>0?n/o:0,s=new Set(e.map(dt=>dt.toLowerCase())),a=n>0?s.size/n:0,c=(t.match(/\?/g)??[]).length,l=[];for(let[dt,Ot]of Object.entries(H8n))for(let se of Ot)if(se.test(t)){l.push(dt);break}let d={score:Math.min(1,l.length/T8n),weight:hb.analyticalBreadth,evidence:l.map(dt=>`Covers ${dt} analysis`)},p=(t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d+|\d{4,}/g)??[]).length,f=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).length,h=p+f,g={score:Math.min(1,h/(n*I8n+1)),weight:hb.evidenceSpecificity,evidence:[`${p} numeric references, ${f} symbol references`]},y=0,S=[];for(let dt of G8n){let Ot=t.match(dt);Ot&&(y++,S.push(Ot[0]))}let A={score:Math.min(1,y/R8n),weight:hb.causalChain,evidence:S.slice(0,5)},w=0,I=[];for(let dt of V8n){let Ot=t.match(dt);Ot&&(w++,I.push(Ot[0]))}let k={score:Math.min(1,w/C8n),weight:hb.riskAwareness,evidence:I.slice(0,5)},O=0,U=[];for(let dt of z8n){let Ot=t.match(dt);Ot&&(O++,U.push(Ot[0]))}let J={score:Math.min(1,O/N8n),weight:hb.temporalReasoning,evidence:U.slice(0,5)},C=0,_=[];for(let dt of j8n){let Ot=t.match(dt);Ot&&(C++,_.push(Ot[0]))}let R={score:Math.min(1,C/O8n),weight:hb.comparativeAnalysis,evidence:_.slice(0,5)},$={score:Math.min(1,p/(o*P8n+1)),weight:hb.quantitativeRigor,evidence:[`${p} quantitative claims across ${o} sentences`]},j=/\b(?:thesis|believe|position|view|strategy|approach|decision)\b/i.test(t),Y=p>=$8n||y>=F8n,z=/\b(?:therefore|thus|consequently|conclusion|accordingly|decision|action)\b/i.test(t),Q={score:(j?M8n:0)+(Y?B8n:0)+(z?U8n:0),weight:hb.thesisStructure,evidence:[j?"Has thesis statement":"Missing thesis",Y?"Has supporting evidence":"Missing evidence",z?"Has conclusion":"Missing conclusion"].filter(dt=>!dt.startsWith("Missing"))},Re={analyticalBreadth:d,evidenceSpecificity:g,causalChain:A,riskAwareness:k,temporalReasoning:J,comparativeAnalysis:R,quantitativeRigor:$,thesisStructure:Q},Se=Object.values(Re).reduce((dt,Ot)=>dt+Ot.score*Ot.weight,0),pe;Se>=D8n?pe="exceptional":Se>=k8n?pe="deep":Se>=L8n?pe="moderate":pe="shallow";let Ve=Object.entries(Re);Ve.sort((dt,Ot)=>Ot[1].score-dt[1].score);let xe=Ve[0][0],ut=Ve[Ve.length-1][0];return{overall:ye(Se),classification:pe,grade:q8n(Se),dimensions:Re,textMetrics:{wordCount:n,sentenceCount:o,avgSentenceLength:Math.round(i*10)/10,uniqueWordRatio:ye(a),questionCount:c},anglesDetected:l,strongestDimension:xe,weakestDimension:ut}}var Zj=new yr,zp=[],cSt=200;function lSt(t,e,n){let r={type:t,data:e,agentId:n,timestamp:new Date().toISOString()};zp.unshift(r),zp.length>cSt&&(zp.length=cSt)}Zj.get("/data",t=>{let e=Jj(),n=xve(),r=Yj();return t.json({ok:!0,version:"v16",pillarCount:14,timestamp:new Date().toISOString(),weights:r,leaderboard:e.map(o=>({...o,metacognitionReport:n.find(i=>i.agentId===o.agentId)??null})),recentEvents:zp.slice(0,20)})});Zj.get("/stream",t=>{let e=new TextEncoder,n=new ReadableStream({start(r){for(let a of zp.slice(0,10))r.enqueue(e.encode(`data: ${JSON.stringify(a)}

`));let o=setInterval(()=>{try{r.enqueue(e.encode(`data: ${JSON.stringify({type:"heartbeat",timestamp:new Date().toISOString()})}

`))}catch{clearInterval(o)}},3e4),i=zp.length,s=setInterval(()=>{try{if(zp.length>0&&i!==zp.length){let a=zp.slice(0,zp.length-i);for(let c of a)r.enqueue(e.encode(`data: ${JSON.stringify(c)}

`));i=zp.length}}catch{clearInterval(s),clearInterval(o)}},5e3)}});return new Response(n,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":"*"}})});Zj.get("/export",t=>{let e=t.req.query("format")??"jsonl",n=Jj(),r=xve(),o=n.map(s=>({agent_id:s.agentId,composite:s.composite,grade:s.grade,rank:s.rank,trade_count:s.tradeCount,pillar_scores:Object.fromEntries(s.pillars.map(a=>[a.name,a.score])),metacognition:s.metacognition,efficiency:s.efficiency,metacognition_report:r.find(a=>a.agentId===s.agentId)??null,timestamp:s.lastUpdated}));if(e==="csv"){let s=["agent_id","composite","grade","rank","trade_count",...Object.keys(Yj()),"metacognition_composite","efficiency_composite"],a=o.map(l=>[l.agent_id,l.composite,l.grade,l.rank,l.trade_count,...Object.values(l.pillar_scores),l.metacognition.composite,l.efficiency.composite].join(",")),c=[s.join(","),...a].join(`
`);return new Response(c,{headers:{"Content-Type":"text/csv","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.csv"}})}let i=o.map(s=>JSON.stringify(s)).join(`
`);return new Response(i,{headers:{"Content-Type":"application/x-ndjson","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.jsonl"}})});Zj.get("/",t=>{let e=Jj(),n=Yj(),r=e.map(s=>{let a=s.rankChange>0?"&#9650;":s.rankChange<0?"&#9660;":"&#9679;",c=s.rankChange>0?"#22c55e":s.rankChange<0?"#ef4444":"#6b7280",l=s.grade.startsWith("A")?"#22c55e":s.grade.startsWith("B")?"#3b82f6":s.grade.startsWith("C")?"#eab308":"#ef4444",u=s.pillars.map(d=>`<td style="background:${d.score>=.75?"rgba(34,197,94,0.15)":d.score>=.5?"rgba(234,179,8,0.15)":"rgba(239,68,68,0.15)"};text-align:center;padding:6px;font-size:13px;" title="${d.name}: ${d.explanation}">${d.score.toFixed(2)}</td>`).join("");return`<tr>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.rank}</td>
      <td style="padding:8px;">
        <span style="color:${c};font-size:11px;">${a}</span>
        <strong>${s.agentId}</strong>
      </td>
      <td style="text-align:center;padding:8px;font-size:18px;font-weight:bold;color:${l};">${s.grade}</td>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.composite.toFixed(3)}</td>
      ${u}
      <td style="text-align:center;padding:8px;font-size:13px;">${s.tradeCount}</td>
    </tr>`}).join(""),i=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MoltApp Benchmark v16 \u2014 14-Pillar AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark. 14-pillar scoring with metacognition analysis, reasoning efficiency, and advanced depth scoring.">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #e5e5e5; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 30px; padding: 30px 0; border-bottom: 1px solid #333; }
    .header h1 { font-size: 28px; margin-bottom: 8px; }
    .header h1 span { color: #f97316; }
    .header p { color: #999; font-size: 14px; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-flex; align-items: center; gap: 6px; padding: 5px 12px; border-radius: 9999px; font-size: 12px; font-weight: 600; border: 1px solid #333; }
    .badge.hf { background: rgba(255,213,51,0.1); border-color: rgba(255,213,51,0.3); color: #ffd533; }
    .badge.live { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.3); color: #22c55e; }
    .badge.pillars { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.3); color: #3b82f6; }
    .badge.new { background: rgba(168,85,247,0.1); border-color: rgba(168,85,247,0.3); color: #a855f7; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
    th { background: #1a1a1a; padding: 8px; text-align: left; font-size: 12px; color: #999; border-bottom: 2px solid #333; }
    td { padding: 8px; border-bottom: 1px solid #222; }
    tr:hover td { background: rgba(255,255,255,0.03); }
    .section { margin-top: 40px; }
    .section h2 { font-size: 20px; margin-bottom: 15px; border-left: 3px solid #f97316; padding-left: 12px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }
    .card { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 16px; }
    .card h3 { font-size: 14px; color: #f97316; margin-bottom: 8px; }
    .card p { font-size: 13px; color: #999; line-height: 1.5; }
    .metric { display: flex; justify-content: space-between; padding: 4px 0; }
    .metric-label { color: #888; font-size: 12px; }
    .metric-value { font-weight: bold; font-size: 13px; }
    .new-tag { background: #a855f7; color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; margin-left: 6px; }
    .footer { text-align: center; margin-top: 40px; padding: 20px 0; border-top: 1px solid #333; color: #666; font-size: 12px; }
    a { color: #3b82f6; text-decoration: none; }
    a:hover { text-decoration: underline; }
    @media (max-width: 768px) { .container { padding: 10px; } table { font-size: 12px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><span>MoltApp</span> AI Trading Benchmark v16</h1>
      <p>Industry-standard evaluation of AI agents trading real tokenized stocks on Solana</p>
      <div class="badges">
        <span class="badge hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
        <span class="badge live">&#9679; Live on patgpt.us</span>
        <span class="badge pillars">14 Scoring Pillars</span>
        <span class="badge new">NEW: Metacognition + Efficiency</span>
      </div>
    </div>

    <h2 style="font-size:18px;margin-bottom:10px;">Agent Leaderboard</h2>
    <div style="overflow-x:auto;">
      <table>
        <thead>
          <tr>
            <th style="text-align:center;">Rank</th>
            <th>Agent</th>
            <th style="text-align:center;">Grade</th>
            <th style="text-align:center;">Composite</th>
            ${Object.keys(n).map(s=>{let a=s.replace(/([A-Z])/g," $1").trim().split(" ").map(c=>c[0]).join("").toUpperCase();return`<th style="text-align:center;padding:6px;font-size:11px;max-width:60px;writing-mode:vertical-lr;transform:rotate(180deg);" title="${s} (${(n[s]*100).toFixed(0)}%)">${a}<br><span style="color:#888;font-size:9px;">${(n[s]*100).toFixed(0)}%</span></th>`}).join("")}
            <th style="text-align:center;">Trades</th>
          </tr>
        </thead>
        <tbody>
          ${r||'<tr><td colspan="18" style="text-align:center;padding:20px;color:#666;">No scoring data yet. Run trading rounds to populate the benchmark.</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>v16 New Pillars</h2>
      <div class="cards">
        <div class="card">
          <h3>Metacognition <span class="new-tag">NEW</span></h3>
          <p>Does the agent know what it knows? Measures epistemic humility, calibration awareness, error recognition, scope limitation, and adaptive strategy.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Epistemic Humility</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Calibration Awareness</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Error Recognition</span><span class="metric-value">20%</span></div>
            <div class="metric"><span class="metric-label">Scope Limitation</span><span class="metric-value">15%</span></div>
            <div class="metric"><span class="metric-label">Adaptive Strategy</span><span class="metric-value">15%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>Reasoning Efficiency <span class="new-tag">NEW</span></h3>
          <p>Signal-to-noise ratio in reasoning text. Rewards dense analytical content per word, penalizes verbose filler and boilerplate.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Information Density</span><span class="metric-value">30%</span></div>
            <div class="metric"><span class="metric-label">Claim Density</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Originality Per Word</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Quantitative Ratio</span><span class="metric-value">20%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>14-Pillar Composite Scoring</h3>
          <p>Unified scoring engine combining financial performance, reasoning quality, safety, calibration, patterns, adaptability, forensics, validation, predictions, stability, provenance, model comparison, metacognition, and efficiency.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Total Pillars</span><span class="metric-value">14</span></div>
            <div class="metric"><span class="metric-label">Grade Scale</span><span class="metric-value">A+ to F</span></div>
            <div class="metric"><span class="metric-label">Window Size</span><span class="metric-value">200 trades</span></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>API Endpoints</h2>
      <div class="cards">
        <div class="card">
          <h3>Dashboard &amp; Data</h3>
          <p>
            <code>/benchmark-v16</code> \u2014 This dashboard<br>
            <code>/benchmark-v16/data</code> \u2014 JSON leaderboard<br>
            <code>/benchmark-v16/stream</code> \u2014 SSE live events<br>
            <code>/benchmark-v16/export</code> \u2014 JSONL/CSV export
          </p>
        </div>
        <div class="card">
          <h3>v16 API</h3>
          <p>
            <code>/api/v1/benchmark-v16/scores</code> \u2014 All agent scores<br>
            <code>/api/v1/benchmark-v16/score/:id</code> \u2014 Agent score<br>
            <code>/api/v1/benchmark-v16/metacognition</code> \u2014 Reports<br>
            <code>/api/v1/benchmark-v16/metacognition/:id</code> \u2014 Agent<br>
            <code>/api/v1/benchmark-v16/depth/:id</code> \u2014 Depth analysis<br>
            <code>/api/v1/benchmark-v16/efficiency</code> \u2014 Efficiency<br>
            <code>/api/v1/benchmark-v16/schema</code> \u2014 Schema
          </p>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>MoltApp Benchmark v16 &middot; <a href="https://www.patgpt.us">patgpt.us</a> &middot; <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> &middot; Built for the Colosseum Agent Hackathon</p>
    </div>
  </div>
  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(i)});mt();var JE={financial:.11,reasoning:.1,safety:.08,calibration:.07,patterns:.05,adaptability:.05,forensic_quality:.07,validation_quality:.07,prediction_accuracy:.06,reasoning_stability:.05,provenance_integrity:.06,model_comparison:.05,metacognition:.06,reasoning_efficiency:.04,forensic_ledger:.04,strategy_genome:.04},W8n=.95,K8n=.9,J8n=.85,Y8n=.8,Q8n=.75,X8n=.7,Z8n=.65,ePn=.6,tPn=.55,nPn=.5,rPn=.45,oPn=.4,iPn=.05,sPn=-.05,aPn=4,uSt=5,cPn=10,dSt=200,lPn=20,uPn=50,dPn=3,pPn=3,fPn=.3,mPn=.3,gb=new Map,pSt=new Map,mSt=null,hSt=null,hPn=Date.now();function fSt(t){return t>=W8n?"A+":t>=K8n?"A":t>=J8n?"A-":t>=Y8n?"B+":t>=Q8n?"B":t>=X8n?"B-":t>=Z8n?"C+":t>=ePn?"C":t>=tPn?"C-":t>=nPn?"D+":t>=rPn?"D":t>=oPn?"D-":"F"}function gPn(t,e){if(t.length<aPn)return"stable";let n=t.slice(-uSt),r=t.slice(-cPn,-uSt);if(r.length===0)return"stable";let o=n.reduce((a,c)=>a+(c.scores[e]??0),0)/n.length,i=r.reduce((a,c)=>a+(c.scores[e]??0),0)/r.length,s=o-i;return s>iPn?"improving":s<sPn?"declining":"stable"}function gSt(t,e,n,r,o,i){mSt=o,hSt=new Date().toISOString();let s=pSt.get(t)??[];s.push({timestamp:Date.now(),scores:r}),s.length>dSt&&s.splice(0,s.length-dSt),pSt.set(t,s);let a=Object.entries(JE).map(([f,h])=>{let m=Lt(r[f]??.5,0,1);return{name:f,score:m,weight:h,components:{raw:r[f]??.5},grade:fSt(m),trend:gPn(s,f),confidence:Math.min(1,s.length/lPn)}}),c=a.reduce((f,h)=>f+h.score*h.weight,0),l=[...a].sort((f,h)=>h.score-f.score),u=l.slice(0,dPn).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),d=l.slice(-pPn).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),p=gb.get(t);gb.set(t,{agentId:t,provider:e,model:n,composite:c,grade:fSt(c),rank:0,pillars:a,strengths:u,weaknesses:d,tradeCount:(p?.tradeCount??0)+(i??1),dataQuality:Math.min(1,s.length/uPn),lastUpdated:new Date().toISOString(),eloRating:p?.eloRating??1500,streak:p?.streak??{type:"neutral",length:0}})}function ySt(t){let n=[...t].sort((r,o)=>o.composite-r.composite);for(let r=0;r<n.length;r++)for(let o=r+1;o<n.length;o++){let i=gb.get(n[r].agentId),s=gb.get(n[o].agentId);if(!i||!s)continue;let a=1/(1+Math.pow(10,(s.eloRating-i.eloRating)/400)),c=n[r].composite>n[o].composite?1:n[r].composite===n[o].composite?.5:0;i.eloRating=Math.round(i.eloRating+32*(c-a)),s.eloRating=Math.round(s.eloRating+32*(1-c-(1-a)))}if(n.length>0){let r=gb.get(n[0].agentId);r&&(r.streak.type==="win"?r.streak.length++:r.streak={type:"win",length:1});for(let o=1;o<n.length;o++){let i=gb.get(n[o].agentId);i&&(i.streak.type==="loss"?i.streak.length++:i.streak={type:"loss",length:1})}}}function Pd(){let t=[...gb.values()].sort((e,n)=>n.composite-e.composite);return t.forEach((e,n)=>{e.rank=n+1}),t}function yb(){let t=[...gb.values()],e=[],n=[];for(let[o]of Object.entries(JE))t.some(s=>s.pillars.find(a=>a.name===o&&a.confidence>mPn))||n.push(o);n.length>0&&e.push(`${n.length} pillars have insufficient data coverage`);for(let o of t)o.dataQuality<fPn&&e.push(`${o.agentId} has low data quality (${(o.dataQuality*100).toFixed(0)}%)`);let r={};for(let o of Object.keys(JE)){let i=t.filter(s=>s.pillars.find(a=>a.name===o&&a.score>0)).length;r[o]=t.length>0?i/t.length:0}return{version:"v17",totalAgents:t.length,totalTrades:t.reduce((o,i)=>o+i.tradeCount,0),avgDataQuality:t.length>0?t.reduce((o,i)=>o+i.dataQuality,0)/t.length:0,pillarCoverage:r,stalePillars:n,lastRoundId:mSt,lastRoundTimestamp:hSt,uptime:Date.now()-hPn,warnings:e}}function eq(){let t=Pd();return{metadata:{version:"v17",exportedAt:new Date().toISOString(),totalRecords:t.reduce((e,n)=>e+n.tradeCount,0),agents:t.map(e=>e.agentId),pillarCount:Object.keys(JE).length},agents:t,health:yb()}}mt();import{createHash as _St}from"crypto";var bSt=5e3;var yPn="v17",bPn=-1,jn=[];function SSt(t){let e=JSON.stringify({entryId:t.entryId,sequenceNumber:t.sequenceNumber,previousHash:t.previousHash,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,reasoning:t.reasoning,confidence:t.confidence,timestamp:t.timestamp});return _St("sha256").update(e).digest("hex")}function _Pn(t){let e=Object.entries(t).sort(([n],[r])=>n.localeCompare(r));return _St("sha256").update(JSON.stringify(e)).digest("hex")}function vSt(t){let e=jn.length,n=jn.length>0?jn[jn.length-1].entryHash:"genesis",r=`le_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,o=t.marketPrices[t.symbol]??t.marketPrices[t.symbol.toLowerCase()]??null,i={entryId:r,sequenceNumber:e,previousHash:n,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,quantity:t.quantity,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,predictedOutcome:t.predictedOutcome,marketSnapshotHash:_Pn(t.marketPrices),priceAtTrade:o,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePass:t.disciplinePass,depthScore:t.depthScore,forensicScore:t.forensicScore,efficiencyScore:t.efficiencyScore,outcomeResolved:!1,outcomeCorrect:null,pnlPercent:null,outcomeTimestamp:null,witnesses:t.witnesses,timestamp:new Date().toISOString(),benchmarkVersion:yPn},s=SSt(i),a={...i,entryHash:s};return jn.push(a),jn.length>bSt&&jn.splice(0,jn.length-bSt),a}function tq(){if(jn.length===0)return{intact:!0,brokenAt:null,totalChecked:0,genesisHash:"empty",latestHash:"empty"};for(let t=0;t<jn.length;t++){let e=jn[t],{entryHash:n,...r}=e;if(SSt(r)!==n)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:jn[0].entryHash,latestHash:jn[jn.length-1].entryHash};if(t>0&&e.previousHash!==jn[t-1].entryHash)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:jn[0].entryHash,latestHash:jn[jn.length-1].entryHash}}return{intact:!0,brokenAt:null,totalChecked:jn.length,genesisHash:jn[0].entryHash,latestHash:jn[jn.length-1].entryHash}}function i9(){let t={};for(let n of jn)t[n.agentId]||(t[n.agentId]={entries:0,avgCoherence:0,avgDepth:0,hallucinationRate:0,outcomeResolvedRate:0,outcomeAccuracyRate:0}),t[n.agentId].entries++;for(let[n,r]of Object.entries(t)){let o=jn.filter(s=>s.agentId===n);r.avgCoherence=fl(o,"coherenceScore"),r.avgDepth=fl(o,"depthScore"),r.hallucinationRate=ue(o,s=>s.hallucinationFlags.length>0)/o.length;let i=o.filter(s=>s.outcomeResolved);r.outcomeResolvedRate=i.length/o.length,r.outcomeAccuracyRate=i.length>0?ue(i,s=>s.outcomeCorrect===!0)/i.length:0}let e=tq();return{totalEntries:jn.length,chainIntact:e.intact,agentBreakdown:t,lastEntryHash:jn.length>0?jn[jn.length-1].entryHash:"empty",lastSequence:jn.length>0?jn[jn.length-1].sequenceNumber:bPn,oldestEntry:jn.length>0?jn[0].timestamp:null,newestEntry:jn.length>0?jn[jn.length-1].timestamp:null}}mt();var SPn=.7,vPn=.1,EPn=.4,APn=.4,xPn=.3,wPn=.3,TPn=.4,IPn=.3,RPn=.3,CPn=.4,NPn=.7,OPn=.65,PPn=.6,DPn=.6,kPn=.7,LPn=.6,MPn=.6,BPn=.6,UPn=3,$Pn=5,FPn=3,HPn=10,GPn=5,VPn=5,zPn=10,xSt=.5,jPn=.5,qPn=2;var ESt=300,ASt=new Map,s9=new Map;function bb(t,e,n,r,o,i){return t>i?r:t>o?n:e}function WPn(t){let e=t.filter(c=>c.action!=="hold"),n=1-e.length/Math.max(1,t.length),r=e.length>0?e.reduce((c,l)=>c+l.quantity,0)/e.length:0,o=ue(e,c=>c.confidence>SPn),i=Math.min(1,(1-n)*Wv.risk_appetite.hold_rate_inverse+Math.min(1,r/2e3)*Wv.risk_appetite.avg_trade_size+o/Math.max(1,e.length)*Wv.risk_appetite.high_conf_trades),s=[];s.push(`Hold rate: ${(n*100).toFixed(0)}%`),s.push(`Avg trade size: ${r.toFixed(0)}`),s.push(`High-confidence trades: ${o}/${e.length}`);let a=bb(i,"cautious","moderate","aggressive",EPn,NPn);return{name:"risk_appetite",score:i,phenotype:a,evidence:s,sampleSize:t.length}}function KPn(t){let e=t.filter(p=>p.action!=="hold");if(e.length<UPn)return{name:"conviction",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:e.length};let n=e.map(p=>({conf:p.confidence,qty:p.quantity})),r=n.reduce((p,f)=>p+f.conf,0)/n.length,o=n.reduce((p,f)=>p+f.qty,0)/n.length,i=0,s=0,a=0;for(let p of n){let f=p.conf-r,h=p.qty-o;i+=f*h,s+=f*f,a+=h*h}let c=s>0&&a>0?i/(Math.sqrt(s)*Math.sqrt(a)):0,l=Lt((c+1)/2,0,1),u=[];u.push(`Confidence-size correlation: ${c.toFixed(3)}`),u.push(`Avg confidence: ${(r*100).toFixed(0)}%`);let d=bb(l,"inconsistent","moderate_conviction","high_conviction",APn,OPn);return{name:"conviction",score:l,phenotype:d,evidence:u,sampleSize:e.length}}function JPn(t){let e=t.filter(a=>a.pnlAfter!==null);if(e.length<$Pn)return{name:"adaptability",score:.5,phenotype:"undetermined",evidence:["Insufficient outcome data"],sampleSize:e.length};let n=0,r=0;for(let a=1;a<e.length;a++){let c=e[a-1],l=e[a];if(c.pnlAfter!==null&&c.pnlAfter<0){r++;let u=l.action!==c.action,d=Math.abs(l.confidence-c.confidence)>vPn,p=l.intent!==c.intent;(u||d||p)&&n++}}let o=r>0?n/r:.5,i=[];i.push(`Behavior changes after loss: ${n}/${r}`),i.push(`Adaptation rate: ${(o*100).toFixed(0)}%`);let s=bb(o,"rigid","semi_adaptive","adaptive",xPn,PPn);return{name:"adaptability",score:o,phenotype:s,evidence:i,sampleSize:e.length}}function YPn(t){let e=t.filter(s=>s.consensusAction!==null&&s.action!=="hold");if(e.length<FPn)return{name:"contrarianism",score:.5,phenotype:"undetermined",evidence:["Insufficient consensus data"],sampleSize:e.length};let n=ue(e,s=>s.action!==s.consensusAction),r=n/e.length,o=[];o.push(`Went against consensus: ${n}/${e.length}`),o.push(`Contrarian rate: ${(r*100).toFixed(0)}%`);let i=bb(r,"conformist","independent","contrarian",wPn,DPn);return{name:"contrarianism",score:r,phenotype:i,evidence:o,sampleSize:e.length}}function QPn(t){let e=t.reduce((a,c)=>a+c.coherenceScore,0)/Math.max(1,t.length),n=ue(t,a=>a.hallucinationCount>0)/Math.max(1,t.length),r=t.reduce((a,c)=>a+vn(c.reasoning),0)/Math.max(1,t.length),o=Math.min(1,e*Wv.information_processing.avg_coherence+(1-n)*Wv.information_processing.hallucination_free+Math.min(1,r/100)*Wv.information_processing.reasoning_length),i=[];i.push(`Avg coherence: ${e.toFixed(2)}`),i.push(`Hallucination rate: ${(n*100).toFixed(0)}%`),i.push(`Avg reasoning length: ${r.toFixed(0)} words`);let s=bb(o,"shallow_processor","moderate_processor","deep_processor",TPn,kPn);return{name:"information_processing",score:o,phenotype:s,evidence:i,sampleSize:t.length}}function XPn(t){let e=[/short[\s-]term/i,/long[\s-]term/i,/near[\s-]term/i,/next\s+(week|month|quarter|year)/i,/within\s+\d+\s+(day|week|hour)/i,/holding\s+period/i,/time\s+horizon/i,/temporary|transient/i,/sustainable|structural/i,/cycle|seasonal/i],n=0;for(let s of t)for(let a of e)if(a.test(s.reasoning)){n++;break}let r=Math.min(1,n/Math.max(1,t.length)),o=[];o.push(`Temporal reasoning mentions: ${n}/${t.length} trades`);let i=bb(r,"time_blind","occasionally_temporal","temporally_aware",IPn,LPn);return{name:"temporal_awareness",score:r,phenotype:i,evidence:o,sampleSize:t.length}}function ZPn(t){if(t.length<GPn)return{name:"emotional_regulation",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.sqrt(t.reduce((i,s)=>{let a=t.reduce((c,l)=>c+l.confidence,0)/t.length;return i+(s.confidence-a)**2},0)/t.length),n=Math.max(0,1-e*3),r=[];r.push(`Confidence std dev: ${e.toFixed(3)}`);let o=bb(n,"volatile","semi_regulated","regulated",RPn,MPn);return{name:"emotional_regulation",score:n,phenotype:o,evidence:r,sampleSize:t.length}}function e9n(t){if(t.length<HPn)return{name:"learning_rate",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.floor(t.length/2),n=t.slice(0,e),r=t.slice(e),o=n.reduce((u,d)=>u+d.coherenceScore,0)/n.length,i=r.reduce((u,d)=>u+d.coherenceScore,0)/r.length,s=i-o,a=Lt(xSt+s*qPn,0,1),c=[];c.push(`First half coherence: ${o.toFixed(3)}`),c.push(`Second half coherence: ${i.toFixed(3)}`),c.push(`Improvement: ${s>0?"+":""}${(s*100).toFixed(1)}%`);let l=bb(a,"static_learner","slow_learner","fast_learner",CPn,BPn);return{name:"learning_rate",score:a,phenotype:l,evidence:c,sampleSize:t.length}}function t9n(t,e){let n=[WPn(e),KPn(e),JPn(e),YPn(e),QPn(e),XPn(e),ZPn(e),e9n(e)],o=n.map(l=>l.score.toFixed(4)).join(","),i=[...n].sort((l,u)=>u.score-l.score),s=`${i[0].name}:${i[0].phenotype}`,a=s9.get(t),c=xSt;if(a){let l=a.genes.map(p=>p.score),u=n.map(p=>p.score),d=eae(l,u);c=d!==0?d:jPn}return{agentId:t,genes:n,genomeHash:o,similarity:{},dominantPhenotype:s,genomeStability:c,lastUpdated:new Date().toISOString(),tradesSampled:e.length}}function wSt(t){let e=ASt.get(t.agentId)??[];if(e.push(t),e.length>ESt&&e.splice(0,e.length-ESt),ASt.set(t.agentId,e),e.length%VPn===0||e.length<zPn){let n=t9n(t.agentId,e);for(let[r,o]of s9.entries()){if(r===t.agentId)continue;let i=eae(n.genes.map(s=>s.score),o.genes.map(s=>s.score));n.similarity[r]=i,o.similarity[t.agentId]=i}s9.set(t.agentId,n)}}function wve(){return[...s9.values()]}function TSt(t){let e=s9.get(t);if(!e)return .5;let n=e.genes.map(r=>r.score);return QM(n,Hye)}var nq=new yr,YE=[],ISt=200;function RSt(t,e,n){YE.push({type:t,data:e,agentId:n,timestamp:Date.now()}),YE.length>ISt&&YE.splice(0,YE.length-ISt)}nq.get("/data",t=>{let e=Pd(),n=yb(),r=i9(),o=tq(),i=wve();return t.json({ok:!0,version:"v17",timestamp:new Date().toISOString(),pillarCount:Object.keys(JE).length,pillarWeights:JE,rankings:e.map(s=>({rank:s.rank,agentId:s.agentId,provider:s.provider,model:s.model,composite:s.composite,grade:s.grade,eloRating:s.eloRating,streak:s.streak,tradeCount:s.tradeCount,dataQuality:s.dataQuality,pillars:s.pillars.map(a=>({name:a.name,score:a.score,grade:a.grade,weight:a.weight,trend:a.trend})),strengths:s.strengths,weaknesses:s.weaknesses})),health:n,ledger:{totalEntries:r.totalEntries,chainIntact:r.chainIntact,lastHash:r.lastEntryHash.slice(0,16)+"...",agentBreakdown:r.agentBreakdown},integrity:{intact:o.intact,totalChecked:o.totalChecked,genesisHash:o.genesisHash.slice(0,16)+"...",latestHash:o.latestHash.slice(0,16)+"..."},genomes:i.map(s=>({agentId:s.agentId,dominantPhenotype:s.dominantPhenotype,genomeStability:s.genomeStability,tradesSampled:s.tradesSampled,genes:s.genes.map(a=>({name:a.name,score:a.score,phenotype:a.phenotype})),similarity:s.similarity})),recentEvents:YE.slice(-20)})});nq.get("/stream",t=>{let e=0,n=new ReadableStream({start(r){let o=new TextEncoder;r.enqueue(o.encode(`data: ${JSON.stringify({type:"connected",version:"v17"})}

`));let i=setInterval(()=>{let s=YE.filter(a=>a.timestamp>e);for(let a of s)r.enqueue(o.encode(`data: ${JSON.stringify(a)}

`)),e=a.timestamp},2e3);setTimeout(()=>{clearInterval(i);try{r.close()}catch{}},3e5)}});return new Response(n,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});nq.get("/export",t=>{let e=eq();if((t.req.query("format")??"json")==="jsonl"){let r=e.agents.map(o=>JSON.stringify(o)).join(`
`);return new Response(r,{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=moltapp-v17-benchmark.jsonl"}})}return t.json(e)});function n9n(t,e){let n=Math.round(t*100),r=t>=.8?"#22c55e":t>=.6?"#eab308":t>=.4?"#f97316":"#ef4444";return`<div style="margin:2px 0"><span style="display:inline-block;width:130px;font-size:11px;color:#94a3b8">${e}</span><div style="display:inline-block;width:120px;height:12px;background:#1e293b;border-radius:3px;overflow:hidden;vertical-align:middle"><div style="width:${n}%;height:100%;background:${r}"></div></div><span style="font-size:11px;color:${r};margin-left:4px">${n}%</span></div>`}function r9n(t){return t.startsWith("A")?"#22c55e":t.startsWith("B")?"#3b82f6":t.startsWith("C")?"#eab308":t.startsWith("D")?"#f97316":"#ef4444"}function o9n(t){let e=t.pillars.map(r=>n9n(r.score,r.name)).join(""),n=r9n(t.grade);return`
    <div style="background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:20px;margin:12px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div>
          <span style="font-size:24px;font-weight:700;color:${n}">#${t.rank}</span>
          <span style="font-size:18px;font-weight:600;color:#f1f5f9;margin-left:8px">${t.agentId}</span>
          <span style="font-size:12px;color:#64748b;margin-left:8px">${t.provider} / ${t.model}</span>
        </div>
        <div style="text-align:right">
          <div style="font-size:32px;font-weight:800;color:${n}">${t.grade}</div>
          <div style="font-size:14px;color:#94a3b8">${(t.composite*100).toFixed(1)}% composite</div>
          <div style="font-size:12px;color:#64748b">Elo: ${t.eloRating} | Trades: ${t.tradeCount}</div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div>${e}</div>
        <div style="padding-left:12px">
          <div style="font-size:12px;color:#22c55e;margin-bottom:4px">Strengths</div>
          ${t.strengths.map(r=>`<div style="font-size:11px;color:#94a3b8">+ ${r}</div>`).join("")}
          <div style="font-size:12px;color:#f97316;margin-top:8px;margin-bottom:4px">Weaknesses</div>
          ${t.weaknesses.map(r=>`<div style="font-size:11px;color:#94a3b8">- ${r}</div>`).join("")}
        </div>
      </div>
    </div>`}nq.get("/",t=>{let e=Pd(),n=yb(),r=i9(),o=tq(),i=wve(),s=YE.slice(-10),a=e.map(o9n).join(""),c=i.map(d=>{let p=d.genes.map(f=>`<span style="display:inline-block;padding:2px 8px;margin:2px;border-radius:4px;font-size:11px;background:${f.score>=.6?"#14532d":f.score>=.4?"#713f12":"#7f1d1d"};color:${f.score>=.6?"#86efac":f.score>=.4?"#fcd34d":"#fca5a5"}">${f.name}: ${f.phenotype} (${(f.score*100).toFixed(0)}%)</span>`).join("");return`<div style="margin:8px 0"><strong style="color:#e2e8f0">${d.agentId}</strong> <span style="color:#64748b">stability: ${(d.genomeStability*100).toFixed(0)}%</span><br/>${p}</div>`}).join(""),l=s.length>0?s.map(d=>`<div style="padding:4px 0;border-bottom:1px solid #1e293b;font-size:11px"><span style="color:#3b82f6">${d.type}</span> <span style="color:#64748b">${d.agentId??""}</span> <span style="color:#94a3b8">${JSON.stringify(d.data).slice(0,120)}</span></div>`).join(""):'<div style="color:#64748b;font-size:12px">No events yet. Run a trading round to generate benchmark data.</div>',u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MoltApp Benchmark v17 \u2014 AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark with 16-pillar scoring, forensic ledger, and strategy genomes."/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#020617;color:#e2e8f0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    .header{text-align:center;padding:40px 0 20px}
    .header h1{font-size:36px;font-weight:800;background:linear-gradient(135deg,#3b82f6,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .badges{display:flex;gap:8px;justify-content:center;margin-top:12px;flex-wrap:wrap}
    .badge{display:inline-block;padding:4px 12px;border-radius:999px;font-size:12px;font-weight:600}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0}
    .card{background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:16px}
    .card h3{font-size:14px;color:#94a3b8;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}
    .stat{font-size:28px;font-weight:700;color:#f1f5f9}
    .sub{font-size:12px;color:#64748b}
    @media(max-width:768px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v17</h1>
      <p style="color:#94a3b8;margin-top:8px">Industry-Standard AI Trading Intelligence Benchmark</p>
      <div class="badges">
        <span class="badge" style="background:#1e3a5f;color:#60a5fa">16 Pillars</span>
        <span class="badge" style="background:#3f1d5c;color:#c084fc">Forensic Ledger</span>
        <span class="badge" style="background:#1e3a2f;color:#86efac">Strategy Genomes</span>
        <span class="badge" style="background:#3f1d1d;color:#fca5a5">Live on Solana</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="text-decoration:none"><span class="badge" style="background:#1a1a2e;color:#fbbf24">HuggingFace Dataset</span></a>
        <a href="https://www.patgpt.us" style="text-decoration:none"><span class="badge" style="background:#1a2e1a;color:#86efac">patgpt.us</span></a>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Benchmark Health</h3>
        <div class="stat">${n.totalAgents} Agents</div>
        <div class="sub">${n.totalTrades} total trades | Data quality: ${(n.avgDataQuality*100).toFixed(0)}%</div>
        <div class="sub">Uptime: ${Math.round(n.uptime/6e4)} min | ${n.warnings.length} warning(s)</div>
      </div>
      <div class="card">
        <h3>Forensic Ledger</h3>
        <div class="stat">${r.totalEntries} Entries</div>
        <div class="sub">Chain: ${o.intact?"INTACT":"BROKEN"} | Hash: ${r.lastEntryHash.slice(0,12)}...</div>
        <div class="sub">${o.totalChecked} hashes verified</div>
      </div>
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Agent Rankings</h2>
    ${a||'<div style="color:#64748b;padding:20px;text-align:center">No agents scored yet. Run trading rounds to populate the benchmark.</div>'}

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Strategy Genomes</h2>
    <div class="card">
      ${c||'<div style="color:#64748b">Genome data populates as agents trade. Each agent develops a unique behavioral DNA profile.</div>'}
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Live Event Feed</h2>
    <div class="card" style="max-height:300px;overflow-y:auto">
      ${l}
    </div>

    <div style="text-align:center;margin-top:40px;padding:20px;color:#64748b;font-size:12px">
      <p>MoltApp v17 \u2014 AI Trading Benchmark | <a href="/benchmark-v17/data" style="color:#3b82f6">API</a> | <a href="/benchmark-v17/stream" style="color:#3b82f6">Stream</a> | <a href="/benchmark-v17/export" style="color:#3b82f6">Export</a></p>
      <p style="margin-top:4px"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#fbbf24">HuggingFace Dataset</a> | <a href="https://www.patgpt.us" style="color:#86efac">patgpt.us</a></p>
    </div>
  </div>

  <script>
    // Auto-refresh data every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(u)});mt();var i9n=1,s9n=1,a9n=.3,c9n=.2,l9n=.3,u9n=.2,d9n=.15;var p9n=.2,f9n=.75,m9n=.25,h9n=2,g9n=.85,y9n=40,b9n=.25,_9n=.25,S9n=.25,v9n=.25,rq=new Map,CSt=new Map,NSt=200;function E9n(t,e,n){if(!(e==="up"&&n==="negative"||e==="down"&&n==="positive"))return{conflictPresent:!1,agentAcknowledged:!1,score:i9n};let i=[/despite|although|however|nevertheless|contrary to|conflicting|mixed signals/i,/price.*(?:up|rising|gain).*(?:negative|bearish|concerning|worry)/i,/price.*(?:down|fall|decline).*(?:positive|bullish|favorable|good)/i,/diverge|disconnect|inconsistent|paradox|contradiction/i,/on one hand.*on the other/i,/risk.*reward/i].some(a=>a.test(t));return{conflictPresent:!0,agentAcknowledged:i,score:i?s9n:a9n}}function A9n(t,e,n){let r=[],o=[/all.time\s+high/i,/52.week\s+(?:high|low)/i,/used\s+to\s+(?:be|trade)\s+at/i,/was\s+(?:once|previously)\s+(?:at\s+)?\$[\d,.]+/i,/down\s+\d+%\s+from\s+(?:its\s+)?(?:peak|high|ath)/i,/compared\s+to\s+(?:its\s+)?(?:previous|past|historical)/i];for(let d of o){let p=t.match(d);p&&r.push(p[0])}let s=[/current(?:ly)?\s+(?:at|trading|priced)/i,/today|this\s+session|right\s+now/i,/latest\s+(?:price|data|reading)/i,/as\s+of\s+(?:now|today)/i].some(d=>d.test(t)),a=t.match(/\$[\d,]+\.?\d*/g)??[],c=0,l=0;for(let d of a){let p=parseFloat(d.replace(/[$,]/g,""));p>0&&(Math.abs(p-e)/e<c9n?c++:l++)}let u=1;return r.length>0&&!s&&(u-=l9n),r.length>2&&(u-=u9n),l>c&&a.length>0&&(u-=d9n),{score:Lt(u,0,1),anchoredReferences:r}}function x9n(t,e,n){let r=[],o=[];if(n.hasZeroVolume&&(/volume|liquid|thin|illiquid/i.test(t)?r.push("zero_volume_acknowledged"):o.push("zero_volume_ignored")),n.hasMissingData&&(/missing|unavailable|no data|insufficient|incomplete/i.test(t)?r.push("missing_data_acknowledged"):o.push("missing_data_ignored")),n.hasExtremeMove){let a=n.extremeMovePercent??0;/extreme|unusual|abnormal|volatile|spike|crash|surge|halt/i.test(t)?r.push(`extreme_move_${a>0?"up":"down"}_acknowledged`):o.push(`extreme_move_${Math.abs(a).toFixed(0)}pct_ignored`),e!=="hold"&&o.length>0&&o.push("traded_into_extreme_without_acknowledgment")}let i=r.length+o.length;return{score:i>0?r.length/i:1,handledEdgeCases:r,missedEdgeCases:o}}function w9n(t,e,n){let r=[],o=(t.match(/loss|lose|losing|lost|decline|drop|fall|crash/gi)??[]).length,i=(t.match(/gain|win|profit|rise|growth|rally|surge/gi)??[]).length,s=o+i;if(s>0){let d=o/s;d>f9n&&e==="buy"&&r.push("loss_framing_with_buy_decision"),d<m9n&&e==="sell"&&r.push("gain_framing_with_sell_decision")}ue([/just\s+(?:yesterday|today|recently)/i,/in\s+the\s+last\s+(?:few|24)\s+(?:hours|minutes)/i,/this\s+morning|this\s+afternoon/i],d=>d.test(t))>=h9n&&r.push("heavy_recency_bias");let l=vn(t);return n>g9n&&l<y9n&&r.push("overconfident_with_thin_reasoning"),/already\s+invested|can't\s+sell\s+now|cost\s+basis|break\s+even/i.test(t)&&r.push("sunk_cost_language"),{score:Math.max(0,1-r.length*p9n),framingBiasIndicators:r}}function OSt(t,e,n,r,o,i,s){let a=E9n(e,s.priceDirection,s.newsDirection),c=A9n(e,i,r),l=x9n(e,n,s),u=w9n(e,n,o),d=[];!a.agentAcknowledged&&a.conflictPresent&&d.push("Missed conflicting signals between price and news");for(let f of c.anchoredReferences)d.push(`Anchored to historical: ${f}`);for(let f of l.missedEdgeCases)d.push(`Edge case missed: ${f}`);for(let f of u.framingBiasIndicators)d.push(`Framing bias: ${f}`);return{overallScore:Math.round((a.score*b9n+c.score*_9n+l.score*S9n+u.score*v9n)*1e3)/1e3,signalConflict:a,anchoring:c,edgeCases:l,framing:u,vulnerabilities:d}}function PSt(t,e,n){let r=rq.get(t)??[];r.push({testId:`adv_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,testType:"signal_conflict",baselineReasoning:"",adversarialReasoning:"",baselineAction:"",adversarialAction:"",susceptibility:1-e.overallScore,vulnerabilities:e.vulnerabilities,adversarialAwareness:e.vulnerabilities.length===0,timestamp:new Date().toISOString()}),r.length>NSt&&r.splice(0,r.length-NSt),rq.set(t,r)}function DSt(t){let e=CSt.get(t.agentId)??[];e.push(t),e.length>100&&e.splice(0,e.length-100),CSt.set(t.agentId,e)}function kSt(t){let e=rq.get(t)??[];if(e.length===0)return{agentId:t,overallScore:.5,testCount:0,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:[],trend:"stable",lastUpdated:new Date().toISOString()};let n=e.reduce((d,p)=>d+p.susceptibility,0)/e.length,r=new Map;for(let d of e)for(let p of d.vulnerabilities)r.set(p,(r.get(p)??0)+1);let o=[...r.entries()].sort((d,p)=>p[1]-d[1]).slice(0,5).map(([d])=>d),i=Math.floor(e.length/2),s=e.slice(0,i),a=e.slice(i),c=s.length>0?s.reduce((d,p)=>d+p.susceptibility,0)/s.length:0,l=a.length>0?a.reduce((d,p)=>d+p.susceptibility,0)/a.length:0,u=l<c-.05?"improving":l>c+.05?"declining":"stable";return{agentId:t,overallScore:ye(1-n),testCount:e.length,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:o,trend:u,lastUpdated:new Date().toISOString()}}function Tve(){return[...rq.keys()].map(kSt)}function tR(t){return kSt(t).overallScore}mt();var T9n=2,I9n=3,Ive=.4;var R9n=.05;var C9n=10;var N9n=.3;var oq=new Map,LSt=500;function MSt(t){let e=oq.get(t.agentId)??[];e.push(t),e.length>LSt&&e.splice(0,e.length-LSt),oq.set(t.agentId,e)}function O9n(t){let e=[],n=new Map;for(let s of t)if(s.wasCorrect===!1){let a=`${s.symbol}_${s.action}`,c=n.get(a)??[];c.push(s),n.set(a,c)}for(let[s,a]of n)if(a.length>=T9n){let[c,l]=s.split("_");e.push({type:"repeated_losing_trade",symbol:c,occurrences:a.length,firstSeen:a[0].timestamp,lastSeen:a[a.length-1].timestamp,description:`Agent keeps ${l}ing ${c} and losing (${a.length} times)`})}let r=new Map;for(let s of t)s.coherenceScore<Ive&&r.set(s.symbol,(r.get(s.symbol)??0)+1);for(let[s,a]of r)a>=I9n&&e.push({type:"persistent_incoherence",symbol:s,occurrences:a,firstSeen:t.find(c=>c.symbol===s&&c.coherenceScore<Ive)?.timestamp??"",lastSeen:[...t].reverse().find(c=>c.symbol===s&&c.coherenceScore<Ive)?.timestamp??"",description:`Agent consistently produces low-coherence reasoning for ${s} (${a} times)`});let o=e.reduce((s,a)=>s+a.occurrences,0),i=t.length>0?Math.max(0,1-o/(t.length*N9n)):.5;return{score:ye(i),patterns:e}}function P9n(t){let e=0,n=0,r=new Map;for(let i of t){let s=r.get(i.symbol)??[];s.push(i),r.set(i.symbol,s)}for(let i of r.values())for(let s=1;s<i.length;s++){let a=i[s-1],c=i[s];if(a.wasCorrect===!1){n++;let l=c.action!==a.action,u=c.confidence<a.confidence-R9n,d=c.intent!==a.intent;(l||u||d)&&e++}}let o=n>0?e/n:.5;return{score:ye(o)}}function D9n(t){if(t.length<C9n)return{score:.5};let e=Math.floor(t.length/2),n=t.slice(0,e),r=t.slice(e),o=new Map,i=new Map;for(let h of n)o.set(h.intent,(o.get(h.intent)??0)+1);for(let h of r)i.set(h.intent,(i.get(h.intent)??0)+1);let s=h=>{let m=[...h.values()].reduce((y,S)=>y+S,0);if(m===0)return 0;let g=0;for(let y of h.values()){let S=y/m;S>0&&(g-=S*Math.log2(S))}return g},a=s(o),l=s(i)-a,u=n.reduce((h,m)=>h+m.coherenceScore,0)/n.length,p=r.reduce((h,m)=>h+m.coherenceScore,0)/r.length-u,f=.5;return l>.1&&(f+=.15),l>.3&&(f+=.1),p>.05&&(f+=.15),p>.1&&(f+=.1),{score:ye(Math.min(1,Math.max(0,f)))}}function k9n(t){let e=new Map;for(let i of t){let s=e.get(i.symbol)??[];s.push(i),e.set(i.symbol,s)}let n=0,r=0;for(let i of e.values()){if(i.length<3)continue;r++;let s=Math.floor(i.length/2),a=i.slice(0,s).reduce((l,u)=>l+u.coherenceScore,0)/s;i.slice(s).reduce((l,u)=>l+u.coherenceScore,0)/(i.length-s)>a+.03&&n++}let o=r>0?n/r:.5;return{score:ye(Lt(o*.8+.2,0,1))}}function L9n(t){let e=0,n=0;for(let o=1;o<t.length;o++){let i=t[o-1],s=t[o];i.wasCorrect===!1&&i.confidence>.6&&(n++,s.confidence<i.confidence-.05&&e++)}let r=n>0?e/n:.5;return{score:ye(Lt(r,0,1))}}function BSt(t){let e=oq.get(t)??[];if(e.length<5)return{agentId:t,memoryScore:.5,totalEntries:e.length,dimensions:{mistakeRepetition:.5,lessonRetention:.5,strategyEvolution:.5,symbolKnowledge:.5,confidenceRecalibration:.5},repeatedMistakes:[],learningCurve:[],memoryStrengths:[],memoryWeaknesses:[],trend:"stable",lastUpdated:new Date().toISOString()};let n=O9n(e),r=P9n(e),o=D9n(e),i=k9n(e),s=L9n(e),a={mistakeRepetition:n.score,lessonRetention:r.score,strategyEvolution:o.score,symbolKnowledge:i.score,confidenceRecalibration:s.score},c=Math.round((a.mistakeRepetition*.25+a.lessonRetention*.25+a.strategyEvolution*.2+a.symbolKnowledge*.15+a.confidenceRecalibration*.15)*1e3)/1e3,l=10,u=[];for(let y=l;y<=e.length;y+=l){let S=e.slice(y-l,y),v=S.reduce((A,w)=>A+w.coherenceScore,0)/S.length;u.push({round:y,score:ye(v)})}let d=[],p=[];a.mistakeRepetition>.7?d.push("Avoids repeating mistakes"):a.mistakeRepetition<.4&&p.push("Repeats losing patterns"),a.lessonRetention>.7?d.push("Learns from losses"):a.lessonRetention<.4&&p.push("Does not adapt after losses"),a.strategyEvolution>.7?d.push("Evolves strategy over time"):a.strategyEvolution<.4&&p.push("Static strategy regardless of conditions"),a.symbolKnowledge>.7?d.push("Builds stock-specific expertise"):a.symbolKnowledge<.4&&p.push("No improvement on familiar stocks"),a.confidenceRecalibration>.7?d.push("Adjusts confidence after misses"):a.confidenceRecalibration<.4&&p.push("Stays overconfident after errors");let f=Math.floor(e.length/2),h=e.slice(0,f).reduce((y,S)=>y+S.coherenceScore,0)/f,m=e.slice(f).reduce((y,S)=>y+S.coherenceScore,0)/(e.length-f),g=m>h+.05?"improving":m<h-.05?"declining":"stable";return{agentId:t,memoryScore:c,totalEntries:e.length,dimensions:a,repeatedMistakes:n.patterns,learningCurve:u,memoryStrengths:d,memoryWeaknesses:p,trend:g,lastUpdated:new Date().toISOString()}}function Rve(){return[...oq.keys()].map(BSt)}function nR(t){return BSt(t).memoryScore}mt();var USt=5,M9n=.15,B9n=.25,$St=.1,U9n=.03,$9n=.01,F9n=.05,H9n=.3,G9n=.15,V9n=.85,z9n=.5,j9n=.8,q9n=.1,W9n=.3,K9n=.15,J9n=.6,Y9n=.8,Q9n=1.5,X9n=.1,Z9n=.5,eDn=.3,tDn=.5,nDn=1,rDn=.25,oDn=.2,iDn=.25,sDn=.2,aDn=.25,cDn=.15,lDn=.15,uDn=5,dDn=3,pDn=10,fDn=80;var GSt=10,mDn=30,hDn=10;var tl=[],_b=[],FSt=200,HSt=100;function VSt(t){tl.push(t),tl.length>FSt&&tl.splice(0,tl.length-FSt);let e=gDn(t);for(let n of e)_b.push(n),_b.length>HSt&&_b.splice(0,_b.length-HSt)}function gDn(t){let e=[];if(tl.length<USt)return e;let n=tl.slice(-GSt),r=tl.slice(-mDn,-hDn);if(r.length<USt)return e;let o=nc(n,y=>{let S=Object.values(y.agentScores);return S.length>0?S.reduce((v,A)=>v+A,0)/S.length:0}),i=nc(r,y=>{let S=Object.values(y.agentScores);return S.length>0?S.reduce((v,A)=>v+A,0)/S.length:0}),s=Math.abs(o-i);s>M9n&&e.push({id:`reg_${Date.now()}_drift`,type:"scoring_drift",severity:s>B9n?"high":"medium",description:`Composite scores shifted by ${(s*100).toFixed(1)}% \u2014 may indicate scoring formula drift or data quality change`,metric:"avg_composite_score",expectedRange:[i-$St,i+$St],actualValue:o,recommendation:"Review recent scoring weight changes or data pipeline for anomalies",timestamp:new Date().toISOString()});let a=nc(n,y=>y.agentScoreSpread);a<U9n&&e.push({id:`reg_${Date.now()}_conv`,type:"agent_convergence",severity:a<$9n?"high":"medium",description:`Agent score spread is only ${(a*100).toFixed(1)}% \u2014 benchmark is not differentiating agents well`,metric:"agent_score_spread",expectedRange:[F9n,H9n],actualValue:a,recommendation:"Increase weight of differentiating pillars (financial, battle, patterns)",timestamp:new Date().toISOString()});let c=nc(n,y=>y.coherenceAvg),l=nc(r,y=>y.coherenceAvg);c>l+G9n&&c>V9n&&e.push({id:`reg_${Date.now()}_coh_inf`,type:"coherence_inflation",severity:"medium",description:`Coherence scores inflated from ${(l*100).toFixed(0)}% to ${(c*100).toFixed(0)}% \u2014 agents may be gaming the coherence scorer`,metric:"avg_coherence",expectedRange:[z9n,j9n],actualValue:c,recommendation:"Review coherence scoring methodology for gaming vectors",timestamp:new Date().toISOString()});let u=nc(n,y=>y.hallucinationRate),d=nc(r,y=>y.hallucinationRate);u>d+q9n&&e.push({id:`reg_${Date.now()}_hall`,type:"hallucination_spike",severity:u>W9n?"high":"medium",description:`Hallucination rate spiked from ${(d*100).toFixed(0)}% to ${(u*100).toFixed(0)}%`,metric:"hallucination_rate",expectedRange:[0,K9n],actualValue:u,recommendation:"Check if market data pipeline has issues causing agents to hallucinate",timestamp:new Date().toISOString()});let p=nc(n,y=>y.avgReasoningLength),f=nc(r,y=>y.avgReasoningLength);p<f*J9n&&e.push({id:`reg_${Date.now()}_len`,type:"reasoning_length_drift",severity:"medium",description:`Avg reasoning length dropped from ${Math.round(f)} to ${Math.round(p)} words`,metric:"avg_reasoning_length",expectedRange:[f*Y9n,f*Q9n],actualValue:p,recommendation:"Review agent prompts or increase minimum reasoning length requirement",timestamp:new Date().toISOString()});let h=nc(n,y=>y.calibrationAvg),m=nc(r,y=>y.calibrationAvg);h<m-X9n&&h<Z9n&&e.push({id:`reg_${Date.now()}_calib`,type:"calibration_decay",severity:h<eDn?"high":"medium",description:`Calibration quality dropped from ${(m*100).toFixed(0)}% to ${(h*100).toFixed(0)}%`,metric:"calibration_avg",expectedRange:[tDn,nDn],actualValue:h,recommendation:"Agents may need confidence recalibration prompting",timestamp:new Date().toISOString()});let g=Object.values(t.pillarAverages);if(g.length>=3){let y=zSt(g);if(y>rDn){let S=S_(t.pillarAverages),v=S[0],A=S[S.length-1];e.push({id:`reg_${Date.now()}_imb`,type:"pillar_imbalance",severity:"low",description:`Pillar scores vary widely: ${v[0]}=${(v[1]*100).toFixed(0)}% vs ${A[0]}=${(A[1]*100).toFixed(0)}%`,metric:"pillar_std_dev",expectedRange:[0,oDn],actualValue:y,recommendation:`Consider rebalancing pillar weights \u2014 ${A[0]} may need methodology review`,timestamp:new Date().toISOString()})}}return e}function nc(t,e){return t.length===0?0:t.reduce((n,r)=>n+e(r),0)/t.length}function zSt(t){if(t.length<2)return 0;let e=t.reduce((r,o)=>r+o,0)/t.length,n=t.reduce((r,o)=>r+(o-e)**2,0)/t.length;return Math.sqrt(n)}function Cve(){if(tl.length<3)return{overallHealth:.8,status:"healthy",activeAlerts:[],snapshotCount:tl.length,dimensions:{scoringStability:.8,pillarBalance:.8,agentDiversity:.8,dataFreshness:.8,calibrationQuality:.8},recommendations:["Collect more data for meaningful regression detection"],trend:"stable",lastUpdated:new Date().toISOString()};let t=tl.slice(-GSt),e=[];for(let D=1;D<t.length;D++){let k=Object.values(t[D-1].agentScores),O=Object.values(t[D].agentScores);if(k.length>0&&O.length>0){let U=k.reduce((J,C)=>J+C,0)/k.length,G=O.reduce((J,C)=>J+C,0)/O.length;e.push(Math.abs(G-U))}}let n=e.length>0?e.reduce((D,k)=>D+k,0)/e.length:0,r=Math.max(0,1-n*uDn),o=t[t.length-1],i=Object.values(o.pillarAverages),s=zSt(i),a=Math.max(0,1-s*dDn),c=Math.min(1,o.agentScoreSpread*pDn),l=nc(t,D=>D.avgReasoningLength),u=Math.min(1,l/fDn),d=nc(t,D=>D.calibrationAvg),p={scoringStability:ye(r),pillarBalance:ye(a),agentDiversity:ye(c),dataFreshness:ye(u),calibrationQuality:ye(d)},f=ye(p.scoringStability*iDn+p.pillarBalance*sDn+p.agentDiversity*aDn+p.dataFreshness*cDn+p.calibrationQuality*lDn),h=_b.filter(D=>D.severity==="high"||D.severity==="critical").length,m=h>=3?"critical":h>=1?"degraded":_b.length>3?"warning":"healthy",g=[];p.agentDiversity<.3&&g.push("Agent scores are too similar \u2014 consider adding more differentiating metrics"),p.scoringStability<.5&&g.push("Scoring is unstable \u2014 review recent methodology changes"),p.dataFreshness<.5&&g.push("Reasoning quality declining \u2014 review agent prompt engineering"),p.calibrationQuality<.4&&g.push("Confidence calibration is poor \u2014 agents need calibration feedback"),g.length===0&&g.push("Benchmark is operating within normal parameters");let y=Math.floor(tl.length/2),S=tl.slice(0,y),v=tl.slice(y),A=nc(S,D=>D.coherenceAvg),w=nc(v,D=>D.coherenceAvg),I=w>A+.05?"improving":w<A-.05?"declining":"stable";return{overallHealth:f,status:m,activeAlerts:_b.slice(-20),snapshotCount:tl.length,dimensions:p,recommendations:g,trend:I,lastUpdated:new Date().toISOString()}}function jSt(){return _b.slice(-50)}mt();var iq=new yr,a9=[],qSt=200;function WSt(t,e,n){a9.push({type:t,data:e,agentId:n,timestamp:Date.now()}),a9.length>qSt&&a9.splice(0,a9.length-qSt)}var KSt={financial:.1,reasoning:.09,safety:.08,calibration:.07,patterns:.04,adaptability:.05,forensic_quality:.06,validation_quality:.07,prediction_accuracy:.05,reasoning_stability:.05,provenance_integrity:.05,model_comparison:.04,metacognition:.05,reasoning_efficiency:.04,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.05,cross_session_memory:.05};iq.get("/data",t=>{let e=Pd(),n=Tve(),r=Rve(),o=Cve(),i=jSt(),s=i9(),a=e.map(c=>{let l=n.find(f=>f.agentId===c.agentId),u=r.find(f=>f.agentId===c.agentId),d=bDn(c);d.adversarial_robustness=l?.overallScore??.5,d.cross_session_memory=u?.memoryScore??.5;let p=_Dn(d);return{agentId:c.agentId,provider:c.provider,model:c.model,composite:p,grade:SDn(p),elo:c.eloRating,tradeCount:c.tradeCount,pillars:d,robustnessTrend:l?.trend??"stable",memoryTrend:u?.trend??"stable",memoryStrengths:u?.memoryStrengths??[],memoryWeaknesses:u?.memoryWeaknesses??[],topVulnerabilities:l?.topVulnerabilities??[]}});return a.sort((c,l)=>l.composite-c.composite),t.json({ok:!0,version:"v18",pillars:18,leaderboard:a,benchmarkHealth:{status:o.status,overallHealth:o.overallHealth,dimensions:o.dimensions,activeAlertCount:i.length,recommendations:o.recommendations},ledger:{totalEntries:s.totalEntries,chainIntact:s.chainIntact,resolvedOutcomes:Object.values(s.agentBreakdown).reduce((c,l)=>c+Math.round(l.entries*l.outcomeResolvedRate),0)},pillarWeights:KSt,timestamp:new Date().toISOString()})});iq.get("/stream",t=>{let e=parseInt(t.req.query("lastId")??"0",10),r=a9.filter(o=>o.timestamp>e).map(o=>`data: ${JSON.stringify({type:o.type,...o.data,agentId:o.agentId,ts:o.timestamp})}
`).join(`
`);return new Response(`${r}
`,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});iq.get("/export",t=>{let e=eq(),n=Tve(),r=Rve(),o=Cve(),s=e.agents.map(a=>{let c=n.find(u=>u.agentId===a.agentId),l=r.find(u=>u.agentId===a.agentId);return{...a,v18_adversarial_robustness:c?.overallScore??null,v18_adversarial_vulnerabilities:c?.topVulnerabilities??[],v18_memory_score:l?.memoryScore??null,v18_memory_dimensions:l?.dimensions??null,v18_repeated_mistakes:l?.repeatedMistakes.length??0,v18_benchmark_health:o.overallHealth,v18_benchmark_status:o.status}}).map(a=>JSON.stringify(a)).join(`
`);return new Response(s,{headers:{"Content-Type":"application/jsonl","Content-Disposition":`attachment; filename="moltapp-v18-benchmark-${new Date().toISOString().split("T")[0]}.jsonl"`}})});iq.get("/",t=>{let e=yDn();return t.html(e)});function yDn(){return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoltApp Benchmark v18 \u2014 18-Pillar AI Trading Benchmark</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0e17;color:#e0e0e0;min-height:100vh}
.container{max-width:1400px;margin:0 auto;padding:20px}
header{text-align:center;padding:30px 0;border-bottom:1px solid #1a2035}
h1{font-size:2.2rem;background:linear-gradient(135deg,#00d4ff,#7c3aed,#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.subtitle{color:#8892a4;font-size:1.1rem}
.badge-row{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.badge{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600}
.badge-hf{background:#1a1a2e;color:#ffcc00;border:1px solid #ffcc0044}
.badge-pillars{background:#1a1a2e;color:#00d4ff;border:1px solid #00d4ff44}
.badge-new{background:#1a1a2e;color:#ff6b6b;border:1px solid #ff6b6b44}
.badge-health{background:#1a1a2e;border:1px solid #4ade8044;color:#4ade80}
.badge-health.warning{color:#f59e0b;border-color:#f59e0b44}
.badge-health.degraded{color:#f87171;border-color:#f8717144}
.grid{display:grid;gap:20px;margin-top:24px}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(380px,1fr))}
.card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:20px;transition:border-color 0.2s}
.card:hover{border-color:#374151}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.card-title{font-size:1.1rem;font-weight:600}
.grade{font-size:1.4rem;font-weight:800;padding:4px 12px;border-radius:8px}
.grade-a{background:#059669;color:white}
.grade-b{background:#2563eb;color:white}
.grade-c{background:#d97706;color:white}
.grade-d{background:#dc2626;color:white}
.grade-f{background:#7f1d1d;color:white}
.agent-meta{color:#6b7280;font-size:0.85rem;margin-bottom:12px}
.pillar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.pillar{padding:6px 8px;background:#1a2035;border-radius:6px;font-size:0.75rem}
.pillar-name{color:#8892a4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pillar-score{font-weight:700;margin-top:2px}
.score-high{color:#4ade80}
.score-mid{color:#fbbf24}
.score-low{color:#f87171}
.composite-bar{height:6px;background:#1f2937;border-radius:3px;margin-top:8px;overflow:hidden}
.composite-fill{height:100%;border-radius:3px;transition:width 0.5s}
.section-title{font-size:1.3rem;font-weight:700;margin:28px 0 12px;padding-left:8px;border-left:3px solid #7c3aed}
.health-card{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:12px}
.health-metric{background:#1a2035;border-radius:8px;padding:14px;text-align:center}
.health-value{font-size:1.5rem;font-weight:800}
.health-label{color:#6b7280;font-size:0.8rem;margin-top:4px}
.alert-list{margin-top:12px}
.alert{padding:10px 14px;border-radius:8px;margin-bottom:8px;font-size:0.85rem;border-left:3px solid}
.alert-high{background:#7f1d1d22;border-color:#f87171}
.alert-medium{background:#78350f22;border-color:#fbbf24}
.alert-low{background:#1a2035;border-color:#6b7280}
footer{text-align:center;padding:30px 0;color:#4b5563;font-size:0.85rem;margin-top:40px;border-top:1px solid #1a2035}
footer a{color:#7c3aed;text-decoration:none}
.new-badge{display:inline-block;background:#ff6b6b;color:white;font-size:0.65rem;padding:1px 5px;border-radius:3px;margin-left:4px;font-weight:700;vertical-align:middle}
</style>
</head>
<body>
<div class="container">
<header>
  <h1>MoltApp Benchmark v18</h1>
  <div class="subtitle">Industry-Standard AI Trading Benchmark \u2014 18-Pillar Scoring</div>
  <div class="badge-row">
    <span class="badge badge-hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
    <span class="badge badge-pillars">18 Scoring Pillars</span>
    <span class="badge badge-new">v18: Adversarial + Memory + Regression</span>
    <span class="badge badge-health" id="health-badge">&#9679; Loading...</span>
  </div>
</header>

<div class="section-title">Agent Leaderboard</div>
<div class="grid grid-3" id="leaderboard">
  <div class="card"><div class="card-title">Loading agent data...</div></div>
</div>

<div class="section-title">Benchmark Health Monitor<span class="new-badge">NEW</span></div>
<div class="health-card" id="health-metrics">
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Overall Health</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Scoring Stability</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Agent Diversity</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Data Freshness</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Calibration</div></div>
</div>

<div class="section-title">Regression Alerts</div>
<div class="alert-list" id="alerts">
  <div class="alert alert-low">No active alerts \u2014 benchmark operating normally.</div>
</div>

<footer>
  <p>MoltApp AI Trading Benchmark v18 \u2014 <a href="https://www.patgpt.us">www.patgpt.us</a></p>
  <p style="margin-top:6px">Dataset: <a href="https://huggingface.co/datasets/patruff/molt-benchmark">patruff/molt-benchmark</a> | API: <a href="/api/v1/benchmark-v18/schema">/api/v1/benchmark-v18/schema</a></p>
</footer>
</div>

<script>
async function loadData() {
  try {
    const res = await fetch('/benchmark-v18/data');
    const data = await res.json();
    if (!data.ok) return;
    renderLeaderboard(data.leaderboard);
    renderHealth(data.benchmarkHealth);
    updateHealthBadge(data.benchmarkHealth.status);
  } catch (e) { console.error('Failed to load data:', e); }
}

function renderLeaderboard(agents) {
  const el = document.getElementById('leaderboard');
  if (!agents || agents.length === 0) {
    el.innerHTML = '<div class="card"><div class="card-title">No agent data yet \u2014 run a trading round!</div></div>';
    return;
  }
  el.innerHTML = agents.map((a, i) => {
    const gc = a.grade.startsWith('A') ? 'grade-a' : a.grade.startsWith('B') ? 'grade-b' : a.grade.startsWith('C') ? 'grade-c' : a.grade.startsWith('D') ? 'grade-d' : 'grade-f';
    const pillars = Object.entries(a.pillars).map(([name, score]) => {
      const sc = score >= 0.7 ? 'score-high' : score >= 0.5 ? 'score-mid' : 'score-low';
      const label = name.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());
      const isNew = name === 'adversarial_robustness' || name === 'cross_session_memory';
      return '<div class="pillar"><div class="pillar-name">' + label + (isNew ? '<span class="new-badge">NEW</span>' : '') + '</div><div class="pillar-score ' + sc + '">' + (score * 100).toFixed(1) + '%</div></div>';
    }).join('');
    const barColor = a.composite >= 0.7 ? '#4ade80' : a.composite >= 0.5 ? '#fbbf24' : '#f87171';
    return '<div class="card"><div class="card-header"><div class="card-title">#' + (i + 1) + ' ' + a.agentId + '</div><div class="grade ' + gc + '">' + a.grade + '</div></div><div class="agent-meta">' + a.provider + ' / ' + a.model + ' | Elo: ' + a.elo + ' | Trades: ' + a.tradeCount + ' | Composite: ' + (a.composite * 100).toFixed(1) + '%</div><div class="composite-bar"><div class="composite-fill" style="width:' + (a.composite * 100) + '%;background:' + barColor + '"></div></div><div class="pillar-grid" style="margin-top:12px">' + pillars + '</div></div>';
  }).join('');
}

function renderHealth(h) {
  const el = document.getElementById('health-metrics');
  const dims = h.dimensions || {};
  const sc = v => v >= 0.7 ? 'score-high' : v >= 0.5 ? 'score-mid' : 'score-low';
  el.innerHTML = [
    ['Overall Health', h.overallHealth],
    ['Scoring Stability', dims.scoringStability],
    ['Agent Diversity', dims.agentDiversity],
    ['Data Freshness', dims.dataFreshness],
    ['Calibration', dims.calibrationQuality],
  ].map(([label, val]) => '<div class="health-metric"><div class="health-value ' + sc(val || 0) + '">' + ((val || 0) * 100).toFixed(0) + '%</div><div class="health-label">' + label + '</div></div>').join('');

  const alertEl = document.getElementById('alerts');
  if (h.activeAlertCount > 0 && h.recommendations) {
    alertEl.innerHTML = h.recommendations.map(r => '<div class="alert alert-medium">' + r + '</div>').join('');
  }
}

function updateHealthBadge(status) {
  const badge = document.getElementById('health-badge');
  const cls = status === 'healthy' ? '' : status === 'warning' ? 'warning' : 'degraded';
  badge.className = 'badge badge-health ' + cls;
  badge.textContent = '\\u25CF ' + status.charAt(0).toUpperCase() + status.slice(1);
}

loadData();
setInterval(loadData, 45000);
</script>
</body>
</html>`}function bDn(t){let e={};for(let n of t.pillars)e[n.name]=n.score;return e}function _Dn(t){let e=0,n=0;for(let[r,o]of Object.entries(KSt))e+=(t[r]??.5)*o,n+=o;return n>0?ye(e/n):.5}function SDn(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}mt();var vDn=/(?:\$[\d,.]+|\d+\.?\d*\s*(?:dollars?|usd))/gi,EDn=/(?:upward|downward|bullish|bearish|rising|falling|increasing|decreasing)\s+(?:trend|momentum|pressure|trajectory)/gi,ADn=/(?:P\/E|earnings|revenue|margin|market\s+cap|dividend|cash\s+flow|book\s+value|EPS|debt[\s-]to[\s-]equity)/gi,xDn=/(?:market\s+(?:sentiment|mood|fear|greed)|investor\s+(?:confidence|anxiety)|(?:risk[\s-]on|risk[\s-]off))/gi,wDn=/(?:will\s+(?:rise|fall|increase|decrease|rally|decline|reach)|expect(?:ed|ing)?\s+to|predicted?\s+to|target\s+(?:price|of)|should\s+(?:reach|hit|test))/gi,TDn=/(?:compared\s+to|relative\s+to|versus|outperform|underperform|better\s+than|worse\s+than|stronger\s+than|weaker\s+than)/gi,IDn=/(?:downside|upside\s+risk|stop[\s-]loss|worst[\s-]case|risk\s+of|could\s+(?:lose|fall|decline)|potential\s+(?:loss|downside))/gi,RDn=[[vDn,"price"],[EDn,"trend"],[ADn,"fundamental"],[xDn,"sentiment"],[wDn,"prediction"],[TDn,"comparison"],[IDn,"risk"]],CDn=/\b(?:because|since|given\s+that|based\s+on|due\s+to|considering|observing\s+that|noting\s+that|as\s+evidenced\s+by)\b/gi,JSt=/\b(?:therefore|thus|hence|consequently|as\s+a\s+result|this\s+(?:means|suggests|indicates|implies)|leading\s+to|which\s+(?:means|suggests))\b/gi,YSt=/\b(?:I(?:'m|\s+am)\s+(?:buying|selling|holding)|my\s+decision|I\s+(?:recommend|decide|choose)|overall|in\s+conclusion|ultimately|the\s+best\s+(?:action|move))\b/gi,Nve=/\b(?:normal\s+(?:market|trading|conditions)|typical\s+(?:volume|volatility)|liquid(?:ity)?|efficient\s+market)\b/gi,Ove=/\b(?:accurate|reliable|current|real[\s-]time|up[\s-]to[\s-]date|verified)\b/gi,Pve=/\b(?:short[\s-]term|long[\s-]term|medium[\s-]term|intraday|swing|overnight|weekly)\b/gi,rR=new Map,QSt=200;function NDn(t){let e=[],n=new Set;for(let[o,i]of RDn){o.lastIndex=0;let s;for(;(s=o.exec(t))!==null;){let a=s[0].trim(),c=`${i}:${a.toLowerCase()}`;n.has(c)||(n.add(c),e.push({text:a,offset:s.index,type:i,verifiable:i==="price"||i==="trend"||i==="fundamental",verified:null,extractionConfidence:.8+Math.random()*.2}))}}let r=uo(t,15);for(let o of r)if(/\b(?:is\s+(?:trading|priced|valued)|has\s+(?:been|shown|demonstrated)|shows|indicates|reflects|represents)\b/i.test(o)){let i=o.trim(),s=`general:${i.slice(0,50).toLowerCase()}`;n.has(s)||(n.add(s),e.push({text:i.slice(0,200),offset:t.indexOf(i),type:"general",verifiable:!1,verified:null,extractionConfidence:.6}))}return e.sort((o,i)=>o.offset-i.offset)}function ODn(t,e,n){let r=[];for(let o=0;o<t.length;o++){let i=t[o];for(let s of e){let a=PDn(i,s,n);a&&r.push({claimIndex:o,source:s,strength:a})}r.some(s=>s.claimIndex===o)||r.push({claimIndex:o,source:"unstated",strength:"inferred"})}return r}function PDn(t,e,n){let r=e.toLowerCase(),o=t.text.toLowerCase();if(t.type==="price"&&(r.includes("price")||r.includes("market"))||t.type==="trend"&&(r.includes("technical")||r.includes("24h"))||t.type==="fundamental"&&r.includes("fundamental"))return"direct";if(t.type==="sentiment"&&(r.includes("news")||r.includes("sentiment")))return"indirect";let i=n.toLowerCase().indexOf(o);return i>=0&&n.slice(Math.max(0,i-100),i+o.length+100).toLowerCase().includes(r.replace(/_/g," "))?"indirect":null}function DDn(t){let e=[],n=t.split(/[.!?]+/).map(r=>r.trim()).filter(r=>r.length>10);for(let r of n){let o="premise";YSt.test(r)?(o="conclusion",YSt.lastIndex=0):JSt.test(r)?(o="inference",JSt.lastIndex=0):CDn.lastIndex=0;let i=[];if(o==="inference"||o==="conclusion")for(let s=0;s<e.length;s++)(e[s].role==="premise"||o==="conclusion"&&e[s].role==="inference")&&i.push(s);e.push({text:r.slice(0,200),role:o,valid:!0,dependsOn:i})}for(let r=0;r<e.length;r++){let o=e[r];if(o.role==="conclusion"){for(let i of o.dependsOn)if(i<e.length){let s=e[i];kDn(s.text,o.text)&&(o.valid=!1)}}}return e}function kDn(t,e){let n=t.toLowerCase(),r=e.toLowerCase(),o=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(n),i=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(n),s=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(r),a=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(r);return o&&a&&!i||i&&s&&!o}function LDn(t,e){let n=[],r=t.toLowerCase();return Nve.test(r)||(Nve.lastIndex=0,n.push({assumption:"Assumes normal market conditions (no flash crashes, halts, or extreme events)",category:"market_conditions",criticality:"medium"})),Nve.lastIndex=0,Ove.test(r)||(Ove.lastIndex=0,n.push({assumption:"Assumes data is accurate and current (no stale prices or data errors)",category:"data_quality",criticality:"high"})),Ove.lastIndex=0,Pve.test(r)||(Pve.lastIndex=0,n.push({assumption:"Does not specify time horizon for expected outcome",category:"time_horizon",criticality:e==="hold"?"low":"medium"})),Pve.lastIndex=0,e!=="hold"&&!/\b(?:risk|downside|stop[\s-]loss|worst[\s-]case|position\s+size)\b/i.test(r)&&n.push({assumption:"Does not explicitly address risk tolerance or exit conditions",category:"risk_appetite",criticality:"high"}),/\b(?:will\s+continue|always|never|guaranteed|certain)\b/i.test(r)&&n.push({assumption:"Uses deterministic language about inherently uncertain outcomes",category:"model_behavior",criticality:"medium"}),n}function MDn(t,e,n,r){let o=[],i=t.toLowerCase();return e==="buy"?(o.push({condition:`${n} price drops >10% from current level`,expectedChange:"Might convert to hold (deeper value) or sell (broken thesis)",sensitivity:"high"}),/\b(?:support|floor|bottom)\b/i.test(i)&&o.push({condition:`${n} breaks below stated support level`,expectedChange:"Thesis invalidated \u2014 likely switch to sell or hold",sensitivity:"high"})):e==="sell"&&o.push({condition:`${n} price rises >5% from current level`,expectedChange:"Might regret selling; if trend reverses, could buy back",sensitivity:"medium"}),r>.7?o.push({condition:"New negative earnings surprise or regulatory action",expectedChange:"High-confidence trade could flip to low-confidence hold",sensitivity:"high"}):r<.3&&o.push({condition:"Strong positive catalyst (earnings beat, partnership)",expectedChange:"Low-confidence hold could become medium-confidence buy",sensitivity:"medium"}),/\b(?:volume|momentum|trend)\b/i.test(i)&&o.push({condition:"Volume dries up or momentum reverses",expectedChange:"Momentum-based thesis weakened; agent may exit position",sensitivity:"medium"}),/\b(?:sector|macro|fed|interest\s+rate|inflation)\b/i.test(i)&&o.push({condition:"Macro environment shifts (rate hike, sector rotation)",expectedChange:"Macro-dependent thesis could be invalidated",sensitivity:"low"}),o}function XSt(t,e,n,r,o,i,s){let a=NDn(o),c=ODn(a,s,o),l=DDn(o),u=LDn(o,n),d=i>1?i/100:i,p=MDn(o,n,r,d),f=vn(o),h=Math.min(1,a.length/Math.max(1,f/20)),m=ue(c,O=>O.strength==="direct"),g=a.length>0?Math.min(1,m/a.length):0,y=ue(l,O=>O.valid),S=l.length>0?y/l.length:.5,v=ue(u,O=>O.criticality==="high"),A=Math.max(0,1-v*.2),w=Math.min(1,p.length/4),I=re(h*.2+g*.25+S*.25+A*.15+w*.15),D={agentId:t,roundId:e,action:n,symbol:r,claims:a,evidenceMap:c,logicChain:l,assumptions:u,counterfactuals:p,transparencyScore:I,componentScores:{claimDensity:re(h),evidenceCoverage:re(g),logicValidity:re(S),assumptionAwareness:re(A),counterfactualDepth:re(w)},timestamp:new Date().toISOString()},k=rR.get(t)??[];return k.unshift(D),k.length>QSt&&(k.length=QSt),rR.set(t,k),D}function sq(){let t={};for(let[e,n]of rR.entries()){if(n.length===0)continue;let r=n.length;t[e]={avgTransparency:re(n.reduce((o,i)=>o+i.transparencyScore,0)/r),avgClaimDensity:re(n.reduce((o,i)=>o+i.componentScores.claimDensity,0)/r),avgEvidenceCoverage:re(n.reduce((o,i)=>o+i.componentScores.evidenceCoverage,0)/r),avgLogicValidity:re(n.reduce((o,i)=>o+i.componentScores.logicValidity,0)/r),avgAssumptionAwareness:re(n.reduce((o,i)=>o+i.componentScores.assumptionAwareness,0)/r),avgCounterfactualDepth:re(n.reduce((o,i)=>o+i.componentScores.counterfactualDepth,0)/r),totalReports:r}}return t}function oR(t){let e=rR.get(t)??[];return e.length===0?.5:re(e.reduce((n,r)=>n+r.transparencyScore,0)/e.length)}function iR(){let t=0,e=0,n={id:"",score:0},r={id:"",score:1},o=new Map;for(let[a,c]of rR.entries()){t+=c.length;let l=c.reduce((u,d)=>u+d.transparencyScore,0)/(c.length||1);e+=l,l>n.score&&(n={id:a,score:l}),l<r.score&&(r={id:a,score:l});for(let u of c)for(let d of u.assumptions)o.set(d.assumption,(o.get(d.assumption)??0)+1)}let i=rR.size||1,s=[...o.entries()].sort((a,c)=>c[1]-a[1]).slice(0,5).map(([a])=>a);return{totalReports:t,avgTransparency:re(e/i),mostTransparent:n.id||null,leastTransparent:r.id||null,commonAssumptions:s}}mt();var BDn=[{label:"0.0-0.2",min:0,max:.2},{label:"0.2-0.4",min:.2,max:.4},{label:"0.4-0.6",min:.4,max:.6},{label:"0.6-0.8",min:.6,max:.8},{label:"0.8-1.0",min:.8,max:1}],UDn=1.01,$Dn=.7,FDn=.05,HDn=.05,GDn=.35,VDn=.25,zDn=.2,jDn=.2,qDn=20,WDn=.8,KDn=.5,JDn=.2,YDn=0,QDn=1e5,XDn=3;var c9=new Map,ZSt=500;function evt(t,e,n,r,o,i){let s=[],a=i>1?i/100:i,c=ZDn(o,r);c&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,roundId:e,symbol:n,action:r,claim:c.text,claimType:"directional",confidence:a,direction:c.direction,timestamp:new Date().toISOString(),status:"pending"});let l=ekn(o,n);for(let f of l)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_pt`,agentId:t,roundId:e,symbol:n,action:r,claim:f.text,claimType:"price_target",confidence:a,targetPrice:f.price,timestamp:new Date().toISOString(),status:"pending"});let u=tkn(o);u&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_th`,agentId:t,roundId:e,symbol:n,action:r,claim:u.text,claimType:"time_horizon",confidence:a,horizonHours:u.hours,timestamp:new Date().toISOString(),status:"pending"});let d=nkn(o,n);for(let f of d)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_cat`,agentId:t,roundId:e,symbol:n,action:r,claim:f,claimType:"categorical",confidence:a,timestamp:new Date().toISOString(),status:"pending"});let p=c9.get(t)??[];return p.unshift(...s),p.length>ZSt&&(p.length=ZSt),c9.set(t,p),s}function ZDn(t,e){let n=t.toLowerCase();return e==="buy"||/\b(?:will\s+rise|expected?\s+to\s+increase|upside|bullish|higher)\b/i.test(n)?{text:`Expects price to move up (action: ${e})`,direction:"up"}:e==="sell"||/\b(?:will\s+fall|expected?\s+to\s+decrease|downside|bearish|lower)\b/i.test(n)?{text:`Expects price to move down (action: ${e})`,direction:"down"}:e==="hold"||/\b(?:sideways|flat|range[\s-]bound|consolidat)\b/i.test(n)?{text:`Expects price to remain flat (action: ${e})`,direction:"flat"}:null}function ekn(t,e){let n=[],r=[/target\s+(?:price\s+)?(?:of\s+)?\$?([\d,.]+)/gi,/(?:reach|hit|test)\s+\$?([\d,.]+)/gi,/\$?([\d,.]+)\s+(?:target|level|resistance|support)/gi];for(let o of r){let i;for(;(i=o.exec(t))!==null;){let s=parseFloat(i[1].replace(/,/g,""));s>YDn&&s<QDn&&n.push({text:`Price target: $${s.toFixed(2)}`,price:s})}}return n.slice(0,XDn)}function tkn(t){let e=[[/\b(?:next\s+few\s+hours?|intraday|today)\b/i,8],[/\b(?:overnight|tomorrow|24\s*h)\b/i,24],[/\b(?:this\s+week|next\s+few\s+days|short[\s-]term)\b/i,120],[/\b(?:next\s+week|coming\s+week)\b/i,168],[/\b(?:medium[\s-]term|next\s+month|coming\s+weeks)\b/i,720],[/\b(?:long[\s-]term|next\s+quarter|several\s+months)\b/i,2160]];for(let[n,r]of e){let o=t.match(n);if(o)return{text:`Time horizon: ${o[0]}`,hours:r}}return null}function nkn(t,e){let n=[],r=t.toLowerCase();return/\b(?:outperform|beat\s+the\s+market|alpha)\b/i.test(r)&&n.push(`${e} will outperform the market`),/\b(?:underperform|lag\s+(?:the\s+)?market|drag)\b/i.test(r)&&n.push(`${e} will underperform the market`),/\b(?:recovery|rebound|bounce\s+back)\b/i.test(r)&&n.push(`${e} expected to recover`),/\b(?:correction|pullback|dip)\b/i.test(r)&&n.push(`${e} expected to correct`),n}function Dve(t){let e=c9.get(t)??[],n=e.filter(A=>A.status==="correct"||A.status==="incorrect"),r=e.filter(A=>A.status==="correct"),o=e.filter(A=>A.status==="incorrect"),i=e.filter(A=>A.status==="pending"),s={};for(let A of n)s[A.claimType]||(s[A.claimType]={total:0,correct:0,accuracy:0}),s[A.claimType].total++,A.status==="correct"&&s[A.claimType].correct++;for(let A of Object.keys(s))s[A].accuracy=s[A].total>0?Math.round(s[A].correct/s[A].total*100)/100:0;let a={};for(let A of n)a[A.symbol]||(a[A.symbol]={total:0,correct:0,accuracy:0}),a[A.symbol].total++,A.status==="correct"&&a[A.symbol].correct++;for(let A of Object.keys(a))a[A].accuracy=a[A].total>0?Math.round(a[A].correct/a[A].total*100)/100:0;let c=BDn.map(A=>{let w=n.filter(D=>D.confidence>=A.min&&D.confidence<(A.max===1?UDn:A.max)),I=ue(w,D=>D.status==="correct");return{bucket:A.label,total:w.length,correct:I,accuracy:w.length>0?Math.round(I/w.length*100)/100:0}}),l=n.filter(A=>A.confidence>$Dn),u=ue(l,A=>A.status==="incorrect"),d=l.length>0?Math.round(u/l.length*100)/100:0,p=Math.floor(n.length/2),f=n.slice(p),h=n.slice(0,p),m=f.length>0?ue(f,A=>A.status==="correct")/f.length:0,g=h.length>0?ue(h,A=>A.status==="correct")/h.length:0,y="stable";g-m>FDn&&(y="improving"),m-g>HDn&&(y="declining");let S=n.length>0?Math.round(r.length/n.length*100)/100:0,v=Math.round((S*GDn+(1-d)*VDn+(y==="improving"?WDn:y==="stable"?KDn:JDn)*zDn+Math.min(1,n.length/qDn)*jDn)*100)/100;return{agentId:t,totalClaims:e.length,resolvedClaims:n.length,correctClaims:r.length,incorrectClaims:o.length,pendingClaims:i.length,accuracyRate:S,overconfidenceRate:d,byType:s,bySymbol:a,byConfidence:c,learningTrend:y,accountabilityScore:v}}function aq(){let t={};for(let e of c9.keys())t[e]=Dve(e);return t}function sR(t){return Dve(t).accountabilityScore}function aR(){let t=0,e=0,n=0,r={id:"",score:0},o={id:"",score:1};for(let i of c9.keys()){let s=Dve(i);t+=s.totalClaims,e+=s.resolvedClaims,n+=s.correctClaims,s.accountabilityScore>r.score&&(r={id:i,score:s.accountabilityScore}),s.accountabilityScore<o.score&&(o={id:i,score:s.accountabilityScore})}return{totalClaimsTracked:t,totalResolved:e,overallAccuracy:e>0?Math.round(n/e*100)/100:0,mostAccountable:r.id||null,leastAccountable:o.id||null}}import{createHash as tvt}from"crypto";mt();var rkn=.8,okn=.6,ikn=.4,skn=.25,akn=.3,ckn=.1,lkn=.2,ukn=.15,dkn=.1,pkn=3,nvt=50,fkn=10,mkn=.3,hkn=.06,gkn=.2,ykn=.07,bkn=.3,_kn=.1,Skn=.1,vkn=3,Ekn=.1,Akn=.5,xkn=.3,wkn=.05,Tkn=.15,Ikn=.1,Rkn=.1,Ckn=3,Nkn=20,Okn=.5,Pkn=.25,Dkn=.08,kkn=.1,Lkn=.1,Mkn=.8,Bkn=.1,Ukn=.5,$kn=.3,Fkn=.05,Hkn=.25,Gkn=.2,Vkn=.25,zkn=10080*60*1e3,rvt=300,jkn=.03,qkn=.03,Wkn=.4,Kkn=.6,l9=new Map,Jkn=new Map,kve=/\b(?:I\s+(?:believe|think|expect|recommend|conclude)|my\s+(?:thesis|view|analysis|assessment)|overall|the\s+case\s+for|the\s+key\s+(?:reason|argument))\b/gi,Lve=/\b(?:because|since|data\s+shows|according\s+to|based\s+on|evidence|the\s+fact\s+that|supported\s+by|as\s+(?:shown|indicated|demonstrated))\b/gi,Mve=/\b(?:therefore|thus|hence|in\s+conclusion|as\s+a\s+result|consequently|this\s+leads\s+me\s+to|my\s+decision|I(?:'m|\s+am)\s+(?:going\s+to|choosing\s+to))\b/gi,Bve=/\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.?\d*\s*(?:billion|million|thousand)|P\/E\s+(?:of\s+)?\d+|\d+\.?\d*\s*(?:ratio|multiple)/gi,Uve=/\b(?:current(?:ly)?|today|this\s+week|yesterday|24h|last\s+(?:session|day|week)|at\s+the\s+(?:time|moment))\b/gi,$ve=/\b(?:because|therefore|thus|hence|since|as\s+a\s+result|consequently|due\s+to|driven\s+by|leading\s+to|which\s+(?:means|suggests|implies|indicates))\b/gi,Ykn=[[/\bstrongly\s+bullish\b/i,/\bstrongly\s+bearish\b/i],[/\bshould\s+buy\b/i,/\bshould\s+sell\b/i],[/\bvery\s+confident\b/i,/\bvery\s+uncertain\b/i],[/\bundervalued\b/i,/\bovervalued\b/i]],Fve=/\b(?:might|may|could|possibly|perhaps|uncertain|unclear|risk|not\s+sure|unknown|limited\s+data|caveat|however|on\s+the\s+other\s+hand|that\s+said)\b/gi,Hve=/\b(?:definitely|certainly|guaranteed|will\s+(?:definitely|certainly)|no\s+doubt|absolutely|100%|always|never\s+(?:fail|lose))\b/gi,Gve=/\b(?:buy|sell|hold|position\s+size|entry\s+(?:point|price)|exit\s+(?:point|price)|stop[\s-]loss|take[\s-]profit|target\s+price|allocation|quantity|shares?|usd[c]?)\b/gi;function ovt(t,e,n,r,o,i,s){let a=[],c=Qkn(o);a.push(c);let l=Xkn(o,s);a.push(l);let u=Zkn(o);a.push(u);let d=eLn(o,i);a.push(d);let p=tLn(o,n);a.push(p);let f=a.map(k=>k.score),h=re(QM(f,Gye)),m=GHe(a,"score")?.score??0,g;m>=rkn?g="gold":m>=okn?g="silver":m>=ikn?g="bronze":g="uncertified";let y=tvt("sha256").update(o).digest("hex").slice(0,16),S=JSON.stringify({agentId:t,roundId:e,level:g,compositeScore:h,reasoningHash:y,dimensions:a.map(k=>({name:k.name,score:k.score}))}),v=tvt("sha256").update(S).digest("hex"),A=new Date,w=new Date(A.getTime()+zkn),I={certificateId:`cert_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,hash:v,agentId:t,roundId:e,level:g,compositeScore:h,dimensions:a,reasoningHash:y,action:n,symbol:r,issuedAt:A.toISOString(),expiresAt:w.toISOString()},D=l9.get(t)??[];return D.unshift(I),D.length>rvt&&(D.length=rvt),l9.set(t,D),Jkn.set(v,I),I}function Qkn(t){let e=[];kve.lastIndex=0;let n=kve.test(t);kve.lastIndex=0,n&&e.push("Contains thesis statement"),Lve.lastIndex=0;let r=(t.match(Lve)??[]).length;Lve.lastIndex=0,r>0&&e.push(`${r} evidence markers`),Mve.lastIndex=0;let o=Mve.test(t);Mve.lastIndex=0,o&&e.push("Contains conclusion");let i=uo(t,fkn),s=vn(t);s>nvt&&e.push(`${s} words (sufficient depth)`);let a=0;return n&&(a+=skn),r>0&&(a+=Math.min(akn,r*ckn)),o&&(a+=lkn),i.length>=pkn&&(a+=ukn),s>=nvt&&(a+=dkn),{name:"structural_completeness",score:Math.min(1,re(a)),indicators:e,grade:u9(a)}}function Xkn(t,e){let n=[];Bve.lastIndex=0;let r=(t.match(Bve)??[]).length;Bve.lastIndex=0,r>0&&n.push(`${r} quantitative claims`),Uve.lastIndex=0;let o=(t.match(Uve)??[]).length;Uve.lastIndex=0,o>0&&n.push(`${o} temporal references`);let i=e.length;i>0&&n.push(`${i} data sources cited`);let s=0;return s+=Math.min(mkn,r*hkn),s+=Math.min(gkn,o*ykn),s+=Math.min(bkn,i*_kn),i>=vkn&&(s+=Skn),/\$\d+/.test(t)&&(s+=Ekn),{name:"data_grounding",score:Math.min(1,re(s)),indicators:n,grade:u9(s)}}function Zkn(t){let e=[];$ve.lastIndex=0;let n=(t.match($ve)??[]).length;$ve.lastIndex=0,n>0&&e.push(`${n} causal connectors`);let r=0;for(let[a,c]of Ykn)a.test(t)&&c.test(t)&&(r++,e.push("Internal contradiction detected")),a.lastIndex=0,c.lastIndex=0;let o=uo(t,Nkn),i=!1;if(o.length>=2){let a=o[0].trim().toLowerCase().slice(0,50),c=o[o.length-1].trim().toLowerCase().slice(0,50);a===c&&(i=!0,e.push("Potentially circular: first and last points identical"))}let s=Akn;return s+=Math.min(xkn,n*wkn),s-=r*Tkn,i&&(s-=Ikn),n>=Ckn&&r===0&&(s+=Rkn),{name:"logical_soundness",score:Lt(re(s),0,1),indicators:e,grade:u9(s)}}function eLn(t,e){let n=[],r=In(e);Fve.lastIndex=0;let o=(t.match(Fve)??[]).length;Fve.lastIndex=0,o>0&&n.push(`${o} uncertainty acknowledgments`),Hve.lastIndex=0;let i=(t.match(Hve)??[]).length;Hve.lastIndex=0,i>0&&n.push(`${i} overconfidence markers`);let s=o>0,a=i>0,c=Okn;return s&&(c+=Math.min(Pkn,o*Dkn)),a&&(c-=i*kkn),r>Mkn&&!s&&!a&&(c-=Lkn,n.push("High confidence without uncertainty acknowledgment")),r<Ukn&&s&&(c+=Bkn,n.push("Low confidence with appropriate uncertainty expression")),{name:"epistemic_honesty",score:Lt(re(c),0,1),indicators:n,grade:u9(c)}}function tLn(t,e){let n=[];Gve.lastIndex=0;let r=(t.match(Gve)??[]).length;Gve.lastIndex=0,r>0&&n.push(`${r} actionable details`);let o=new RegExp(`\\b(?:I(?:'m|\\s+am)\\s+(?:buying|selling|holding)|decision\\s+(?:is|to)|I\\s+(?:choose|decide)\\s+to\\s+${e})`,"i").test(t);o&&n.push("Clear decision statement");let i=/\b(?:\d+\s*(?:shares?|tokens?|units?)|\$[\d,.]+\s*(?:worth|of)|position\s+size|allocation)\b/i.test(t);i&&n.push("Position sizing context");let s=/\b(?:stop[\s-]loss|take[\s-]profit|exit|risk[\s-]reward|position\s+limit|max\s+(?:loss|risk))\b/i.test(t);s&&n.push("Risk management criteria");let a=0;return a+=Math.min($kn,r*Fkn),o&&(a+=Hkn),i&&(a+=Gkn),s&&(a+=Vkn),{name:"actionability",score:Math.min(1,re(a)),indicators:n,grade:u9(a)}}function u9(t){return t>=.9?"A":t>=.8?"B+":t>=.7?"B":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function ivt(t){let e=l9.get(t)??[],n=ue(e,w=>w.level==="gold"),r=ue(e,w=>w.level==="silver"),o=ue(e,w=>w.level==="bronze"),i=ue(e,w=>w.level==="uncertified"),s=n+r+o,a=e.length,c=a>0?re(e.reduce((w,I)=>w+I.compositeScore,0)/a):0,l={};for(let w of e)for(let I of w.dimensions)l[I.name]||(l[I.name]=[]),l[I.name].push(I.score);let u=Object.entries(l).map(([w,I])=>({name:w,avg:I.reduce((D,k)=>D+k,0)/I.length}));u.sort((w,I)=>I.avg-w.avg);let d=u[0]?.name??"none",p=u[u.length-1]?.name??"none",f=Math.floor(a/2),h=e.slice(f),m=e.slice(0,f),g=h.length>0?h.reduce((w,I)=>w+I.compositeScore,0)/h.length:0,y=m.length>0?m.reduce((w,I)=>w+I.compositeScore,0)/m.length:0,S="stable";y-g>jkn&&(S="improving"),g-y>qkn&&(S="declining");let v=a>0?s/a:0,A=re(v*Wkn+c*Kkn);return{agentId:t,totalCertifications:a,goldCount:n,silverCount:r,bronzeCount:o,uncertifiedCount:i,certificationRate:a>0?re(v):0,avgComposite:c,bestDimension:d,worstDimension:p,trend:S,pillarScore:A}}function cq(){let t={};for(let e of l9.keys())t[e]=ivt(e);return t}function cR(t){return ivt(t).pillarScore}function lR(){let t=0,e=0,n=0,r=0,o=0,i=0;for(let s of l9.values()){t+=s.length;for(let a of s)i+=a.compositeScore,a.level==="gold"?e++:a.level==="silver"?n++:a.level==="bronze"?r++:o++}return{totalCertificates:t,goldTotal:e,silverTotal:n,bronzeTotal:r,uncertifiedTotal:o,overallCertRate:t>0?re((e+n+r)/t):0,avgComposite:t>0?re(i/t):0}}mt();mt();var nLn=[];var rLn=10,oLn=10,iLn=20,svt=5,sLn=.05,aLn=-.05,cLn=.4,lLn=.3,uLn=.2,dLn=.1,pLn=.8,fLn=.5,mLn=.2;function hLn(t){let e=nLn.filter(v=>v.agentA===t||v.agentB===t),n=0,r=0,o=0,i=0,s={evidenceWeight:0,logicalConsistency:0,calibrationAccuracy:0,riskDisclosure:0,originality:0},a=0,c=0,l=0,u=0;for(let v of e){let A=v.agentA===t,w=A?v.scoresA:v.scoresB;i+=w.composite;for(let I of Object.keys(s))s[I]+=w[I];v.winner==="tie"?o++:v.winner===t?n++:r++,v.isDisagreement&&(v.winner===t?a++:v.winner!=="tie"&&c++),v.outcomeVerdict&&v.outcomeVerdict!=="pending"&&(u++,(A&&v.outcomeVerdict==="agentA_correct"||!A&&v.outcomeVerdict==="agentB_correct")&&l++)}let d=e.length||1,p={};for(let[v,A]of Object.entries(s))p[v]=re(A/d);let f=S_(p),h=f[0]?.[0]??"none",m=f[f.length-1]?.[0]??"none",g=e.slice(0,rLn),y=e.slice(oLn,iLn),S="stable";if(g.length>=svt&&y.length>=svt){let v=g.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/g.length,A=y.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/y.length,w=v-A;w>sLn?S="improving":w<aLn&&(S="declining")}return{agentId:t,totalCases:e.length,wins:n,losses:r,ties:o,winRate:e.length>0?re(n/e.length):0,avgComposite:re(i/d),strengthDimension:h,weaknessDimension:m,disagreementRecord:{wins:a,losses:c},outcomeAccuracy:u>0?re(l/u):0,recentTrend:S}}function uR(t){let e=hLn(t);if(e.totalCases===0)return .5;let n=e.recentTrend==="improving"?pLn:e.recentTrend==="stable"?fLn:mLn;return re(e.winRate*cLn+e.avgComposite*lLn+e.outcomeAccuracy*uLn+n*dLn)}mt();var gLn=.3,yLn=.3,bLn=.2,_Ln=.2;var SLn=[];function vLn(t){let e=SLn.filter(m=>m.participants.some(g=>g.agentId===t)),n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0,u=0,d={thesisClarity:0,evidenceQuality:0,logicalStrength:0,rebuttalPower:0,intellectualHonesty:0};for(let m of e){let g=m.verdict.scores[t];if(!g)continue;i+=g.composite,s+=m.debateQualityScore,m.verdict.winner==="tie"?o++:m.verdict.winner===t?n++:r++;for(let A of Object.keys(d))d[A]+=g[A];let y=m.participants,S=y.find(A=>A.agentId===t),v=y.find(A=>A.agentId!==t);S&&v&&(c++,S.rebuttalStrength>v.rebuttalStrength&&a++);for(let A of m.evidenceClashes)u++,A.winner===t&&l++}let p=e.length||1,f={};for(let[m,g]of Object.entries(d))f[m]=re(g/p);let h=S_(f);return{agentId:t,totalDebates:e.length,wins:n,losses:r,ties:o,winRate:e.length>0?re(n/e.length):0,avgScore:re(i/p),bestDimension:h[0]?.[0]??"none",worstDimension:h[h.length-1]?.[0]??"none",avgDebateQuality:re(s/p),rebuttalWinRate:c>0?re(a/c):0,evidenceClashWinRate:u>0?re(l/u):0}}function dR(t){let e=vLn(t);return e.totalDebates===0?.5:re(e.winRate*gLn+e.avgScore*yLn+e.rebuttalWinRate*bLn+e.avgDebateQuality*_Ln)}mt();var ELn=[{range:"0.0-0.25",min:0,max:.25},{range:"0.25-0.50",min:.25,max:.5},{range:"0.50-0.75",min:.5,max:.75},{range:"0.75-1.0",min:.75,max:1}],ALn=1.01,xLn=10,wLn=1.667,avt=.5,TLn=.7,ILn=.4,Vve=.5,RLn=5,CLn=.3,NLn=.15,OLn=.2,PLn=.1,DLn=.25,kLn=10,LLn=2,MLn=[];function BLn(t){let e=t.filter(c=>c.status==="resolved");if(e.length===0)return{currentStreak:0,currentStreakType:"none",longestWinStreak:0,longestLossStreak:0};let n=0,r="none",o=0,i=0,s=0,a=0;for(let c of e)c.directionCorrect?(s++,a=0,o=Math.max(o,s)):(a++,s=0,i=Math.max(i,a));for(let c of e)if(r==="none")r=c.directionCorrect?"win":"loss",n=1;else if(r==="win"&&c.directionCorrect||r==="loss"&&!c.directionCorrect)n++;else break;return{currentStreak:n,currentStreakType:r,longestWinStreak:o,longestLossStreak:i}}function ULn(t){let e=t.filter(n=>n.status==="resolved");return ELn.map(n=>{let r=e.filter(a=>a.confidence>=n.min&&a.confidence<(n.max===1?ALn:n.max)),o=ue(r,a=>a.directionCorrect===!0),i=r.filter(a=>a.magnitudeError!==void 0),s=i.reduce((a,c)=>a+(c.magnitudeError??0),0);return{range:n.range,count:r.length,directionAccuracy:r.length>0?Math.round(o/r.length*100)/100:0,avgMagnitudeError:i.length>0?ye(s/i.length):0}})}function $Ln(t){let e=t.filter(c=>c.status==="resolved");if(e.length<xLn)return avt;let n=Math.floor(e.length/2),r=e.slice(n),o=e.slice(0,n),i=ue(r,c=>c.directionCorrect===!0)/r.length,a=ue(o,c=>c.directionCorrect===!0)/o.length-i;return re(Lt(avt+a*wLn,0,1))}function FLn(t){let e=t.filter(a=>a.status==="resolved");if(e.length<RLn)return 0;let n=e.filter(a=>a.confidence>TLn),r=e.filter(a=>a.confidence<=ILn),o=n.length>0?ue(n,a=>a.directionCorrect===!0)/n.length:Vve,i=r.length>0?ue(r,a=>a.directionCorrect===!0)/r.length:Vve,s=o-i;return re(Lt(Vve+s,0,1))}function HLn(t){let e=MLn.filter(v=>v.agentId===t),n=e.filter(v=>v.status==="resolved"),r=ue(n,v=>v.directionCorrect===!0),o=n.length>0?Math.round(r/n.length*100)/100:0,i=n.filter(v=>v.magnitudeError!==void 0),s=i.length>0?ye(i.reduce((v,A)=>v+(A.magnitudeError??0),0)/i.length):0,a=e.filter(v=>v.predictedHorizon!==null),c=e.length>0?Math.round(a.length/e.length*100)/100:0,l=new Map;for(let v of n){let A=l.get(v.symbol)??{correct:0,total:0};A.total++,v.directionCorrect&&A.correct++,l.set(v.symbol,A)}let u="none",d="none",p=-1,f=2;for(let[v,A]of l){if(A.total<LLn)continue;let w=A.correct/A.total;w>p&&(p=w,u=v),w<f&&(f=w,d=v)}let h=BLn(e),m=ULn(e),g=$Ln(e),y=FLn(e),S=Math.round((o*CLn+(1-Math.min(1,s*kLn))*NLn+y*OLn+c*PLn+g*DLn)*100)/100;return{agentId:t,totalForecasts:e.length,resolvedForecasts:n.length,directionAccuracy:o,avgMagnitudeError:s,convictionCorrelation:y,horizonUsageRate:c,learningVelocity:g,bestSymbol:u,worstSymbol:d,streakInfo:h,confidenceBuckets:m,compositeScore:S}}function pR(t){return HLn(t).compositeScore}var dq=new yr,lq=[],cvt=200;function lvt(t,e){lq.unshift({type:t,data:e,timestamp:new Date().toISOString()}),lq.length>cvt&&(lq.length=cvt)}var uq={financial:.08,reasoning:.07,safety:.06,calibration:.06,patterns:.03,adaptability:.04,forensic_quality:.05,validation_quality:.05,prediction_accuracy:.04,reasoning_stability:.04,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.04,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.04,reasoning_transparency:.05,decision_accountability:.05,quality_certification:.05};function GLn(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function zve(){let t=Pd(),e=sq(),n=aq(),r=cq(),o=[...new Set([...t.map(s=>s.agentId),...Object.keys(e),...Object.keys(n),...Object.keys(r)])];o.length===0&&o.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let i=o.map(s=>{let a=t.find(f=>f.agentId===s),c={};if(a)for(let f of a.pillars??[])c[f.name]=f.score;for(let f of Object.keys(uq))f in c||(c[f]=.5);c.arbitration_quality=uR(s),c.debate_performance=dR(s),c.impact_forecasting=pR(s),c.adversarial_robustness=tR(s),c.cross_session_memory=nR(s),c.reasoning_transparency=oR(s),c.decision_accountability=sR(s),c.quality_certification=cR(s);let l=0;for(let[f,h]of Object.entries(uq))l+=(c[f]??.5)*h;l=re(l);let u=e[s],d=n[s],p=r[s];return{agentId:s,composite:l,grade:GLn(l),rank:0,rankChange:0,pillars:c,v20Highlights:{transparencyScore:u?.avgTransparency??.5,accountabilityScore:d?.accountabilityScore??.5,certificationLevel:p?.goldCount>0?"gold":p?.silverCount>0?"silver":p?.bronzeCount>0?"bronze":"uncertified",certificationRate:p?.certificationRate??0,claimAccuracy:d?.accuracyRate??0}}});return i.sort((s,a)=>a.composite-s.composite),i.forEach((s,a)=>{s.rank=a+1}),i}dq.get("/data",t=>{let e=zve(),n=yb(),r=iR(),o=aR(),i=lR();return t.json({ok:!0,benchmark:"moltapp-v20",version:"20.0.0",pillars:24,leaderboard:e,weights:uq,v20:{transparency:r,accountability:o,certification:i},health:n,generatedAt:new Date().toISOString()})});dq.get("/stream",t=>{let e=new ReadableStream({start(n){let r=new TextEncoder;for(let i of lq.slice(0,20))n.enqueue(r.encode(`event: ${i.type}
data: ${JSON.stringify(i.data)}

`));let o=setInterval(()=>{n.enqueue(r.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(o),n.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});dq.get("/export",t=>{let n=zve().map(r=>JSON.stringify(r));return new Response(n.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v20-scores.jsonl"}})});dq.get("/",t=>{let e=zve(),n=iR(),r=aR(),o=lR(),i=e.map(a=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${a.rank}</td>
      <td>${a.agentId}</td>
      <td style="font-size:1.2em;font-weight:bold">${a.grade}</td>
      <td>${a.composite.toFixed(2)}</td>
      <td>${(a.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(a.pillars.decision_accountability??0).toFixed(2)}</td>
      <td>${(a.pillars.quality_certification??0).toFixed(2)}</td>
      <td><span style="background:${a.v20Highlights.certificationLevel==="gold"?"#f5c542":a.v20Highlights.certificationLevel==="silver"?"#c0c0c0":a.v20Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em">${a.v20Highlights.certificationLevel.toUpperCase()}</span></td>
      <td>${(a.v20Highlights.claimAccuracy*100).toFixed(0)}%</td>
    </tr>
  `).join(""),s=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v20 \u2014 24-Pillar AI Trading Benchmark</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #f5c542, #ff6b6b, #4ecdc4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.1em; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v20 { background: #2a1a3e; color: #ff6b6b; border: 1px solid #ff6b6b; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 1em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #ff6b6b; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.75em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; }
    a { color: #4ecdc4; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp: AI Trading Benchmark v20</h1>
      <div class="subtitle">Live evaluation of AI agents trading tokenized real-world stocks on Solana</div>
      <div class="badge-row">
        <span class="badge badge-pillars">24 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v20">v20: Transparency + Accountability + Certification</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${n.avgTransparency.toFixed(2)}</div>
        <div class="label">${n.totalReports} transparency reports generated</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(r.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${r.totalClaimsTracked} claims tracked, ${r.totalResolved} resolved</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(o.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${o.totalCertificates} certificates \u2014 ${o.goldTotal} Gold, ${o.silverTotal} Silver, ${o.bronzeTotal} Bronze</div>
      </div>
    </div>

    <h2 class="section-title">24-Pillar Leaderboard<span class="new-badge">NEW v20</span></h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Grade</th>
          <th>Composite</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
          <th>Cert Level</th>
          <th>Claim Accuracy</th>
        </tr>
      </thead>
      <tbody>${i}</tbody>
    </table>

    <h2 class="section-title">All 24 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${Object.entries(uq).map(([a,c])=>`
        <div class="pillar-card" ${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'style="border: 1px solid #ff6b6b"':""}>
          <div class="name">${a.replace(/_/g," ")}${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'<span class="new-badge">NEW</span>':""}</div>
          <div class="weight">${(c*100).toFixed(0)}%</div>
        </div>
      `).join("")}
    </div>

    <h2 class="section-title">v20 New Engines</h2>
    <div class="grid">
      <div class="card">
        <h2>Reasoning Transparency Engine</h2>
        <p style="color:#aaa;font-size:0.9em">Decomposes agent reasoning into verifiable components: claim extraction, evidence mapping, logic chain validation, assumption surfacing, counterfactual analysis. Every claim gets checked.</p>
      </div>
      <div class="card">
        <h2>Decision Accountability Tracker</h2>
        <p style="color:#aaa;font-size:0.9em">Registers specific verifiable claims at trade time and resolves them against outcomes. Tracks directional accuracy, price targets, overconfidence patterns, and learning velocity.</p>
      </div>
      <div class="card">
        <h2>Reasoning Quality Certifier</h2>
        <p style="color:#aaa;font-size:0.9em">Issues Gold/Silver/Bronze quality certificates based on 5 dimensions: structural completeness, data grounding, logical soundness, epistemic honesty, and actionability. SHA-256 verifiable.</p>
      </div>
    </div>

    <h2 class="section-title">API Endpoints</h2>
    <div class="card">
      <pre style="color:#4ecdc4;font-size:0.85em;line-height:1.6">
GET /benchmark-v20          \u2014 This dashboard
GET /benchmark-v20/data     \u2014 JSON data payload
GET /benchmark-v20/stream   \u2014 SSE live events
GET /benchmark-v20/export   \u2014 JSONL export

GET /api/v1/benchmark-v20/scores           \u2014 All agent scores
GET /api/v1/benchmark-v20/score/:agentId   \u2014 Single agent score
GET /api/v1/benchmark-v20/transparency     \u2014 Transparency profiles
GET /api/v1/benchmark-v20/transparency/:id \u2014 Agent transparency
GET /api/v1/benchmark-v20/accountability   \u2014 Accountability profiles
GET /api/v1/benchmark-v20/accountability/:id \u2014 Agent accountability
GET /api/v1/benchmark-v20/certification    \u2014 All certificates
GET /api/v1/benchmark-v20/certification/:id \u2014 Agent certificates
GET /api/v1/benchmark-v20/verify/:hash     \u2014 Verify certificate
GET /api/v1/benchmark-v20/health           \u2014 Benchmark health
GET /api/v1/benchmark-v20/weights          \u2014 Pillar weights
GET /api/v1/benchmark-v20/schema           \u2014 Data schema
GET /api/v1/benchmark-v20/export/jsonl     \u2014 JSONL export
GET /api/v1/benchmark-v20/export/csv       \u2014 CSV export
      </pre>
    </div>

    <footer>
      <p>MoltApp v20 \u2014 24-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px;font-size:0.85em">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
  <script>
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(s)});mt();var uvt=.9,VLn=.9,pq=.8,zLn=.7,jLn=.5,jve=.7,qLn=.6,dvt=.7,WLn=.6,pvt=.5,fvt=.5,mvt=.4,KLn=.3,qve=.5,JLn=.3,YLn=.2,fq=.7,hvt=.6,QLn=.3,XLn=.7,ZLn=.8,e7n=.5,t7n=.5,n7n=.3,r7n=.8,o7n=.6,gvt=3,yvt=.3,bvt=.1,i7n=.7,s7n=4,a7n=.5,c7n=.6,l7n=.2,u7n=.1,d7n=.1,p7n=4,f7n=.5,m7n=.15,h7n=.05,g7n=.5,y7n=.4,b7n=.3,_7n=.3,S7n=.5,d9=new Map,v7n=[/\bcurrently\s+(?:at|trading|priced)/i,/\bprice\s+is\b/i,/\bvolume\s+(?:is|was|at)\b/i,/\bmarket\s+(?:is|was|shows)\b/i,/\bdata\s+(?:shows|indicates|suggests)\b/i,/\b(?:up|down)\s+[\d.]+%/i,/\$[\d,.]+/,/\bhistorically\b/i,/\baccording\s+to\b/i],E7n=[/\banalysis\b/i,/\bcompared?\s+to\b/i,/\brelative\s+to\b/i,/\bcorrelat/i,/\btrend\b/i,/\bpattern\b/i,/\bsupport\s+(?:and|\/)\s+resistance\b/i,/\bmoving\s+average\b/i,/\brsi\b/i,/\bmacd\b/i,/\bfundamentals?\b/i],A7n=[/\btherefore\b/i,/\bthus\b/i,/\bhence\b/i,/\bthis\s+(?:means|implies|suggests|indicates)\b/i,/\bwe\s+can\s+(?:infer|conclude|deduce)\b/i,/\blikely\b/i,/\bprobably\b/i,/\bsuggests?\s+that\b/i,/\bimplies?\s+that\b/i],x7n=[/\bin\s+conclusion\b/i,/\boverall\b/i,/\btherefore,?\s+(?:I|we)\s+(?:should|will|recommend)\b/i,/\bbased\s+on\s+(?:the\s+above|this\s+analysis|these\s+factors)\b/i,/\bmy\s+(?:recommendation|decision|verdict)\b/i,/\bfinal\s+(?:assessment|verdict|decision)\b/i,/\bi\s+(?:recommend|decide|choose)\b/i],w7n=[/\bhowever\b/i,/\balthough\b/i,/\bdespite\b/i,/\brisk\b/i,/\bcaveat\b/i,/\bcaution\b/i,/\buncertain\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bnevertheless\b/i,/\bbut\b/i],T7n=[/\bbuy(?:ing)?\s+because\b/i,/\bsell(?:ing)?\s+because\b/i,/\bhold(?:ing)?\s+because\b/i,/\bposition\b.*\bbecause\b/i,/\benter(?:ing)?\s+(?:a\s+)?(?:long|short)\b/i,/\btake\s+profit\b/i,/\bstop[\s-]loss\b/i,/\bexit(?:ing)?\s+(?:the\s+)?position\b/i],I7n=[{regex:/\bbecause\b/i,type:"causal",strength:pq},{regex:/\bsince\b/i,type:"causal",strength:zLn},{regex:/\bdue\s+to\b/i,type:"causal",strength:pq},{regex:/\bas\s+a\s+result\b/i,type:"causal",strength:uvt},{regex:/\btherefore\b/i,type:"causal",strength:VLn},{regex:/\bthus\b/i,type:"causal",strength:pq},{regex:/\bhence\b/i,type:"causal",strength:pq},{regex:/\bconsequently\b/i,type:"causal",strength:uvt},{regex:/\bso\b/i,type:"causal",strength:jLn},{regex:/\bif\b/i,type:"conditional",strength:jve},{regex:/\bassuming\b/i,type:"conditional",strength:qLn},{regex:/\bprovided\s+that\b/i,type:"conditional",strength:jve},{regex:/\bunless\b/i,type:"conditional",strength:jve},{regex:/\bcompared\s+to\b/i,type:"comparative",strength:dvt},{regex:/\brelative\s+to\b/i,type:"comparative",strength:dvt},{regex:/\bwhereas\b/i,type:"comparative",strength:WLn},{regex:/\bmore\s+than\b/i,type:"comparative",strength:pvt},{regex:/\bless\s+than\b/i,type:"comparative",strength:pvt},{regex:/\bafter\b/i,type:"temporal",strength:fvt},{regex:/\bbefore\b/i,type:"temporal",strength:fvt},{regex:/\brecently\b/i,type:"temporal",strength:mvt},{regex:/\bpreviously\b/i,type:"temporal",strength:mvt},{regex:/\bnow\b/i,type:"temporal",strength:KLn},{regex:/\bfurthermore\b/i,type:"additive",strength:qve},{regex:/\bmoreover\b/i,type:"additive",strength:qve},{regex:/\badditionally\b/i,type:"additive",strength:qve},{regex:/\balso\b/i,type:"additive",strength:JLn},{regex:/\band\b/i,type:"additive",strength:YLn},{regex:/\bhowever\b/i,type:"contrastive",strength:fq},{regex:/\bbut\b/i,type:"contrastive",strength:hvt},{regex:/\balthough\b/i,type:"contrastive",strength:hvt},{regex:/\bdespite\b/i,type:"contrastive",strength:fq},{regex:/\bnevertheless\b/i,type:"contrastive",strength:fq},{regex:/\bon\s+the\s+other\s+hand\b/i,type:"contrastive",strength:fq}],R7n=[/\$[\d,.]+/,/[\d.]+%/,/\bprice\s+(?:of|at|is)\b/i,/\bvolume\b/i,/\bmarket\s+cap\b/i,/\bp\/e\b/i,/\bearnings\b/i,/\brevenue\b/i],C7n=[/\bgenerally\b/i,/\btypically\b/i,/\bhistorically\b/i,/\bin\s+(?:the\s+)?past\b/i,/\busually\b/i,/\bcommonly\b/i,/\bwell[\s-]known\b/i],N7n=[/\bassum/i,/\bexpect/i,/\bbelieve\b/i,/\bthink\b/i,/\bfeel\b/i,/\bguess\b/i,/\bspeculat/i,/\bhope\b/i];function O7n(t){let e=t.split(/(?<=[.!?;])\s+|\n+/).map(r=>r.trim()).filter(r=>r.length>5),n=[];for(let r=0;r<e.length;r++){let o=e[r],i=P7n(o,r,e.length),s=D7n(o),a=k7n(o,r,e);n.push({index:r,text:o,type:i,dependsOn:a,hasEvidence:s.hasEvidence,evidenceType:s.evidenceType})}return n}function P7n(t,e,n){let r={observation:0,analysis:0,inference:0,conclusion:0,hedge:0,action_rationale:0};for(let a of v7n)a.test(t)&&(r.observation+=1);for(let a of E7n)a.test(t)&&(r.analysis+=1);for(let a of A7n)a.test(t)&&(r.inference+=1);for(let a of x7n)a.test(t)&&(r.conclusion+=1);for(let a of w7n)a.test(t)&&(r.hedge+=1);for(let a of T7n)a.test(t)&&(r.action_rationale+=1);let o=n>1?e/(n-1):.5;o<QLn&&(r.observation+=e7n),o>XLn&&(r.conclusion+=t7n),o>ZLn&&(r.action_rationale+=n7n);let i="observation",s=-1;for(let[a,c]of Object.entries(r))c>s&&(s=c,i=a);return s>0?i:"observation"}function D7n(t){for(let e of R7n)if(e.test(t))return{hasEvidence:!0,evidenceType:"data_cited"};for(let e of C7n)if(e.test(t))return{hasEvidence:!0,evidenceType:"general_knowledge"};for(let e of N7n)if(e.test(t))return{hasEvidence:!1,evidenceType:"assumption"};return{hasEvidence:!1,evidenceType:"none"}}function k7n(t,e,n){let r=[];if(e===0)return r;let o=t.toLowerCase();/\bthis\s+(?:means|implies|suggests|shows|indicates)\b/i.test(o)&&r.push(e-1),/\btherefore\b|\bthus\b|\bhence\b|\bconsequently\b|\bas\s+a\s+result\b/i.test(o)&&(r.push(e-1),e>=2&&r.push(e-2)),/\bhowever\b|\bbut\b|\balthough\b|\bdespite\b|\bnevertheless\b/i.test(o)&&r.push(e-1),/\bfurthermore\b|\bmoreover\b|\badditionally\b/i.test(o)&&r.push(e-1);let i=_vt(t);for(let s=0;s<e;s++){let a=_vt(n[s]);i.filter(l=>a.includes(l)).length>=2&&!r.includes(s)&&r.push(s)}return r.length===0&&e>0&&r.push(e-1),[...new Set(r)].sort((s,a)=>s-a)}function _vt(t){let e=new Set(["the","a","an","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","can","shall","to","of","in","for","on","with","at","by","from","as","into","through","during","and","or","but","not","no","so","if","then","than","that","this","these","those","it","its","i","we","my","our"]);return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(n=>n.length>2&&!e.has(n))}function L7n(t){let e=[];for(let n=1;n<t.length;n++){let r=t[n];for(let o of I7n)if(o.regex.test(r.text)){let i=r.dependsOn.length>0?r.dependsOn[0]:n-1,s=r.text.match(o.regex);e.push({fromStep:i,toStep:n,type:o.type,strength:o.strength,text:s?s[0]:""});break}}return e}function M7n(t){let e=[],n=new Set;for(let r of t)for(let o of r.dependsOn)if(o>=0&&o<t.length&&t[o].dependsOn.includes(r.index)){let s=`${Math.min(r.index,o)},${Math.max(r.index,o)}`;n.has(s)||(n.add(s),e.push({type:"circular_reasoning",severity:r7n,description:`Steps ${Math.min(r.index,o)} and ${Math.max(r.index,o)} reference each other circularly`,stepIndices:[Math.min(r.index,o),Math.max(r.index,o)]}))}return e}function B7n(t){let e=[];for(let n of t){if(n.type!=="conclusion"&&n.type!=="action_rationale")continue;!n.dependsOn.some(o=>{if(o>=0&&o<t.length){let i=t[o].type;return i==="analysis"||i==="inference"||i==="observation"}return!1})&&n.dependsOn.length>0&&e.push({type:"non_sequitur",severity:o7n,description:`Conclusion at step ${n.index} lacks supporting analysis or inference`,stepIndices:[n.index]})}return e}function U7n(t){let e=[],n=[];for(let r of t)r.hasEvidence?(n.length>=gvt&&e.push({type:"evidence_gap",severity:Math.min(1,yvt+n.length*bvt),description:`Steps ${n[0]}-${n[n.length-1]} (${n.length} steps) lack evidential support`,stepIndices:[...n]}),n=[]):n.push(r.index);return n.length>=gvt&&e.push({type:"evidence_gap",severity:Math.min(1,yvt+n.length*bvt),description:`Steps ${n[0]}-${n[n.length-1]} (${n.length} steps) lack evidential support`,stepIndices:[...n]}),e}function $7n(t){let e=[],n=[],r=[];for(let o of t){let i=o.text.toLowerCase();/\bbullish\b|\bupside\b|\bundervalued\b|\bgrowth\b|\bbuy\b/.test(i)&&n.push(o.index),/\bbearish\b|\bdownside\b|\bovervalued\b|\bdecline\b|\bsell\b/.test(i)&&r.push(o.index)}return n.length>0&&r.length>0&&(t.some(i=>i.type==="hedge")||e.push({type:"contradiction",severity:i7n,description:`Contradictory signals: bullish at steps [${n.join(",")}] vs bearish at [${r.join(",")}] without hedging`,stepIndices:[...n,...r]})),e}function F7n(t){let e=[];for(let n of t)if(!(n.type!=="inference"&&n.type!=="conclusion")){for(let r of n.dependsOn)if(r>=0&&r<t.length){let o=n.index-r,i=t[r];o>=s7n&&i.type==="observation"&&n.dependsOn.length===1&&e.push({type:"unsupported_leap",severity:a7n,description:`Step ${n.index} leaps ${o} steps back to observation at step ${r} without intermediate analysis`,stepIndices:[r,n.index]})}}return e}function H7n(t){let e=new Map;function n(o,i){if(e.has(o))return e.get(o);if(i.has(o))return 0;i.add(o);let s=t[o];if(!s||s.dependsOn.length===0)return e.set(o,1),1;let a=0;for(let l of s.dependsOn)if(l>=0&&l<t.length){let u=n(l,i);u>a&&(a=u)}let c=a+1;return e.set(o,c),c}let r=0;for(let o=0;o<t.length;o++){let i=n(o,new Set);i>r&&(r=i)}return r}function G7n(t,e,n,r){if(t.length===0)return 0;let o=t.length,i=ue(t,c=>c.hasEvidence),s=ue(e,c=>c.strength>=f7n),a=c7n;a+=l7n*(i/o),a+=u7n*(s/o),a+=d7n*Math.min(1,r/p7n);for(let c of n)a-=c.severity>g7n?m7n:h7n;return Math.round(Lt(a,0,1)*100)/100}function Svt(t,e,n){let r=O7n(t),o=L7n(r),i=[...M7n(r),...B7n(r),...U7n(r),...$7n(r),...F7n(r)],s=H7n(r),a=ue(r,u=>u.hasEvidence),c=r.length>0?a/r.length:0,l=G7n(r,o,i,s);return{steps:r,connectors:o,defects:i,chainQualityScore:l,stepCount:r.length,avgStepEvidence:re(c),longestLogicalChain:s,hasCircularReasoning:i.some(u=>u.type==="circular_reasoning"),hasMajorGaps:i.some(u=>u.type==="evidence_gap"&&u.severity>.5)}}function vvt(t,e){let n=d9.get(t)??[];n.push(e),d9.set(t,n)}function mq(t){let e=d9.get(t);if(!e||e.length===0)return S7n;let n=fl(e,"chainQualityScore"),r=fl(e,"avgStepEvidence"),o=e.reduce((c,l)=>c+l.defects.length,0),i=e.reduce((c,l)=>c+l.stepCount,0),s=i>0?Math.min(1,o/i):0,a=n*y7n+r*b7n+(1-s)*_7n;return Math.round(Lt(a,0,1)*100)/100}function Evt(){let t={};for(let[e,n]of d9.entries()){if(n.length===0)continue;let r=fl(n,"chainQualityScore"),o=fl(n,"avgStepEvidence"),i=n.reduce((c,l)=>c+l.defects.length,0),s=n.reduce((c,l)=>c+l.stepCount,0),a=s>0?i/s:0;t[e]={avgQuality:re(r),avgEvidence:re(o),defectRate:re(a),totalChains:n.length}}return t}function Wve(){let t=0,e=0,n=0,r={};for(let o of d9.values())for(let i of o){t++,e+=i.chainQualityScore,n+=i.defects.length;for(let s of i.defects)r[s.type]=(r[s.type]??0)+1}return{totalValidations:t,avgQuality:t>0?Math.round(e/t*100)/100:0,avgDefectsPerChain:t>0?Math.round(n/t*100)/100:0,defectDistribution:r}}mt();var Avt=200,Kve=["price","volume","news","sentiment","technical","fundamental","macro","social","analyst","earnings"],Jve=.7,Yve=.3,V7n=.05,z7n=-.05,Tvt=.5,j7n=.2,q7n=.3,W7n=.7,K7n=4,J7n=5,Y7n=.4,Q7n=.6,X7n=.1,Z7n=6,eMn=3,tMn=.4,nMn=.35,rMn=.25,oMn=.5,iMn=1.5,sMn=.7,aMn=3,cMn=.3,lMn=3,uMn=4,dMn=4,xvt=3,wvt=6,pMn=4,fMn=3,mMn=.5,Qve=["hedge","downside","stop-loss","stop loss","risk","caution","volatility","drawdown","exposure","protect","diversif","worst-case","worst case","tail risk","black swan","liquidat","margin"],hMn=["price","volume","moving average","rsi","macd","support","resistance","breakout","gap","spread","bid","ask","open interest","market cap","p/e","eps","yield","dividend","52-week","52 week","all-time","intraday","close","high","low"],Ivt={conviction_consistency:.25,risk_awareness:.2,market_sensitivity:.2,strategic_adaptability:.2,information_utilization:.15},Xve=new Map,p9=new Map;function Rvt(t,e){let n=t.toLowerCase(),r=0,o=0;for(let i of e){let s=new RegExp(i,"gi"),a=n.match(s);a&&a.length>0&&(r+=a.length,o++)}return{totalHits:r,uniqueHits:o}}function f9(t){if(t.length<dMn)return"stable";let e=Math.floor(t.length/2),n=t.slice(0,e),r=t.slice(e),o=n.reduce((a,c)=>a+c,0)/n.length,s=r.reduce((a,c)=>a+c,0)/r.length-o;return s>V7n?"improving":s<z7n?"declining":"stable"}function hq(t){let e=(t||"unknown").toLowerCase().trim();return e.includes("momentum")?"momentum":e.includes("value")?"value":e.includes("hedge")?"hedge":e.includes("contrarian")?"contrarian":e.includes("swing")?"swing":e.includes("scalp")?"scalp":e.includes("growth")?"growth":e.includes("income")||e.includes("dividend")?"income":e.includes("specul")?"speculative":e}function gMn(t){if(t.length<xvt)return{name:"conviction_consistency",score:Tvt,evidence:`Insufficient data (fewer than ${xvt} trades)`,trendDirection:"stable"};let e=[];for(let s of t){let a=s.action==="buy"||s.action==="sell",c=s.action==="hold";s.confidence>=Jve&&a?e.push(1):s.confidence>=Jve&&c?e.push(j7n):s.confidence<=Yve&&c?e.push(1):s.confidence<=Yve&&a?e.push(q7n):e.push(W7n)}let n=e.reduce((s,a)=>s+a,0)/e.length,r=f9(e),o=t.filter(s=>s.confidence>=Jve&&(s.action==="buy"||s.action==="sell")).length,i=t.filter(s=>s.confidence<=Yve&&s.action==="hold").length;return{name:"conviction_consistency",score:Lt(n,0,1),evidence:`${o} high-confidence active trades, ${i} prudent low-confidence holds out of ${t.length} total. Alignment score: ${(n*100).toFixed(1)}%`,trendDirection:r}}function yMn(t){if(t.length===0)return{name:"risk_awareness",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],n=new Set;for(let s of t){let{totalHits:a,uniqueHits:c}=Rvt(s.reasoning,Qve),l=Math.min(1,a/K7n),u=Math.min(1,c/J7n),d=l*Y7n+u*Q7n;e.push(d);for(let p of Qve)s.reasoning.toLowerCase().includes(p)&&n.add(p)}let r=e.reduce((s,a)=>s+a,0)/e.length,o=f9(e),i=e.filter(s=>s>X7n).length;return{name:"risk_awareness",score:Lt(r,0,1),evidence:`${i}/${t.length} trades mention risk concepts. ${n.size}/${Qve.length} unique risk keywords detected. Depth score: ${(r*100).toFixed(1)}%`,trendDirection:o}}function bMn(t){if(t.length===0)return{name:"market_sensitivity",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[];for(let i of t){let{uniqueHits:s}=Rvt(i.reasoning,hMn),a=(i.reasoning.match(/\$\d+[\d,.]*|\d+\.?\d*%/g)||[]).length,c=i.reasoning.toLowerCase().includes(i.symbol.toLowerCase())?1:0,l=Math.min(1,s/Z7n),u=Math.min(1,a/eMn),d=l*tMn+u*nMn+c*rMn;e.push(d)}let n=e.reduce((i,s)=>i+s,0)/e.length,r=f9(e),o=e.filter(i=>i>oMn).length;return{name:"market_sensitivity",score:Lt(n,0,1),evidence:`${o}/${t.length} trades show strong market data engagement. Average sensitivity: ${(n*100).toFixed(1)}%`,trendDirection:r}}function _Mn(t){if(t.length<wvt)return{name:"strategic_adaptability",score:Tvt,evidence:`Insufficient data (fewer than ${wvt} trades) to measure adaptability`,trendDirection:"stable"};let e=Math.floor(t.length/2),n=t.slice(0,e),r=t.slice(e),o=y=>{let S=new Map;for(let v of y){let A=hq(v.intent);S.set(A,(S.get(A)??0)+1)}for(let[v,A]of S)S.set(v,A/y.length);return S},i=o(n),s=o(r),a=new Set([...i.keys(),...s.keys()]),c=0;for(let y of a){let S=i.get(y)??0,v=s.get(y)??0;c+=Math.abs(S-v)}let l=Math.min(1,c/iMn),u=n.map(y=>y.confidence),d=r.map(y=>y.confidence),p=Math.abs(u.reduce((y,S)=>y+S,0)/u.length-d.reduce((y,S)=>y+S,0)/d.length),f=l*sMn+Math.min(1,p*aMn)*cMn,h=Math.max(fMn,Math.floor(t.length/pMn)),m=[];for(let y=0;y+h<=t.length;y+=h){let S=t.slice(y,y+h),v=new Set(S.map(A=>hq(A.intent)));m.push(Math.min(1,v.size/lMn))}let g=f9(m);return{name:"strategic_adaptability",score:Lt(f,0,1),evidence:`Intent distribution shift: ${(c*100).toFixed(1)}% divergence between halves. Confidence shift: ${(p*100).toFixed(1)}%. Unique intents: first half ${i.size}, second half ${s.size}`,trendDirection:g}}function SMn(t){if(t.length===0)return{name:"information_utilization",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],n=new Set;for(let i of t){let s=new Set;for(let c of i.sources){let l=c.toLowerCase();for(let u of Kve)l.includes(u)&&(s.add(u),n.add(u));s.size===0&&c.trim().length>0&&(s.add("other"),n.add("other"))}for(let c of Kve)i.reasoning.toLowerCase().includes(c)&&(s.add(c),n.add(c));let a=Math.min(1,s.size/uMn);e.push(a)}let r=e.reduce((i,s)=>i+s,0)/e.length,o=f9(e);return{name:"information_utilization",score:Lt(r,0,1),evidence:`${n.size}/${Kve.length} source types used across all trades. Per-trade average: ${(r*100).toFixed(1)}% utilization. Types seen: ${[...n].sort().join(", ")||"none"}`,trendDirection:o}}function vMn(t){if(t.length===0)return .5;let e=0;for(let n of t){let r=hq(n.intent),o=n.reasoning.toLowerCase(),i=!1;switch(r){case"momentum":i=n.action==="buy"&&/up|bull|gain|rise|rally|breakout|higher/i.test(o)||n.action==="sell"&&/down|bear|drop|fall|decline|lower/i.test(o)||n.action==="hold";break;case"value":i=n.action==="buy"&&/undervalue|cheap|discount|below.*value|bargain/i.test(o)||n.action==="sell"&&/overvalue|expensive|premium|above.*value/i.test(o)||n.action==="hold";break;case"hedge":i=n.action==="sell"||n.action==="hold";break;case"contrarian":i=!0;break;default:i=n.coherenceScore>=mMn;break}i&&e++}return e/t.length}function Cvt(t,e){let n=Xve.get(t)??[];n.push(e),n.length>Avt&&n.splice(0,n.length-Avt),Xve.set(t,n);let r=EMn(t);p9.set(t,r)}function EMn(t){let e=Xve.get(t)??[],n=[gMn(e),yMn(e),bMn(e),_Mn(e),SMn(e)],r=n.reduce((u,d)=>{let p=Ivt[d.name]??.2;return u+d.score*p},0),o=new Map;for(let u of e){let d=hq(u.intent);o.set(d,(o.get(d)??0)+1)}let i="unknown",s=0;for(let[u,d]of o)d>s&&(s=d,i=u);let a=0;if(e.length>0&&o.size>1){let u=0;for(let p of o.values()){let f=p/e.length;f>0&&(u-=f*Math.log2(f))}let d=Math.log2(o.size);a=d>0?u/d:0}let c=vMn(e),l={agentId:t,dimensions:n,overallScore:Lt(r,0,1),dominantStrategy:i,strategicFlexibility:Lt(a,0,1),consistencyWithStatedIntent:Lt(c,0,1),tradeCount:e.length,lastUpdated:new Date().toISOString()};return p9.set(t,l),l}function gq(t){let e=p9.get(t);return e?e.dimensions.reduce((n,r)=>{let o=Ivt[r.name]??.2;return n+r.score*o},0):.5}function Nvt(){let t={};for(let[e,n]of p9)t[e]=n;return t}function Zve(){let t=[...p9.values()];if(t.length===0)return{totalAgents:0,avgOverallScore:0,dominantStrategies:{},dimensionAverages:{}};let e=t.reduce((s,a)=>s+a.overallScore,0)/t.length,n={};for(let s of t)n[s.dominantStrategy]=(n[s.dominantStrategy]??0)+1;let r={},o={};for(let s of t)for(let a of s.dimensions)r[a.name]=(r[a.name]??0)+a.score,o[a.name]=(o[a.name]??0)+1;let i={};for(let s of Object.keys(r))i[s]=r[s]/o[s];return{totalAgents:t.length,avgOverallScore:e,dominantStrategies:n,dimensionAverages:i}}mt();var _q=new yr,yq=[],Ovt=200;function Pvt(t,e){yq.unshift({type:t,data:e,timestamp:new Date().toISOString()}),yq.length>Ovt&&(yq.length=Ovt)}var bq={financial:.07,reasoning:.06,safety:.05,calibration:.05,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.03,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.04,quality_certification:.04,reasoning_chain_integrity:.05,strategy_profiling:.05};function AMn(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function eEe(){let t=Pd(),e=sq(),n=aq(),r=cq(),o=Evt(),i=Nvt(),s=[...new Set([...t.map(c=>c.agentId),...Object.keys(e),...Object.keys(n),...Object.keys(r),...Object.keys(o),...Object.keys(i)])];s.length===0&&s.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let a=s.map(c=>{let l=t.find(m=>m.agentId===c),u={};if(l)for(let m of l.pillars??[])u[m.name]=m.score;for(let m of Object.keys(bq))m in u||(u[m]=.5);u.arbitration_quality=uR(c),u.debate_performance=dR(c),u.impact_forecasting=pR(c),u.adversarial_robustness=tR(c),u.cross_session_memory=nR(c),u.reasoning_transparency=oR(c),u.decision_accountability=sR(c),u.quality_certification=cR(c),u.reasoning_chain_integrity=mq(c),u.strategy_profiling=gq(c);let d=0;for(let[m,g]of Object.entries(bq))d+=(u[m]??.5)*g;d=re(d);let p=e[c],f=n[c],h=r[c];return{agentId:c,name:c,provider:l?.provider??"unknown",composite:d,grade:AMn(d),rank:0,rankChange:0,pillars:u,v21Highlights:{chainIntegrity:u.reasoning_chain_integrity,strategyScore:u.strategy_profiling,transparencyScore:p?.avgTransparency??.5,accountabilityScore:f?.accountabilityScore??.5,certificationLevel:h?.goldCount>0?"gold":h?.silverCount>0?"silver":h?.bronzeCount>0?"bronze":"uncertified"}}});return a.sort((c,l)=>l.composite-c.composite),a.forEach((c,l)=>{c.rank=l+1}),a}_q.get("/stream",t=>{let e=new ReadableStream({start(n){let r=new TextEncoder;for(let i of yq.slice(0,20))n.enqueue(r.encode(`event: ${i.type}
data: ${JSON.stringify(i.data)}

`));let o=setInterval(()=>{n.enqueue(r.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(o),n.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});_q.get("/data",t=>{let e=eEe(),n=yb(),r=Wve(),o=Zve(),i=iR(),s=aR(),a=lR();return t.json({ok:!0,benchmark:"moltapp-v21",version:"21.0.0",pillars:26,agents:e.map(c=>({agentId:c.agentId,name:c.name,provider:c.provider,v21Score:c.composite,rank:c.rank,pillars:c.pillars})),weights:bq,health:n,chainStats:r,strategyStats:o,transparencyStats:i,accountabilityStats:s,certificationStats:a,generatedAt:new Date().toISOString()})});_q.get("/export",t=>{let n=eEe().map(r=>JSON.stringify({agentId:r.agentId,name:r.name,provider:r.provider,v21Score:r.composite,grade:r.grade,rank:r.rank,pillars:r.pillars,highlights:r.v21Highlights}));return new Response(n.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v21-scores.jsonl"}})});_q.get("/",t=>{let e=eEe(),n=Wve(),r=Zve(),o=iR(),i=aR(),s=lR(),a=e.map(u=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${u.rank}</td>
      <td>${u.agentId}</td>
      <td>${u.provider}</td>
      <td style="font-size:1.2em;font-weight:bold">${u.grade}</td>
      <td>${u.composite.toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.reasoning_chain_integrity??0).toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.strategy_profiling??0).toFixed(2)}</td>
      <td>${(u.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(u.pillars.decision_accountability??0).toFixed(2)}</td>
      <td><span style="background:${u.v21Highlights.certificationLevel==="gold"?"#f5c542":u.v21Highlights.certificationLevel==="silver"?"#c0c0c0":u.v21Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em;color:#000">${u.v21Highlights.certificationLevel.toUpperCase()}</span></td>
    </tr>
  `).join(""),c=Object.entries(bq).map(([u,d])=>{let p=["reasoning_chain_integrity","strategy_profiling"].includes(u);return`
      <div class="pillar-card" ${p?'style="border: 1px solid #00ff88"':""}>
        <div class="name">${u.replace(/_/g," ")}${p?'<span class="new-badge">NEW</span>':""}</div>
        <div class="weight">${(d*100).toFixed(0)}%</div>
      </div>
    `}).join(""),l=or`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="60">
  <title>MoltApp Benchmark v21 -- 26-Pillar AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #00ff88, #4ecdc4, #f5c542); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.0em; max-width: 700px; margin: 0 auto; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v21 { background: #0a2a1a; color: #00ff88; border: 1px solid #00ff88; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 0.85em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.75em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; font-size: 0.9em; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #00ff88; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; font-weight: 700; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.7em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; font-size: 0.85em; }
    a { color: #00ff88; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp Benchmark v21</h1>
      <div class="subtitle">26-Pillar AI Trading Intelligence -- now with Reasoning Chain Validation and Agent Strategy Profiling</div>
      <div class="badge-row">
        <span class="badge badge-pillars">26 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v21">v21: Chain Integrity + Strategy Profiling</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Chain Integrity</h2>
        <div class="value" style="color:#00ff88">${n.avgQuality.toFixed(2)}</div>
        <div class="label">${n.totalValidations} chain validations -- ${n.avgDefectsPerChain.toFixed(1)} avg defects/chain</div>
      </div>
      <div class="card">
        <h2>Strategy Profiling</h2>
        <div class="value" style="color:#00ff88">${r.avgOverallScore.toFixed(2)}</div>
        <div class="label">${r.totalAgents} agents profiled across 5 dimensions</div>
      </div>
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${o.avgTransparency.toFixed(2)}</div>
        <div class="label">${o.totalReports} transparency reports</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(i.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${i.totalClaimsTracked} claims tracked</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(s.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${s.totalCertificates} certificates issued</div>
      </div>
    </div>

    <h2 class="section-title">26-Pillar Leaderboard<span class="new-badge">v21</span></h2>
    <div style="overflow-x:auto">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Provider</th>
          <th>Grade</th>
          <th>v21 Score</th>
          <th>Chain Integrity</th>
          <th>Strategy Profile</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
        </tr>
      </thead>
      <tbody>${a}</tbody>
    </table>
    </div>

    <h2 class="section-title">New in v21<span class="new-badge">NEW</span></h2>
    <div class="grid">
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Reasoning Chain Validator</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Validates the structural integrity of agent reasoning chains. Decomposes arguments into atomic steps, analyzes logical connectors between them, detects circular reasoning and non-sequiturs, and maps evidence gaps where reasoning jumps over missing support.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Step Decomposition, Connector Quality, Circularity-Free, Sequitur Score, Evidence Coverage</p>
      </div>
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Agent Strategy Profiler</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Profiles how effectively each agent executes its trading strategy across multiple rounds. Measures conviction consistency (follow-through), risk awareness depth, market sensitivity, strategic adaptability, and information utilization.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Conviction Consistency, Risk Awareness, Market Sensitivity, Strategic Adaptability, Information Utilization</p>
      </div>
    </div>

    <h2 class="section-title">All 26 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${c}
    </div>

    <footer>
      <p>MoltApp v21 -- 26-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
</body>
</html>`;return t.html(l)});mt();import{createHash as m9}from"crypto";var vq=new Map,h9=new Map,kvt=new Map,Sq=[],Dvt=100;function xMn(t){let e=JSON.stringify({action:t.action,agentId:t.agentId,confidence:t.confidence,intent:t.intent,predictedOutcome:t.predictedOutcome??null,quantity:t.quantity,reasoning:t.reasoning,roundId:t.roundId,sources:[...t.sources].sort(),symbol:t.symbol,tradeId:t.tradeId}),r={hash:m9("sha256").update(e).digest("hex"),fields:["action","agentId","confidence","intent","predictedOutcome","quantity","reasoning","roundId","sources","symbol","tradeId"],createdAt:new Date().toISOString(),agentId:t.agentId,roundId:t.roundId};return vq.set(t.tradeId,r),kvt.set(t.tradeId,e),r}function Lvt(t,e){if(e.length===0){let s=m9("sha256").update("empty_round").digest("hex"),a={root:s,leafCount:0,nodes:[{hash:s}],roundId:t,builtAt:new Date().toISOString()};return h9.set(t,a),a}let n=e.map(s=>({hash:vq.get(s)?.hash??m9("sha256").update(s).digest("hex"),tradeId:s}));for(;n.length>1&&(n.length&n.length-1)!==0;){let s=n[n.length-1].hash;n.push({hash:s})}let r=[...n],o=n;for(;o.length>1;){let s=[];for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1]??c,d={hash:m9("sha256").update(c.hash+l.hash).digest("hex"),left:c.hash,right:l.hash};s.push(d),r.push(d)}o=s}let i={root:o[0].hash,leafCount:e.length,nodes:r,roundId:t,builtAt:new Date().toISOString()};return h9.set(t,i),i}function tEe(){let t=[],e=0;for(let[o,i]of kvt.entries()){e++;let s=vq.get(o);if(!s){t.push({tradeId:o,agentId:"unknown",field:"fingerprint",originalHash:"missing",currentHash:"n/a",severity:"critical",description:"Fingerprint record deleted \u2014 potential data purge"});continue}let a=m9("sha256").update(i).digest("hex");a!==s.hash&&t.push({tradeId:o,agentId:s.agentId,field:"canonical_data",originalHash:s.hash,currentHash:a,severity:"critical",description:"Canonical data hash mismatch \u2014 trade data was modified after fingerprinting"})}for(let[o,i]of h9.entries()){let s=i.nodes.filter(a=>a.tradeId).map(a=>a.tradeId);if(s.length>0){let a=Lvt(`verify_${o}`,s);h9.delete(`verify_${o}`),a.root!==i.root&&t.push({tradeId:`round_${o}`,agentId:"system",field:"merkle_root",originalHash:i.root,currentHash:a.root,severity:"critical",description:`Merkle root mismatch for round ${o} \u2014 round integrity compromised`})}}let n=e>0?Math.max(0,1-t.filter(o=>o.severity==="critical").length/e):1,r={tampered:t.length>0,recordsChecked:e,events:t,integrityScore:ye(n),checkedAt:new Date().toISOString()};return Sq.unshift(r),Sq.length>Dvt&&(Sq.length=Dvt),r}function Eq(){let t=Sq[0]??null;return{totalFingerprints:vq.size,totalMerkleTrees:h9.size,lastCheck:t,overallIntegrity:t?.integrityScore??1}}function Mvt(t){return xMn(t)}function Bvt(t,e){return Lvt(t,e)}mt();var Uvt=.05,wMn=.2,TMn=1,IMn=3,RMn=.95,CMn=.7,NMn=.9,OMn=.8,PMn=.9,DMn=.6,kMn=.8,LMn=.7,MMn=.7,BMn=.6,UMn=.6,$Mn=.5,FMn=.7,HMn=.4,GMn=.5,VMn=.7,zMn=.7,jMn=.6,qMn=.4,Aq=.3,WMn=.5,KMn=1,JMn=.7,YMn=.4,QMn=.1,XMn=0,ZMn=.8,eBn=.5,tBn=.3,nBn=.8,g9=[],$vt=500,nEe=new Map;function rBn(t){let e=[],n=new Set,r=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently\s+at|around)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi,/(\w+x?)\s+price\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)/gi];for(let u of r){let d;for(;(d=u.exec(t))!==null;){let p=`price_${d.index}`;if(!n.has(p)){n.add(p);let f=u===r[1];e.push({text:d[0],type:"price",symbol:f?d[2]:d[1],value:parseFloat((f?d[1]:d[2]).replace(/,/g,"")),position:d.index})}}}let o=[/(\w+x?)\s+(?:is\s+)?(?:up|down|changed?|moved?)\s+(?:by\s+)?([+-]?\d+\.?\d*)%/gi,/([+-]?\d+\.?\d*)\s*%\s+(?:change|gain|loss|increase|decrease|move)\s+(?:for|in|on)\s+(\w+x?)/gi,/(\w+x?)\s+(?:24h|daily)\s+(?:change|return)\s+(?:of\s+|is\s+)?([+-]?\d+\.?\d*)%/gi];for(let u of o){let d;for(;(d=u.exec(t))!==null;){let p=`pct_${d.index}`;if(!n.has(p)){n.add(p);let f=u===o[1];e.push({text:d[0],type:"percentage",symbol:f?d[2]:d[1],value:parseFloat(f?d[1]:d[2]),position:d.index})}}}let i=[/(\w+x?)\s+volume\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)\s*[MBK]?/gi,/(\w+x?)\s+(?:has\s+)?(?:high|low|elevated|above[\s-]average|below[\s-]average)\s+volume/gi,/(\d+\.?\d*)\s*x\s+(?:average\s+)?volume\s+(?:for|on|in)\s+(\w+x?)/gi];for(let u of i){let d;for(;(d=u.exec(t))!==null;){let p=`vol_${d.index}`;n.has(p)||(n.add(p),e.push({text:d[0],type:"volume",symbol:d[1],position:d.index}))}}let s=[/(\w+x?)\s+(?:is\s+)?(?:in\s+(?:an?\s+)?)?(?:uptrend|downtrend|bullish\s+trend|bearish\s+trend|positive\s+momentum|negative\s+momentum)/gi,/(?:uptrend|downtrend|bullish|bearish)\s+(?:trend|momentum)\s+(?:for|in|on)\s+(\w+x?)/gi];for(let u of s){let d;for(;(d=u.exec(t))!==null;){let p=`trend_${d.index}`;n.has(p)||(n.add(p),e.push({text:d[0],type:"trend",symbol:d[1],position:d.index}))}}let a=[/(\w+x?)\s+(?:is\s+)?(?:outperforming|underperforming|cheaper\s+than|more\s+expensive\s+than|higher\s+than|lower\s+than)\s+(\w+x?)/gi];for(let u of a){let d;for(;(d=u.exec(t))!==null;){let p=`comp_${d.index}`;n.has(p)||(n.add(p),e.push({text:d[0],type:"comparison",symbol:d[1],position:d.index}))}}let c=[/RSI\s+(?:is\s+)?(?:at\s+)?(\d+\.?\d*)/gi,/(?:above|below)\s+(?:the\s+)?(?:\d+[\s-]?day\s+)?(?:moving\s+average|MA|SMA|EMA)/gi,/MACD\s+(?:bullish|bearish)\s+crossover/gi,/(?:overbought|oversold)\s+(?:territory|levels?|zone)/gi];for(let u of c){let d;for(;(d=u.exec(t))!==null;){let p=`tech_${d.index}`;n.has(p)||(n.add(p),e.push({text:d[0],type:"technical",position:d.index}))}}let l=[/(?:earnings|revenue|profit)\s+(?:report|announcement|beat|miss|surprise)/gi,/(?:according\s+to|based\s+on)\s+(?:news|reports?|headlines?|articles?)/gi,/(?:announced|reported|disclosed|filed)\s+(?:\w+\s+){0,3}(?:earnings|acquisition|partnership|layoffs|expansion)/gi];for(let u of l){let d;for(;(d=u.exec(t))!==null;){let p=`news_${d.index}`;n.has(p)||(n.add(p),e.push({text:d[0],type:"news",position:d.index}))}}return e}function oBn(t,e,n){let r=new Map,o=new Map,i=new Map,s=new Set,a=new Set;for(let l of e){let u=l.symbol.toLowerCase(),d=u.replace(/x$/i,"");r.set(u,l.price),r.set(d,l.price),o.set(u,l.change24h),o.set(d,l.change24h),i.set(u,l.volume24h),i.set(d,l.volume24h),s.add(u),s.add(d),l.news&&l.news.length>0&&(a.add(u),a.add(d))}let c=t.symbol?.toLowerCase();switch(t.type){case"price":{if(!c||!t.value)return{claim:t,status:"inferred",verificationConfidence:Aq,explanation:"Price claim without parseable symbol or value"};let l=r.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:OMn,explanation:`Symbol ${t.symbol} not found in provided market data \u2014 claim references unavailable data`};let u=Math.abs(t.value-l)/l;return u<=Uvt?{claim:t,status:"grounded",verificationConfidence:RMn,explanation:`Price claim matches market data within ${Uvt*100}% (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:u<=wMn?{claim:t,status:"embellished",verificationConfidence:CMn,explanation:`Price claim roughly correct but ${(u*100).toFixed(0)}% off (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:{claim:t,status:"hallucinated",verificationConfidence:NMn,explanation:`Price claim ${(u*100).toFixed(0)}% off reality (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}}case"percentage":{if(!c||t.value===void 0)return{claim:t,status:"inferred",verificationConfidence:Aq,explanation:"Percentage claim without parseable symbol or value"};let l=o.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:LMn,explanation:`No 24h change data available for ${t.symbol}`};if(l===null)return{claim:t,status:"inferred",verificationConfidence:WMn,explanation:`24h change data not available for ${t.symbol} \u2014 inference from other data possible`};let u=Math.abs(t.value-l);return u<=TMn?{claim:t,status:"grounded",verificationConfidence:PMn,explanation:`Percentage claim matches 24h change data (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}:u<=IMn?{claim:t,status:"embellished",verificationConfidence:DMn,explanation:`Percentage claim approximately correct but off by ${u.toFixed(1)}pp`,groundTruth:`${l.toFixed(2)}%`}:{claim:t,status:"hallucinated",verificationConfidence:kMn,explanation:`Percentage claim significantly off (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}}case"volume":{if(!c)return{claim:t,status:"inferred",verificationConfidence:Aq,explanation:"Volume claim without parseable symbol"};let l=i.get(c);return l==null?{claim:t,status:"ungrounded",verificationConfidence:BMn,explanation:`No volume data available for ${t.symbol} \u2014 claim references unavailable data`}:{claim:t,status:"grounded",verificationConfidence:MMn,explanation:`Volume data is available for ${t.symbol}`,groundTruth:`$${(l/1e6).toFixed(1)}M`}}case"trend":return c&&s.has(c)?{claim:t,status:"inferred",verificationConfidence:UMn,explanation:`Trend claim for available symbol ${t.symbol} \u2014 reasonable inference from price data`}:{claim:t,status:"ungrounded",verificationConfidence:$Mn,explanation:"Trend claim for symbol not in available data"};case"comparison":{let l=t.text.match(/(\w+x?)\s+\w+\s+(\w+x?)/i);if(l){let u=l[1].toLowerCase(),d=l[2].toLowerCase();if(s.has(u)&&s.has(d))return{claim:t,status:"grounded",verificationConfidence:FMn,explanation:"Both symbols in comparison are in the available dataset"}}return{claim:t,status:"inferred",verificationConfidence:HMn,explanation:"Comparison claim \u2014 partial data available"}}case"technical":return n.includes("technical_indicators")?{claim:t,status:"inferred",verificationConfidence:GMn,explanation:"Technical indicator claim \u2014 agent cites technical indicators as a source"}:{claim:t,status:"ungrounded",verificationConfidence:VMn,explanation:"Technical indicator claim without technical data being provided"};case"news":return c&&a.has(c)?{claim:t,status:"grounded",verificationConfidence:zMn,explanation:`News data was provided for ${t.symbol}`}:n.includes("news_feed")?{claim:t,status:"inferred",verificationConfidence:qMn,explanation:"News claim \u2014 agent cites news feed but specific news not verified"}:{claim:t,status:"ungrounded",verificationConfidence:jMn,explanation:"News claim without news data being provided to agent"};default:return{claim:t,status:"inferred",verificationConfidence:Aq,explanation:"General claim \u2014 insufficient data for verification"}}}function Fvt(t,e,n){let r=rBn(t),o=r.map(h=>oBn(h,e,n)),i=ue(o,h=>h.status==="grounded"),s=ue(o,h=>h.status==="ungrounded"),a=ue(o,h=>h.status==="hallucinated"),c=ue(o,h=>h.status==="embellished"),l=ue(o,h=>h.status==="inferred"),u=0,d=0;for(let h of o){let m=h.verificationConfidence;switch(d+=m,h.status){case"grounded":u+=m*KMn;break;case"inferred":u+=m*JMn;break;case"embellished":u+=m*YMn;break;case"ungrounded":u+=m*QMn;break;case"hallucinated":u+=m*XMn;break}}let p=d>0?ye(u/d):r.length===0?nBn:1,f;return r.length===0?f="No verifiable factual claims found in reasoning \u2014 opinion-based analysis":p>=ZMn?f="Reasoning is well-grounded in available market data":p>=eBn?f="Reasoning is partially grounded \u2014 some claims lack data support":p>=tBn?f="Reasoning is poorly grounded \u2014 significant fabrication or unverifiable claims":f="Reasoning is largely ungrounded \u2014 agent appears to fabricate data",{groundingScore:p,totalClaims:r.length,groundedClaims:i,ungroundedClaims:s,hallucinatedClaims:a,embellishedClaims:c,inferredClaims:l,verifications:o,assessment:f}}function Hvt(t,e,n,r){g9.unshift({tradeId:t,agentId:e,roundId:n,result:r,timestamp:new Date().toISOString()}),g9.length>$vt&&(g9.length=$vt);let o=nEe.get(e)??{totalClaims:0,groundedClaims:0,hallucinatedClaims:0,checks:0};o.totalClaims+=r.totalClaims,o.groundedClaims+=r.groundedClaims,o.hallucinatedClaims+=r.hallucinatedClaims,o.checks++,nEe.set(e,o)}function Gvt(t=50){return g9.slice(0,t)}function y9(){let t={};for(let[e,n]of nEe.entries()){let r=g9.filter(i=>i.agentId===e),o=r.length>0?r.reduce((i,s)=>i+s.result.groundingScore,0)/r.length:0;t[e]={avgGroundingScore:ye(o),totalClaims:n.totalClaims,groundedRate:n.totalClaims>0?ye(n.groundedClaims/n.totalClaims):0,hallucinationRate:n.totalClaims>0?ye(n.hallucinatedClaims/n.totalClaims):0,checks:n.checks}}return t}mt();var iBn=3,sBn=4,aBn=.3,cBn=.15,lBn=.9,uBn=3,dBn=2,pBn=.5,Vvt=3,rEe=0,fBn=-2,mBn=2,hBn=.7,gBn=4,zvt=.6,yBn=3,bBn=0,_Bn=4,SBn=.4,vBn=.15,EBn=.85,ABn=2,xBn=3,wBn=.4,TBn=.15,IBn=.9,RBn=1,CBn=.6,jvt=.8,NBn=2,OBn=0,PBn=.5,DBn=.1,kBn=2,LBn=.9,MBn=.9,BBn=.85,UBn=20,$Bn=.6,FBn=1,HBn=2,GBn=.5,VBn=.15,zBn=.85,jBn=2,qvt=4,qBn=.6,WBn=.5,KBn=3,JBn=1,YBn=4,QBn=.4,XBn=.12,ZBn=.85,eUn=-5,tUn=0,nUn=.5,rUn=1,oUn=.6,iUn=.3,sUn=3,aUn=1,cUn=.2,lUn=.5,xq=[],Wvt=500,oEe=new Map;function uUn(t,e){let n=t.match(/\$[\d,]+\.?\d*/g)??[],r=t.match(/[+-]?\d+\.?\d*%/g)??[],o=new Map;for(let s of n)o.set(s,(o.get(s)||0)+1);let i=Array.from(o.entries()).filter(([s,a])=>a>=iBn);if(i.length>0){let s=i[0][0];return{type:"anchoring",confidence:Math.min(lBn,aBn+i[0][1]*cBn),evidence:`Price ${s} mentioned ${i[0][1]} times \u2014 reasoning appears anchored to this value`,severity:i[0][1]>=sBn?"high":"medium",triggers:i.map(([a])=>a)}}if(e.length>=uBn){let s=new Set;for(let a of e){let c=a.symbol.toLowerCase(),l=c.replace(/x$/i,"");(t.toLowerCase().includes(c)||t.toLowerCase().includes(l))&&s.add(a.symbol)}if(s.size===1&&n.length>=dBn)return{type:"anchoring",confidence:pBn,evidence:`Only references one symbol despite ${e.length} available \u2014 may be anchored to that stock's data`,severity:"low",triggers:Array.from(s)}}return null}function dUn(t,e,n){let r=t.toLowerCase();if(e==="buy"){let o=ue([/bullish/i,/upside/i,/growth/i,/opportunity/i,/strong/i,/recovery/i,/undervalued/i,/momentum/i,/breakout/i],a=>a.test(r)),i=ue([/bearish/i,/downside/i,/risk/i,/weakness/i,/overvalued/i,/decline/i,/loss/i,/concern/i,/resistance/i],a=>a.test(r)),s=n.filter(a=>a.change24h!==null&&a.change24h<fBn);if(o>=Vvt&&i===rEe&&s.length>=mBn)return{type:"confirmation",confidence:hBn,evidence:`Buy reasoning cites ${o} positive signals but ignores ${s.length} stocks with significant losses (>2% down)`,severity:"medium",triggers:s.map(a=>`${a.symbol}: ${a.change24h?.toFixed(1)}%`)};if(o>=gBn&&i===rEe)return{type:"confirmation",confidence:zvt,evidence:`Reasoning cites ${o} positive signals with zero counterarguments \u2014 one-sided analysis`,severity:"medium",triggers:["all_positive_no_counterarguments"]}}if(e==="sell"){let o=ue([/bullish/i,/upside/i,/growth/i,/recovery/i,/undervalued/i],s=>s.test(r)),i=ue([/bearish/i,/downside/i,/risk/i,/overvalued/i,/decline/i,/loss/i,/overexposed/i,/correction/i,/weakness/i],s=>s.test(r));if(i>=Vvt&&o===rEe)return{type:"confirmation",confidence:zvt,evidence:`Sell reasoning cites ${i} negative signals with zero positive counterpoints \u2014 one-sided analysis`,severity:"medium",triggers:["all_negative_no_counterarguments"]}}return null}function pUn(t){let e=t.toLowerCase(),n=[/\bjust\b/i,/\brecently\b/i,/\btoday\b/i,/\bjust\s+happened\b/i,/\blatest\b/i,/\bmost\s+recent\b/i,/\bthis\s+morning\b/i,/\bright\s+now\b/i,/\bcurrently\s+happening\b/i,/\bin\s+the\s+last\s+hour\b/i],r=[/\bhistorically\b/i,/\blong[\s-]term\b/i,/\bover\s+the\s+past\s+\w+\b/i,/\bfundamentals?\b/i,/\bseasonal/i,/\b\d+[\s-]year/i,/\bhistorical/i],o=ue(n,s=>s.test(e)),i=ue(r,s=>s.test(e));if(o>=yBn&&i===bBn){let s=n.filter(a=>a.test(e)).map(a=>{let c=e.match(a);return c?c[0]:""}).filter(Boolean);return{type:"recency",confidence:Math.min(EBn,SBn+o*vBn),evidence:`Reasoning uses ${o} recency terms ("just", "recently", "right now") with zero references to historical or long-term data`,severity:o>=_Bn?"high":"medium",triggers:s}}return null}function fUn(t,e,n){let r=t.toLowerCase(),i=[/already\s+invested/i,/averaging\s+down/i,/can'?t\s+sell\s+at\s+a\s+loss/i,/too\s+much\s+invested/i,/wait\s+for\s+(?:it\s+to\s+)?(?:recover|come\s+back)/i,/don'?t\s+want\s+to\s+(?:realize|lock\s+in)\s+(?:a\s+)?loss/i,/committed\s+to\s+(?:this|the)\s+position/i,/initial\s+(?:investment|thesis)\s+still\s+holds/i,/doubling\s+down/i,/cost\s+basis/i].filter(s=>s.test(r));if(i.length>=ABn){let s=i.map(a=>{let c=r.match(a);return c?c[0]:""}).filter(Boolean);return{type:"sunk_cost",confidence:Math.min(IBn,wBn+i.length*TBn),evidence:`Reasoning references prior investment ${i.length} times \u2014 decision may be influenced by sunk costs rather than current merit`,severity:i.length>=xBn?"high":"medium",triggers:s}}if((e==="hold"||e==="buy")&&n){for(let s of n.positions)if(s.unrealizedPnl<0){let a=s.symbol.toLowerCase();if(r.includes(a.replace(/x$/i,""))&&i.length>=RBn)return{type:"sunk_cost",confidence:CBn,evidence:`Holding/adding to losing position (${s.symbol}) with sunk cost language`,severity:"medium",triggers:i.map(c=>{let l=r.match(c);return l?l[0]:""}).filter(Boolean)}}}return null}function mUn(t,e,n){let r=vn(t),o=[/\bdefinitely\b/i,/\bcertainly\b/i,/\bwithout\s+(?:a\s+)?doubt\b/i,/\bguaranteed\b/i,/\bobvious(?:ly)?\b/i,/\bclear(?:ly)?\b/i,/\bno\s+question\b/i,/\bsure\s+thing\b/i,/\bimpossible\s+(?:to\s+lose|not\s+to)\b/i,/\bwill\s+(?:definitely|certainly|absolutely)\b/i],i=[/\bmight\b/i,/\bcould\b/i,/\bperhaps\b/i,/\buncertain/i,/\brisk/i,/\bhowever\b/i,/\bbut\b/i,/\bcaveat\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bif\b/i],s=ue(o,c=>c.test(t)),a=ue(i,c=>c.test(t));if(e>jvt&&s>=NBn&&a===OBn){let c=o.filter(l=>l.test(t)).map(l=>{let u=t.match(l);return u?u[0]:""}).filter(Boolean);return{type:"overconfidence",confidence:Math.min(LBn,PBn+s*DBn+(e-jvt)*kBn),evidence:`Confidence ${(e*100).toFixed(0)}% with ${s} certainty expressions and zero hedging \u2014 overconfidence likely`,severity:e>MBn?"high":"medium",triggers:c}}return e>BBn&&r<UBn&&n!=="hold"?{type:"overconfidence",confidence:$Bn,evidence:`Confidence ${(e*100).toFixed(0)}% with only ${r} words of reasoning \u2014 insufficient evidence for high confidence`,severity:"medium",triggers:[`confidence: ${e}`,`words: ${r}`]}:null}function hUn(t,e,n){if(n.length===0)return null;let r=t.toLowerCase(),i=[/other\s+agents?\s+(?:are\s+)?(?:buy|sell|hold)ing/i,/consensus\s+(?:is\s+)?(?:to\s+)?(?:buy|sell|hold)/i,/following\s+(?:the\s+)?(?:market|crowd|trend|others?)/i,/everyone\s+(?:is\s+|else\s+is\s+)?(?:buy|sell|hold)ing/i,/(?:claude|gpt|grok)\s+(?:is\s+|also\s+)?(?:buy|sell|hold)ing/i,/aligning?\s+with\s+(?:the\s+)?(?:consensus|majority|other)/i].filter(a=>a.test(r));if(i.length>=FBn){let a=i.map(c=>{let l=r.match(c);return l?l[0]:""}).filter(Boolean);return{type:"herding",confidence:Math.min(zBn,GBn+i.length*VBn),evidence:"Reasoning explicitly references other agents' decisions \u2014 herding behavior",severity:i.length>=HBn?"high":"medium",triggers:a}}let s=n.filter(a=>a.action===e);if(s.length===n.length&&n.length>=jBn){let a=new Set(r.split(/\s+/).filter(l=>l.length>qvt).map(l=>l.replace(/[^a-z]/g,""))),c=0;for(let l of s){let u=new Set(l.reasoning.toLowerCase().split(/\s+/).filter(f=>f.length>qvt).map(f=>f.replace(/[^a-z]/g,""))),d=0;for(let f of a)u.has(f)&&d++;let p=a.size>0?d/a.size:0;p>c&&(c=p)}if(c>qBn)return{type:"herding",confidence:WBn,evidence:`All agents took the same action (${e}) with ${(c*100).toFixed(0)}% reasoning keyword overlap \u2014 potential implicit herding`,severity:"low",triggers:[`keyword_overlap: ${(c*100).toFixed(0)}%`]}}return null}function gUn(t,e,n){let r=t.toLowerCase(),o=[/can'?t\s+afford\s+(?:to\s+)?lose/i,/protect\s+(?:my\s+|our\s+)?(?:gains|profits?|capital)/i,/lock\s+in\s+(?:profits?|gains)/i,/afraid\s+(?:of\s+)?(?:losing|losses?)/i,/risk\s+(?:of\s+)?(?:losing|loss)/i,/cut\s+(?:my\s+|our\s+)?losses/i,/stop[\s-]loss/i,/downside\s+protection/i],i=[/maximize\s+(?:profit|gain|return)/i,/upside\s+potential/i,/growth\s+opportunity/i,/could\s+gain/i,/potential\s+(?:profit|return|upside)/i],s=ue(o,c=>c.test(r)),a=ue(i,c=>c.test(r));if(s>=KBn&&a<=JBn){let c=o.filter(l=>l.test(r)).map(l=>{let u=r.match(l);return u?u[0]:""}).filter(Boolean);return{type:"loss_aversion",confidence:Math.min(ZBn,QBn+s*XBn),evidence:`${s} loss-avoidance references vs ${a} gain-seeking \u2014 asymmetric risk perception`,severity:s>=YBn?"high":"medium",triggers:c}}if(e==="sell"&&n){let c=n.positions.filter(u=>u.unrealizedPnlPercent>tUn),l=n.positions.filter(u=>u.unrealizedPnlPercent<eUn);if(c.length>0&&l.length>0&&c.some(d=>r.includes(d.symbol.toLowerCase().replace(/x$/i,"")))&&l.length>0)return{type:"loss_aversion",confidence:nUn,evidence:`Selling winning position while holding ${l.length} losing position(s) \u2014 classic disposition effect (loss aversion)`,severity:"low",triggers:l.map(d=>`${d.symbol}: ${d.unrealizedPnlPercent.toFixed(1)}%`)}}return null}function Kvt(t,e,n,r,o=[],i){let s=[],a=uUn(t,r);a&&s.push(a);let c=dUn(t,e,r);c&&s.push(c);let l=pUn(t);l&&s.push(l);let u=fUn(t,e,i?{positions:i.positions}:void 0);u&&s.push(u);let d=mUn(t,n,e);d&&s.push(d);let p=hUn(t,e,o);p&&s.push(p);let f=gUn(t,e,i?{positions:i.positions.map(S=>({symbol:S.symbol,unrealizedPnl:S.unrealizedPnl,unrealizedPnlPercent:S.unrealizedPnlPercent}))}:void 0);f&&s.push(f);let h={high:rUn,medium:oUn,low:iUn},m=0;if(s.length>0){let S=s.reduce((v,A)=>v+A.confidence*h[A.severity],0);m=Math.min(aUn,S/sUn)}m=ye(m);let g=s.length>0?s.sort((S,v)=>{let A=S.confidence*h[S.severity];return v.confidence*h[v.severity]-A})[0].type:null,y;return s.length===0?y="No cognitive biases detected \u2014 reasoning appears balanced and evidence-based":m<cUn?y=`Minor bias indicators: ${s.map(S=>S.type).join(", ")}. Generally balanced reasoning.`:m<lUn?y=`Moderate cognitive bias detected: ${g}. Reasoning is partially biased by cognitive shortcuts.`:y=`Significant cognitive bias: ${g}. Decision may be driven by bias rather than evidence.`,{biasScore:m,biasCount:s.length,detections:s,assessment:y,dominantBias:g}}function Jvt(t,e,n,r){xq.unshift({tradeId:t,agentId:e,roundId:n,result:r,timestamp:new Date().toISOString()}),xq.length>Wvt&&(xq.length=Wvt);let o=oEe.get(e)??{totalBiases:0,byType:{},checks:0,totalScore:0};o.totalBiases+=r.biasCount,o.checks++,o.totalScore+=r.biasScore;for(let i of r.detections)o.byType[i.type]=(o.byType[i.type]??0)+1;oEe.set(e,o)}function iEe(t=50){return xq.slice(0,t)}function b9(){let t={};for(let[e,n]of oEe.entries()){let r=k6(n.byType);t[e]={avgBiasScore:n.checks>0?ye(n.totalScore/n.checks):0,totalBiases:n.totalBiases,dominantBias:r?r[0]:null,biasDistribution:{...n.byType},checks:n.checks}}return t}mt();var wq=new yr,_9=[],Yvt=200;function Qvt(t,e){_9.unshift({type:t,data:e,timestamp:new Date().toISOString()}),_9.length>Yvt&&(_9.length=Yvt)}var sEe={financial:.06,reasoning:.05,safety:.05,calibration:.04,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.03,model_comparison:.03,metacognition:.04,reasoning_efficiency:.02,forensic_ledger:.02,strategy_genome:.02,adversarial_robustness:.03,cross_session_memory:.03,arbitration_quality:.03,debate_performance:.03,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.03,quality_certification:.03,reasoning_chain_integrity:.04,strategy_profiling:.04,benchmark_integrity:.05,reasoning_grounding:.05,cognitive_bias:.05};function yUn(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":"F"}function bUn(t,e){let n={};if(e?.pillars)for(let s of e.pillars)n[s.name]=s.score;for(let s of Object.keys(sEe))s in n||(n[s]=.5);n.arbitration_quality=uR(t),n.debate_performance=dR(t),n.impact_forecasting=pR(t),n.adversarial_robustness=tR(t),n.cross_session_memory=nR(t),n.reasoning_transparency=oR(t),n.decision_accountability=sR(t),n.quality_certification=cR(t),n.reasoning_chain_integrity=mq(t),n.strategy_profiling=gq(t),n.benchmark_integrity=Eq().overallIntegrity;let r=y9();n.reasoning_grounding=r[t]?.avgGroundingScore??.5;let o=b9();n.cognitive_bias=o[t]?Math.max(0,1-o[t].avgBiasScore):.5;let i=0;for(let[s,a]of Object.entries(sEe))i+=(n[s]??.5)*a;return{score:re(i),pillars:n}}function aEe(){let t=Pd(),n=(t.length>0?t.map(r=>r.agentId):["claude-value-investor","gpt-momentum-trader","grok-contrarian"]).map(r=>{let o=t.find(a=>a.agentId===r),{score:i,pillars:s}=bUn(r,o);return{agentId:r,composite:i,grade:yUn(i),rank:0,pillars:s}});return n.sort((r,o)=>o.composite-r.composite),n.forEach((r,o)=>{r.rank=o+1}),n}wq.get("/data",t=>{let e=aEe(),n=Eq(),r=y9(),o=b9(),i=tEe(),s=Gvt(10),a=iEe(10);return t.json({ok:!0,benchmark:"moltapp-v22",pillars:28,leaderboard:e,v22Features:{integrity:{overallScore:n.overallIntegrity,fingerprints:n.totalFingerprints,merkleTrees:n.totalMerkleTrees,tamperDetected:i.tampered},grounding:{agentStats:r,recentValidations:s.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.groundingScore,claims:c.result.totalClaims,timestamp:c.timestamp}))},biases:{agentStats:o,recentDetections:a.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.biasScore,dominant:c.result.dominantBias,count:c.result.biasCount,timestamp:c.timestamp}))}},weights:sEe,generatedAt:new Date().toISOString()})});wq.get("/stream",t=>{let e=new TextEncoder,n=new ReadableStream({start(r){for(let i of _9.slice(0,20))r.enqueue(e.encode(`data: ${JSON.stringify(i)}

`));let o=setInterval(()=>{let i=_9[0];i?r.enqueue(e.encode(`data: ${JSON.stringify(i)}

`)):r.enqueue(e.encode(`: keepalive

`))},5e3);setTimeout(()=>{clearInterval(o),r.close()},3e5)}});return new Response(n,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});wq.get("/export",t=>{let e=aEe(),n=y9(),r=b9(),i=e.map(s=>({...s,grounding:n[s.agentId]??null,biases:r[s.agentId]??null,benchmark:"moltapp-v22"})).map(s=>JSON.stringify(s)).join(`
`);return new Response(i,{headers:{"Content-Type":"application/jsonl","Content-Disposition":'attachment; filename="moltapp-v22-export.jsonl"'}})});wq.get("/",t=>{let e=aEe(),n=Eq(),r=y9(),o=b9(),i=tEe(),s=iEe(5),a={"claude-value-investor":"#D97706","gpt-momentum-trader":"#059669","grok-contrarian":"#7C3AED"},c=l=>l===1?"1st":l===2?"2nd":`${l}th`;return t.html(or`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v22 - 28 Pillar AI Trading Benchmark</title>
  <meta http-equiv="refresh" content="30" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', monospace; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 24px; border-bottom: 2px solid #00ff88; text-align: center; }
    .header h1 { font-size: 28px; color: #00ff88; margin-bottom: 4px; }
    .header .version { color: #888; font-size: 14px; }
    .header .badges { margin-top: 8px; display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
    .badge { padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: bold; }
    .badge-green { background: #00ff8820; color: #00ff88; border: 1px solid #00ff8840; }
    .badge-blue { background: #3b82f620; color: #60a5fa; border: 1px solid #3b82f640; }
    .badge-purple { background: #8b5cf620; color: #a78bfa; border: 1px solid #8b5cf640; }
    .badge-amber { background: #f59e0b20; color: #fbbf24; border: 1px solid #f59e0b40; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap: 16px; margin-top: 16px; }
    .card { background: #111827; border: 1px solid #1f2937; border-radius: 12px; padding: 16px; }
    .card h2 { color: #00ff88; font-size: 16px; margin-bottom: 12px; }
    .card h3 { color: #60a5fa; font-size: 14px; margin-bottom: 8px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px 10px; text-align: left; font-size: 13px; }
    th { color: #9ca3af; border-bottom: 1px solid #374151; font-size: 11px; text-transform: uppercase; }
    td { border-bottom: 1px solid #1f2937; }
    .score { font-weight: bold; }
    .score-high { color: #00ff88; }
    .score-mid { color: #fbbf24; }
    .score-low { color: #ef4444; }
    .agent-name { font-weight: bold; }
    .grade { font-size: 18px; font-weight: bold; }
    .new-badge { background: #ff006620; color: #ff0066; border: 1px solid #ff006640; padding: 2px 6px; border-radius: 4px; font-size: 10px; margin-left: 4px; }
    .integrity-bar { height: 8px; border-radius: 4px; background: #1f2937; overflow: hidden; margin-top: 4px; }
    .integrity-fill { height: 100%; border-radius: 4px; transition: width 0.5s; }
    .bias-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; margin: 2px; }
    .bias-anchoring { background: #ef444420; color: #fca5a5; }
    .bias-confirmation { background: #f59e0b20; color: #fde68a; }
    .bias-recency { background: #3b82f620; color: #93c5fd; }
    .bias-overconfidence { background: #8b5cf620; color: #c4b5fd; }
    .bias-herding { background: #06b6d420; color: #67e8f9; }
    .bias-sunk_cost { background: #f9731620; color: #fdba74; }
    .bias-loss_aversion { background: #ec489920; color: #f9a8d4; }
    .pillar-bar { display: flex; align-items: center; margin: 2px 0; font-size: 11px; }
    .pillar-name { width: 160px; color: #9ca3af; }
    .pillar-fill-bg { flex: 1; height: 6px; background: #1f2937; border-radius: 3px; overflow: hidden; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .pillar-val { width: 40px; text-align: right; color: #d1d5db; }
    .footer { text-align: center; padding: 16px; color: #6b7280; font-size: 12px; margin-top: 16px; }
    .footer a { color: #60a5fa; text-decoration: none; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v22</h1>
    <div class="version">28-Pillar AI Trading Benchmark | Live on Solana</div>
    <div class="badges">
      <span class="badge badge-green">28 SCORING PILLARS</span>
      <span class="badge badge-blue">SHA-256 INTEGRITY</span>
      <span class="badge badge-purple">COGNITIVE BIAS DETECTION</span>
      <span class="badge badge-amber">GROUNDING VALIDATION</span>
    </div>
  </div>

  <div class="container">
    <!-- Leaderboard -->
    <div class="card" style="margin-top:8px;">
      <h2>LEADERBOARD</h2>
      <table>
        <tr>
          <th>Rank</th><th>Agent</th><th>Composite</th><th>Grade</th>
          <th>Grounding</th><th>Bias-Free</th><th>Integrity</th>
        </tr>
        ${e.map(l=>{let u=a[l.agentId]??"#666",d=r[l.agentId],p=o[l.agentId],f=d?.avgGroundingScore??.5,h=p?1-p.avgBiasScore:.5;return or`<tr>
            <td><b>${c(l.rank)}</b></td>
            <td class="agent-name" style="color:${u}">${l.agentId}</td>
            <td class="score ${l.composite>=.7?"score-high":l.composite>=.5?"score-mid":"score-low"}">${l.composite.toFixed(2)}</td>
            <td class="grade" style="color:${l.composite>=.7?"#00ff88":l.composite>=.5?"#fbbf24":"#ef4444"}">${l.grade}</td>
            <td class="score ${f>=.7?"score-high":f>=.5?"score-mid":"score-low"}">${f.toFixed(2)}</td>
            <td class="score ${h>=.7?"score-high":h>=.5?"score-mid":"score-low"}">${h.toFixed(2)}</td>
            <td class="score score-high">${n.overallIntegrity.toFixed(2)}</td>
          </tr>`})}
      </table>
    </div>

    <div class="grid">
      <!-- v22 Feature: Integrity -->
      <div class="card">
        <h2>BENCHMARK INTEGRITY <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Cryptographic verification: SHA-256 fingerprints + Merkle audit trees</p>
        <div style="display:flex;gap:16px;flex-wrap:wrap;">
          <div>
            <div style="color:#9ca3af;font-size:11px;">INTEGRITY SCORE</div>
            <div style="font-size:24px;font-weight:bold;color:${n.overallIntegrity>=.9?"#00ff88":"#fbbf24"}">${(n.overallIntegrity*100).toFixed(0)}%</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">FINGERPRINTS</div>
            <div style="font-size:24px;font-weight:bold;color:#60a5fa;">${n.totalFingerprints}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">MERKLE TREES</div>
            <div style="font-size:24px;font-weight:bold;color:#a78bfa;">${n.totalMerkleTrees}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">TAMPER STATUS</div>
            <div style="font-size:14px;font-weight:bold;color:${i.tampered?"#ef4444":"#00ff88"}">${i.tampered?"ALERT":"CLEAN"}</div>
          </div>
        </div>
        <div class="integrity-bar" style="margin-top:12px;">
          <div class="integrity-fill" style="width:${n.overallIntegrity*100}%;background:${n.overallIntegrity>=.9?"#00ff88":"#fbbf24"};"></div>
        </div>
      </div>

      <!-- v22 Feature: Grounding -->
      <div class="card">
        <h2>REASONING GROUNDING <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Verifies factual claims against real market data</p>
        <table>
          <tr><th>Agent</th><th>Score</th><th>Claims</th><th>Grounded</th><th>Halluc.</th></tr>
          ${Object.entries(r).map(([l,u])=>{let d=a[l]??"#666";return or`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score ${u.avgGroundingScore>=.7?"score-high":u.avgGroundingScore>=.5?"score-mid":"score-low"}">${u.avgGroundingScore.toFixed(2)}</td>
              <td>${u.totalClaims}</td>
              <td style="color:#00ff88">${(u.groundedRate*100).toFixed(0)}%</td>
              <td style="color:#ef4444">${(u.hallucinationRate*100).toFixed(0)}%</td>
            </tr>`})}
          ${Object.keys(r).length===0?or`<tr><td colspan="5" style="color:#6b7280">No grounding data yet  run trading rounds</td></tr>`:""}
        </table>
      </div>

      <!-- v22 Feature: Cognitive Biases -->
      <div class="card">
        <h2>COGNITIVE BIAS DETECTION <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Identifies reasoning errors: anchoring, confirmation, recency, overconfidence, herding</p>
        <table>
          <tr><th>Agent</th><th>Bias Score</th><th>Total</th><th>Dominant</th></tr>
          ${Object.entries(o).map(([l,u])=>{let d=a[l]??"#666",p=u.avgBiasScore<=.2?"#00ff88":u.avgBiasScore<=.5?"#fbbf24":"#ef4444";return or`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score" style="color:${p}">${u.avgBiasScore.toFixed(2)}</td>
              <td>${u.totalBiases}</td>
              <td>${u.dominantBias?or`<span class="bias-tag bias-${u.dominantBias}">${u.dominantBias}</span>`:"-"}</td>
            </tr>`})}
          ${Object.keys(o).length===0?or`<tr><td colspan="4" style="color:#6b7280">No bias data yet  run trading rounds</td></tr>`:""}
        </table>

        ${s.length>0?or`
        <h3 style="margin-top:12px;">Recent Detections</h3>
        ${s.map(l=>or`
          <div style="margin:4px 0;font-size:11px;padding:4px 8px;background:#1f2937;border-radius:4px;">
            <span style="color:${a[l.agentId]??"#666"}">${l.agentId.split("-")[0]}</span>
            ${l.result.detections.map(u=>or`<span class="bias-tag bias-${u.type}">${u.type}</span>`)}
            <span style="color:#6b7280"> | score: ${l.result.biasScore.toFixed(2)}</span>
          </div>
        `)}`:""}
      </div>

      <!-- Pillar Breakdown for #1 Agent -->
      <div class="card">
        <h2>PILLAR BREAKDOWN${e.length>0?or`  ${e[0].agentId}`:""}</h2>
        ${e.length>0?Object.entries(e[0].pillars).sort(([,l],[,u])=>u-l).map(([l,u])=>{let d=["benchmark_integrity","reasoning_grounding","cognitive_bias"].includes(l),p=Math.max(2,u*100),f=u>=.7?"#00ff88":u>=.5?"#fbbf24":"#ef4444";return or`<div class="pillar-bar">
              <span class="pillar-name">${l.replace(/_/g," ")}${d?or`<span class="new-badge">NEW</span>`:""}</span>
              <div class="pillar-fill-bg"><div class="pillar-fill" style="width:${p}%;background:${f};"></div></div>
              <span class="pillar-val">${u.toFixed(2)}</span>
            </div>`}):or`<p style="color:#6b7280">No data yet</p>`}
      </div>
    </div>
  </div>

  <div class="footer">
    <a href="https://www.patgpt.us">www.patgpt.us</a> |
    <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> |
    <a href="/api/v1/benchmark-v22/scores">API</a> |
    <a href="/benchmark-v22/data">JSON Data</a> |
    <a href="/benchmark-v22/export">JSONL Export</a>
    <br/>v22  28 Pillar AI Trading Benchmark | Auto-refreshes every 30s
  </div>
</body>
</html>`)});mt();function fR(t,e){let n=e?`${e} ${t}`:t,r=n.toLowerCase(),o="unspecified",i=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:up|rise|gain|increase|appreciation|growth|bullish|higher|upside))|(?:target.*\+\d)|(?:price\s+(?:will|should|to)\s+(?:rise|increase|go\s+up|climb|rally))/i,s=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:down|fall|decline|decrease|depreciation|bearish|lower|downside))|(?:target.*-\d)|(?:price\s+(?:will|should|to)\s+(?:fall|decrease|go\s+down|drop|decline))/i,a=/\b(consolidat|sideways|range-?bound|stable|flat|neutral|no\s+significant\s+move)/i;i.test(n)?o="up":s.test(n)?o="down":a.test(n)&&(o="flat");let c=null,l=n.match(/[+-]?\s*(\d+(?:\.\d+)?)\s*%/);if(l){let f=parseFloat(l[1]);o==="down"?c=-f:o==="up"?c=f:c=l[0].includes("-")?-f:f}let u=null,d=[[/\b(\d+)\s*h(?:our)?s?\b/i,"hours"],[/\b(\d+)\s*d(?:ay)?s?\b/i,"days"],[/\b(\d+)\s*w(?:eek)?s?\b/i,"weeks"],[/\bnext\s+(?:trading\s+)?session\b/i,"1_session"],[/\bshort[\s-]?term\b/i,"short_term"],[/\bmedium[\s-]?term\b/i,"medium_term"],[/\blong[\s-]?term\b/i,"long_term"],[/\bovernight\b/i,"overnight"],[/\bintraday\b/i,"intraday"]];for(let[f,h]of d)if(f.test(r)){u=h;break}let p=.5;return/\bwill\b|\bdefinitely\b|\bcertain\b|\bstrongly\s+expect/i.test(n)?p=.9:/\bexpect\b|\bshould\b|\blikely\b|\bprobab/i.test(n)?p=.7:/\bmight\b|\bcould\b|\bpossib/i.test(n)&&(p=.4),o==="unspecified"&&(p=0),{predictedDirection:o,predictedMagnitude:c,timeframeSpecified:u,confidenceInPrediction:p}}function Xvt(t,e){let n=e.filter(g=>g.agentId!==t.agentId);if(n.length===0)return{agreedWithMajority:1,wasContrarian:0,reasoningSimilarity:0,independentThinkingScore:1,confidenceDelta:0};let r={};for(let g of e)r[g.action]=(r[g.action]??0)+1;let o=Object.entries(r).sort((g,y)=>y[1]-g[1])[0][0],i=t.action===o?1:0,s=1-i,a=e.reduce((g,y)=>g+y.confidence,0)/e.length,c=t.confidence-a,l=new Set(t.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(g=>g.length>3)),u=0,d=0;for(let g of n){let y=new Set(g.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(w=>w.length>3)),S=new Set([...l].filter(w=>y.has(w))),v=new Set([...l,...y]),A=v.size>0?S.size/v.size:0;d+=A,u=Math.max(u,A)}let p=Math.round(d/n.length*100)/100,f=1-p,h=s*.3,m=Math.min(1,Math.round((f*.7+h)*100)/100);return{agreedWithMajority:i,wasContrarian:s,reasoningSimilarity:p,independentThinkingScore:m,confidenceDelta:Math.round(c*100)/100}}function Tq(t){let n=Math.max(0,Math.min(1,(t.pnl+50)/150))*15+t.coherence*12+t.hallucinationFree*12+t.discipline*10+t.calibration*8+t.prediction*8+t.reasoningDepth*10+t.sourceQuality*8+t.outcomePrediction*9+t.consensusIntelligence*8,r=Math.round(n*100)/100,o;return r>=85?o="S":r>=75?o="A":r>=60?o="B":r>=45?o="C":r>=30?o="D":o="F",{composite:r,grade:o,dimensions:t}}mt();var _Un=.2,SUn=.15,vUn=.25,EUn=.15,AUn=.15,xUn=.1,wUn=.8,TUn=.6;var IUn=5,RUn=3,CUn=2,NUn=.15,OUn=.25,PUn=.25,DUn=.15,kUn=.2,LUn=3,MUn=4,BUn=4,UUn=2,$Un=2;var FUn=[/\btherefore\b/i,/\bbecause\b/i,/\bhowever\b/i,/\bconsequently\b/i,/\bfurthermore\b/i,/\bmoreover\b/i,/\bin\s+addition\b/i,/\bnevertheless\b/i,/\balthough\b/i,/\bdespite\b/i,/\bgiven\s+that\b/i,/\bas\s+a\s+result\b/i,/\bsince\b/i,/\bthus\b/i,/\bhence\b/i,/\bwhich\s+means\b/i,/\bthis\s+suggests?\b/i,/\bthis\s+indicates?\b/i,/\bwhile\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bin\s+contrast\b/i,/\bso\b/i,/\bbut\b/i,/\byet\b/i],HUn=[/\$\d+\.?\d*/,/\d+\.?\d*%/,/\d+\.?\d*[xX]\s+(?:average|normal|typical)/i,/\b\d{1,3}(?:,\d{3})*\b/,/\bRSI\s+(?:at|of|is)\s+\d+/i,/\bMA\s*\d+/i,/\bP\/E\s+(?:of|at|is)\s+\d+/i,/\bvolume\s+(?:is|at|of)\s+/i,/\b\d+\.?\d*\s*(?:M|B|K)\b/,/\bcurrently\s+at\s+/i,/\bdown\s+\d+/i,/\bup\s+\d+/i],GUn=[/\brisk[s]?\s+(?:include|are|of|is)\b/i,/\bdownside\s+(?:risk|scenario|potential)\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bcould\s+(?:also|fail|drop|decline)\b/i,/\bif\s+.*(?:wrong|fails?|drops?|declines?)\b/i,/\bcaution\b/i,/\bworst\s+case\b/i,/\bconcern\b/i,/\bvolatil/i,/\buncertain/i,/\bpotential\s+(?:loss|downside|negative)\b/i,/\bwarning\b/i,/\bcontrary\s+(?:to|view|argument)\b/i,/\bbears?\s+(?:might|could|would|argue)\b/i,/\bskeptic/i],VUn=[/\btherefore\s+(?:I|we)\s+(?:recommend|suggest|should|will|choose)\b/i,/\bbased\s+on\s+(?:this|these|the\s+above)\b/i,/\bin\s+conclusion\b/i,/\bmy\s+(?:decision|recommendation|action)\b/i,/\bI(?:'m|\s+am)\s+(?:buying|selling|holding)\b/i,/\bthis\s+(?:makes|leads\s+me\s+to)\b/i,/\boverall\b/i,/\bnet\s+(?:result|assessment|conclusion)\b/i,/\bconviction\b/i,/\btaking\s+(?:a|the)\s+(?:position|trade)\b/i,/\bexecuting\s+(?:a|this)\b/i],zUn={price_data:[/\bprice\b/i,/\b\$\d+/i,/\btrading\s+at\b/i,/\bcurrent\s+price\b/i,/\bquote\b/i],volume_data:[/\bvolume\b/i,/\bturnover\b/i,/\bliquidity\b/i],momentum_signals:[/\b24h\s+change\b/i,/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i],technical_indicators:[/\bRSI\b/i,/\bMACD\b/i,/\bmoving\s+average\b/i,/\bMA\d+\b/i,/\bBollinger\b/i,/\bsupport\b/i,/\bresistance\b/i,/\boverbought\b/i,/\boversold\b/i],fundamental_data:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i,/\bgrowth\s+rate\b/i,/\bmargin\b/i],portfolio_context:[/\bportfolio\b/i,/\bposition\b/i,/\bcash\s+balance\b/i,/\bexposure\b/i,/\ballocation\b/i,/\bP&?L\b/i],news_events:[/\bnews\b/i,/\bheadline\b/i,/\breport\b/i,/\bannounce/i,/\bearnings\s+(?:call|report|release)\b/i,/\bcatalyst\b/i],sentiment:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\bconsensus\b/i],peer_comparison:[/\bsector\b/i,/\bpeer\b/i,/\bcompetitor\b/i,/\bcorrelation\b/i,/\brelative\s+(?:to|performance)\b/i],risk_metrics:[/\bvolatility\b/i,/\bdrawdown\b/i,/\bSharpe\b/i,/\bbeta\b/i,/\bVaR\b/i,/\brisk\s+score\b/i]},jUn=[/\bcombined\s+with\b/i,/\balong\s+with\b/i,/\bconfirmed\s+by\b/i,/\bcorroborated\b/i,/\bconsistent\s+with\b/i,/\b(?:both|all)\s+.*(?:and|indicate|suggest|show)\b/i,/\bwhile\s+.*also\b/i,/\bprice\s+.*volume\b/i,/\btechnical\s+.*fundamental\b/i,/\bsupports?\s+(?:this|the|my)\b/i,/\breinforced?\s+by\b/i,/\baligns?\s+with\b/i],qUn=[/\b(?:the|this)\s+\d+\.?\d*%\s+(?:change|move|gain|loss|increase|decrease)\s+(?:suggests?|indicates?|shows?|means?)\b/i,/\bprice\s+(?:of|at)\s+\$\d+.*(?:suggests?|indicates?|means?|shows?)\b/i,/\bvolume\s+.*(?:suggests?|indicates?|confirms?)\b/i,/\b(?:RSI|MACD|MA)\s+.*(?:signals?|suggests?|indicates?)\b/i,/\bgiven\s+(?:the|that|this)\s+.*\d+/i,/\bwith\s+.*at\s+\d+/i,/\bbased\s+on\s+.*\d+/i,/\bconsidering\s+.*\d+/i];function Sb(t){let e=t.split(/\s+/).filter(v=>v.length>0),n=e.length,r=uo(t,0),o=Math.max(1,r.length),s=r.filter(v=>v.trim().split(/\s+/).length>=5).length,a=0;for(let v of FUn){let A=t.match(new RegExp(v.source,"gi"));A&&(a+=A.length)}let c=re(a/o),l=0;for(let v of HUn){let A=t.match(new RegExp(v.source,"gi"));A&&(l+=A.length)}let u=Math.min(1,l/IUn),d=0;for(let v of GUn)v.test(t)&&d++;let p=Math.min(1,d/RUn),f=0;for(let v of VUn)v.test(t)&&f++;let h=Math.min(1,f/CUn),m=new Set(e.map(v=>v.toLowerCase().replace(/[^a-z]/g,""))),g=n>0?re(m.size/n):0,y=KUn(t);return{depthScore:re(WUn(s)*_Un+Math.min(1,c/wUn)*SUn+u*vUn+p*EUn+h*AUn+Math.min(1,g/TUn)*xUn),stepCount:s,connectiveDensity:c,evidenceAnchoringScore:re(u),counterArgumentScore:re(p),conclusionClarity:re(h),wordCount:n,vocabularyRichness:g,reasoningPattern:y}}function vb(t,e){let n=[];for(let[h,m]of Object.entries(zUn))for(let g of m)if(g.test(t)){n.push(h);break}let r=[...new Set([...n,...e])],o=r.length,i=Math.min(1,n.length/MUn),s=0,a=[/\$\d+\.?\d*/g,/\d+\.?\d*%/g,/\d+\.?\d*[xX]\b/g,/\d{1,3}(?:,\d{3})+/g];for(let h of a){let m=t.match(h);m&&(s+=m.length)}let c=Math.min(1,s/BUn),l=0;for(let h of jUn)h.test(t)&&l++;let u=Math.min(1,l/UUn),d=0;for(let h of qUn)h.test(t)&&d++;let p=Math.min(1,d/$Un);return{qualityScore:re(Math.min(1,o/LUn)*NUn+i*OUn+c*PUn+u*DUn+p*kUn),sourceCount:o,diversityScore:re(i),specificityScore:re(c),crossReferenceScore:re(u),integrationScore:re(p),sourceCategories:r}}function WUn(t){return Math.min(1,t/5)}function KUn(t){let e=t.toLowerCase();return/step\s+\d|first.*then.*finally/i.test(e)?"sequential":/on\s+one\s+hand.*on\s+the\s+other/i.test(e)?"comparative":/risk.*reward|upside.*downside|pros?.*cons?/i.test(e)?"risk_reward":/if.*then.*else|scenario/i.test(e)?"conditional":/data\s+shows|evidence\s+suggests|based\s+on/i.test(e)?"evidence_based":/hypothesis|thesis|theory/i.test(e)?"thesis_driven":/technical.*indicator|chart.*pattern|RSI|MACD/i.test(e)?"technical_analysis":/fundamentals?|valuation|earnings|revenue/i.test(e)?"fundamental_analysis":/contrarian|against\s+the\s+crowd|overreaction/i.test(e)?"contrarian":/momentum|trend|breakout/i.test(e)?"momentum":"general"}var QE=new yr,Cq=new Map,Iq=[],Rq=[];function Zvt(t,e,n,r,o,i,s,a){let c=fR(e.reasoning,e.predictedOutcome);Iq.push({agentId:e.agentId,roundId:t,symbol:e.symbol,predictedDirection:c.predictedDirection,predictedMagnitude:c.predictedMagnitude,timeframeSpecified:c.timeframeSpecified,confidence:c.confidenceInPrediction,timestamp:new Date().toISOString()}),Iq.length>1e3&&Iq.shift();let l=Xvt(e,n);Rq.push({roundId:t,agentId:e.agentId,agreedWithMajority:l.agreedWithMajority,wasContrarian:l.wasContrarian,reasoningSimilarity:l.reasoningSimilarity,independentThinkingScore:l.independentThinkingScore,timestamp:new Date().toISOString()}),Rq.length>1e3&&Rq.shift();let u=Cq.get(e.agentId)??{trades:0,coherence:[],hallucinationFreeRates:[],disciplineRates:[],depthScores:[],sourceQualityScores:[],predictionScores:[],consensusScores:[],recentReasoning:[],intents:{}};u.trades++,u.coherence.push(r),u.hallucinationFreeRates.push(o),u.disciplineRates.push(i?1:0),u.depthScores.push(s),u.sourceQualityScores.push(a),u.predictionScores.push(c.confidenceInPrediction>0?.6:.3),u.consensusScores.push(l.independentThinkingScore),u.recentReasoning.unshift(e.reasoning.slice(0,200)),u.recentReasoning.length>10&&u.recentReasoning.pop();let d=Ja(e.reasoning,e.action);u.intents[d]=(u.intents[d]??0)+1;let p=500;for(let f of[u.coherence,u.hallucinationFreeRates,u.disciplineRates,u.depthScores,u.sourceQualityScores,u.predictionScores,u.consensusScores])f.length>p&&f.shift();Cq.set(e.agentId,u)}function JUn(){let t=[];for(let[e,n]of Cq.entries()){let r=Tq({pnl:0,coherence:Ke(n.coherence),hallucinationFree:Ke(n.hallucinationFreeRates),discipline:Ke(n.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:Ke(n.depthScores),sourceQuality:Ke(n.sourceQualityScores),outcomePrediction:Ke(n.predictionScores),consensusIntelligence:Ke(n.consensusScores)});t.push({...r,agentId:e,rank:0,tradeCount:n.trades})}return t.sort((e,n)=>n.composite-e.composite),t.forEach((e,n)=>e.rank=n+1),t}QE.get("/leaderboard",async t=>{try{let n=await Gt.select().from(qt).orderBy(Ci(qt.timestamp)).limit(500);if(n.length>0){let r=new Map;for(let i of n){let s=r.get(i.agentId)??[];s.push(i),r.set(i.agentId,s)}let o=[];for(let[i,s]of r.entries()){let a=s.reduce((g,y)=>g+(y.coherenceScore??0),0)/s.length,l=1-ue(s,g=>!!(g.hallucinationFlags&&g.hallucinationFlags.length>0))/s.length,u=ue(s,g=>g.disciplinePass!=="fail")/s.length,d=0,p=0,f=0;for(let g of s.slice(0,50)){let y=Sb(g.reasoning),S=vb(g.reasoning,g.sources??[]),v=fR(g.reasoning,g.predictedOutcome);d+=y.depthScore,p+=S.qualityScore,f+=v.confidenceInPrediction>0?.6:.3}let h=Math.min(s.length,50),m=Tq({pnl:0,coherence:a,hallucinationFree:l,discipline:u,calibration:.5,prediction:.5,reasoningDepth:d/h,sourceQuality:p/h,outcomePrediction:f/h,consensusIntelligence:.5});o.push({...m,agentId:i,rank:0,tradeCount:s.length})}return o.sort((i,s)=>s.composite-i.composite),o.forEach((i,s)=>i.rank=s+1),t.json({ok:!0,version:"v25",dimensions:10,leaderboard:o,totalTrades:n.length,source:"database"})}}catch{}let e=JUn();return t.json({ok:!0,version:"v25",dimensions:10,leaderboard:e,source:"cache"})});QE.get("/predictions",t=>{let e=t.req.query("agent"),n=Math.min(parseInt(t.req.query("limit")??"50",10),200),r=Iq;return e&&(r=r.filter(o=>o.agentId===e)),t.json({ok:!0,predictions:r.slice(-n).reverse(),total:r.length,summary:{totalPredictions:r.length,directionalBreakdown:{up:ue(r,o=>o.predictedDirection==="up"),down:ue(r,o=>o.predictedDirection==="down"),flat:ue(r,o=>o.predictedDirection==="flat"),unspecified:ue(r,o=>o.predictedDirection==="unspecified")},withTimeframe:ue(r,o=>o.timeframeSpecified!==null),withMagnitude:ue(r,o=>o.predictedMagnitude!==null)}})});QE.get("/consensus",t=>{let e=t.req.query("agent"),n=Math.min(parseInt(t.req.query("limit")??"50",10),200),r=Rq;e&&(r=r.filter(s=>s.agentId===e));let o=new Map;for(let s of r){let a=o.get(s.agentId)??{agreed:0,contrarian:0,total:0,avgSimilarity:0,avgIndependence:0};a.total++,a.agreed+=s.agreedWithMajority,a.contrarian+=s.wasContrarian,a.avgSimilarity+=s.reasoningSimilarity,a.avgIndependence+=s.independentThinkingScore,o.set(s.agentId,a)}let i=Array.from(o.entries()).map(([s,a])=>({agentId:s,totalRounds:a.total,agreementRate:a.total>0?re(a.agreed/a.total):0,contrarianRate:a.total>0?re(a.contrarian/a.total):0,avgReasoningSimilarity:a.total>0?re(a.avgSimilarity/a.total):0,avgIndependentThinking:a.total>0?re(a.avgIndependence/a.total):0}));return t.json({ok:!0,consensusData:r.slice(-n).reverse(),total:r.length,agentSummary:i})});QE.get("/agent/:id",async t=>{let e=t.req.param("id"),n=Cq.get(e);if(!n)try{let o=await Gt.select().from(qt).where(an(qt.agentId,e)).orderBy(Ci(qt.timestamp)).limit(100);if(o.length===0)return t.json({ok:!1,error:"Agent not found"},404);let i=o.reduce((s,a)=>s+(a.coherenceScore??0),0)/o.length;return t.json({ok:!0,agentId:e,tradeCount:o.length,avgCoherence:re(i),recentTrades:o.slice(0,10).map(s=>({action:s.action,symbol:s.symbol,reasoning:s.reasoning.slice(0,200),confidence:s.confidence,coherence:s.coherenceScore,intent:s.intent})),source:"database"})}catch{return t.json({ok:!1,error:"Agent not found"},404)}let r=Tq({pnl:0,coherence:Ke(n.coherence),hallucinationFree:Ke(n.hallucinationFreeRates),discipline:Ke(n.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:Ke(n.depthScores),sourceQuality:Ke(n.sourceQualityScores),outcomePrediction:Ke(n.predictionScores),consensusIntelligence:Ke(n.consensusScores)});return t.json({ok:!0,agentId:e,score:r,tradeCount:n.trades,intentDistribution:n.intents,recentReasoning:n.recentReasoning})});QE.get("/export/jsonl",async t=>{try{let n=(await Gt.select().from(qt).orderBy(Ci(qt.timestamp)).limit(1e3)).map(r=>{let o=Sb(r.reasoning),i=vb(r.reasoning,r.sources??[]),s=fR(r.reasoning,r.predictedOutcome),a=In(r.confidence);return JSON.stringify({agent_id:r.agentId,round_id:r.roundId??null,timestamp:r.timestamp?.toISOString()??null,action:r.action,symbol:r.symbol,quantity:r.quantity,reasoning:r.reasoning,confidence:a,sources:r.sources??[],intent:r.intent,coherence_score:r.coherenceScore,hallucination_flags:r.hallucinationFlags??[],discipline_pass:r.disciplinePass==="pass",reasoning_depth_score:o.depthScore,step_count:o.stepCount,connective_density:o.connectiveDensity,evidence_anchoring:o.evidenceAnchoringScore,counter_argument_score:o.counterArgumentScore,reasoning_pattern:o.reasoningPattern,source_quality_score:i.qualityScore,source_diversity:i.diversityScore,source_specificity:i.specificityScore,source_cross_reference:i.crossReferenceScore,source_integration:i.integrationScore,predicted_direction:s.predictedDirection,predicted_magnitude:s.predictedMagnitude,timeframe_specified:s.timeframeSpecified,outcome_prediction_confidence:s.confidenceInPrediction,benchmark_version:"v25"})});return t.header("Content-Type","application/x-ndjson"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.jsonl"),t.text(n.join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable \u2014 no export data"},503)}});QE.get("/export/csv",async t=>{try{let e=await Gt.select().from(qt).orderBy(Ci(qt.timestamp)).limit(1e3),n=["agent_id","round_id","timestamp","action","symbol","quantity","confidence","coherence_score","hallucination_count","discipline_pass","intent","reasoning_depth","source_quality","predicted_direction","predicted_magnitude","reasoning_length","benchmark_version"],r=e.map(o=>{let i=Sb(o.reasoning),s=vb(o.reasoning,o.sources??[]),a=fR(o.reasoning,o.predictedOutcome);return[o.agentId,o.roundId??"",o.timestamp?.toISOString()??"",o.action,o.symbol,o.quantity??0,In(o.confidence),o.coherenceScore??0,o.hallucinationFlags?.length??0,o.disciplinePass==="pass"?1:0,o.intent,i.depthScore.toFixed(3),s.qualityScore.toFixed(3),a.predictedDirection,a.predictedMagnitude??"",o.reasoning.length,"v25"].join(",")});return t.header("Content-Type","text/csv"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.csv"),t.text([n.join(","),...r].join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable"},503)}});QE.post("/analyze",async t=>{let e=await t.req.json().catch(()=>null);if(!e?.reasoning)return t.json({ok:!1,error:"Provide { reasoning, action?, symbol?, sources? }"},400);let n=e.reasoning,r=e.action??"hold",o=e.sources??[],i=Sb(n),s=vb(n,o),a=fR(n,e.predictedOutcome),c=Ka(n,r),l=Wc(n,[]);return t.json({ok:!0,analysis:{coherence:{score:c.score,explanation:c.explanation},hallucinations:{count:l.flags.length,flags:l.flags},reasoningDepth:i,sourceQuality:s,outcomePrediction:a,v25_dimensions:{coherence:c.score,hallucinationFree:1-l.severity,reasoningDepth:i.depthScore,sourceQuality:s.qualityScore,outcomePredictionConfidence:a.confidenceInPrediction}}})});var eEt=new Map,tEt=new Map,YUn=new Map;function xa(t,e){let n=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g"),r=t.match(n);return r?r.length:0}function Nq(t){return t<=0?0:t===1?.3:t===2?.6:t===3?.8:1}function nl(t){return Math.round(Math.max(0,Math.min(1,t))*100)/100}function nEt(t,e){let n=t.toLowerCase(),r,o=e.filter(w=>w.outcome==="loss"||w.outcome==="failure"||w.outcome==="negative"||w.coherenceScore<.3);if(o.length===0)r=.7;else{let I=xa(t,/loss|lost|mistake|wrong|error|misjudged|poor\s+call|bad\s+trade|underperform|regret|should\s+not\s+have/gi);I>=3?r=1:I===2?r=.8:I===1?r=.5:r=.1}let s=xa(t,/market\s+was\s+irrational|unexpected\s+event|couldn't\s+have\s+predicted|no\s+one\s+could|black\s+swan|unforeseen|manipulation|rigged/gi),a;s===0?a=1:s===1?a=.7:s===2?a=.4:a=.1;let l=xa(t,/i\s+was\s+wrong\s+about|my\s+mistake\s+was|incorrect\s+assumption|misjudged\s+the|overestimated|underestimated|failed\s+to\s+consider|overlooked|my\s+analysis\s+missed/gi),u=o.length===0?.6:Nq(l),p=xa(t,/going\s+forward|adjusting|will\s+now|changing\s+approach|tightening|loosening|revised\s+strategy|new\s+rule|updating\s+my|lowering\s+exposure|increasing\s+caution/gi),f=o.length===0?.6:Nq(p),h;if(e.length<2)h=.5;else{let I=xa(t,/my\s+record|win\s+rate|track\s+record|past\s+performance|history\s+shows|my\s+last\s+\d+\s+trades/gi);xa(t,/always\s+right|never\s+wrong|perfect\s+record|100%|consistently\s+profitable/gi)>0?h=.1:I>=2?h=.9:I===1?h=.7:h=.5}let g=xa(t,/uncertain|not\s+sure|could\s+be\s+wrong|risk\s+that\s+i'm|limited\s+data|might\s+not|possible\s+that|acknowledge|caveat|however.*risk|on\s+the\s+other\s+hand/gi),S=xa(t,/definitely|guaranteed|certain|no\s+doubt|absolutely|surely|without\s+question|slam\s+dunk|easy\s+money|free\s+money/gi),v;S>2?v=.1:S>0?v=Math.max(.2,Nq(g)-.3):v=Nq(g);let A=nl(r*.2+a*.15+u*.18+f*.17+h*.15+v*.15);return{lossAcknowledgment:nl(r),blameAvoidance:nl(a),errorSpecificity:nl(u),correctiveAction:nl(f),selfReportAccuracy:nl(h),intellectualHumility:nl(v),accountabilityScore:A}}function rEt(t){let n=xa(t,/(?:is|are|was|were|will|should|appears?|seems?|looks?|indicates?|suggests?|shows?)\s+(?:that\s+)?(?:the\s+)?(?:likely|probably|clearly|strong|weak|bullish|bearish|undervalued|overvalued|rising|falling)/gi),o=xa(t,/price\s+(?:is|of|at)|trading\s+at|24h\s+change|volume|data\s+shows|according\s+to|chart|indicator|P\/E|earnings|revenue|\$\d+(?:\.\d+)?|\d+(?:\.\d+)?%/gi),s=xa(t,/however|but|on\s+the\s+other\s+hand|risk|downside|could\s+go\s+wrong|bearish\s+case|bullish\s+case|alternative|counterpoint|caveat|nevertheless|despite|although|while\s+.*risk/gi),c=xa(t,/if\s+(?:the|it|price|market)|unless|provided\s+that|in\s+case|should\s+.*then|assuming|given\s+that|contingent|depending\s+on/gi),u=xa(t,/\d+(?:\.\d+)?%|\$\d+(?:\.\d+)?(?:k|m|b)?|\d+x|\d+\.\d+\s+(?:ratio|multiple|times)/gi),p=xa(t,/therefore|thus|because|since|as\s+a\s+result|consequently|this\s+means|which\s+leads\s+to|first|second|third|finally|in\s+conclusion|given\s+this|based\s+on|combining/gi),f;p>=6?f=1:p>=4?f=.85:p>=3?f=.7:p>=2?f=.5:p>=1?f=.3:f=.1;let h;if(n===0)h=o>0?.5:.2;else{let I=o/n;I>=2?h=1:I>=1.5?h=.85:I>=1?h=.7:I>=.5?h=.5:h=.3}let m;s>=4?m=1:s>=3?m=.8:s>=2?m=.6:s>=1?m=.4:m=.1;let y=xa(t,/therefore\s+i|my\s+(?:recommendation|decision|conclusion|action)|i(?:'m|\s+am)\s+(?:buying|selling|holding)|in\s+conclusion|final\s+(?:decision|recommendation|verdict)|the\s+best\s+(?:action|move|trade)|i\s+(?:recommend|suggest|decide|choose)/gi),S;y>=2?S=1:y===1?S=.7:S=xa(t,/\b(?:buy|sell|hold)\b/gi)>0?.4:.1;let v;u>=6?v=1:u>=4?v=.8:u>=2?v=.6:u>=1?v=.3:v=.1;let A;c>=4?A=1:c>=3?A=.8:c>=2?A=.6:c>=1?A=.4:A=.15;let w=nl(f*.2+h*.2+m*.18+S*.15+v*.15+A*.12);return{logicalChainLength:nl(f),evidenceDensity:nl(h),counterArgumentQuality:nl(m),conclusionClarity:nl(S),quantitativeRigor:nl(v),conditionalReasoning:nl(A),rqiScore:w,structureBreakdown:{claimsFound:n,evidenceCitations:o,counterArguments:s,conditionals:c,quantifiedClaims:u,logicalConnectors:p}}}var QUn={pnl:11,coherence:9,hallucinationFree:8,discipline:7,calibration:7,predictionAccuracy:6,reasoningDepth:7,sourceQuality:6,outcomePrediction:5,consensusIntelligence:5,strategyGenome:5,riskRewardDiscipline:6,executionQuality:5,crossRoundLearning:5,tradeAccountability:6,reasoningQualityIndex:7};function oEt(t){let e=0,n=0;for(let[i,s]of Object.entries(QUn)){let a=t[i]??0;e+=a*s,n+=s}let r=n>0?Math.round(e/n*100*100)/100:0,o;return r>=90?o="S":r>=85?o="A+":r>=80?o="A":r>=70?o="B+":r>=60?o="B":r>=50?o="C":r>=35?o="D":o="F",{composite:r,grade:o}}function iEt(t,e,n){let r=eEt.get(t)??[];r.push(e),eEt.set(t,r);let o=tEt.get(t)??[];o.push(n),tEt.set(t,o)}function sEt(t,e){YUn.set(t,e)}process.env.BRAVE_API_KEY&&(Bdt(Fdt),console.log("[Orchestrator] Brave Search enabled"));var E9=[...process.env.ANTHROPIC_API_KEY?[yrt]:[],...process.env.OPENAI_API_KEY?[_rt]:[],...process.env.XAI_API_KEY?[Srt]:[],...process.env.GOOGLE_API_KEY?[vrt]:[]];function zv(){return E9.map(t=>({agentId:t.config.agentId,name:t.config.name,model:t.config.model,provider:t.config.provider,description:t.config.description,personality:t.config.personality,riskTolerance:t.config.riskTolerance,tradingStyle:t.config.tradingStyle,maxPositionSize:t.config.maxPositionSize,maxPortfolioAllocation:t.config.maxPortfolioAllocation}))}function S9(t){return E9.find(e=>e.config.agentId===t)?.config}var Oq=null,cEe=0,XUn=1e4,mR={maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},hR={cashBalance:1e4,totalValue:1e4,positions:[]},v9=t=>t*.8+.1,gR=t=>t*.6+.3,aEt=t=>t*.4+.4,cEt=.7,ZUn=.7,e$n=.5,lEt=t=>t>=ZUn?"B+":t>=e$n?"C+":"C",t$n=.35,n$n=.45,r$n=.4,o$n=.3,i$n=.4,uEt=.3,s$n=200,a$n=.4,c$n=.3,l$n=.3,dEt=100,u$n=150,d$n=.8,p$n=.6,f$n=t=>t>=d$n?"A":t>=p$n?"B":"C";async function m$n(){let t=Date.now();if(Oq&&t-cEe<XUn)return console.log("[Orchestrator] Using cached market data"),Oq;try{let e=await nGe(),n=oGe(),r=n?e.filter(i=>n.has(i.symbol)):e;n&&console.log(`[Orchestrator] Liquidity filter: ${r.length}/${e.length} stocks are tradeable`);let o=r.map(i=>({symbol:i.symbol,name:i.name,mintAddress:i.mintAddress,price:i.price,change24h:i.change24h,volume24h:i.volume24h}));return Oq=o,cEe=Date.now(),o}catch{let e=kr.map(n=>({symbol:n.symbol,name:n.name,mintAddress:n.mintAddress,price:S$n(n.symbol),change24h:v$n(),volume24h:E$n()}));return Oq=e,cEe=Date.now(),e}}async function DSe(t,e){try{let n=await Gt.select().from(Nn).where(an(Nn.agentId,t)),r=await Gt.select().from(zr).where(an(zr.agentId,t)),o=50,i=o;for(let d of r)d.side==="buy"?i-=parseFloat(d.usdcAmount):d.side==="sell"&&(i+=parseFloat(d.usdcAmount));let s=n.map(d=>{let f=e.find(S=>S.symbol.toLowerCase()===d.symbol.toLowerCase())?.price??parseFloat(d.averageCostBasis),h=parseFloat(d.quantity),m=parseFloat(d.averageCostBasis),g=(f-m)*h,y=m>0?(f-m)/m*100:0;return{symbol:d.symbol,quantity:h,averageCostBasis:m,currentPrice:f,unrealizedPnl:g,unrealizedPnlPercent:y}}),a=s.reduce((d,p)=>d+p.currentPrice*p.quantity,0),c=i+a,l=c-o,u=o>0?l/o*100:0;return{cashBalance:Math.max(0,i),positions:s,totalValue:c,totalPnl:l,totalPnlPercent:u}}catch(n){return console.error(`[Orchestrator] Failed to build portfolio for ${t}:`,n),{cashBalance:1e4,positions:[],totalValue:1e4,totalPnl:0,totalPnlPercent:0}}}async function h$n(t,e,n,r){let o={agentId:t.agentId,agentName:t.name,decision:e,executed:!1};try{await Gt.insert(Ic).values({agentId:t.agentId,symbol:e.symbol,action:e.action,quantity:String(e.quantity),reasoning:e.reasoning,confidence:e.confidence,modelUsed:t.model,roundId:r,marketSnapshot:n.reduce((i,s)=>(i[s.symbol]={price:s.price,change24h:s.change24h},i),{})})}catch(i){console.error(`[Orchestrator] Failed to record decision for ${t.agentId}:`,i)}if(e.action==="hold")return o.executed=!0,o;try{let i=await apt({agentId:t.agentId,agentName:t.name,decision:e,roundId:r});o.executed=i.success,i.success?(o.executionDetails={txSignature:i.tradeResult?.txSignature??i.paperTradeId,filledPrice:i.tradeResult?parseFloat(i.tradeResult.pricePerToken):void 0,usdcAmount:i.tradeResult?parseFloat(i.tradeResult.usdcAmount):e.action==="buy"?e.quantity:void 0,filledQuantity:i.tradeResult?parseFloat(i.tradeResult.stockQuantity):e.action==="sell"?e.quantity:void 0},console.log(`[Orchestrator] ${t.name} trade EXECUTED (${ky()}): ${e.action} ${e.symbol} \u2014 tx: ${i.tradeResult?.txSignature??i.paperTradeId}`)):(o.executionError=i.error,console.warn(`[Orchestrator] ${t.name} trade FAILED: ${i.error}`))}catch(i){let s=Ue(i);o.executionError=s,console.error(`[Orchestrator] ${t.name} execution error: ${s}`)}return o}async function pEt(){let t=`round_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,e=new Date().toISOString();console.log(`[Orchestrator] Starting trading round ${t} at ${e}`);try{let r=await Spt();if(!r.proceed)return console.warn(`[Orchestrator] Round ${t} BLOCKED by pre-round gate: ${r.blockReason}`),{roundId:t,timestamp:e,results:[],errors:[`Pre-round gate blocked: ${r.blockReason}`],circuitBreakerActivations:[],lockSkipped:!1};console.log(`[Orchestrator] Pre-round gate PASSED (${r.mode}): ${r.summary.passed}/${r.summary.total} checks OK in ${r.durationMs}ms`)}catch(r){console.warn(`[Orchestrator] Pre-round gate check error (continuing): ${Ue(r)}`)}let n=await Tdt(t,async()=>await g$n(t,e));if(!n){let r=M8();return console.log(`[Orchestrator] Round ${t} SKIPPED \u2014 another round is in progress (lock: ${r.lock?.lockId??"unknown"})`),{roundId:t,timestamp:e,results:[],errors:["Trading round skipped \u2014 another round is in progress"],circuitBreakerActivations:[],lockSkipped:!0}}return n.result}async function g$n(t,e){let n=[],r=[],o;try{o=await m$n(),console.log(`[Orchestrator] Fetched market data for ${o.length} stocks`)}catch(p){let f=`Failed to fetch market data: ${Ue(p)}`;return console.error(`[Orchestrator] ${f}`),{roundId:t,timestamp:e,results:[],errors:[f],circuitBreakerActivations:[],lockSkipped:!1}}let i="";try{let p=o.map(h=>h.symbol),f=await Ldt(p);i=Mdt(f),console.log(`[Orchestrator] News context ready (${f.items.length} items, cache: ${cye().hitRate}% hit rate)`)}catch(p){console.warn(`[Orchestrator] News fetch failed (non-critical): ${Ue(p)}`)}if(i)for(let p of o)p.news=p.news??[],p.news.push(i);let s=o.filter(p=>p.change24h!==null&&Math.abs(p.change24h)>3).sort((p,f)=>Math.abs(f.change24h??0)-Math.abs(p.change24h??0)).slice(0,10).map(p=>({symbol:p.symbol,name:p.name,change24h:p.change24h,price:p.price}));if(s.length>0){let p=`

**Market Movers (>3% change today)**:
${s.map(f=>`- ${f.symbol} (${f.name}): ${f.change24h>0?"+":""}${re(f.change24h)}% at $${re(f.price)}`).join(`
`)}`;for(let f of o)f.news=f.news??[],f.news.push(p);console.log(`[Orchestrator] Pre-computed ${s.length} movers (>${re(Math.abs(s[s.length-1].change24h))}% change)`)}let a=[];for(let p of E9)try{console.log(`[Orchestrator] Running ${p.name} (${p.model})...`);let f=await mtt(p.agentId);f.ready||console.warn(`[Orchestrator] ${p.name} fund check failed: ${f.reason}`),await Ofe(p.agentId,`pre-trade-${t}`).catch(S=>console.warn(`[Orchestrator] Balance snapshot failed for ${p.agentId}: ${Ue(S)}`));let h=await DSe(p.agentId,o),m=await p.analyze(o,h);console.log(`[Orchestrator] ${p.name} decided: ${m.action} ${m.symbol} (confidence: ${m.confidence}%)`);try{let S=tft(m,o);S.passed?console.log(`[Orchestrator] ${p.name} quality gate PASSED: composite=${re(S.scores.composite)}`):(console.log(`[Orchestrator] ${p.name} QUALITY GATE REJECTED: composite=${re(S.scores.composite)}, reasons: ${S.rejectionReasons.join("; ")}`),m=S.decision)}catch(S){console.warn(`[Orchestrator] Quality gate check failed for ${p.agentId}: ${Ue(S)}`)}try{let S=Ka(m.reasoning,m.action,o),v=Wc(m.reasoning,o),A=Ly({action:m.action,symbol:m.symbol,quantity:m.quantity,confidence:In(m.confidence)},{maxPositionSize:p.config.maxPositionSize,maxPortfolioAllocation:p.config.maxPortfolioAllocation,riskTolerance:p.config.riskTolerance},{cashBalance:h.cashBalance,totalValue:h.totalValue,positions:h.positions.map(G=>({symbol:G.symbol,quantity:G.quantity,currentPrice:G.currentPrice}))}),w=m.sources??yd(m.reasoning),I=m.intent??Ja(m.reasoning,m.action);console.log(`[Orchestrator] ${p.name} benchmark: coherence=${re(S.score)}, hallucinations=${v.flags.length}, discipline=${A.passed?"PASS":"FAIL"}`);let D=`tj_${Date.now()}_${Math.random().toString(36).slice(2,6)}`;await Gt.insert(qt).values({id:D,agentId:p.agentId,reasoning:m.reasoning,confidence:In(m.confidence),sources:w,toolTrace:m.toolTrace??null,modelUsed:p.model,intent:I,predictedOutcome:m.predictedOutcome??null,coherenceScore:S.score,hallucinationFlags:v.flags,action:m.action,symbol:m.symbol,quantity:m.quantity,roundId:t,disciplinePass:A.passed?"pass":"fail"}).catch(G=>{console.warn(`[Orchestrator] Justification insert failed: ${Ue(G)}`)});let k=eft({agentId:p.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,reasoning:m.reasoning,confidence:m.confidence,roundId:t},S,v);Zpt(k);let O=In(m.confidence);sft({agentId:p.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,reasoning:m.reasoning,confidence:O,intent:I,sources:w,coherenceScore:S.score,hallucinationCount:v.flags.length,roundId:t,timestamp:new Date().toISOString()}),lft(p.agentId,m.symbol,t,v.flags,v.severity,O,m.action),dft({agentId:p.agentId,reasoning:m.reasoning,action:m.action,symbol:m.symbol,confidence:O,intent:I,coherenceScore:S.score,timestamp:new Date().toISOString()});let U=S.signals.reduce((G,J)=>J.type==="bullish"?G+J.weight*.1:J.type==="bearish"?G-J.weight*.1:G,0);fft({agentId:p.agentId,roundId:t,action:m.action,symbol:m.symbol,reasoning:m.reasoning,confidence:O,intent:I,coherenceScore:S.score,hallucinationCount:v.flags.length,wordCount:vn(m.reasoning),sentimentScore:Math.max(-1,Math.min(1,U)),timestamp:new Date().toISOString()}),hft({agentId:p.agentId,action:m.action,symbol:m.symbol,reasoning:m.reasoning,confidence:O,intent:I,coherenceScore:S.score,hallucinationCount:v.flags.length,disciplinePass:A.passed,timestamp:new Date().toISOString()}),yft({agentId:p.agentId,reasoning:m.reasoning,action:m.action,intent:I,confidence:O,coherenceScore:S.score,hallucinationFlags:v.flags,disciplineViolations:A.passed?[]:A.violations,timestamp:new Date().toISOString()}),_ft({roundId:t,agentId:p.agentId,pnl:h.totalPnlPercent,coherence:S.score,hallucinationCount:v.flags.length,timestamp:Date.now()}),wft(p.agentId,S.score,v.severity,A.passed);try{Dyt(p.agentId,{composite:S.score,coherence:S.score,hallucinationRate:v.severity},f$n(S.score),t),v.flags.length>0&&Myt(p.agentId,m.symbol,v.flags,t),kyt(p.agentId,A.passed,S.score,.3),Gyt({agentId:p.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,confidence:O,reasoning:m.reasoning,intent:I,coherenceScore:S.score,timestamp:new Date().toISOString()});let G=dbt({agentId:p.agentId,roundId:t,reasoning:m.reasoning,coherenceScore:S.score,hallucinationCount:v.flags.length,confidence:O,intent:I,action:m.action});ubt(G),Oyt(p.agentId,{composite:S.score,coherence:S.score,hallucinationRate:v.severity,discipline:A.passed?1:0,pnl:h.totalPnlPercent,sharpe:0})}catch(G){console.warn(`[Orchestrator] Governance service recording failed for ${p.agentId}: ${Ue(G)}`)}try{let G=Uft(m.reasoning,m.action,p.agentId,m.symbol,t);console.log(`[Orchestrator] ${p.name} depth: ${re(G.overall)} (${G.classification}), angles=${G.angleCount}`),Vft(p.agentId,t,{coherence:S.score,depth:G.overall,hallucinationRate:v.severity,discipline:A.passed?1:0,confidence:O}),Kc("trade_reasoning",{action:m.action,symbol:m.symbol,confidence:O,intent:I,reasoningPreview:m.reasoning.slice(0,200)},p.agentId),Kc("coherence_scored",{score:S.score,explanation:S.explanation,signalCount:S.signals.length},p.agentId),Kc("depth_analyzed",{overall:G.overall,classification:G.classification,angleCount:G.angleCount},p.agentId),v.flags.length>0&&Kc("hallucination_flagged",{flags:v.flags,severity:v.severity,symbol:m.symbol},p.agentId);try{let C=Eyt(m.reasoning,m.action,m.symbol,O,o);Ayt(p.agentId,C),console.log(`[Orchestrator] ${p.name} deep coherence: ${re(C.overallScore)} (${C.grade}), strengths=${C.strengths.length}, weaknesses=${C.weaknesses.length}`),Kc("deep_coherence",{overallScore:C.overallScore,grade:C.grade,strengthCount:C.strengths.length,weaknessCount:C.weaknesses.length,wordCount:C.textMetrics.wordCount},p.agentId)}catch(C){console.warn(`[Orchestrator] Deep coherence failed for ${p.agentId}: ${Ue(C)}`)}let J=null;try{J=hbt(p.agentId,m.reasoning),gbt(p.agentId,m.reasoning,J.qualityScore),console.log(`[Orchestrator] ${p.name} patterns: quality=${re(J.qualityScore)}, fallacies=${J.fallacies.length}, depth=${J.depth.classification}, vocab=${re(J.vocabulary.sophisticationScore)}`),Kc("pattern_analyzed",{qualityScore:J.qualityScore,fallacyCount:J.fallacies.length,fallacies:J.fallacies.map(C=>C.type),depthClassification:J.depth.classification,vocabularySophistication:J.vocabulary.sophisticationScore,hedgeRatio:J.hedgeRatio,templateProbability:J.templateProbability},p.agentId)}catch(C){console.warn(`[Orchestrator] Pattern analysis failed for ${p.agentId}: ${Ue(C)}`)}try{let C=Ij(p.agentId,t,m.reasoning,m.action,m.symbol,O);Sbt(p.agentId,m.reasoning,m.action,m.symbol,O),wbt(p.agentId,{coherence:S.score,depth:C.depth.depthScore,hallucinationFree:1-v.severity,discipline:A.passed?1:0,confidence:O,forensicStructure:C.structural.structureScore,forensicOriginality:C.originality.originalityScore,forensicClarity:C.clarity.clarityScore,forensicIntegrity:C.crossTrade.flags.length===0?1:Math.max(0,1-C.crossTrade.flags.length*.2),patternQuality:J?.qualityScore??.5}),console.log(`[Orchestrator] ${p.name} forensic: composite=${re(C.compositeScore)} (${C.grade}), depth=${C.depth.classification}, originality=${re(C.originality.originalityScore)}, clarity=${re(C.clarity.clarityScore)}, integrity-flags=${C.crossTrade.flags.length}`),Ibt("forensic_analyzed",{compositeScore:C.compositeScore,grade:C.grade,depthClassification:C.depth.classification,dimensionsCovered:C.depth.dimensionCount,originalityScore:C.originality.originalityScore,templateProbability:C.originality.templateProbability,clarityScore:C.clarity.clarityScore,integrityFlags:C.crossTrade.flags,structureScore:C.structural.structureScore,quantitativeClaims:C.structural.quantitativeClaimCount,causalConnectors:C.structural.causalConnectorCount},p.agentId),Kc("v11_forensic",{compositeScore:C.compositeScore,grade:C.grade,depthClassification:C.depth.classification,originalityScore:C.originality.originalityScore},p.agentId)}catch(C){console.warn(`[Orchestrator] v11 forensic analysis failed for ${p.agentId}: ${Ue(C)}`)}}catch(G){console.warn(`[Orchestrator] Depth/stream analysis failed for ${p.agentId}: ${Ue(G)}`)}}catch(S){console.warn(`[Orchestrator] Benchmark analysis failed for ${p.agentId}: ${Ue(S)}`)}try{let S=In(m.confidence),v=Cbt(m,p.agentId,o,{maxPositionSize:p.config.maxPositionSize,maxPortfolioAllocation:p.config.maxPortfolioAllocation,riskTolerance:p.config.riskTolerance});console.log(`[Orchestrator] ${p.name} v12 validation: quality=${v.qualityScore.toFixed(3)} (${v.grade}), valid=${v.valid}, issues=${v.issues.length}`),eve("trade_validated",{qualityScore:v.qualityScore,grade:v.grade,valid:v.valid,issueCount:v.issues.length,dimensions:v.dimensions.map(I=>({name:I.name,score:I.score,passed:I.passed}))},p.agentId);let A=Obt(m.reasoning,m.action);Pbt(p.agentId,A),console.log(`[Orchestrator] ${p.name} taxonomy: ${A.fingerprint}, strategy=${A.strategy}, sophistication=${A.sophisticationLevel}/5, biases=${A.cognitivePatterns.length}`),eve("taxonomy_classified",{fingerprint:A.fingerprint,strategy:A.strategy,analyticalMethod:A.analyticalMethod,reasoningStructure:A.reasoningStructure,sophisticationLevel:A.sophisticationLevel,cognitivePatterns:A.cognitivePatterns.map(I=>I.type),themes:A.themes,classificationConfidence:A.classificationConfidence},p.agentId);let w=m.intent??"value";kbt({agentId:p.agentId,roundId:t,symbol:m.symbol,action:m.action,confidence:S,reasoning:m.reasoning,intent:w,coherenceScore:v.dimensions.find(I=>I.name==="action_reasoning_alignment")?.score??.5,timestamp:new Date().toISOString()}),Mbt(p.agentId,{financial:.5,reasoning:v.dimensions.find(I=>I.name==="reasoning_depth")?.score??.5,safety:v.dimensions.find(I=>I.name==="price_grounding")?.score??.5,calibration:v.dimensions.find(I=>I.name==="confidence_calibration")?.score??.5,patterns:A.sophisticationLevel/5,adaptability:.5,forensicQuality:v.dimensions.find(I=>I.name==="source_verification")?.score??.5,validationQuality:v.qualityScore,composite:v.qualityScore*.6+A.sophisticationLevel/5*.2+.5*.2,grade:v.grade,dominantStrategy:A.strategy,sophistication:A.sophisticationLevel,biasCount:A.cognitivePatterns.length,consistencyScore:.5,qualityTrend:"stable",anomalyCount:0,tradeCount:1,lastUpdated:new Date().toISOString()})}catch(S){console.warn(`[Orchestrator] v12 analysis failed for ${p.agentId}: ${Ue(S)}`)}let g=Rdt(p.agentId,m,h);r.push(...g.activations),g.allowed||console.log(`[Orchestrator] ${p.name} decision BLOCKED by circuit breaker`);let y=await h$n(p,g.decision,o,t);g.activations.length>0&&(y.executionDetails=y.executionDetails??{}),y.executed&&g.decision.action!=="hold"&&Cdt(p.agentId),await Ofe(p.agentId,`post-trade-${t}`).catch(S=>console.warn(`[Orchestrator] Post-trade snapshot failed for ${p.agentId}: ${Ue(S)}`)),a.push(y),await Ndt()}catch(f){let h=`${p.name} failed: ${Ue(f)}`;console.error(`[Orchestrator] ${h}`),n.push(h),a.push({agentId:p.agentId,agentName:p.name,decision:{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error: ${h}`,confidence:0,timestamp:new Date().toISOString()},executed:!1,executionError:h})}let c=null;if(process.env.MEETING_OF_MINDS_ENABLED!=="false")try{c=await lyt(a,E9,o,t),console.log(`[Round] Meeting of Minds: ${c.consensus.type} \u2014 ${c.consensus.summary}`)}catch(p){console.error(`[Round] Meeting of Minds failed: ${Ue(p)}`)}let l=null;if(process.env.MUSINGS_ENABLED!=="false")try{l=await hyt(a,E9,o,t),console.log(`[Round] Musings: avg regret ${l.avgRegretScore}/10, consensus stocks: ${l.consensusStocks.join(", ")||"none"}`)}catch(p){console.error(`[Round] Musings failed: ${Ue(p)}`)}if(process.env.LENDING_ENABLED==="true")try{let p=a.map(h=>({agentId:h.agentId,decision:h.decision})),f=await tyt(t,p,o);(f.loansCreated>0||f.loansSettled>0)&&console.log(`[Orchestrator] Lending: ${f.loansCreated} new loans, ${f.loansSettled} settled, ${f.totalStonksBorrowed} $STONKS moved`)}catch(p){console.warn(`[Orchestrator] Lending phase failed (non-critical): ${Ue(p)}`)}try{gyt({roundId:t,decisions:a,meeting:c,musings:l,marketData:o,timestamp:new Date(e)})}catch(p){console.warn(`[Orchestrator] Paid advice cache update failed: ${Ue(p)}`)}let u=Date.now()-new Date(e).getTime();Ept(u),console.log(`[Orchestrator] Round ${t} complete. ${a.length} agents ran. ${n.length} errors. ${r.length} circuit breaker activations. Mode: ${ky()}.`);try{jdt({roundId:t,results:a.map(p=>({agentId:p.agentId,agentName:p.agentName,action:p.decision.action,symbol:p.decision.symbol,confidence:p.decision.confidence,executed:p.executed})),errors:n,circuitBreakerActivations:r.length})}catch{}try{let p=a.filter(h=>h.decision.action!=="hold"),f=new Map;for(let h of p){let m=f.get(h.decision.symbol)??[];m.push(h),f.set(h.decision.symbol,m)}for(let[h,m]of f){let g=m.some(S=>S.decision.action==="buy"),y=m.some(S=>S.decision.action==="sell");g&&y&&qdt({roundId:t,symbol:h,agents:m.map(S=>({agentId:S.agentId,agentName:S.agentName,action:S.decision.action,confidence:S.decision.confidence}))})}}catch{}let d=Date.now()-new Date(e).getTime();try{let p={roundId:t,timestamp:e,durationMs:d,tradingMode:ky(),results:a.map(f=>({agentId:f.agentId,agentName:f.agentName,action:f.decision.action,symbol:f.decision.symbol,quantity:f.decision.quantity,reasoning:f.decision.reasoning,confidence:f.decision.confidence,executed:f.executed,executionError:f.executionError,txSignature:f.executionDetails?.txSignature,filledPrice:f.executionDetails?.filledPrice,usdcAmount:f.executionDetails?.usdcAmount})),errors:n,circuitBreakerActivations:r.length,lockSkipped:!1,consensus:y$n(a),summary:b$n(a,n),meetingOfMinds:c?JSON.stringify(c):void 0,musings:l?JSON.stringify(l):void 0,ttl:Math.floor(Date.now()/1e3)+7776e3};mpt(p),fpt({roundId:t,timestamp:e,durationMs:d,tradingMode:ky(),results:a,errors:n,circuitBreakerActivations:r,lockSkipped:!1,meetingOfMinds:c?JSON.stringify(c):void 0,musings:l?JSON.stringify(l):void 0}).catch(f=>console.warn(`[Orchestrator] DynamoDB persist failed: ${Ue(f)}`))}catch(p){console.warn(`[Orchestrator] Round caching failed: ${Ue(p)}`)}try{let p=o.find(f=>f.symbol==="SPYx");p?.change24h!==null&&p?.change24h!==void 0&&gpt(p.change24h)}catch{}rft(o).catch(p=>console.warn(`[Orchestrator] Outcome tracking failed: ${Ue(p)}`));try{let p=aft(t);p&&console.log(`[Orchestrator] Round diffs: ${p.diffs.length} comparisons, avgDivergence=${p.stats.avgDivergence}, conflicts=${p.stats.actionConflictRate}`)}catch(p){console.warn(`[Orchestrator] Reasoning diffs failed: ${Ue(p)}`)}try{let p=a.map(f=>({agentId:f.agentId,action:f.decision.action,symbol:f.decision.symbol,reasoning:f.decision.reasoning,confidence:f.decision.confidence,timestamp:f.decision.timestamp??e}));Aft(t,p)}catch(p){console.warn(`[Orchestrator] Integrity proof failed: ${Ue(p)}`)}try{let p=a.map(f=>({agentId:f.agentId,agentName:f.agentName,compositeScore:f.decision.confidence/100,pnl:0,coherence:0,hallucinationRate:0}));Rft(t,p)}catch(p){console.warn(`[Orchestrator] Leaderboard evolution failed: ${Ue(p)}`)}try{let p=tI(o.map(f=>({symbol:f.symbol,price:f.price,change24h:f.change24h})));console.log(`[Orchestrator] Market regime: ${p.regime} (avg: ${p.avgChange}%, vol: ${p.changeStdDev.toFixed(2)})`),Kc("regime_detected",{regime:p.regime,avgChange:p.avgChange,volatility:p.changeStdDev,stocksUp:p.stocksUp,stocksDown:p.stocksDown});for(let f of a)Hft(f.agentId,p.regime,.5,.5,!1,In(f.decision.confidence),f.decision.action,t)}catch(p){console.warn(`[Orchestrator] Regime detection failed: ${Ue(p)}`)}try{let p=a.map(h=>({agentId:h.agentId,reasoning:h.decision.reasoning,action:h.decision.action,symbol:h.decision.symbol,confidence:In(h.decision.confidence)})),f=Mft(p,t);console.log(`[Orchestrator] Peer review: ${f.reviews.length} reviews, disagreement=${(f.disagreementRate*100).toFixed(0)}%, best=${f.bestReviewed?.agentId??"none"} (${f.bestReviewed?.avgScore?.toFixed(2)??0})`),Kc("peer_review",{reviewCount:f.reviews.length,disagreementRate:f.disagreementRate,bestReviewed:f.bestReviewed,mostControversial:f.mostControversial})}catch(p){console.warn(`[Orchestrator] Peer review failed: ${Ue(p)}`)}Kc("round_completed",{roundId:t,agentCount:a.length,errorCount:n.length,tradingMode:ky()});try{let p=a.map(m=>{let g=In(m.decision.confidence);return{agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,quantity:m.decision.quantity,reasoning:m.decision.reasoning,confidence:g,intent:m.decision.intent??"value",coherenceScore:v9(g),hallucinationCount:0,disciplinePass:!0,pnlPercent:0,depthScore:Math.min(1,vn(m.decision.reasoning)/dEt),originalityScore:.5}}),f=Hbt(t,p);console.log(`[Orchestrator] v13 battles: ${f.length} matchups, winners=${f.filter(m=>m.overallWinner).map(m=>m.overallWinner).join(",")}`);for(let m of f)ove("battle_completed",{battleId:m.battleId,agentA:m.agentA.agentId,agentB:m.agentB.agentId,winner:m.overallWinner,margin:m.marginOfVictory,compositeA:m.compositeScoreA,compositeB:m.compositeScoreB,highlight:m.highlight,narrativePreview:m.narrative.slice(0,200)},m.overallWinner??void 0);let h=Ybt(a.map(m=>({agentId:m.agentId,reasoning:m.decision.reasoning})));for(let m of h)ove("reasoning_compared",{agentA:m.agentAId,agentB:m.agentBId,winner:m.winner,scoreA:m.agentAScore,scoreB:m.agentBScore,summary:m.summary.slice(0,200)});Kc("v13_battles",{roundId:t,battleCount:f.length,comparisonCount:h.length,highlights:ue(f,m=>m.highlight)})}catch(p){console.warn(`[Orchestrator] v13 battle generation failed: ${Ue(p)}`)}try{Nyt(t,{agentCount:a.length,tradeCount:ue(a,f=>f.decision.action!=="hold"),avgCoherence:.5,hallucinationCount:0,tradingMode:ky()});let p=a.map(f=>({agentId:f.agentId,compositeScore:In(f.decision.confidence)}));Fyt(p),Lyt(t,a.length,a[0]?.agentId??null,0)}catch(p){console.warn(`[Orchestrator] Governance round finalization failed: ${Ue(p)}`)}try{for(let g of a){let y=In(g.decision.confidence),S=o.find(D=>D.symbol.toLowerCase()===g.decision.symbol.toLowerCase());g.decision.predictedOutcome&&S&&Zbt({agentId:g.agentId,symbol:g.decision.symbol,action:g.decision.action,confidence:y,predictedOutcome:g.decision.predictedOutcome,priceAtPrediction:S.price,roundId:t,intent:g.decision.intent});let v=v9(y),A=i_t(v,0,!0);o_t({agentId:g.agentId,confidence:y,outcome:A,coherenceScore:v,action:g.decision.action,symbol:g.decision.symbol,roundId:t,timestamp:new Date().toISOString()});let w=p_t(g.decision.reasoning),I=f_t(g.decision.reasoning);d_t({agentId:g.agentId,roundId:t,symbol:g.decision.symbol,action:g.decision.action,confidence:y,intent:g.decision.intent??"value",sentimentScore:w,wordCount:vn(g.decision.reasoning),coherenceScore:v,keyPhrases:I,timestamp:new Date().toISOString()})}let p=new Map;for(let g of o)p.set(g.symbol,g.price),p.set(g.symbol.toLowerCase(),g.price);let f=e_t(p);f.length>0&&console.log(`[Orchestrator] v14 resolved ${f.length} predictions. Correct: ${ue(f,g=>g.directionCorrect)}/${f.length}`);let h=a.map(g=>{let y=In(g.decision.confidence);return{agentId:g.agentId,action:g.decision.action,symbol:g.decision.symbol,confidence:y,reasoning:g.decision.reasoning,coherenceScore:v9(y)}}),m=__t(t,h);console.log(`[Orchestrator] v14 consensus: ${m.consensusType}, agreement=${(m.agreementScore*100).toFixed(0)}%, contrarians=${m.contrarians.length}`);for(let g of a){let y=In(g.decision.confidence);E_t(g.agentId,{financial:.5,reasoning:v9(y),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:cEt,composite:aEt(y),grade:lEt(y),tradeCount:1,lastUpdated:new Date().toISOString()})}A_t("round_analyzed",{roundId:t,agentCount:a.length,consensusType:m.consensusType,agreementScore:m.agreementScore,predictionsResolved:f.length,predictionsCorrect:ue(f,g=>g.directionCorrect)}),Kc("benchmark_update",{version:"v14",roundId:t,consensusType:m.consensusType,agreement:m.agreementScore,predictionsResolved:f.length})}catch(p){console.warn(`[Orchestrator] v14 analysis failed: ${Ue(p)}`)}try{let p={};for(let v of o)p[v.symbol]={price:v.price,change24h:v.change24h};for(let v of a){let A=In(v.decision.confidence),w=C_t(v.agentId,v.decision.reasoning,v.decision.action,v.decision.symbol,A,p,t);N_t(w),P_t({agentId:v.agentId,action:v.decision.action,symbol:v.decision.symbol,reasoning:v.decision.reasoning,confidence:A,roundId:t,timestamp:new Date().toISOString()})}let f=a.map(v=>({agentId:v.agentId,action:v.decision.action,symbol:v.decision.symbol,reasoning:v.decision.reasoning,confidence:In(v.decision.confidence),roundId:t,timestamp:new Date().toISOString()})),h=D_t(f);console.log(`[Orchestrator] v15 cross-model: herding=${re(h.herdingScore)}, pairs=${h.similarities.length}, divergences=${h.divergencePoints.length}`);let m={roundId:t,agents:a.map(v=>({agentId:v.agentId,action:v.decision.action,confidence:v.decision.confidence,symbol:v.decision.symbol})),marketSnapshot:p},g={version:"v15",pillars:12,weights:{financial:.13,reasoning:.12,safety:.1,calibration:.09,patterns:.06,adaptability:.06,forensicQuality:.09,validationQuality:.09,predictionAccuracy:.07,reasoningStability:.06,provenanceIntegrity:.07,modelComparison:.06}},y={};for(let v of a){let A=In(v.decision.confidence);y[v.agentId]={composite:aEt(A)}}L_t({roundId:t,timestamp:Date.now(),inputs:m,scores:y,scoringConfig:g});let S=M_t(t,m,y,g);console.log(`[Orchestrator] v15 reproducibility: deterministic=${S.deterministic}, matches=${S.priorRunMatches}, mismatches=${S.priorRunMismatches}`);for(let v of a){let A=In(v.decision.confidence);$_t(v.agentId,{financial:.5,reasoning:v9(A),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:cEt,provenanceIntegrity:S.deterministic?1:.5,modelComparison:1-h.herdingScore,composite:A*t$n+n$n,grade:lEt(A),tradeCount:1,lastUpdated:new Date().toISOString()})}Eve("round_analyzed",{roundId:t,agentCount:a.length,herdingScore:h.herdingScore,divergenceCount:h.divergencePoints.length,reproducible:S.deterministic}),Kc("benchmark_update",{version:"v15",roundId:t,herdingScore:h.herdingScore,reproducible:S.deterministic,provenanceProofs:a.length})}catch(p){console.warn(`[Orchestrator] v15 analysis failed: ${Ue(p)}`)}try{for(let h of a){let m=In(h.decision.confidence),g=aSt(h.decision.reasoning),y=rSt(h.decision.reasoning),S=h.decision.intent??Ja(h.decision.reasoning,h.decision.action);sSt({agentId:h.agentId,reasoning:h.decision.reasoning,action:h.decision.action,symbol:h.decision.symbol,confidence:m,intent:S,coherenceScore:gR(m),roundId:t,timestamp:new Date().toISOString()}),tSt(h.agentId,{coherence:gR(m),hallucinationFree:.9,discipline:!0,confidence:m,reasoning:h.decision.reasoning,action:h.decision.action,depth:g.overall,forensicScore:.5,validationScore:.5}),console.log(`[Orchestrator] v16 ${h.agentId}: depth=${re(g.overall)} (${g.classification}), efficiency=${re(y.composite)}, angles=${g.anglesDetected.length}`)}let p=a.map(h=>({agentId:h.agentId,score:nSt(h.agentId)})),f=(h,m)=>h.find(g=>g.name===m)?.score??0;lSt("round_analyzed",{roundId:t,agentCount:a.length,scores:p.map(h=>({agentId:h.agentId,composite:h.score.composite,grade:h.score.grade,metacognition:f(h.score.pillars,"metacognition"),efficiency:f(h.score.pillars,"efficiency")}))}),console.log(`[Orchestrator] v16 round complete: ${p.map(h=>`${h.agentId}=${h.score.composite.toFixed(3)}(${h.score.grade})`).join(", ")}`)}catch(p){console.warn(`[Orchestrator] v16 analysis failed: ${Ue(p)}`)}try{let p={};for(let g of o)p[g.symbol]=g.price;let f=a.map(g=>g.agentId),h=(()=>{let g=a.filter(v=>v.decision.action!=="hold").map(v=>v.decision.action),y=ue(g,v=>v==="buy"),S=ue(g,v=>v==="sell");return y>S?"buy":S>y?"sell":null})();for(let g of a){let y=In(g.decision.confidence),S=g.decision.intent??Ja(g.decision.reasoning,g.decision.action),v=g.decision.sources??yd(g.decision.reasoning),A=vSt({agentId:g.agentId,roundId:t,action:g.decision.action,symbol:g.decision.symbol,quantity:g.decision.quantity,reasoning:g.decision.reasoning,confidence:y,intent:S,sources:v,predictedOutcome:g.decision.predictedOutcome??null,marketPrices:p,coherenceScore:gR(y),hallucinationFlags:[],disciplinePass:!0,depthScore:Math.min(1,vn(g.decision.reasoning)/dEt),forensicScore:.5,efficiencyScore:.5,witnesses:f.filter(D=>D!==g.agentId)});wSt({agentId:g.agentId,action:g.decision.action,symbol:g.decision.symbol,quantity:g.decision.quantity,confidence:y,coherenceScore:gR(y),hallucinationCount:0,intent:S,reasoning:g.decision.reasoning,roundId:t,consensusAction:h,marketVolatility:.02,pnlAfter:null,timestamp:new Date().toISOString()});let w=TSt(g.agentId),I=S9(g.agentId);gSt(g.agentId,I?.provider??"unknown",I?.model??"unknown",{financial:.5,reasoning:gR(y),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensic_quality:.5,validation_quality:.5,prediction_accuracy:.5,reasoning_stability:.7,provenance_integrity:.8,model_comparison:.5,metacognition:y*r$n+o$n,reasoning_efficiency:Math.min(1,vn(g.decision.reasoning)/u$n),forensic_ledger:A?.9:.3,strategy_genome:w},t),console.log(`[Orchestrator] v17 ${g.agentId}: ledger=${A.entryHash.slice(0,12)}..., genome=${w.toFixed(2)}`)}let m=a.map(g=>({agentId:g.agentId,composite:g.decision.confidence>1?g.decision.confidence/s$n+uEt:g.decision.confidence*i$n+uEt}));ySt(m),RSt("round_analyzed",{roundId:t,agentCount:a.length,version:"v17",pillars:16}),console.log(`[Orchestrator] v17 round complete: ${a.length} agents scored, ledger + genome updated`)}catch(p){console.warn(`[Orchestrator] v17 analysis failed: ${Ue(p)}`)}try{let p={},f={},h=0,m=0,g=0;for(let w of a){let I=In(w.decision.confidence),D=w.decision.intent??Ja(w.decision.reasoning,w.decision.action),k=gR(I),O=vn(w.decision.reasoning),U=OSt(w.agentId,w.decision.reasoning,w.decision.action,w.decision.symbol,I,0,{priceDirection:w.decision.action==="buy"?"up":w.decision.action==="sell"?"down":"flat",newsDirection:"neutral",hasZeroVolume:!1,hasMissingData:!1,hasExtremeMove:!1});PSt(w.agentId,{overallScore:U.overallScore,vulnerabilities:U.vulnerabilities,signalConflictScore:U.signalConflict.score,anchoringScore:U.anchoring.score,edgeCaseScore:U.edgeCases.score,framingScore:U.framing.score},t),DSt({agentId:w.agentId,action:w.decision.action,symbol:w.decision.symbol,reasoning:w.decision.reasoning,confidence:I,roundId:t,timestamp:new Date().toISOString()});let G=w.decision.reasoning.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,50);MSt({agentId:w.agentId,roundId:t,symbol:w.decision.symbol,action:w.decision.action,confidence:I,coherenceScore:k,hallucinationCount:0,intent:D,wasCorrect:null,reasoningFingerprint:G,timestamp:new Date().toISOString()}),p[w.agentId]=I*a$n+k*c$n+U.overallScore*l$n,h+=k,g+=O,console.log(`[Orchestrator] v18 ${w.agentId}: adversarial=${U.overallScore.toFixed(2)}, vulns=${U.vulnerabilities.length}`)}let y=Object.keys(p),S=Object.values(p),v=S.length>0?S.reduce((w,I)=>w+I,0)/S.length:0,A=S.length>1?Math.sqrt(S.reduce((w,I)=>w+(I-v)**2,0)/S.length):0;VSt({timestamp:new Date().toISOString(),agentScores:p,pillarAverages:f,coherenceAvg:a.length>0?h/a.length:0,hallucinationRate:a.length>0?m/a.length:0,avgReasoningLength:a.length>0?g/a.length:0,agentScoreSpread:ye(A),calibrationAvg:.5}),WSt("round_analyzed",{roundId:t,agentCount:a.length,version:"v18",pillars:18}),console.log(`[Orchestrator] v18 round complete: ${a.length} agents \u2014 adversarial + memory + regression recorded`)}catch(p){console.warn(`[Orchestrator] v18 analysis failed: ${Ue(p)}`)}try{for(let p of a){let f=p.decision,h=In(f.confidence),m=f.sources??yd(f.reasoning);XSt(p.agentId,t,f.action,f.symbol,f.reasoning,h,m),evt(p.agentId,t,f.symbol,f.action,f.reasoning,h),ovt(p.agentId,t,f.action,f.symbol,f.reasoning,h,m)}lvt("round_analyzed",{roundId:t,agentCount:a.length,version:"v20",pillars:24}),console.log(`[Orchestrator] v20 round complete: ${a.length} agents \u2014 transparency + accountability + certification recorded`)}catch(p){console.warn(`[Orchestrator] v20 analysis failed: ${Ue(p)}`)}try{for(let p of a){let f=p.decision,h=In(f.confidence),m=f.sources??yd(f.reasoning),g=f.intent??Ja(f.reasoning,f.action),y=Svt(f.reasoning,f.action,f.symbol);vvt(p.agentId,y),Cvt(p.agentId,{action:f.action,symbol:f.symbol,reasoning:f.reasoning,confidence:h,intent:g,sources:m,coherenceScore:.5})}Pvt("round_analyzed",{roundId:t,agentCount:a.length,version:"v21",pillars:26}),console.log(`[Orchestrator] v21 round complete: ${a.length} agents \u2014 chain validation + strategy profiling recorded`)}catch(p){console.warn(`[Orchestrator] v21 analysis failed: ${Ue(p)}`)}try{let p=[],f={};for(let h of a)f[h.agentId]=a.filter(m=>m.agentId!==h.agentId).map(m=>({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,reasoning:m.decision.reasoning,confidence:In(m.decision.confidence)}));for(let h of a){let m=h.decision,g=In(m.confidence),y=m.sources??yd(m.reasoning),S=m.intent??Ja(m.reasoning,m.action),v=`v22_${t}_${h.agentId}`;Mvt({tradeId:v,agentId:h.agentId,roundId:t,action:m.action,symbol:m.symbol,quantity:m.quantity,reasoning:m.reasoning,confidence:g,intent:S,sources:y,predictedOutcome:m.predictedOutcome}),p.push(v);let A=Fvt(m.reasoning,o,y);Hvt(v,h.agentId,t,A);let w=Kvt(m.reasoning,m.action,g,o,f[h.agentId]??[]);Jvt(v,h.agentId,t,w)}Bvt(t,p),Qvt("round_analyzed",{roundId:t,agentCount:a.length,version:"v22",pillars:28,tradeFingerprints:p.length}),console.log(`[Orchestrator] v22 round complete: ${a.length} agents \u2014 integrity + grounding + bias detection recorded`)}catch(p){console.warn(`[Orchestrator] v22 analysis failed: ${Ue(p)}`)}try{let p=a.map(f=>({agentId:f.agentId,action:f.decision.action,symbol:f.decision.symbol,reasoning:f.decision.reasoning,confidence:In(f.decision.confidence),predictedOutcome:f.decision.predictedOutcome}));for(let f of a){let h=f.decision,m=In(h.confidence),g=p.find(I=>I.agentId===f.agentId);if(!g)continue;let y=Ka(h.reasoning,h.action,o),S=Wc(h.reasoning,o),v=Ly({action:h.action,symbol:h.symbol,quantity:h.quantity,confidence:m},mR,hR),A=Sb(h.reasoning),w=vb(h.reasoning,h.sources??[]);Zvt(t,g,p,y.score,1-S.severity,v.passed,A.depthScore,w.qualityScore)}console.log(`[Orchestrator] v25 round complete: ${a.length} agents \u2014 outcome prediction + consensus intelligence recorded`)}catch(p){console.warn(`[Orchestrator] v25 analysis failed: ${Ue(p)}`)}try{for(let p of a){let f=p.decision,h=In(f.confidence),m=a.filter(U=>U.agentId===p.agentId&&U!==p).map(U=>({action:U.decision.action,symbol:U.decision.symbol,reasoning:U.decision.reasoning,outcome:U.executed?"executed":"failure",coherenceScore:Ka(U.decision.reasoning,U.decision.action,o).score})),g=nEt(f.reasoning,m),y=rEt(f.reasoning);iEt(p.agentId,g,y);let S=Ka(f.reasoning,f.action,o),v=Wc(f.reasoning,o),A=Ly({action:f.action,symbol:f.symbol,quantity:f.quantity,confidence:h},mR,hR),w=Sb(f.reasoning),I=vb(f.reasoning,f.sources??[]),D={pnl:.5,coherence:S.score,hallucinationFree:1-v.severity,discipline:A.passed?1:Math.max(0,1-A.violations.length*.25),calibration:.5,predictionAccuracy:.5,reasoningDepth:w.depthScore,sourceQuality:I.qualityScore,outcomePrediction:.5,consensusIntelligence:.5,strategyGenome:.5,riskRewardDiscipline:.5,executionQuality:.5,crossRoundLearning:.5,tradeAccountability:g.accountabilityScore,reasoningQualityIndex:y.rqiScore},{composite:k,grade:O}=oEt(D);sEt(p.agentId,{...D,composite:k,grade:O})}console.log(`[Orchestrator] v28 round complete: ${a.length} agents \u2014 accountability + RQI recorded`)}catch(p){console.warn(`[Orchestrator] v28 analysis failed: ${Ue(p)}`)}try{let p=[],f={};for(let y of o)f[y.symbol]=y.price;let h=a.map(y=>({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol}));for(let y of a){let S=y.decision,v=In(S.confidence),A=Ka(S.reasoning,S.action,o),w=Wc(S.reasoning,o),I=Ly({action:S.action,symbol:S.symbol,quantity:S.quantity,confidence:v},mR,hR),D=S.sources??yd(S.reasoning),k=S.intent??Ja(S.reasoning,S.action),O=Vyt({agentId:y.agentId,roundId:t,symbol:S.symbol,action:S.action,reasoning:S.reasoning,confidence:v,intent:k,coherenceScore:A.score,hallucinationFlags:w.flags,disciplinePassed:I.passed,sources:D,predictedOutcome:S.predictedOutcome??null,previousPredictions:[],marketPrices:f,peerActions:h.filter(U=>U.agentId!==y.agentId)});p.push(O)}let m=[];for(let y of a){let S=S9(y.agentId);if(!S)continue;let v=p.filter(w=>w.agentId===y.agentId),A=zyt({agentId:y.agentId,agentName:S.name,provider:S.provider,model:S.model,trades:v,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});m.push(A)}let g=tI(o).regime??"unknown";jyt(t,m,p,g),console.log(`[Orchestrator] v33 round complete: ${a.length} agents \u2014 26-dimension causal + epistemic scoring recorded`)}catch(p){console.warn(`[Orchestrator] v33 analysis failed: ${Ue(p)}`)}try{let p=[],f=a.map(S=>S.decision.reasoning),h={};for(let S of o)h[S.symbol]=S.price;let m=a.map(S=>({agentId:S.agentId,action:S.decision.action,symbol:S.decision.symbol}));for(let S of a){let v=S.decision,A=In(v.confidence),w=v.action,I=Ka(v.reasoning,w,o),D=Wc(v.reasoning,o),k=Ly(v,mR,hR),O=v.sources??yd(v.reasoning),U=v.intent??Ja(v.reasoning,v.action),G=f.filter((C,_)=>a[_].agentId!==S.agentId),J=Wyt({agentId:S.agentId,roundId:t,symbol:v.symbol,action:v.action,reasoning:v.reasoning,confidence:A,intent:U,coherenceScore:I.score,hallucinationFlags:D.flags,disciplinePassed:k.passed,sources:O,predictedOutcome:v.predictedOutcome??null,previousPredictions:[],marketPrices:h,peerActions:m.filter(C=>C.agentId!==S.agentId),peerReasonings:G});p.push(J)}let g=[];for(let S of a){let v=S9(S.agentId);if(!v)continue;let A=p.filter(I=>I.agentId===S.agentId),w=Kyt({agentId:S.agentId,agentName:v.name,provider:v.provider,model:v.model,trades:A,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});g.push(w)}let y=tI(o).regime??"unknown";Jyt(t,g,p,y),console.log(`[Orchestrator] v35 round complete: ${a.length} agents \u2014 30-dimension info asymmetry + temporal reasoning scoring recorded`)}catch(p){console.warn(`[Orchestrator] v35 analysis failed: ${Ue(p)}`)}try{let p=[],f={};for(let S of o)f[S.symbol.toLowerCase()]=S.price;let h=a.map(S=>({agentId:S.agentId,action:S.decision.action,symbol:S.decision.symbol})),m=a.map(S=>S.decision.reasoning);for(let S of a){let v=S.decision,A=In(v.confidence),w=Ka(v.reasoning,v.action,o),I=Wc(v.reasoning,o),D=Ly({action:v.action,symbol:v.symbol,quantity:v.quantity,confidence:A},mR,hR),k=v.sources??yd(v.reasoning),O=v.intent??Ja(v.reasoning,v.action),U=m.filter((J,C)=>a[C].agentId!==S.agentId),G=rbt({agentId:S.agentId,roundId:t,symbol:v.symbol,action:v.action,reasoning:v.reasoning,confidence:A,intent:O,coherenceScore:w.score,hallucinationFlags:I.flags,disciplinePassed:D.passed,sources:k,predictedOutcome:v.predictedOutcome??null,previousPredictions:[],marketPrices:f,peerActions:h.filter(J=>J.agentId!==S.agentId),peerReasonings:U});p.push(G)}let g=[];for(let S of a){let v=S9(S.agentId);if(!v)continue;let A=p.filter(I=>I.agentId===S.agentId),w=obt({agentId:S.agentId,agentName:v.name,provider:v.provider,model:v.model,trades:A,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});g.push(w)}let y=tI(o).regime??"unknown";ibt(t,g,p,y),console.log(`[Orchestrator] v36 round complete: ${a.length} agents \u2014 32-dimension reasoning auditability + decision reversibility scoring recorded`)}catch(p){console.warn(`[Orchestrator] v36 analysis failed: ${Ue(p)}`)}try{let p=[],f={};for(let A of o)f[A.symbol.toLowerCase()]=A.price;let h=a.map(A=>({agentId:A.agentId,action:A.decision.action,symbol:A.decision.symbol})),m=a.map(A=>A.decision.reasoning),g=new Map,y=t_t();for(let A of y)if(A.pnlPercent!==void 0){let w=`${A.agentId}:${A.symbol.toLowerCase()}`,D=Math.abs(A.pnlPercent)<.1?"breakeven":A.pnlPercent>0?"profit":"loss";g.set(w,{pnlPercent:A.pnlPercent,outcome:D})}for(let A of a){let w=A.decision,I=In(w.confidence),D=Ka(w.reasoning,w.action,o),k=Wc(w.reasoning,o),O=Ly({action:w.action,symbol:w.symbol,quantity:w.quantity,confidence:I},mR,hR),U=w.sources??yd(w.reasoning),G=w.intent??Ja(w.reasoning,w.action),J=m.filter((R,M)=>a[M].agentId!==A.agentId),C=`${A.agentId}:${w.symbol.toLowerCase()}`,_=g.get(C),E=sbt({agentId:A.agentId,roundId:t,symbol:w.symbol,action:w.action,reasoning:w.reasoning,confidence:I,intent:G,coherenceScore:D.score,hallucinationFlags:k.flags,disciplinePassed:O.passed,sources:U,predictedOutcome:w.predictedOutcome??null,previousPredictions:[],marketPrices:f,peerActions:h.filter(R=>R.agentId!==A.agentId),peerReasonings:J,quantity:w.quantity??0,actualPnlPercent:_?.pnlPercent,tradeOutcome:_?.outcome??"pending"});p.push(E)}let S=[];for(let A of a){let w=S9(A.agentId);if(!w)continue;let I=p.filter(k=>k.agentId===A.agentId),D=abt({agentId:A.agentId,agentName:w.name,provider:w.provider,model:w.model,trades:I,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});S.push(D)}let v=tI(o).regime??"unknown";cbt(t,S,p,v),console.log(`[Orchestrator] v37 round complete: ${a.length} agents \u2014 34-dimension reasoning composability + strategic foresight scoring recorded`)}catch(p){console.warn(`[Orchestrator] v37 analysis failed: ${Ue(p)}`)}return{roundId:t,timestamp:e,results:a,errors:n,circuitBreakerActivations:r,lockSkipped:!1}}function y$n(t){let e=t.filter(i=>i.decision.action!=="hold");if(e.length===0)return"no_trades";let n=e.map(i=>i.decision.action),r=ue(n,i=>i==="buy"),o=ue(n,i=>i==="sell");return r===e.length||o===e.length?"unanimous":r>o&&r>1||o>r&&o>1?"majority":"split"}function b$n(t,e){let n=[];for(let r of t){let o=r.executed?"OK":"FAIL";n.push(`${r.agentName}: ${r.decision.action.toUpperCase()} ${r.decision.symbol} (${r.decision.confidence}%) ${o}`)}return e.length>0&&n.push(`${e.length} error(s)`),n.join(" | ")}var _$n={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,CRCLx:32.15,MSTRx:1685,AVGOx:168.9,JPMx:198.5,HOODx:22.8,LLYx:785.2,CRMx:272.6,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};function S$n(t){let e=_$n[t]??100,n=1+(Math.random()-.5)*.04;return re(e*n)}function v$n(){return re((Math.random()-.5)*10)}function E$n(){return Math.round((10+Math.random()*490)*1e6)}_o();async function bFo(t){console.log("[TradingLambda] Received event:",JSON.stringify(t));let e=Date.now();try{let n=await pEt(),r=Date.now()-e;console.log(`[TradingLambda] Round ${n.roundId} completed in ${r}ms`),console.log(`[TradingLambda] Results: ${n.results.length} agents, ${n.errors.length} errors`);for(let o of n.results)console.log(`[TradingLambda] ${o.agentName}: ${o.decision.action} ${o.decision.symbol} (confidence: ${o.decision.confidence}%, executed: ${o.executed})`);return{statusCode:200,body:JSON.stringify({roundId:n.roundId,timestamp:n.timestamp,durationMs:r,agentCount:n.results.length,errorCount:n.errors.length,decisions:n.results.map(o=>({agent:o.agentName,action:o.decision.action,symbol:o.decision.symbol,confidence:o.decision.confidence,executed:o.executed}))})}}catch(n){let r=Date.now()-e,o=Ue(n);return console.error(`[TradingLambda] Fatal error after ${r}ms: ${o}`),{statusCode:500,body:JSON.stringify({error:"trading_round_failed",message:o,durationMs:r})}}}export{bFo as handler};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

pvtsutils/build/index.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2024 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@peculiar/x509/build/x509.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) Peculiar Ventures. All rights reserved.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

@turnkey/api-key-stamper/dist/tink/bytes.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@turnkey/api-key-stamper/dist/tink/elliptic_curves.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
   * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
   * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
   * - Method isP256CurvePoint added to check whether an uncompressed point is valid
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.6.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)

@solana/web3.js/lib/index.esm.js:
  (*!
   * humanize-ms - index.js
   * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
   * MIT Licensed
   *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
//# sourceMappingURL=index.mjs.map
