{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.236.0"},"children":{"MoltappStack":{"id":"MoltappStack","path":"MoltappStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"AppSecrets":{"id":"AppSecrets","path":"MoltappStack/AppSecrets","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/AppSecrets/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"MoltApp production secrets","generateSecretString":{},"name":"moltapp/production"}}}}},"AgentStateTable":{"id":"AgentStateTable","path":"MoltappStack/AgentStateTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/AgentStateTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"agentId","attributeType":"S"},{"attributeName":"status","attributeType":"S"},{"attributeName":"lastTradeTimestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"by-last-trade","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"lastTradeTimestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"agentId","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"moltapp-agent-state","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"MoltappStack/AgentStateTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"TradingRoundsTable":{"id":"TradingRoundsTable","path":"MoltappStack/TradingRoundsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/TradingRoundsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"roundId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"roundId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"tableName":"moltapp-trading-rounds","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"MoltappStack/TradingRoundsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"LendingStateTable":{"id":"LendingStateTable","path":"MoltappStack/LendingStateTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/LendingStateTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"loanId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"},{"attributeName":"borrowerId","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"by-borrower","keySchema":[{"attributeName":"borrowerId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"by-status","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"loanId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"tableName":"moltapp-lending-state","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"MoltappStack/LendingStateTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}}}},"ApiFunction":{"id":"ApiFunction","path":"MoltappStack/ApiFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"MoltappStack/ApiFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/ApiFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MoltappStack/ApiFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/ApiFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"AppSecretsA1997F2A"}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TradingRoundsTableCBE59423","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TradingRoundsTableCBE59423","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ApiFunctionServiceRoleDefaultPolicy20A32B8D","roles":[{"Ref":"ApiFunctionServiceRole52B9747B"}]}}}}}}},"Code":{"id":"Code","path":"MoltappStack/ApiFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"MoltappStack/ApiFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"MoltappStack/ApiFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"MoltappStack/ApiFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-528546457264-us-east-1","s3Key":"5240a871609a080f06148ed5fcca53ff86c8e5d6ca83cc4730531d2461dc784b.zip"},"environment":{"variables":{"NODE_ENV":"production","SECRET_ARN":{"Ref":"AppSecretsA1997F2A"},"AGENT_STATE_TABLE":{"Ref":"AgentStateTable74E748E9"},"TRADING_ROUNDS_TABLE":{"Ref":"TradingRoundsTableCBE59423"},"LENDING_STATE_TABLE":{"Ref":"LendingStateTableDC59F16D"}}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["ApiFunctionServiceRole52B9747B","Arn"]},"runtime":"nodejs22.x","timeout":30}}}}},"TradingFunction":{"id":"TradingFunction","path":"MoltappStack/TradingFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"MoltappStack/TradingFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/TradingFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MoltappStack/TradingFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/TradingFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Ref":"AppSecretsA1997F2A"}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AgentStateTable74E748E9","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TradingRoundsTableCBE59423","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TradingRoundsTableCBE59423","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},"/index/*"]]}]},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LendingStateTableDC59F16D","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"TradingFunctionServiceRoleDefaultPolicyA8929496","roles":[{"Ref":"TradingFunctionServiceRoleC9AD7730"}]}}}}}}},"Code":{"id":"Code","path":"MoltappStack/TradingFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"MoltappStack/TradingFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"MoltappStack/TradingFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"MoltappStack/TradingFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-528546457264-us-east-1","s3Key":"6e22e669383fc9ad10b983586baf54ca461cf9f02eed7da21e9279938b93b854.zip"},"environment":{"variables":{"NODE_ENV":"production","SECRET_ARN":{"Ref":"AppSecretsA1997F2A"},"AGENT_STATE_TABLE":{"Ref":"AgentStateTable74E748E9"},"TRADING_ROUNDS_TABLE":{"Ref":"TradingRoundsTableCBE59423"},"LENDING_STATE_TABLE":{"Ref":"LendingStateTableDC59F16D"}}},"handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["TradingFunctionServiceRoleC9AD7730","Arn"]},"runtime":"nodejs22.x","timeout":300}}}}},"TradingSchedule":{"id":"TradingSchedule","path":"MoltappStack/TradingSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/TradingSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger AI trading round daily at 5 AM EST — 3 agents compete on 24/7 xStocks","name":"moltapp-trading-round","scheduleExpression":"cron(0 10 * * ? *)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["TradingFunctionCEDCFB59","Arn"]},"retryPolicy":{"maximumRetryAttempts":2,"maximumEventAgeInSeconds":600},"input":"{\"trigger\":\"scheduled-trading\",\"source\":\"eventbridge-cron\"}"}]}}},"AllowEventRuleMoltappStackTradingFunctionCAA694CE":{"id":"AllowEventRuleMoltappStackTradingFunctionCAA694CE","path":"MoltappStack/TradingSchedule/AllowEventRuleMoltappStackTradingFunctionCAA694CE","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["TradingFunctionCEDCFB59","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["TradingScheduleFDC8B174","Arn"]}}}}}},"HttpApi":{"id":"HttpApi","path":"MoltappStack/HttpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/HttpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"description":"MoltApp API — AI Trading Competition Platform","name":"HttpApi","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"MoltappStack/HttpApi/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/HttpApi/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"autoDeploy":true,"stageName":"$default"}}}}},"ANY--":{"id":"ANY--","path":"MoltappStack/HttpApi/ANY--","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"LambdaIntegration":{"id":"LambdaIntegration","path":"MoltappStack/HttpApi/ANY--/LambdaIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/HttpApi/ANY--/LambdaIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"payloadFormatVersion":"2.0"}}}}},"LambdaIntegration-Permission":{"id":"LambdaIntegration-Permission","path":"MoltappStack/HttpApi/ANY--/LambdaIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:528546457264:",{"Ref":"HttpApiF5A9A8A7"},"/*/*/"]]}}}},"Resource":{"id":"Resource","path":"MoltappStack/HttpApi/ANY--/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"ANY /","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiANYLambdaIntegration762BFA23"}]]}}}}}},"ANY--{proxy+}":{"id":"ANY--{proxy+}","path":"MoltappStack/HttpApi/ANY--{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.236.0"},"children":{"LambdaIntegration-Permission":{"id":"LambdaIntegration-Permission","path":"MoltappStack/HttpApi/ANY--{proxy+}/LambdaIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:528546457264:",{"Ref":"HttpApiF5A9A8A7"},"/*/*/{proxy+}"]]}}}},"Resource":{"id":"Resource","path":"MoltappStack/HttpApi/ANY--{proxy+}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"ANY /{proxy+}","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiANYLambdaIntegration762BFA23"}]]}}}}}}}},"Zone":{"id":"Zone","path":"MoltappStack/Zone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.236.0"}},"Certificate":{"id":"Certificate","path":"MoltappStack/Certificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/Certificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"patgpt.us","domainValidationOptions":[{"domainName":"patgpt.us","hostedZoneId":"Z0120448TE4EO5EEUBIP"}],"tags":[{"key":"Name","value":"MoltappStack/Certificate"}],"validationMethod":"DNS"}}}}},"ShortCachePolicy":{"id":"ShortCachePolicy","path":"MoltappStack/ShortCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/ShortCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"moltapp-60s-cache","minTtl":0,"maxTtl":300,"defaultTtl":60,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":false,"enableAcceptEncodingBrotli":false,"queryStringsConfig":{"queryStringBehavior":"whitelist","queryStrings":["page","limit","agent","agentId","format"]}}}}}}}},"Distribution":{"id":"Distribution","path":"MoltappStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.236.0"},"children":{"Origin1":{"id":"Origin1","path":"MoltappStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"Resource":{"id":"Resource","path":"MoltappStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::Join":["",[{"Ref":"HttpApiF5A9A8A7"},".execute-api.us-east-1.amazonaws.com"]]},"id":"MoltappStackDistributionOrigin1C2BAD646","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"MoltappStackDistributionOrigin1C2BAD646","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"},"aliases":["patgpt.us"],"cacheBehaviors":[{"pathPattern":"/api/v1/leaderboard*","targetOriginId":"MoltappStackDistributionOrigin1C2BAD646","allowedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ShortCachePolicy51CE6641"},"compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/api/v1/brain-feed*","targetOriginId":"MoltappStackDistributionOrigin1C2BAD646","allowedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ShortCachePolicy51CE6641"},"compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/benchmark*","targetOriginId":"MoltappStackDistributionOrigin1C2BAD646","allowedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ShortCachePolicy51CE6641"},"compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/api/v1/methodology*","targetOriginId":"MoltappStackDistributionOrigin1C2BAD646","allowedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ShortCachePolicy51CE6641"},"compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"redirect-to-https"}],"httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Ref":"Certificate4E7ABB08"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"AliasRecord":{"id":"AliasRecord","path":"MoltappStack/AliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"MoltappStack/AliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"Z0120448TE4EO5EEUBIP","name":"patgpt.us.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"MoltappStack/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.236.0"}},"CloudFrontDomain":{"id":"CloudFrontDomain","path":"MoltappStack/CloudFrontDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"MoltappStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CustomDomain":{"id":"CustomDomain","path":"MoltappStack/CustomDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AgentStateTableName":{"id":"AgentStateTableName","path":"MoltappStack/AgentStateTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"TradingRoundsTableName":{"id":"TradingRoundsTableName","path":"MoltappStack/TradingRoundsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"LendingStateTableName":{"id":"LendingStateTableName","path":"MoltappStack/LendingStateTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"TradingScheduleArn":{"id":"TradingScheduleArn","path":"MoltappStack/TradingScheduleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MoltappStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"MoltappStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MoltappStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MoltappStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}